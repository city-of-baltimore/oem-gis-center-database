"use strict";
(self["webpackChunkexb_client"] = self["webpackChunkexb_client"] || []).push([["vendors-node_modules_arcgis_core_core_loadAll_js-node_modules_arcgis_core_layers_mixins_ArcGI-5ea93f"],{

/***/ "./node_modules/@arcgis/core/core/CollectionFlattener.js":
/*!***************************************************************!*\
  !*** ./node_modules/@arcgis/core/core/CollectionFlattener.js ***!
  \***************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (/* binding */ n)
/* harmony export */ });
/* harmony import */ var _chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../chunks/tslib.es6.js */ "./node_modules/@arcgis/core/chunks/tslib.es6.js");
/* harmony import */ var _Collection_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./Collection.js */ "./node_modules/@arcgis/core/core/Collection.js");
/* harmony import */ var _Error_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./Error.js */ "./node_modules/@arcgis/core/core/Error.js");
/* harmony import */ var _Logger_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./Logger.js */ "./node_modules/@arcgis/core/core/Logger.js");
/* harmony import */ var _accessorSupport_watch_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./accessorSupport/watch.js */ "./node_modules/@arcgis/core/core/accessorSupport/watch.js");
/* harmony import */ var _accessorSupport_trackingUtils_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./accessorSupport/trackingUtils.js */ "./node_modules/@arcgis/core/core/accessorSupport/trackingUtils.js");
/* harmony import */ var _accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./accessorSupport/decorators/property.js */ "./node_modules/@arcgis/core/core/accessorSupport/decorators/property.js");
/* harmony import */ var _accessorSupport_decorators_subclass_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ./accessorSupport/decorators/subclass.js */ "./node_modules/@arcgis/core/core/accessorSupport/decorators/subclass.js");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.27/esri/copyright.txt for details.
*/
let i=class extends _Collection_js__WEBPACK_IMPORTED_MODULE_1__["default"]{constructor(t){super(t),this.getCollections=null}initialize(){this.own((0,_accessorSupport_trackingUtils_js__WEBPACK_IMPORTED_MODULE_5__.autorun)((()=>this._refresh())))}destroy(){this.getCollections=null}_refresh(){const t=null!=this.getCollections?this.getCollections():null;if(null==t)return void this.removeAll();let o=0;for(const s of t)null!=s&&(o=this._processCollection(o,s));this.splice(o,this.length)}_createNewInstance(t){return new _Collection_js__WEBPACK_IMPORTED_MODULE_1__["default"](t)}_processCollection(t,o){if(!o)return t;const s=this.itemFilterFunction??(t=>!!t);for(const e of o)if(e){if(s(e)){const o=this.indexOf(e,t);o>=0?o!==t&&this.reorder(e,t):this.add(e,t),++t}if(this.getChildrenFunction){const o=this.getChildrenFunction(e);if(Array.isArray(o))for(const s of o)t=this._processCollection(t,s);else t=this._processCollection(t,o)}}return t}};(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_6__.property)()],i.prototype,"getCollections",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_6__.property)()],i.prototype,"getChildrenFunction",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_6__.property)()],i.prototype,"itemFilterFunction",void 0),i=(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_accessorSupport_decorators_subclass_js__WEBPACK_IMPORTED_MODULE_7__.subclass)("esri.core.CollectionFlattener")],i);const n=i;


/***/ }),

/***/ "./node_modules/@arcgis/core/core/loadAll.js":
/*!***************************************************!*\
  !*** ./node_modules/@arcgis/core/core/loadAll.js ***!
  \***************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "loadAll": () => (/* binding */ t),
/* harmony export */   "loadAllChildren": () => (/* binding */ a)
/* harmony export */ });
/* harmony import */ var _asyncUtils_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./asyncUtils.js */ "./node_modules/@arcgis/core/core/asyncUtils.js");
/* harmony import */ var _Collection_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./Collection.js */ "./node_modules/@arcgis/core/core/Collection.js");
/* harmony import */ var _Loadable_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./Loadable.js */ "./node_modules/@arcgis/core/core/Loadable.js");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.27/esri/copyright.txt for details.
*/
async function t(o,l){return await o.load(),a(o,l)}async function a(t,a){const s=[],c=(...o)=>{for(const l of o)null!=l&&(Array.isArray(l)?c(...l):_Collection_js__WEBPACK_IMPORTED_MODULE_1__["default"].isCollection(l)?l.forEach((o=>c(o))):_Loadable_js__WEBPACK_IMPORTED_MODULE_2__["default"].isLoadable(l)&&s.push(l))};a(c);let f=null;if(await (0,_asyncUtils_js__WEBPACK_IMPORTED_MODULE_0__.map)(s,(async o=>{const n=await (0,_asyncUtils_js__WEBPACK_IMPORTED_MODULE_0__.result)(i(o)?o.loadAll():o.load());!1!==n.ok||f||(f=n)})),f)throw f.error;return t}function i(o){return"loadAll"in o&&"function"==typeof o.loadAll}


/***/ }),

/***/ "./node_modules/@arcgis/core/layers/mixins/ArcGISMapService.js":
/*!*********************************************************************!*\
  !*** ./node_modules/@arcgis/core/layers/mixins/ArcGISMapService.js ***!
  \*********************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "ArcGISMapService": () => (/* binding */ f)
/* harmony export */ });
/* harmony import */ var _chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../chunks/tslib.es6.js */ "./node_modules/@arcgis/core/chunks/tslib.es6.js");
/* harmony import */ var _request_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../request.js */ "./node_modules/@arcgis/core/request.js");
/* harmony import */ var _core_MapUtils_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../core/MapUtils.js */ "./node_modules/@arcgis/core/core/MapUtils.js");
/* harmony import */ var _core_promiseUtils_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../core/promiseUtils.js */ "./node_modules/@arcgis/core/core/promiseUtils.js");
/* harmony import */ var _core_urlUtils_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../core/urlUtils.js */ "./node_modules/@arcgis/core/core/urlUtils.js");
/* harmony import */ var _core_Version_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../core/Version.js */ "./node_modules/@arcgis/core/core/Version.js");
/* harmony import */ var _core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../core/accessorSupport/decorators/property.js */ "./node_modules/@arcgis/core/core/accessorSupport/decorators/property.js");
/* harmony import */ var _core_accessorSupport_ensureType_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../../core/accessorSupport/ensureType.js */ "./node_modules/@arcgis/core/core/accessorSupport/ensureType.js");
/* harmony import */ var _core_arrayUtils_js__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../../core/arrayUtils.js */ "./node_modules/@arcgis/core/core/arrayUtils.js");
/* harmony import */ var _core_has_js__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../../core/has.js */ "./node_modules/@arcgis/core/core/has.js");
/* harmony import */ var _core_accessorSupport_decorators_reader_js__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ../../core/accessorSupport/decorators/reader.js */ "./node_modules/@arcgis/core/core/accessorSupport/decorators/reader.js");
/* harmony import */ var _core_accessorSupport_decorators_subclass_js__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ../../core/accessorSupport/decorators/subclass.js */ "./node_modules/@arcgis/core/core/accessorSupport/decorators/subclass.js");
/* harmony import */ var _core_accessorSupport_PropertyOrigin_js__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ../../core/accessorSupport/PropertyOrigin.js */ "./node_modules/@arcgis/core/core/accessorSupport/PropertyOrigin.js");
/* harmony import */ var _geometry_Extent_js__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! ../../geometry/Extent.js */ "./node_modules/@arcgis/core/geometry/Extent.js");
/* harmony import */ var _geometry_SpatialReference_js__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! ../../geometry/SpatialReference.js */ "./node_modules/@arcgis/core/geometry/SpatialReference.js");
/* harmony import */ var _support_arcgisLayerUrl_js__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! ../support/arcgisLayerUrl.js */ "./node_modules/@arcgis/core/layers/support/arcgisLayerUrl.js");
/* harmony import */ var _support_commonProperties_js__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(/*! ../support/commonProperties.js */ "./node_modules/@arcgis/core/layers/support/commonProperties.js");
/* harmony import */ var _portal_support_portalItemUtils_js__WEBPACK_IMPORTED_MODULE_17__ = __webpack_require__(/*! ../../portal/support/portalItemUtils.js */ "./node_modules/@arcgis/core/portal/support/portalItemUtils.js");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.27/esri/copyright.txt for details.
*/
const f=f=>{let b=class extends f{constructor(){super(...arguments),this.capabilities=void 0,this.copyright=null,this.fullExtent=null,this.legendEnabled=!0,this.spatialReference=null,this.version=void 0,this._allLayersAndTablesMap=null}readCapabilities(e,r){const t=r.capabilities&&r.capabilities.split(",").map((e=>e.toLowerCase().trim()));if(!t)return{operations:{supportsExportMap:!1,supportsExportTiles:!1,supportsIdentify:!1,supportsQuery:!1,supportsTileMap:!1},exportMap:null,exportTiles:null};const s=this.type,o="tile"!==s&&!!r.supportsDynamicLayers,a=t.includes("query"),p=t.includes("map"),l=!!r.exportTilesAllowed,n=t.includes("tilemap"),c=t.includes("data"),u="tile"!==s&&(!r.tileInfo||o),y="tile"!==s&&(!r.tileInfo||o),m="tile"!==s,d=r.cimVersion&&_core_Version_js__WEBPACK_IMPORTED_MODULE_5__.Version.parse(r.cimVersion),h=d?.since(1,4)??!1,f=d?.since(2,0)??!1;return{operations:{supportsExportMap:p,supportsExportTiles:l,supportsIdentify:a,supportsQuery:c,supportsTileMap:n},exportMap:p?{supportsArcadeExpressionForLabeling:h,supportsSublayersChanges:m,supportsDynamicLayers:o,supportsSublayerVisibility:u,supportsSublayerDefinitionExpression:y,supportsCIMSymbols:f}:null,exportTiles:l?{maxExportTilesCount:+r.maxExportTilesCount}:null}}readVersion(e,r){let t=r.currentVersion;return t||(t=r.hasOwnProperty("capabilities")||r.hasOwnProperty("tables")?10:r.hasOwnProperty("supportedImageFormatTypes")?9.31:9.3),t}async fetchRelatedService(e){const r=this.portalItem;if(!r||!(0,_portal_support_portalItemUtils_js__WEBPACK_IMPORTED_MODULE_17__.isHostedLayer)(r))return null;this._relatedFeatureServicePromise||(this._relatedFeatureServicePromise=r.fetchRelatedItems({relationshipType:"Service2Service",direction:"reverse"},e).then((e=>e.find((e=>"Feature Service"===e.type))??null),(()=>null)));const t=await this._relatedFeatureServicePromise;return (0,_core_promiseUtils_js__WEBPACK_IMPORTED_MODULE_3__.throwIfAborted)(e),t?{itemId:t.id,url:t.url}:null}async fetchSublayerInfo(e,t){const{source:s}=e;if(this?.portalItem&&"tile"===this.type&&"map-layer"===s?.type&&(0,_portal_support_portalItemUtils_js__WEBPACK_IMPORTED_MODULE_17__.isHostedLayer)(this.portalItem)&&e.originIdOf("url")<_core_accessorSupport_PropertyOrigin_js__WEBPACK_IMPORTED_MODULE_12__.OriginId.SERVICE){const r=await this.fetchRelatedService(t);r&&(e.url=(0,_core_urlUtils_js__WEBPACK_IMPORTED_MODULE_4__.join)(r.url,s.mapLayerId.toString()),e.layerItemId=r.itemId)}const{url:i}=e;let a;if("data-layer"===s.type){a=(await (0,_request_js__WEBPACK_IMPORTED_MODULE_1__["default"])(i,{responseType:"json",query:{f:"json",...this.customParameters,token:this.apiKey},...t})).data}else if(i&&e.originIdOf("url")>_core_accessorSupport_PropertyOrigin_js__WEBPACK_IMPORTED_MODULE_12__.OriginId.SERVICE)try{a=(await this._fetchAllLayersAndTablesFromService(i)).get(s.mapLayerId)}catch{}else{let r=e.id;"map-layer"===s?.type&&(r=s.mapLayerId);try{a=(await this.fetchAllLayersAndTables(t)).get(r)}catch{}}return a}async fetchAllLayersAndTables(e){return this._fetchAllLayersAndTablesFromService(this.parsedUrl?.path,e)}async _fetchAllLayersAndTablesFromService(e,i){await this.load(i),this._allLayersAndTablesMap||=new Map;const a=(0,_support_arcgisLayerUrl_js__WEBPACK_IMPORTED_MODULE_15__.parse)(e),p=(0,_core_MapUtils_js__WEBPACK_IMPORTED_MODULE_2__.getOrCreateMapValue)(this._allLayersAndTablesMap,a?.url.path,(()=>(0,_request_js__WEBPACK_IMPORTED_MODULE_1__["default"])((0,_core_urlUtils_js__WEBPACK_IMPORTED_MODULE_4__.join)(a?.url.path,"/layers"),{responseType:"json",query:{f:"json",...this.customParameters,token:this.apiKey}}).then((e=>{const r=new Map;for(const t of e.data.layers)r.set(t.id,t);return{result:r}}),(e=>({error:e}))))),l=await p;if((0,_core_promiseUtils_js__WEBPACK_IMPORTED_MODULE_3__.throwIfAborted)(i),"result"in l)return l.result;throw l.error}};return (0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_6__.property)({readOnly:!0})],b.prototype,"capabilities",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_reader_js__WEBPACK_IMPORTED_MODULE_10__.reader)("service","capabilities",["capabilities","exportTilesAllowed","maxExportTilesCount","supportsDynamicLayers","tileInfo"])],b.prototype,"readCapabilities",null),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_6__.property)({json:{read:{source:"copyrightText"}}})],b.prototype,"copyright",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_6__.property)({type:_geometry_Extent_js__WEBPACK_IMPORTED_MODULE_13__["default"]})],b.prototype,"fullExtent",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_6__.property)(_support_commonProperties_js__WEBPACK_IMPORTED_MODULE_16__.id)],b.prototype,"id",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_6__.property)({type:Boolean,json:{origins:{service:{read:{enabled:!1}}},read:{source:"showLegend"},write:{target:"showLegend"}}})],b.prototype,"legendEnabled",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_6__.property)(_support_commonProperties_js__WEBPACK_IMPORTED_MODULE_16__.popupEnabled)],b.prototype,"popupEnabled",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_6__.property)({type:_geometry_SpatialReference_js__WEBPACK_IMPORTED_MODULE_14__["default"]})],b.prototype,"spatialReference",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_6__.property)({readOnly:!0})],b.prototype,"version",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_reader_js__WEBPACK_IMPORTED_MODULE_10__.reader)("version",["currentVersion","capabilities","tables","supportedImageFormatTypes"])],b.prototype,"readVersion",null),b=(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_subclass_js__WEBPACK_IMPORTED_MODULE_11__.subclass)("esri.layers.mixins.ArcGISMapService")],b),b};


/***/ }),

/***/ "./node_modules/@arcgis/core/layers/mixins/SublayersOwner.js":
/*!*******************************************************************!*\
  !*** ./node_modules/@arcgis/core/layers/mixins/SublayersOwner.js ***!
  \*******************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "SublayersOwner": () => (/* binding */ E),
/* harmony export */   "forEachSublayer": () => (/* binding */ m)
/* harmony export */ });
/* harmony import */ var _chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../chunks/tslib.es6.js */ "./node_modules/@arcgis/core/chunks/tslib.es6.js");
/* harmony import */ var _core_Collection_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../core/Collection.js */ "./node_modules/@arcgis/core/core/Collection.js");
/* harmony import */ var _core_CollectionFlattener_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../core/CollectionFlattener.js */ "./node_modules/@arcgis/core/core/CollectionFlattener.js");
/* harmony import */ var _core_Error_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../core/Error.js */ "./node_modules/@arcgis/core/core/Error.js");
/* harmony import */ var _core_Logger_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../core/Logger.js */ "./node_modules/@arcgis/core/core/Logger.js");
/* harmony import */ var _core_reactiveUtils_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../core/reactiveUtils.js */ "./node_modules/@arcgis/core/core/reactiveUtils.js");
/* harmony import */ var _core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../core/accessorSupport/decorators/property.js */ "./node_modules/@arcgis/core/core/accessorSupport/decorators/property.js");
/* harmony import */ var _core_accessorSupport_ensureType_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../../core/accessorSupport/ensureType.js */ "./node_modules/@arcgis/core/core/accessorSupport/ensureType.js");
/* harmony import */ var _core_arrayUtils_js__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../../core/arrayUtils.js */ "./node_modules/@arcgis/core/core/arrayUtils.js");
/* harmony import */ var _core_has_js__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../../core/has.js */ "./node_modules/@arcgis/core/core/has.js");
/* harmony import */ var _core_accessorSupport_utils_js__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ../../core/accessorSupport/utils.js */ "./node_modules/@arcgis/core/core/accessorSupport/utils.js");
/* harmony import */ var _core_accessorSupport_decorators_subclass_js__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ../../core/accessorSupport/decorators/subclass.js */ "./node_modules/@arcgis/core/core/accessorSupport/decorators/subclass.js");
/* harmony import */ var _core_accessorSupport_PropertyOrigin_js__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ../../core/accessorSupport/PropertyOrigin.js */ "./node_modules/@arcgis/core/core/accessorSupport/PropertyOrigin.js");
/* harmony import */ var _support_Sublayer_js__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! ../support/Sublayer.js */ "./node_modules/@arcgis/core/layers/support/Sublayer.js");
/* harmony import */ var _support_sublayerUtils_js__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! ../support/sublayerUtils.js */ "./node_modules/@arcgis/core/layers/support/sublayerUtils.js");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.27/esri/copyright.txt for details.
*/
const f=_core_Logger_js__WEBPACK_IMPORTED_MODULE_4__["default"].getLogger("esri.layers.TileLayer");function S(e,r){const s=[],t={};return e?(e.forEach((e=>{const o=new _support_Sublayer_js__WEBPACK_IMPORTED_MODULE_13__["default"];if(o.read(e,r),t[o.id]=o,null!=e.parentLayerId&&-1!==e.parentLayerId){const r=t[e.parentLayerId];r.sublayers||(r.sublayers=[]),r.sublayers.unshift(o)}else s.unshift(o)})),s):s}const h=_core_Collection_js__WEBPACK_IMPORTED_MODULE_1__["default"].ofType(_support_Sublayer_js__WEBPACK_IMPORTED_MODULE_13__["default"]);function m(e,r){e&&e.forEach((e=>{r(e),e.sublayers&&e.sublayers.length&&m(e.sublayers,r)}))}const E=o=>{let E=class extends o{constructor(...e){super(...e),this.allSublayers=new _core_CollectionFlattener_js__WEBPACK_IMPORTED_MODULE_2__["default"]({getCollections:()=>[this.sublayers],getChildrenFunction:e=>e.sublayers}),this.sublayersSourceJSON={[_core_accessorSupport_PropertyOrigin_js__WEBPACK_IMPORTED_MODULE_12__.OriginId.SERVICE]:{},[_core_accessorSupport_PropertyOrigin_js__WEBPACK_IMPORTED_MODULE_12__.OriginId.PORTAL_ITEM]:{},[_core_accessorSupport_PropertyOrigin_js__WEBPACK_IMPORTED_MODULE_12__.OriginId.WEB_SCENE]:{},[_core_accessorSupport_PropertyOrigin_js__WEBPACK_IMPORTED_MODULE_12__.OriginId.WEB_MAP]:{}},this.addHandles((0,_core_reactiveUtils_js__WEBPACK_IMPORTED_MODULE_5__.watch)((()=>this.sublayers),((e,r)=>this._handleSublayersChange(e,r)),_core_reactiveUtils_js__WEBPACK_IMPORTED_MODULE_5__.sync))}destroy(){this.allSublayers.destroy()}readSublayers(e,r){if(!r||!e)return;const{sublayersSourceJSON:s}=this,t=(0,_core_accessorSupport_PropertyOrigin_js__WEBPACK_IMPORTED_MODULE_12__.nameToId)(r.origin);if(t<_core_accessorSupport_PropertyOrigin_js__WEBPACK_IMPORTED_MODULE_12__.OriginId.SERVICE)return;if(s[t]={context:r,visibleLayers:e.visibleLayers||s[t].visibleLayers,layers:e.layers||s[t].layers},t>_core_accessorSupport_PropertyOrigin_js__WEBPACK_IMPORTED_MODULE_12__.OriginId.SERVICE)return;this._set("serviceSublayers",this.createSublayersForOrigin("service").sublayers);const{sublayers:o,origin:a}=this.createSublayersForOrigin("web-document"),l=(0,_core_accessorSupport_utils_js__WEBPACK_IMPORTED_MODULE_10__.getProperties)(this);l.setDefaultOrigin(a),this._set("sublayers",new h(o)),l.setDefaultOrigin("user")}findSublayerById(e){return this.allSublayers.find((r=>r.id===e))}createServiceSublayers(){return this.createSublayersForOrigin("service").sublayers}createSublayersForOrigin(e){const r=(0,_core_accessorSupport_PropertyOrigin_js__WEBPACK_IMPORTED_MODULE_12__.nameToId)("web-document"===e?"web-map":e);let s=_core_accessorSupport_PropertyOrigin_js__WEBPACK_IMPORTED_MODULE_12__.OriginId.SERVICE,t=this.sublayersSourceJSON[_core_accessorSupport_PropertyOrigin_js__WEBPACK_IMPORTED_MODULE_12__.OriginId.SERVICE].layers,o=this.sublayersSourceJSON[_core_accessorSupport_PropertyOrigin_js__WEBPACK_IMPORTED_MODULE_12__.OriginId.SERVICE].context,a=null;const l=[_core_accessorSupport_PropertyOrigin_js__WEBPACK_IMPORTED_MODULE_12__.OriginId.PORTAL_ITEM,_core_accessorSupport_PropertyOrigin_js__WEBPACK_IMPORTED_MODULE_12__.OriginId.WEB_SCENE,_core_accessorSupport_PropertyOrigin_js__WEBPACK_IMPORTED_MODULE_12__.OriginId.WEB_MAP].filter((e=>e<=r));for(const u of l){const e=this.sublayersSourceJSON[u];(0,_support_sublayerUtils_js__WEBPACK_IMPORTED_MODULE_14__.isSublayerOverhaul)(e.layers)&&(s=u,t=e.layers,o=e.context,e.visibleLayers&&(a={visibleLayers:e.visibleLayers,context:e.context}))}const i=[_core_accessorSupport_PropertyOrigin_js__WEBPACK_IMPORTED_MODULE_12__.OriginId.PORTAL_ITEM,_core_accessorSupport_PropertyOrigin_js__WEBPACK_IMPORTED_MODULE_12__.OriginId.WEB_SCENE,_core_accessorSupport_PropertyOrigin_js__WEBPACK_IMPORTED_MODULE_12__.OriginId.WEB_MAP].filter((e=>e>s&&e<=r));let n=null;for(const u of i){const{layers:e,visibleLayers:r,context:s}=this.sublayersSourceJSON[u];e&&(n={layers:e,context:s}),r&&(a={visibleLayers:r,context:s})}const y=S(t,o),p=new Map,f=new Set;if(n)for(const u of n.layers)p.set(u.id,u);if(a?.visibleLayers)for(const u of a.visibleLayers)f.add(u);return m(y,(e=>{n&&e.read(p.get(e.id),n.context),a&&e.read({defaultVisibility:f.has(e.id)},a.context)})),{origin:(0,_core_accessorSupport_PropertyOrigin_js__WEBPACK_IMPORTED_MODULE_12__.idToName)(s),sublayers:new h({items:y})}}read(e,r){super.read(e,r),this.readSublayers(e,r)}_handleSublayersChange(e,r){r&&(r.forEach((e=>{e.parent=null,e.layer=null})),this.removeHandles("sublayers-owner")),e&&(e.forEach((e=>{e.parent=this,e.layer=this})),this.addHandles([e.on("after-add",(({item:e})=>{e.parent=this,e.layer=this})),e.on("after-remove",(({item:e})=>{e.parent=null,e.layer=null}))],"sublayers-owner"),"tile"===this.type&&this.addHandles(e.on("before-changes",(e=>{f.error(new _core_Error_js__WEBPACK_IMPORTED_MODULE_3__["default"]("tilelayer:sublayers-non-modifiable","ISublayer can't be added, moved, or removed from the layer's sublayers",{layer:this})),e.preventDefault()})),"sublayers-owner"))}};return (0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_6__.property)({readOnly:!0})],E.prototype,"allSublayers",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_6__.property)({readOnly:!0,type:_core_Collection_js__WEBPACK_IMPORTED_MODULE_1__["default"].ofType(_support_Sublayer_js__WEBPACK_IMPORTED_MODULE_13__["default"])})],E.prototype,"serviceSublayers",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_6__.property)({value:null,type:h,json:{read:!1,write:{allowNull:!0,ignoreOrigin:!0}}})],E.prototype,"sublayers",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_6__.property)({readOnly:!0})],E.prototype,"sublayersSourceJSON",void 0),E=(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_subclass_js__WEBPACK_IMPORTED_MODULE_11__.subclass)("esri.layers.mixins.SublayersOwner")],E),E};


/***/ }),

/***/ "./node_modules/@arcgis/core/layers/support/Sublayer.js":
/*!**************************************************************!*\
  !*** ./node_modules/@arcgis/core/layers/support/Sublayer.js ***!
  \**************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (/* binding */ Y)
/* harmony export */ });
/* harmony import */ var _chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../chunks/tslib.es6.js */ "./node_modules/@arcgis/core/chunks/tslib.es6.js");
/* harmony import */ var _geometry_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../geometry.js */ "./node_modules/@arcgis/core/geometry.js");
/* harmony import */ var _PopupTemplate_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../PopupTemplate.js */ "./node_modules/@arcgis/core/PopupTemplate.js");
/* harmony import */ var _renderers_ClassBreaksRenderer_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../renderers/ClassBreaksRenderer.js */ "./node_modules/@arcgis/core/renderers/ClassBreaksRenderer.js");
/* harmony import */ var _renderers_DictionaryRenderer_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../renderers/DictionaryRenderer.js */ "./node_modules/@arcgis/core/renderers/DictionaryRenderer.js");
/* harmony import */ var _renderers_DotDensityRenderer_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../renderers/DotDensityRenderer.js */ "./node_modules/@arcgis/core/renderers/DotDensityRenderer.js");
/* harmony import */ var _renderers_HeatmapRenderer_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../renderers/HeatmapRenderer.js */ "./node_modules/@arcgis/core/renderers/HeatmapRenderer.js");
/* harmony import */ var _renderers_PieChartRenderer_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../../renderers/PieChartRenderer.js */ "./node_modules/@arcgis/core/renderers/PieChartRenderer.js");
/* harmony import */ var _renderers_Renderer_js__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../../renderers/Renderer.js */ "./node_modules/@arcgis/core/renderers/Renderer.js");
/* harmony import */ var _renderers_SimpleRenderer_js__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../../renderers/SimpleRenderer.js */ "./node_modules/@arcgis/core/renderers/SimpleRenderer.js");
/* harmony import */ var _renderers_UniqueValueRenderer_js__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ../../renderers/UniqueValueRenderer.js */ "./node_modules/@arcgis/core/renderers/UniqueValueRenderer.js");
/* harmony import */ var _renderers_support_jsonUtils_js__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ../../renderers/support/jsonUtils.js */ "./node_modules/@arcgis/core/renderers/support/jsonUtils.js");
/* harmony import */ var _renderers_support_types_js__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ../../renderers/support/types.js */ "./node_modules/@arcgis/core/renderers/support/types.js");
/* harmony import */ var _request_js__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! ../../request.js */ "./node_modules/@arcgis/core/request.js");
/* harmony import */ var _symbols_js__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! ../../symbols.js */ "./node_modules/@arcgis/core/symbols.js");
/* harmony import */ var _core_Collection_js__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! ../../core/Collection.js */ "./node_modules/@arcgis/core/core/Collection.js");
/* harmony import */ var _core_Error_js__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(/*! ../../core/Error.js */ "./node_modules/@arcgis/core/core/Error.js");
/* harmony import */ var _core_HandleOwner_js__WEBPACK_IMPORTED_MODULE_17__ = __webpack_require__(/*! ../../core/HandleOwner.js */ "./node_modules/@arcgis/core/core/HandleOwner.js");
/* harmony import */ var _core_has_js__WEBPACK_IMPORTED_MODULE_18__ = __webpack_require__(/*! ../../core/has.js */ "./node_modules/@arcgis/core/core/has.js");
/* harmony import */ var _core_Identifiable_js__WEBPACK_IMPORTED_MODULE_19__ = __webpack_require__(/*! ../../core/Identifiable.js */ "./node_modules/@arcgis/core/core/Identifiable.js");
/* harmony import */ var _core_lang_js__WEBPACK_IMPORTED_MODULE_20__ = __webpack_require__(/*! ../../core/lang.js */ "./node_modules/@arcgis/core/core/lang.js");
/* harmony import */ var _core_Loadable_js__WEBPACK_IMPORTED_MODULE_21__ = __webpack_require__(/*! ../../core/Loadable.js */ "./node_modules/@arcgis/core/core/Loadable.js");
/* harmony import */ var _core_Logger_js__WEBPACK_IMPORTED_MODULE_22__ = __webpack_require__(/*! ../../core/Logger.js */ "./node_modules/@arcgis/core/core/Logger.js");
/* harmony import */ var _core_MultiOriginJSONSupport_js__WEBPACK_IMPORTED_MODULE_23__ = __webpack_require__(/*! ../../core/MultiOriginJSONSupport.js */ "./node_modules/@arcgis/core/core/MultiOriginJSONSupport.js");
/* harmony import */ var _core_sql_js__WEBPACK_IMPORTED_MODULE_24__ = __webpack_require__(/*! ../../core/sql.js */ "./node_modules/@arcgis/core/core/sql.js");
/* harmony import */ var _core_urlUtils_js__WEBPACK_IMPORTED_MODULE_25__ = __webpack_require__(/*! ../../core/urlUtils.js */ "./node_modules/@arcgis/core/core/urlUtils.js");
/* harmony import */ var _core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_26__ = __webpack_require__(/*! ../../core/accessorSupport/decorators/property.js */ "./node_modules/@arcgis/core/core/accessorSupport/decorators/property.js");
/* harmony import */ var _core_accessorSupport_decorators_cast_js__WEBPACK_IMPORTED_MODULE_27__ = __webpack_require__(/*! ../../core/accessorSupport/decorators/cast.js */ "./node_modules/@arcgis/core/core/accessorSupport/decorators/cast.js");
/* harmony import */ var _core_accessorSupport_decorators_reader_js__WEBPACK_IMPORTED_MODULE_28__ = __webpack_require__(/*! ../../core/accessorSupport/decorators/reader.js */ "./node_modules/@arcgis/core/core/accessorSupport/decorators/reader.js");
/* harmony import */ var _core_accessorSupport_decorators_subclass_js__WEBPACK_IMPORTED_MODULE_29__ = __webpack_require__(/*! ../../core/accessorSupport/decorators/subclass.js */ "./node_modules/@arcgis/core/core/accessorSupport/decorators/subclass.js");
/* harmony import */ var _core_accessorSupport_decorators_writer_js__WEBPACK_IMPORTED_MODULE_30__ = __webpack_require__(/*! ../../core/accessorSupport/decorators/writer.js */ "./node_modules/@arcgis/core/core/accessorSupport/decorators/writer.js");
/* harmony import */ var _core_accessorSupport_ensureType_js__WEBPACK_IMPORTED_MODULE_31__ = __webpack_require__(/*! ../../core/accessorSupport/ensureType.js */ "./node_modules/@arcgis/core/core/accessorSupport/ensureType.js");
/* harmony import */ var _core_accessorSupport_PropertyOrigin_js__WEBPACK_IMPORTED_MODULE_32__ = __webpack_require__(/*! ../../core/accessorSupport/PropertyOrigin.js */ "./node_modules/@arcgis/core/core/accessorSupport/PropertyOrigin.js");
/* harmony import */ var _core_accessorSupport_utils_js__WEBPACK_IMPORTED_MODULE_33__ = __webpack_require__(/*! ../../core/accessorSupport/utils.js */ "./node_modules/@arcgis/core/core/accessorSupport/utils.js");
/* harmony import */ var _graphics_sources_support_QueryTask_js__WEBPACK_IMPORTED_MODULE_34__ = __webpack_require__(/*! ../graphics/sources/support/QueryTask.js */ "./node_modules/@arcgis/core/layers/graphics/sources/support/QueryTask.js");
/* harmony import */ var _FeatureType_js__WEBPACK_IMPORTED_MODULE_35__ = __webpack_require__(/*! ./FeatureType.js */ "./node_modules/@arcgis/core/layers/support/FeatureType.js");
/* harmony import */ var _Field_js__WEBPACK_IMPORTED_MODULE_36__ = __webpack_require__(/*! ./Field.js */ "./node_modules/@arcgis/core/layers/support/Field.js");
/* harmony import */ var _FieldsIndex_js__WEBPACK_IMPORTED_MODULE_37__ = __webpack_require__(/*! ./FieldsIndex.js */ "./node_modules/@arcgis/core/layers/support/FieldsIndex.js");
/* harmony import */ var _LabelClass_js__WEBPACK_IMPORTED_MODULE_38__ = __webpack_require__(/*! ./LabelClass.js */ "./node_modules/@arcgis/core/layers/support/LabelClass.js");
/* harmony import */ var _labelingInfo_js__WEBPACK_IMPORTED_MODULE_39__ = __webpack_require__(/*! ./labelingInfo.js */ "./node_modules/@arcgis/core/layers/support/labelingInfo.js");
/* harmony import */ var _LayerFloorInfo_js__WEBPACK_IMPORTED_MODULE_40__ = __webpack_require__(/*! ./LayerFloorInfo.js */ "./node_modules/@arcgis/core/layers/support/LayerFloorInfo.js");
/* harmony import */ var _serviceCapabilitiesUtils_js__WEBPACK_IMPORTED_MODULE_41__ = __webpack_require__(/*! ./serviceCapabilitiesUtils.js */ "./node_modules/@arcgis/core/layers/support/serviceCapabilitiesUtils.js");
/* harmony import */ var _source_DataLayerSource_js__WEBPACK_IMPORTED_MODULE_42__ = __webpack_require__(/*! ./source/DataLayerSource.js */ "./node_modules/@arcgis/core/layers/support/source/DataLayerSource.js");
/* harmony import */ var _source_MapLayerSource_js__WEBPACK_IMPORTED_MODULE_43__ = __webpack_require__(/*! ./source/MapLayerSource.js */ "./node_modules/@arcgis/core/layers/support/source/MapLayerSource.js");
/* harmony import */ var _rest_support_AttachmentQuery_js__WEBPACK_IMPORTED_MODULE_44__ = __webpack_require__(/*! ../../rest/support/AttachmentQuery.js */ "./node_modules/@arcgis/core/rest/support/AttachmentQuery.js");
/* harmony import */ var _rest_support_Query_js__WEBPACK_IMPORTED_MODULE_45__ = __webpack_require__(/*! ../../rest/support/Query.js */ "./node_modules/@arcgis/core/rest/support/Query.js");
/* harmony import */ var _support_popupUtils_js__WEBPACK_IMPORTED_MODULE_46__ = __webpack_require__(/*! ../../support/popupUtils.js */ "./node_modules/@arcgis/core/support/popupUtils.js");
/* harmony import */ var _geometry_Extent_js__WEBPACK_IMPORTED_MODULE_47__ = __webpack_require__(/*! ../../geometry/Extent.js */ "./node_modules/@arcgis/core/geometry/Extent.js");
/* harmony import */ var _geometry_support_typeUtils_js__WEBPACK_IMPORTED_MODULE_48__ = __webpack_require__(/*! ../../geometry/support/typeUtils.js */ "./node_modules/@arcgis/core/geometry/support/typeUtils.js");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.27/esri/copyright.txt for details.
*/
var B;function J(e){return null!=e&&"esriSMS"===e.type}function $(e,r,t){const i=this.originIdOf(r)>=(0,_core_accessorSupport_PropertyOrigin_js__WEBPACK_IMPORTED_MODULE_32__.nameToId)(t.origin);return{ignoreOrigin:!0,allowNull:i,enabled:!!t&&("map-image"===t.layer?.type&&(t.writeSublayerStructure||i))}}function G(e,r,t){return{enabled:!!t&&("tile"===t.layer?.type&&(t.origin&&this.originIdOf(r)>=(0,_core_accessorSupport_PropertyOrigin_js__WEBPACK_IMPORTED_MODULE_32__.nameToId)(t.origin)||this._isOverridden(r)))}}function H(e,r,t){return{ignoreOrigin:!0,enabled:t&&t.writeSublayerStructure||!1}}function z(e,r,t){return{ignoreOrigin:!0,enabled:!!t&&(t.writeSublayerStructure||this.originIdOf(r)>=(0,_core_accessorSupport_PropertyOrigin_js__WEBPACK_IMPORTED_MODULE_32__.nameToId)(t.origin))}}let K=0;const W=new Set;W.add("layer"),W.add("parent"),W.add("loaded"),W.add("loadStatus"),W.add("loadError"),W.add("loadWarnings");let X=B=class extends((0,_core_HandleOwner_js__WEBPACK_IMPORTED_MODULE_17__.HandleOwnerMixin)((0,_core_MultiOriginJSONSupport_js__WEBPACK_IMPORTED_MODULE_23__.MultiOriginJSONMixin)((0,_core_Identifiable_js__WEBPACK_IMPORTED_MODULE_19__.IdentifiableMixin)(_core_Loadable_js__WEBPACK_IMPORTED_MODULE_21__["default"])))){constructor(e){super(e),this.capabilities=void 0,this.fields=null,this.fullExtent=null,this.geometryType=null,this.globalIdField=null,this.legendEnabled=!0,this.objectIdField=null,this.parent=null,this.popupEnabled=!0,this.popupTemplate=null,this.sourceJSON=null,this.title=null,this.typeIdField=null,this.types=null,this._lastParsedUrl=null}async load(e){return this.addResolvingPromise((async()=>{const{layer:r,url:t}=this;if(!r&&!t)throw new _core_Error_js__WEBPACK_IMPORTED_MODULE_16__["default"]("sublayer:missing-layer","Sublayer can't be loaded without being part of a layer",{sublayer:this});const i=r?await r.fetchSublayerInfo(this,e):(await (0,_request_js__WEBPACK_IMPORTED_MODULE_13__["default"])(t,{responseType:"json",query:{f:"json"},...e})).data;i&&(this.sourceJSON=i,this.read({layerDefinition:i},{origin:"service"}))})()),this}readCapabilities(e,r){r=r.layerDefinition||r;const{operations:{supportsQuery:t,supportsQueryAttachments:i},query:{supportsFormatPBF:o},data:{supportsAttachment:s}}=(0,_serviceCapabilitiesUtils_js__WEBPACK_IMPORTED_MODULE_41__.getFeatureLayerCapabilities)(r,this.url);return{exportMap:{supportsModification:!!r.canModifyLayer},operations:{supportsQuery:t,supportsQueryAttachments:i},data:{supportsAttachment:s},query:{supportsFormatPBF:o}}}get defaultPopupTemplate(){return this.createPopupTemplate()}set definitionExpression(e){this._setAndNotifyLayer("definitionExpression",e)}get effectiveScaleRange(){const{minScale:e,maxScale:r}=this;return{minScale:e,maxScale:r}}get fieldsIndex(){return new _FieldsIndex_js__WEBPACK_IMPORTED_MODULE_37__["default"](this.fields||[])}set floorInfo(e){this._setAndNotifyLayer("floorInfo",e)}readGlobalIdFieldFromService(e,r){if((r=r.layerDefinition||r).globalIdField)return r.globalIdField;if(r.fields)for(const t of r.fields)if("esriFieldTypeGlobalID"===t.type)return t.name}get id(){const e=this._get("id");return e??K++}set id(e){this._get("id")!==e&&(!1!==this.layer?.capabilities?.exportMap?.supportsDynamicLayers?this._set("id",e):this._logLockedError("id","capability not available 'layer.capabilities.exportMap.supportsDynamicLayers'"))}set labelingInfo(e){this._setAndNotifyLayer("labelingInfo",e)}writeLabelingInfo(e,r,t,i){e&&e.length&&(r.layerDefinition={drawingInfo:{labelingInfo:e.map((e=>e.write({},i)))}})}set labelsVisible(e){this._setAndNotifyLayer("labelsVisible",e)}set layer(e){this._set("layer",e),this.sublayers&&this.sublayers.forEach((r=>r.layer=e))}set listMode(e){this._set("listMode",e)}set minScale(e){this._setAndNotifyLayer("minScale",e)}readMinScale(e,r){return r.minScale||r.layerDefinition&&r.layerDefinition.minScale||0}set maxScale(e){this._setAndNotifyLayer("maxScale",e)}readMaxScale(e,r){return r.maxScale||r.layerDefinition&&r.layerDefinition.maxScale||0}readObjectIdFieldFromService(e,r){if((r=r.layerDefinition||r).objectIdField)return r.objectIdField;if(r.fields)for(const t of r.fields)if("esriFieldTypeOID"===t.type)return t.name}set opacity(e){this._setAndNotifyLayer("opacity",e)}readOpacity(e,r){const t=r.layerDefinition;return 1-.01*((null!=t?.transparency?t.transparency:t?.drawingInfo?.transparency)??0)}writeOpacity(e,r,t,i){r.layerDefinition={drawingInfo:{transparency:100-100*e}}}writeParent(e,r){this.parent&&this.parent!==this.layer?r.parentLayerId=(0,_core_accessorSupport_ensureType_js__WEBPACK_IMPORTED_MODULE_31__.ensureInteger)(this.parent.id):r.parentLayerId=-1}get queryTask(){if(!this.layer)return null;const{spatialReference:e}=this.layer,r="gdbVersion"in this.layer?this.layer.gdbVersion:void 0,{capabilities:t,fieldsIndex:i}=this,o=(0,_core_has_js__WEBPACK_IMPORTED_MODULE_18__["default"])("featurelayer-pbf")&&t?.query.supportsFormatPBF,s=t?.operations?.supportsQueryAttachments??!1;return new _graphics_sources_support_QueryTask_js__WEBPACK_IMPORTED_MODULE_34__["default"]({url:this.url,pbfSupported:o,fieldsIndex:i,gdbVersion:r,sourceSpatialReference:e,queryAttachmentsSupported:s})}set renderer(e){if(e)for(const r of e.getSymbols())if((0,_symbols_js__WEBPACK_IMPORTED_MODULE_14__.isSymbol3D)(r)){_core_Logger_js__WEBPACK_IMPORTED_MODULE_22__["default"].getLogger(this).warn("Sublayer renderer should use 2D symbols");break}this._setAndNotifyLayer("renderer",e)}get source(){return this._get("source")||new _source_MapLayerSource_js__WEBPACK_IMPORTED_MODULE_43__.MapLayerSource({mapLayerId:this.id})}set source(e){this._setAndNotifyLayer("source",e)}set sublayers(e){this._handleSublayersChange(e,this._get("sublayers")),this._set("sublayers",e)}castSublayers(e){return (0,_core_accessorSupport_ensureType_js__WEBPACK_IMPORTED_MODULE_31__.ensureType)(_core_Collection_js__WEBPACK_IMPORTED_MODULE_15__["default"].ofType(B),e)}writeSublayers(e,r,t){this.sublayers?.length&&(r[t]=this.sublayers.map((e=>e.id)).toArray().reverse())}readTypeIdField(e,r){let t=(r=r.layerDefinition||r).typeIdField;if(t&&r.fields){t=t.toLowerCase();const e=r.fields.find((e=>e.name.toLowerCase()===t));e&&(t=e.name)}return t}get url(){const e=this.layer?.parsedUrl??this._lastParsedUrl,r=this.source;if(!e)return null;if(this._lastParsedUrl=e,"map-layer"===r?.type)return`${e.path}/${r.mapLayerId}`;const t={layer:JSON.stringify({source:this.source})};return`${e.path}/dynamicLayer?${(0,_core_urlUtils_js__WEBPACK_IMPORTED_MODULE_25__.objectToQuery)(t)}`}set url(e){this._overrideIfSome("url",e)}set visible(e){this._setAndNotifyLayer("visible",e)}writeVisible(e,r,t,i){r[t]=this.getAtOrigin("defaultVisibility","service")||e}clone(){const{store:e}=(0,_core_accessorSupport_utils_js__WEBPACK_IMPORTED_MODULE_33__.getProperties)(this),r=new B;return (0,_core_accessorSupport_utils_js__WEBPACK_IMPORTED_MODULE_33__.getProperties)(r).store=e.clone(W),this.commitProperty("url"),r._lastParsedUrl=this._lastParsedUrl,r}createPopupTemplate(e){return (0,_support_popupUtils_js__WEBPACK_IMPORTED_MODULE_46__.createPopupTemplate)(this,e)}createQuery(){return new _rest_support_Query_js__WEBPACK_IMPORTED_MODULE_45__["default"]({returnGeometry:!0,where:this.definitionExpression||"1=1"})}async createFeatureLayer(){if(this.hasOwnProperty("sublayers"))return null;const{layer:e}=this,r=e?.parsedUrl,t=new(0,(await Promise.resolve(/*! import() */).then(__webpack_require__.bind(__webpack_require__, /*! ../FeatureLayer.js */ "./node_modules/@arcgis/core/layers/FeatureLayer.js"))).default)({url:r?.path});return r&&this.source&&("map-layer"===this.source.type?t.layerId=this.source.mapLayerId:t.dynamicDataSource=this.source),null!=e?.refreshInterval&&(t.refreshInterval=e.refreshInterval),this.definitionExpression&&(t.definitionExpression=this.definitionExpression),this.floorInfo&&(t.floorInfo=(0,_core_lang_js__WEBPACK_IMPORTED_MODULE_20__.clone)(this.floorInfo)),this.originIdOf("labelingInfo")>_core_accessorSupport_PropertyOrigin_js__WEBPACK_IMPORTED_MODULE_32__.OriginId.SERVICE&&(t.labelingInfo=(0,_core_lang_js__WEBPACK_IMPORTED_MODULE_20__.clone)(this.labelingInfo)),this.originIdOf("labelsVisible")>_core_accessorSupport_PropertyOrigin_js__WEBPACK_IMPORTED_MODULE_32__.OriginId.DEFAULTS&&(t.labelsVisible=this.labelsVisible),this.originIdOf("legendEnabled")>_core_accessorSupport_PropertyOrigin_js__WEBPACK_IMPORTED_MODULE_32__.OriginId.DEFAULTS&&(t.legendEnabled=this.legendEnabled),this.originIdOf("visible")>_core_accessorSupport_PropertyOrigin_js__WEBPACK_IMPORTED_MODULE_32__.OriginId.DEFAULTS&&(t.visible=this.visible),this.originIdOf("minScale")>_core_accessorSupport_PropertyOrigin_js__WEBPACK_IMPORTED_MODULE_32__.OriginId.DEFAULTS&&(t.minScale=this.minScale),this.originIdOf("maxScale")>_core_accessorSupport_PropertyOrigin_js__WEBPACK_IMPORTED_MODULE_32__.OriginId.DEFAULTS&&(t.maxScale=this.maxScale),this.originIdOf("opacity")>_core_accessorSupport_PropertyOrigin_js__WEBPACK_IMPORTED_MODULE_32__.OriginId.DEFAULTS&&(t.opacity=this.opacity),this.originIdOf("popupTemplate")>_core_accessorSupport_PropertyOrigin_js__WEBPACK_IMPORTED_MODULE_32__.OriginId.DEFAULTS&&(t.popupTemplate=(0,_core_lang_js__WEBPACK_IMPORTED_MODULE_20__.clone)(this.popupTemplate)),this.originIdOf("renderer")>_core_accessorSupport_PropertyOrigin_js__WEBPACK_IMPORTED_MODULE_32__.OriginId.SERVICE&&(t.renderer=(0,_core_lang_js__WEBPACK_IMPORTED_MODULE_20__.clone)(this.renderer)),"data-layer"===this.source?.type&&(t.dynamicDataSource=this.source.clone()),this.originIdOf("title")>_core_accessorSupport_PropertyOrigin_js__WEBPACK_IMPORTED_MODULE_32__.OriginId.DEFAULTS&&(t.title=this.title),"map-image"===e?.type&&e.originIdOf("customParameters")>_core_accessorSupport_PropertyOrigin_js__WEBPACK_IMPORTED_MODULE_32__.OriginId.DEFAULTS&&(t.customParameters=e.customParameters),"tile"===e?.type&&e.originIdOf("customParameters")>_core_accessorSupport_PropertyOrigin_js__WEBPACK_IMPORTED_MODULE_32__.OriginId.DEFAULTS&&(t.customParameters=e.customParameters),t}getField(e){return this.fieldsIndex.get(e)}getFeatureType(e){const{typeIdField:r,types:t}=this;if(!r||!e)return null;const i=e.attributes?e.attributes[r]:void 0;if(null==i)return null;let o=null;return t?.some((e=>{const{id:r}=e;return null!=r&&(r.toString()===i.toString()&&(o=e),!!o)})),o}getFieldDomain(e,r){const t=r&&r.feature,i=this.getFeatureType(t);if(i){const r=i.domains&&i.domains[e];if(r&&"inherited"!==r.type)return r}return this._getLayerDomain(e)}async queryAttachments(e,r){await this.load(),e=_rest_support_AttachmentQuery_js__WEBPACK_IMPORTED_MODULE_44__["default"].from(e);const t=this.capabilities;if(!t?.data?.supportsAttachment)throw new _core_Error_js__WEBPACK_IMPORTED_MODULE_16__["default"]("queryAttachments:not-supported","this layer doesn't support attachments");const{attachmentTypes:i,objectIds:o,globalIds:s,num:a,size:n,start:p,where:y}=e;if(!t?.operations?.supportsQueryAttachments){if(i?.length>0||s?.length>0||n?.length>0||a||p||y)throw new _core_Error_js__WEBPACK_IMPORTED_MODULE_16__["default"]("queryAttachments:option-not-supported","when 'capabilities.operations.supportsQueryAttachments' is false, only objectIds is supported",e)}if(!(o?.length||s?.length||y))throw new _core_Error_js__WEBPACK_IMPORTED_MODULE_16__["default"]("queryAttachments:invalid-query","'objectIds', 'globalIds', or 'where' are required to perform attachment query",e);return this.queryTask.executeAttachmentQuery(e,r)}async queryFeatures(e=this.createQuery(),r){if(await this.load(),!this.capabilities.operations.supportsQuery)throw new _core_Error_js__WEBPACK_IMPORTED_MODULE_16__["default"]("queryFeatures:not-supported","this layer doesn't support queries.");if(!this.url)throw new _core_Error_js__WEBPACK_IMPORTED_MODULE_16__["default"]("queryFeatures:not-supported","this layer has no url.");const t=await this.queryTask.execute(e,{...r,query:{...this.layer?.customParameters,token:this.layer?.apiKey}});if(t?.features)for(const i of t.features)i.sourceLayer=this;return t}toExportImageJSON(e){const r={id:this.id,source:this.source?.toJSON()||{mapLayerId:this.id,type:"mapLayer"}},t=(0,_core_sql_js__WEBPACK_IMPORTED_MODULE_24__.sqlAnd)(e,this.definitionExpression);null!=t&&(r.definitionExpression=t);const i=["renderer","labelingInfo","opacity","labelsVisible"].reduce(((e,r)=>(e[r]=this.originIdOf(r),e)),{}),o=Object.keys(i).some((e=>i[e]>_core_accessorSupport_PropertyOrigin_js__WEBPACK_IMPORTED_MODULE_32__.OriginId.SERVICE));if(o){const e=r.drawingInfo={};if(i.renderer>_core_accessorSupport_PropertyOrigin_js__WEBPACK_IMPORTED_MODULE_32__.OriginId.SERVICE&&(e.renderer=this.renderer?this.renderer.toJSON():null),i.labelsVisible>_core_accessorSupport_PropertyOrigin_js__WEBPACK_IMPORTED_MODULE_32__.OriginId.SERVICE&&(e.showLabels=this.labelsVisible),this.labelsVisible&&i.labelingInfo>_core_accessorSupport_PropertyOrigin_js__WEBPACK_IMPORTED_MODULE_32__.OriginId.SERVICE){!this.loaded&&this.labelingInfo.some((e=>!e.labelPlacement))&&_core_Logger_js__WEBPACK_IMPORTED_MODULE_22__["default"].getLogger(this).warnOnce(`A Sublayer (title: ${this.title}, id: ${this.id}) has an undefined 'labelPlacement' and so labels cannot be displayed. Either define a valid 'labelPlacement' or call Sublayer.load() to use a default value based on geometry type.`,{sublayer:this});let r=this.labelingInfo;null!=this.geometryType&&(r=(0,_labelingInfo_js__WEBPACK_IMPORTED_MODULE_39__.validateLabelingInfo)(this.labelingInfo,_geometry_support_typeUtils_js__WEBPACK_IMPORTED_MODULE_48__.featureGeometryTypeKebabDictionary.toJSON(this.geometryType))),e.labelingInfo=r.filter((e=>e.labelPlacement)).map((e=>e.toJSON({origin:"service",layer:this.layer}))),e.showLabels=!0}i.opacity>_core_accessorSupport_PropertyOrigin_js__WEBPACK_IMPORTED_MODULE_32__.OriginId.SERVICE&&(e.transparency=100-100*this.opacity),this._assignDefaultSymbolColors(e.renderer)}return r}_assignDefaultSymbolColors(e){this._forEachSimpleMarkerSymbols(e,(e=>{e.color||"esriSMSX"!==e.style&&"esriSMSCross"!==e.style||(e.outline&&e.outline.color?e.color=e.outline.color:e.color=[0,0,0,0])}))}_forEachSimpleMarkerSymbols(e,r){if(e){const t=("uniqueValueInfos"in e?e.uniqueValueInfos:"classBreakInfos"in e?e.classBreakInfos:null)??[];for(const e of t)J(e.symbol)&&r(e.symbol);"symbol"in e&&J(e.symbol)&&r(e.symbol),"defaultSymbol"in e&&J(e.defaultSymbol)&&r(e.defaultSymbol)}}_setAndNotifyLayer(e,r){const t=this.layer,i=this._get(e);let o,s;switch(e){case"definitionExpression":case"floorInfo":o="supportsSublayerDefinitionExpression";break;case"minScale":case"maxScale":case"visible":o="supportsSublayerVisibility";break;case"labelingInfo":case"labelsVisible":case"opacity":case"renderer":case"source":o="supportsDynamicLayers",s="supportsModification"}const a=(0,_core_accessorSupport_utils_js__WEBPACK_IMPORTED_MODULE_33__.getProperties)(this).getDefaultOrigin();if("service"!==a){if(o&&!1===this.layer?.capabilities?.exportMap?.[o])return void this._logLockedError(e,`capability not available 'layer.capabilities.exportMap.${o}'`);if(s&&!1===this.capabilities?.exportMap[s])return void this._logLockedError(e,`capability not available 'capabilities.exportMap.${s}'`)}"source"!==e||"not-loaded"===this.loadStatus?(this._set(e,r),"service"!==a&&i!==r&&t&&t.emit&&t.emit("sublayer-update",{propertyName:e,target:this})):this._logLockedError(e,"'source' can't be changed after calling sublayer.load()")}_handleSublayersChange(e,r){r&&(r.forEach((e=>{e.parent=null,e.layer=null})),this.handles.removeAll()),e&&(e.forEach((e=>{e.parent=this,e.layer=this.layer})),this.handles.add([e.on("after-add",(({item:e})=>{e.parent=this,e.layer=this.layer})),e.on("after-remove",(({item:e})=>{e.parent=null,e.layer=null})),e.on("before-changes",(e=>{const r=this.layer?.capabilities?.exportMap?.supportsSublayersChanges;null==r||r||(_core_Logger_js__WEBPACK_IMPORTED_MODULE_22__["default"].getLogger(this).error(new _core_Error_js__WEBPACK_IMPORTED_MODULE_16__["default"]("sublayer:sublayers-non-modifiable","Sublayer can't be added, moved, or removed from the layer's sublayers",{sublayer:this,layer:this.layer})),e.preventDefault())}))]))}_logLockedError(e,r){const{layer:t,declaredClass:i}=this;_core_Logger_js__WEBPACK_IMPORTED_MODULE_22__["default"].getLogger(i).error(new _core_Error_js__WEBPACK_IMPORTED_MODULE_16__["default"]("sublayer:locked",`Property '${String(e)}' can't be changed on Sublayer from the layer '${t?.id}'`,{reason:r,sublayer:this,layer:t}))}_getLayerDomain(e){const r=this.fieldsIndex.get(e);return r?r.domain:null}};X.test={isMapImageLayerOverridePolicy:e=>e===H||e===$,isTileImageLayerOverridePolicy:e=>e===G},(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_26__.property)({readOnly:!0})],X.prototype,"capabilities",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_reader_js__WEBPACK_IMPORTED_MODULE_28__.reader)("service","capabilities",["layerDefinition.canModifyLayer","layerDefinition.capabilities"])],X.prototype,"readCapabilities",null),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_26__.property)()],X.prototype,"defaultPopupTemplate",null),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_26__.property)({type:String,value:null,json:{name:"layerDefinition.definitionExpression",write:{allowNull:!0,overridePolicy:$}}})],X.prototype,"definitionExpression",null),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_26__.property)({readOnly:!0})],X.prototype,"effectiveScaleRange",null),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_26__.property)({type:[_Field_js__WEBPACK_IMPORTED_MODULE_36__["default"]],json:{origins:{service:{read:{source:"layerDefinition.fields"}}}}})],X.prototype,"fields",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_26__.property)({readOnly:!0})],X.prototype,"fieldsIndex",null),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_26__.property)({type:_LayerFloorInfo_js__WEBPACK_IMPORTED_MODULE_40__["default"],value:null,json:{name:"layerDefinition.floorInfo",read:{source:"layerDefinition.floorInfo"},write:{target:"layerDefinition.floorInfo",overridePolicy:$},origins:{"web-scene":{read:!1,write:!1}}}})],X.prototype,"floorInfo",null),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_26__.property)({type:_geometry_Extent_js__WEBPACK_IMPORTED_MODULE_47__["default"],json:{read:{source:"layerDefinition.extent"}}})],X.prototype,"fullExtent",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_26__.property)({type:_geometry_support_typeUtils_js__WEBPACK_IMPORTED_MODULE_48__.featureGeometryTypeKebabDictionary.apiValues,json:{origins:{service:{name:"layerDefinition.geometryType",read:{reader:_geometry_support_typeUtils_js__WEBPACK_IMPORTED_MODULE_48__.featureGeometryTypeKebabDictionary.read}}}}})],X.prototype,"geometryType",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_26__.property)({type:String})],X.prototype,"globalIdField",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_reader_js__WEBPACK_IMPORTED_MODULE_28__.reader)("service","globalIdField",["layerDefinition.globalIdField","layerDefinition.fields"])],X.prototype,"readGlobalIdFieldFromService",null),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_26__.property)({type:_core_accessorSupport_ensureType_js__WEBPACK_IMPORTED_MODULE_31__.Integer,json:{write:{ignoreOrigin:!0}}})],X.prototype,"id",null),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_26__.property)({value:null,type:[_LabelClass_js__WEBPACK_IMPORTED_MODULE_38__["default"]],json:{read:{source:"layerDefinition.drawingInfo.labelingInfo"},write:{target:"layerDefinition.drawingInfo.labelingInfo",overridePolicy:H}}})],X.prototype,"labelingInfo",null),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_writer_js__WEBPACK_IMPORTED_MODULE_30__.writer)("labelingInfo")],X.prototype,"writeLabelingInfo",null),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_26__.property)({type:Boolean,value:!0,json:{read:{source:"layerDefinition.drawingInfo.showLabels"},write:{target:"layerDefinition.drawingInfo.showLabels",overridePolicy:H}}})],X.prototype,"labelsVisible",null),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_26__.property)({value:null})],X.prototype,"layer",null),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_26__.property)({type:String,json:{write:{overridePolicy:G}}})],X.prototype,"layerItemId",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_26__.property)({type:Boolean,value:!0,json:{origins:{service:{read:{enabled:!1}}},read:{source:"showLegend"},write:{target:"showLegend",overridePolicy:z}}})],X.prototype,"legendEnabled",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_26__.property)({type:["show","hide","hide-children"],value:"show",json:{read:!1,write:!1,origins:{"web-scene":{read:!0,write:!0}}}})],X.prototype,"listMode",null),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_26__.property)({type:Number,value:0,json:{write:{overridePolicy:H}}})],X.prototype,"minScale",null),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_reader_js__WEBPACK_IMPORTED_MODULE_28__.reader)("minScale",["minScale","layerDefinition.minScale"])],X.prototype,"readMinScale",null),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_26__.property)({type:Number,value:0,json:{write:{overridePolicy:H}}})],X.prototype,"maxScale",null),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_reader_js__WEBPACK_IMPORTED_MODULE_28__.reader)("maxScale",["maxScale","layerDefinition.maxScale"])],X.prototype,"readMaxScale",null),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_26__.property)({type:String})],X.prototype,"objectIdField",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_reader_js__WEBPACK_IMPORTED_MODULE_28__.reader)("service","objectIdField",["layerDefinition.objectIdField","layerDefinition.fields"])],X.prototype,"readObjectIdFieldFromService",null),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_26__.property)({type:Number,value:1,json:{write:{target:"layerDefinition.drawingInfo.transparency",overridePolicy:H}}})],X.prototype,"opacity",null),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_reader_js__WEBPACK_IMPORTED_MODULE_28__.reader)("opacity",["layerDefinition.drawingInfo.transparency","layerDefinition.transparency"])],X.prototype,"readOpacity",null),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_writer_js__WEBPACK_IMPORTED_MODULE_30__.writer)("opacity")],X.prototype,"writeOpacity",null),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_26__.property)({json:{type:_core_accessorSupport_ensureType_js__WEBPACK_IMPORTED_MODULE_31__.Integer,write:{target:"parentLayerId",writerEnsuresNonNull:!0,overridePolicy:H}}})],X.prototype,"parent",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_writer_js__WEBPACK_IMPORTED_MODULE_30__.writer)("parent")],X.prototype,"writeParent",null),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_26__.property)({type:Boolean,value:!0,json:{read:{source:"disablePopup",reader:(e,r)=>!r.disablePopup},write:{target:"disablePopup",overridePolicy:z,writer(e,r,t){r[t]=!e}}}})],X.prototype,"popupEnabled",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_26__.property)({type:_PopupTemplate_js__WEBPACK_IMPORTED_MODULE_2__["default"],json:{read:{source:"popupInfo"},write:{target:"popupInfo",overridePolicy:z}}})],X.prototype,"popupTemplate",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_26__.property)({readOnly:!0})],X.prototype,"queryTask",null),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_26__.property)({types:_renderers_support_types_js__WEBPACK_IMPORTED_MODULE_12__.rendererTypes,value:null,json:{name:"layerDefinition.drawingInfo.renderer",write:{overridePolicy:H},origins:{"web-scene":{types:_renderers_support_types_js__WEBPACK_IMPORTED_MODULE_12__.webSceneRendererTypes,name:"layerDefinition.drawingInfo.renderer",write:{overridePolicy:H}}}}})],X.prototype,"renderer",null),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_26__.property)({types:{key:"type",base:null,typeMap:{"data-layer":_source_DataLayerSource_js__WEBPACK_IMPORTED_MODULE_42__.DataLayerSource,"map-layer":_source_MapLayerSource_js__WEBPACK_IMPORTED_MODULE_43__.MapLayerSource}},cast(e){if(e){if("mapLayerId"in e)return (0,_core_accessorSupport_ensureType_js__WEBPACK_IMPORTED_MODULE_31__.ensureClass)(_source_MapLayerSource_js__WEBPACK_IMPORTED_MODULE_43__.MapLayerSource,e);if("dataSource"in e)return (0,_core_accessorSupport_ensureType_js__WEBPACK_IMPORTED_MODULE_31__.ensureClass)(_source_DataLayerSource_js__WEBPACK_IMPORTED_MODULE_42__.DataLayerSource,e)}return e},json:{name:"layerDefinition.source",write:{overridePolicy:H}}})],X.prototype,"source",null),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_26__.property)()],X.prototype,"sourceJSON",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_26__.property)({value:null,json:{type:[_core_accessorSupport_ensureType_js__WEBPACK_IMPORTED_MODULE_31__.Integer],write:{target:"subLayerIds",allowNull:!0,overridePolicy:H}}})],X.prototype,"sublayers",null),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_cast_js__WEBPACK_IMPORTED_MODULE_27__.cast)("sublayers")],X.prototype,"castSublayers",null),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_writer_js__WEBPACK_IMPORTED_MODULE_30__.writer)("sublayers")],X.prototype,"writeSublayers",null),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_26__.property)({type:String,json:{name:"name",write:{overridePolicy:z}}})],X.prototype,"title",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_26__.property)({type:String})],X.prototype,"typeIdField",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_reader_js__WEBPACK_IMPORTED_MODULE_28__.reader)("typeIdField",["layerDefinition.typeIdField"])],X.prototype,"readTypeIdField",null),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_26__.property)({type:[_FeatureType_js__WEBPACK_IMPORTED_MODULE_35__["default"]],json:{origins:{service:{read:{source:"layerDefinition.types"}}}}})],X.prototype,"types",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_26__.property)({type:String,json:{name:"layerUrl",write:{overridePolicy:G}}})],X.prototype,"url",null),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_26__.property)({type:Boolean,value:!0,json:{read:{source:"defaultVisibility"},write:{target:"defaultVisibility",overridePolicy:H}}})],X.prototype,"visible",null),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_writer_js__WEBPACK_IMPORTED_MODULE_30__.writer)("visible")],X.prototype,"writeVisible",null),X=B=(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_subclass_js__WEBPACK_IMPORTED_MODULE_29__.subclass)("esri.layers.support.Sublayer")],X);const Y=X;


/***/ }),

/***/ "./node_modules/@arcgis/core/layers/support/imageBitmapUtils.js":
/*!**********************************************************************!*\
  !*** ./node_modules/@arcgis/core/layers/support/imageBitmapUtils.js ***!
  \**********************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "createBitmap": () => (/* binding */ t),
/* harmony export */   "createTileBitmap": () => (/* binding */ o)
/* harmony export */ });
/* harmony import */ var _core_Error_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../core/Error.js */ "./node_modules/@arcgis/core/core/Error.js");
/* harmony import */ var _core_promiseUtils_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../core/promiseUtils.js */ "./node_modules/@arcgis/core/core/promiseUtils.js");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.27/esri/copyright.txt for details.
*/
async function t(t,o,a){let c;try{c=await createImageBitmap(t)}catch(l){throw new _core_Error_js__WEBPACK_IMPORTED_MODULE_0__["default"]("request:server",`Unable to load ${o}`,{url:o,error:l})}return (0,_core_promiseUtils_js__WEBPACK_IMPORTED_MODULE_1__.throwIfAborted)(a),c}async function o(t,o,a,c,l){let n;try{n=await createImageBitmap(t)}catch(i){throw new _core_Error_js__WEBPACK_IMPORTED_MODULE_0__["default"]("request:server",`Unable to load tile ${o}/${a}/${c}`,{error:i,level:o,row:a,col:c})}return (0,_core_promiseUtils_js__WEBPACK_IMPORTED_MODULE_1__.throwIfAborted)(l),n}


/***/ }),

/***/ "./node_modules/@arcgis/core/layers/support/sublayerUtils.js":
/*!*******************************************************************!*\
  !*** ./node_modules/@arcgis/core/layers/support/sublayerUtils.js ***!
  \*******************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "isExportDynamic": () => (/* binding */ n),
/* harmony export */   "isSublayerOverhaul": () => (/* binding */ o),
/* harmony export */   "shouldWriteSublayerStructure": () => (/* binding */ e)
/* harmony export */ });
/* harmony import */ var _core_accessorSupport_PropertyOrigin_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../core/accessorSupport/PropertyOrigin.js */ "./node_modules/@arcgis/core/core/accessorSupport/PropertyOrigin.js");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.27/esri/copyright.txt for details.
*/
function e(r,e,n){const o=e.flatten((({sublayers:r})=>r)).length;if(o!==r.length)return!0;return!!r.some((r=>r.originIdOf("minScale")>n||r.originIdOf("maxScale")>n||r.originIdOf("renderer")>n||r.originIdOf("labelingInfo")>n||r.originIdOf("opacity")>n||r.originIdOf("labelsVisible")>n||r.originIdOf("source")>n))||!i(r,e)}function n(e,n,o){return!!e.some((e=>{const n=e.source;return!(!n||"map-layer"===n.type&&n.mapLayerId===e.id&&(null==n.gdbVersion||n.gdbVersion===o))||e.originIdOf("renderer")>_core_accessorSupport_PropertyOrigin_js__WEBPACK_IMPORTED_MODULE_0__.OriginId.SERVICE||e.originIdOf("labelingInfo")>_core_accessorSupport_PropertyOrigin_js__WEBPACK_IMPORTED_MODULE_0__.OriginId.SERVICE||e.originIdOf("opacity")>_core_accessorSupport_PropertyOrigin_js__WEBPACK_IMPORTED_MODULE_0__.OriginId.SERVICE||e.originIdOf("labelsVisible")>_core_accessorSupport_PropertyOrigin_js__WEBPACK_IMPORTED_MODULE_0__.OriginId.SERVICE}))||!i(e,n)}function i(r,e){if(!r||!r.length||null==e)return!0;const n=e.slice().reverse().flatten((({sublayers:r})=>r&&r.toArray().reverse())).map((r=>r.id)).toArray();if(r.length>n.length)return!1;let i=0;const o=n.length;for(const{id:t}of r){for(;i<o&&n[i]!==t;)i++;if(i>=o)return!1}return!0}function o(r){return!!r&&r.some((r=>null!=r.minScale||r.layerDefinition&&null!=r.layerDefinition.minScale))}


/***/ })

}]);
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoid2lkZ2V0cy9jaHVua3MvMjlhZTI3OTcyOTNiNDBkOTZhYTZlNGJhNjg5NTI4MTUuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDeVYsb0JBQW9CLHNEQUFDLENBQUMsZUFBZSxrQ0FBa0MsYUFBYSxTQUFTLDBFQUFDLHlCQUF5QixVQUFVLHlCQUF5QixXQUFXLDZEQUE2RCx3Q0FBd0MsUUFBUSwyREFBMkQsMkJBQTJCLHNCQUFzQixXQUFXLHNEQUFDLElBQUksd0JBQXdCLGVBQWUsMENBQTBDLHVCQUF1QixTQUFTLDBCQUEwQixnREFBZ0QsNkJBQTZCLG9DQUFvQyxvRUFBb0UscUNBQXFDLFdBQVcsdURBQUMsRUFBRSxpRkFBQyx5Q0FBeUMsdURBQUMsRUFBRSxpRkFBQyw4Q0FBOEMsdURBQUMsRUFBRSxpRkFBQywrQ0FBK0MsdURBQUMsRUFBRSxpRkFBQyxzQ0FBc0MsVUFBK0I7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7QUNKbHpDO0FBQ0E7QUFDQTtBQUNBO0FBQzhHLHNCQUFzQiw2QkFBNkIsc0JBQXNCLHNCQUFzQixvREFBb0QsbUVBQWMseUJBQXlCLCtEQUFZLGlCQUFpQixLQUFLLFdBQVcsU0FBUyxtREFBQyxjQUFjLGNBQWMsc0RBQUMsNEJBQTRCLG9CQUFvQixtQkFBbUIsU0FBUyxjQUFjLGtEQUE0Rjs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FDSmxqQjtBQUNBO0FBQ0E7QUFDQTtBQUN5OUIsWUFBWSxzQkFBc0IsY0FBYyw0TEFBNEwsc0JBQXNCLG1GQUFtRixhQUFhLFlBQVksb0dBQW9HLGtDQUFrQyxxUUFBcVEsMkRBQU8sdURBQXVELE9BQU8sWUFBWSwrRkFBK0YsY0FBYyxrTEFBa0wscUJBQXFCLDJDQUEyQyxPQUFPLGlCQUFpQix1QkFBdUIsdUlBQXVJLDZCQUE2Qix3QkFBd0IsUUFBUSxrRkFBQyxnQkFBZ0IsNkZBQTZGLHVEQUF1RCx5RUFBeUUsaURBQWlELE9BQU8scUVB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QUUsR0FBRyxjQUFjLEVBQUUsT0FBTyxxRUFBQyxNQUFNLDRCQUE0QixNQUFNLElBQUksNkJBQTZCLFNBQVMsVUFBVSxzREFBQyx5Q0FBeUMsRUFBRSxHQUFHLEVBQUUsR0FBRyxFQUFFLEdBQUcsNEJBQTRCLEVBQUUsT0FBTyxxRUFBQyxNQUFzRDs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FDSnBlO0FBQ0E7QUFDQTtBQUNBO0FBQ3dFLGtCQUFrQixxQkFBcUIsWUFBWSxjQUFjLHlCQUF5Qix1T0FBdU8sa0JBQWtCLG9CQUFvQixpQkFBaUIseUhBQXlILHFGQUFTLCtCQUErQixxRkFBUywwQkFBMEIscUZBQVMsZ0NBQWdDLHFGQUFTLENBQUMsWUFBWSxnQkFBZ0IsbUNBQW1DLHVDQUF1QyxZQUFZLHVEQUF1RCw4QkFBOEIsUUFBUSxpQkFBaUIsVUFBVSxLQUFLLE1BQU0sS0FBSyxjQUFjLEtBQUssaUJBQWlCLFNBQVMsY0FBYyw4RkFBcUwiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9leGItY2xpZW50Ly4vbm9kZV9tb2R1bGVzL0BhcmNnaXMvY29yZS9jb3JlL0NvbGxlY3Rpb25GbGF0dGVuZXIuanMiLCJ3ZWJwYWNrOi8vZXhiLWNsaWVudC8uL25vZGVfbW9kdWxlcy9AYXJjZ2lzL2NvcmUvY29yZS9sb2FkQWxsLmpzIiwid2VicGFjazovL2V4Yi1jbGllbnQvLi9ub2RlX21vZHVsZXMvQGFyY2dpcy9jb3JlL2xheWVycy9taXhpbnMvQXJjR0lTTWFwU2VydmljZS5qcyIsIndlYnBhY2s6Ly9leGItY2xpZW50Ly4vbm9kZV9tb2R1bGVzL0BhcmNnaXMvY29yZS9sYXllcnMvbWl4aW5zL1N1YmxheWVyc093bmVyLmpzIiwid2VicGFjazovL2V4Yi1jbGllbnQvLi9ub2RlX21vZHVsZXMvQGFyY2dpcy9jb3JlL2xheWVycy9zdXBwb3J0L1N1YmxheWVyLmpzIiwid2VicGFjazovL2V4Yi1jbGllbnQvLi9ub2RlX21vZHVsZXMvQGFyY2dpcy9jb3JlL2xheWVycy9zdXBwb3J0L2ltYWdlQml0bWFwVXRpbHMuanMiLCJ3ZWJwYWNrOi8vZXhiLWNsaWVudC8uL25vZGVfbW9kdWxlcy9AYXJjZ2lzL2NvcmUvbGF5ZXJzL3N1cHBvcnQvc3VibGF5ZXJVdGlscy5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyIvKlxuQWxsIG1hdGVyaWFsIGNvcHlyaWdodCBFU1JJLCBBbGwgUmlnaHRzIFJlc2VydmVkLCB1bmxlc3Mgb3RoZXJ3aXNlIHNwZWNpZmllZC5cblNlZSBodHRwczovL2pzLmFyY2dpcy5jb20vNC4yNy9lc3JpL2NvcHlyaWdodC50eHQgZm9yIGRldGFpbHMuXG4qL1xuaW1wb3J0e18gYXMgdH1mcm9tXCIuLi9jaHVua3MvdHNsaWIuZXM2LmpzXCI7aW1wb3J0IG8gZnJvbVwiLi9Db2xsZWN0aW9uLmpzXCI7aW1wb3J0XCIuL0Vycm9yLmpzXCI7aW1wb3J0XCIuL0xvZ2dlci5qc1wiO2ltcG9ydFwiLi9hY2Nlc3NvclN1cHBvcnQvd2F0Y2guanNcIjtpbXBvcnR7YXV0b3J1biBhcyBzfWZyb21cIi4vYWNjZXNzb3JTdXBwb3J0L3RyYWNraW5nVXRpbHMuanNcIjtpbXBvcnR7cHJvcGVydHkgYXMgZX1mcm9tXCIuL2FjY2Vzc29yU3VwcG9ydC9kZWNvcmF0b3JzL3Byb3BlcnR5LmpzXCI7aW1wb3J0e3N1YmNsYXNzIGFzIHJ9ZnJvbVwiLi9hY2Nlc3NvclN1cHBvcnQvZGVjb3JhdG9ycy9zdWJjbGFzcy5qc1wiO2xldCBpPWNsYXNzIGV4dGVuZHMgb3tjb25zdHJ1Y3Rvcih0KXtzdXBlcih0KSx0aGlzLmdldENvbGxlY3Rpb25zPW51bGx9aW5pdGlhbGl6ZSgpe3RoaXMub3duKHMoKCgpPT50aGlzLl9yZWZyZXNoKCkpKSl9ZGVzdHJveSgpe3RoaXMuZ2V0Q29sbGVjdGlvbnM9bnVsbH1fcmVmcmVzaCgpe2NvbnN0IHQ9bnVsbCE9dGhpcy5nZXRDb2xsZWN0aW9ucz90aGlzLmdldENvbGxlY3Rpb25zKCk6bnVsbDtpZihudWxsPT10KXJldHVybiB2b2lkIHRoaXMucmVtb3ZlQWxsKCk7bGV0IG89MDtmb3IoY29uc3QgcyBvZiB0KW51bGwhPXMmJihvPXRoaXMuX3Byb2Nlc3NDb2xsZWN0aW9uKG8scykpO3RoaXMuc3BsaWNlKG8sdGhpcy5sZW5ndGgpfV9jcmVhdGVOZXdJbnN0YW5jZSh0KXtyZXR1cm4gbmV3IG8odCl9X3Byb2Nlc3NDb2xsZWN0aW9uKHQsbyl7aWYoIW8pcmV0dXJuIHQ7Y29uc3Qgcz10aGlzLml0ZW1GaWx0ZXJGdW5jdGlvbj8/KHQ9PiEhdCk7Zm9yKGNvbnN0IGUgb2YgbylpZihlKXtpZihzKGUpKXtjb25zdCBvPXRoaXMuaW5kZXhPZihlLHQpO28+PTA/byE9PXQmJnRoaXMucmVvcmRlcihlLHQpOnRoaXMuYWRkKGUsdCksKyt0fWlmKHRoaXMuZ2V0Q2hpbGRyZW5GdW5jdGlvbil7Y29uc3Qgbz10aGlzLmdldENoaWxkcmVuRnVuY3Rpb24oZSk7aWYoQXJyYXkuaXNBcnJheShvKSlmb3IoY29uc3QgcyBvZiBvKXQ9dGhpcy5fcHJvY2Vzc0NvbGxlY3Rpb24odCxzKTtlbHNlIHQ9dGhpcy5fcHJvY2Vzc0NvbGxlY3Rpb24odCxvKX19cmV0dXJuIHR9fTt0KFtlKCldLGkucHJvdG90eXBlLFwiZ2V0Q29sbGVjdGlvbnNcIix2b2lkIDApLHQoW2UoKV0saS5wcm90b3R5cGUsXCJnZXRDaGlsZHJlbkZ1bmN0aW9uXCIsdm9pZCAwKSx0KFtlKCldLGkucHJvdG90eXBlLFwiaXRlbUZpbHRlckZ1bmN0aW9uXCIsdm9pZCAwKSxpPXQoW3IoXCJlc3JpLmNvcmUuQ29sbGVjdGlvbkZsYXR0ZW5lclwiKV0saSk7Y29uc3Qgbj1pO2V4cG9ydHtuIGFzIGRlZmF1bHR9O1xuIiwiLypcbkFsbCBtYXRlcmlhbCBjb3B5cmlnaHQgRVNSSSwgQWxsIFJpZ2h0cyBSZXNlcnZlZCwgdW5sZXNzIG90aGVyd2lzZSBzcGVjaWZpZWQuXG5TZWUgaHR0cHM6Ly9qcy5hcmNnaXMuY29tLzQuMjcvZXNyaS9jb3B5cmlnaHQudHh0IGZvciBkZXRhaWxzLlxuKi9cbmltcG9ydHttYXAgYXMgbyxyZXN1bHQgYXMgbH1mcm9tXCIuL2FzeW5jVXRpbHMuanNcIjtpbXBvcnQgbiBmcm9tXCIuL0NvbGxlY3Rpb24uanNcIjtpbXBvcnQgciBmcm9tXCIuL0xvYWRhYmxlLmpzXCI7YXN5bmMgZnVuY3Rpb24gdChvLGwpe3JldHVybiBhd2FpdCBvLmxvYWQoKSxhKG8sbCl9YXN5bmMgZnVuY3Rpb24gYSh0LGEpe2NvbnN0IHM9W10sYz0oLi4ubyk9Pntmb3IoY29uc3QgbCBvZiBvKW51bGwhPWwmJihBcnJheS5pc0FycmF5KGwpP2MoLi4ubCk6bi5pc0NvbGxlY3Rpb24obCk/bC5mb3JFYWNoKChvPT5jKG8pKSk6ci5pc0xvYWRhYmxlKGwpJiZzLnB1c2gobCkpfTthKGMpO2xldCBmPW51bGw7aWYoYXdhaXQgbyhzLChhc3luYyBvPT57Y29uc3Qgbj1hd2FpdCBsKGkobyk/by5sb2FkQWxsKCk6by5sb2FkKCkpOyExIT09bi5va3x8Znx8KGY9bil9KSksZil0aHJvdyBmLmVycm9yO3JldHVybiB0fWZ1bmN0aW9uIGkobyl7cmV0dXJuXCJsb2FkQWxsXCJpbiBvJiZcImZ1bmN0aW9uXCI9PXR5cGVvZiBvLmxvYWRBbGx9ZXhwb3J0e3QgYXMgbG9hZEFsbCxhIGFzIGxvYWRBbGxDaGlsZHJlbn07XG4iLCIvKlxuQWxsIG1hdGVyaWFsIGNvcHlyaWdodCBFU1JJLCBBbGwgUmlnaHRzIFJlc2VydmVkLCB1bmxlc3Mgb3RoZXJ3aXNlIHNwZWNpZmllZC5cblNlZSBodHRwczovL2pzLmFyY2dpcy5jb20vNC4yNy9lc3JpL2NvcHlyaWdodC50eHQgZm9yIGRldGFpbHMuXG4qL1xuaW1wb3J0e18gYXMgZX1mcm9tXCIuLi8uLi9jaHVua3MvdHNsaWIuZXM2LmpzXCI7aW1wb3J0IHIgZnJvbVwiLi4vLi4vcmVxdWVzdC5qc1wiO2ltcG9ydHtnZXRPckNyZWF0ZU1hcFZhbHVlIGFzIHR9ZnJvbVwiLi4vLi4vY29yZS9NYXBVdGlscy5qc1wiO2ltcG9ydHt0aHJvd0lmQWJvcnRlZCBhcyBzfWZyb21cIi4uLy4uL2NvcmUvcHJvbWlzZVV0aWxzLmpzXCI7aW1wb3J0e2pvaW4gYXMgb31mcm9tXCIuLi8uLi9jb3JlL3VybFV0aWxzLmpzXCI7aW1wb3J0e1ZlcnNpb24gYXMgaX1mcm9tXCIuLi8uLi9jb3JlL1ZlcnNpb24uanNcIjtpbXBvcnR7cHJvcGVydHkgYXMgYX1mcm9tXCIuLi8uLi9jb3JlL2FjY2Vzc29yU3VwcG9ydC9kZWNvcmF0b3JzL3Byb3BlcnR5LmpzXCI7aW1wb3J0XCIuLi8uLi9jb3JlL2FjY2Vzc29yU3VwcG9ydC9lbnN1cmVUeXBlLmpzXCI7aW1wb3J0XCIuLi8uLi9jb3JlL2FycmF5VXRpbHMuanNcIjtpbXBvcnRcIi4uLy4uL2NvcmUvaGFzLmpzXCI7aW1wb3J0e3JlYWRlciBhcyBwfWZyb21cIi4uLy4uL2NvcmUvYWNjZXNzb3JTdXBwb3J0L2RlY29yYXRvcnMvcmVhZGVyLmpzXCI7aW1wb3J0e3N1YmNsYXNzIGFzIGx9ZnJvbVwiLi4vLi4vY29yZS9hY2Nlc3NvclN1cHBvcnQvZGVjb3JhdG9ycy9zdWJjbGFzcy5qc1wiO2ltcG9ydHtPcmlnaW5JZCBhcyBufWZyb21cIi4uLy4uL2NvcmUvYWNjZXNzb3JTdXBwb3J0L1Byb3BlcnR5T3JpZ2luLmpzXCI7aW1wb3J0IGMgZnJvbVwiLi4vLi4vZ2VvbWV0cnkvRXh0ZW50LmpzXCI7aW1wb3J0IHUgZnJvbVwiLi4vLi4vZ2VvbWV0cnkvU3BhdGlhbFJlZmVyZW5jZS5qc1wiO2ltcG9ydHtwYXJzZSBhcyB5fWZyb21cIi4uL3N1cHBvcnQvYXJjZ2lzTGF5ZXJVcmwuanNcIjtpbXBvcnR7aWQgYXMgbSxwb3B1cEVuYWJsZWQgYXMgZH1mcm9tXCIuLi9zdXBwb3J0L2NvbW1vblByb3BlcnRpZXMuanNcIjtpbXBvcnR7aXNIb3N0ZWRMYXllciBhcyBofWZyb21cIi4uLy4uL3BvcnRhbC9zdXBwb3J0L3BvcnRhbEl0ZW1VdGlscy5qc1wiO2NvbnN0IGY9Zj0+e2xldCBiPWNsYXNzIGV4dGVuZHMgZntjb25zdHJ1Y3Rvcigpe3N1cGVyKC4uLmFyZ3VtZW50cyksdGhpcy5jYXBhYmlsaXRpZXM9dm9pZCAwLHRoaXMuY29weXJpZ2h0PW51bGwsdGhpcy5mdWxsRXh0ZW50PW51bGwsdGhpcy5sZWdlbmRFbmFibGVkPSEwLHRoaXMuc3BhdGlhbFJlZmVyZW5jZT1udWxsLHRoaXMudmVyc2lvbj12b2lkIDAsdGhpcy5fYWxsTGF5ZXJzQW5kVGFibGVzTWFwPW51bGx9cmVhZENhcGFiaWxpdGllcyhlLHIpe2NvbnN0IHQ9ci5jYXBhYmlsaXRpZXMmJnIuY2FwYWJpbGl0aWVzLnNwbGl0KFwiLFwiKS5tYXAoKGU9PmUudG9Mb3dlckNhc2UoKS50cmltKCkpKTtpZighdClyZXR1cm57b3BlcmF0aW9uczp7c3VwcG9ydHNFeHBvcnRNYXA6ITEsc3VwcG9ydHNFeHBvcnRUaWxlczohMSxzdXBwb3J0c0lkZW50aWZ5OiExLHN1cHBvcnRzUXVlcnk6ITEsc3VwcG9ydHNUaWxlTWFwOiExfSxleHBvcnRNYXA6bnVsbCxleHBvcnRUaWxlczpudWxsfTtjb25zdCBzPXRoaXMudHlwZSxvPVwidGlsZVwiIT09cyYmISFyLnN1cHBvcnRzRHluYW1pY0xheWVycyxhPXQuaW5jbHVkZXMoXCJxdWVyeVwiKSxwPXQuaW5jbHVkZXMoXCJtYXBcIiksbD0hIXIuZXhwb3J0VGlsZXNBbGxvd2VkLG49dC5pbmNsdWRlcyhcInRpbGVtYXBcIiksYz10LmluY2x1ZGVzKFwiZGF0YVwiKSx1PVwidGlsZVwiIT09cyYmKCFyLnRpbGVJbmZvfHxvKSx5PVwidGlsZVwiIT09cyYmKCFyLnRpbGVJbmZvfHxvKSxtPVwidGlsZVwiIT09cyxkPXIuY2ltVmVyc2lvbiYmaS5wYXJzZShyLmNpbVZlcnNpb24pLGg9ZD8uc2luY2UoMSw0KT8/ITEsZj1kPy5zaW5jZSgyLDApPz8hMTtyZXR1cm57b3BlcmF0aW9uczp7c3VwcG9ydHNFeHBvcnRNYXA6cCxzdXBwb3J0c0V4cG9ydFRpbGVzOmwsc3VwcG9ydHNJZGVudGlmeTphLHN1cHBvcnRzUXVlcnk6YyxzdXBwb3J0c1RpbGVNYXA6bn0sZXhwb3J0TWFwOnA/e3N1cHBvcnRzQXJjYWRlRXhwcmVzc2lvbkZvckxhYmVsaW5nOmgsc3VwcG9ydHNTdWJsYXllcnNDaGFuZ2VzOm0sc3VwcG9ydHNEeW5hbWljTGF5ZXJzOm8sc3VwcG9ydHNTdWJsYXllclZpc2liaWxpdHk6dSxzdXBwb3J0c1N1YmxheWVyRGVmaW5pdGlvbkV4cHJlc3Npb246eSxzdXBwb3J0c0NJTVN5bWJvbHM6Zn06bnVsbCxleHBvcnRUaWxlczpsP3ttYXhFeHBvcnRUaWxlc0NvdW50OityLm1heEV4cG9ydFRpbGVzQ291bnR9Om51bGx9fXJlYWRWZXJzaW9uKGUscil7bGV0IHQ9ci5jdXJyZW50VmVyc2lvbjtyZXR1cm4gdHx8KHQ9ci5oYXNPd25Qcm9wZXJ0eShcImNhcGFiaWxpdGllc1wiKXx8ci5oYXNPd25Qcm9wZXJ0eShcInRhYmxlc1wiKT8xMDpyLmhhc093blByb3BlcnR5KFwic3VwcG9ydGVkSW1hZ2VGb3JtYXRUeXBlc1wiKT85LjMxOjkuMyksdH1hc3luYyBmZXRjaFJlbGF0ZWRTZXJ2aWNlKGUpe2NvbnN0IHI9dGhpcy5wb3J0YWxJdGVtO2lmKCFyfHwhaChyKSlyZXR1cm4gbnVsbDt0aGlzLl9yZWxhdGVkRmVhdHVyZVNlcnZpY2VQcm9taXNlfHwodGhpcy5fcmVsYXRlZEZlYXR1cmVTZXJ2aWNlUHJvbWlzZT1yLmZldGNoUmVsYXRlZEl0ZW1zKHtyZWxhdGlvbnNoaXBUeXBlOlwiU2VydmljZTJTZXJ2aWNlXCIsZGlyZWN0aW9uOlwicmV2ZXJzZVwifSxlKS50aGVuKChlPT5lLmZpbmQoKGU9PlwiRmVhdHVyZSBTZXJ2aWNlXCI9PT1lLnR5cGUpKT8/bnVsbCksKCgpPT5udWxsKSkpO2NvbnN0IHQ9YXdhaXQgdGhpcy5fcmVsYXRlZEZlYXR1cmVTZXJ2aWNlUHJvbWlzZTtyZXR1cm4gcyhlKSx0P3tpdGVtSWQ6dC5pZCx1cmw6dC51cmx9Om51bGx9YXN5bmMgZmV0Y2hTdWJsYXllckluZm8oZSx0KXtjb25zdHtzb3VyY2U6c309ZTtpZih0aGlzPy5wb3J0YWxJdGVtJiZcInRpbGVcIj09PXRoaXMudHlwZSYmXCJtYXAtbGF5ZXJcIj09PXM/LnR5cGUmJmgodGhpcy5wb3J0YWxJdGVtKSYmZS5vcmlnaW5JZE9mKFwidXJsXCIpPG4uU0VSVklDRSl7Y29uc3Qgcj1hd2FpdCB0aGlzLmZldGNoUmVsYXRlZFNlcnZpY2UodCk7ciYmKGUudXJsPW8oci51cmwscy5tYXBMYXllcklkLnRvU3RyaW5nKCkpLGUubGF5ZXJJdGVtSWQ9ci5pdGVtSWQpfWNvbnN0e3VybDppfT1lO2xldCBhO2lmKFwiZGF0YS1sYXllclwiPT09cy50eXBlKXthPShhd2FpdCByKGkse3Jlc3BvbnNlVHlwZTpcImpzb25cIixxdWVyeTp7ZjpcImpzb25cIiwuLi50aGlzLmN1c3RvbVBhcmFtZXRlcnMsdG9rZW46dGhpcy5hcGlLZXl9LC4uLnR9KSkuZGF0YX1lbHNlIGlmKGkmJmUub3JpZ2luSWRPZihcInVybFwiKT5uLlNFUlZJQ0UpdHJ5e2E9KGF3YWl0IHRoaXMuX2ZldGNoQWxsTGF5ZXJzQW5kVGFibGVzRnJvbVNlcnZpY2UoaSkpLmdldChzLm1hcExheWVySWQpfWNhdGNoe31lbHNle2xldCByPWUuaWQ7XCJtYXAtbGF5ZXJcIj09PXM/LnR5cGUmJihyPXMubWFwTGF5ZXJJZCk7dHJ5e2E9KGF3YWl0IHRoaXMuZmV0Y2hBbGxMYXllcnNBbmRUYWJsZXModCkpLmdldChyKX1jYXRjaHt9fXJldHVybiBhfWFzeW5jIGZldGNoQWxsTGF5ZXJzQW5kVGFibGVzKGUpe3JldHVybiB0aGlzLl9mZXRjaEFsbExheWVyc0FuZFRhYmxlc0Zyb21TZXJ2aWNlKHRoaXMucGFyc2VkVXJsPy5wYXRoLGUpfWFzeW5jIF9mZXRjaEFsbExheWVyc0FuZFRhYmxlc0Zyb21TZXJ2aWNlKGUsaSl7YXdhaXQgdGhpcy5sb2FkKGkpLHRoaXMuX2FsbExheWVyc0FuZFRhYmxlc01hcHx8PW5ldyBNYXA7Y29uc3QgYT15KGUpLHA9dCh0aGlzLl9hbGxMYXllcnNBbmRUYWJsZXNNYXAsYT8udXJsLnBhdGgsKCgpPT5yKG8oYT8udXJsLnBhdGgsXCIvbGF5ZXJzXCIpLHtyZXNwb25zZVR5cGU6XCJqc29uXCIscXVlcnk6e2Y6XCJqc29uXCIsLi4udGhpcy5jdXN0b21QYXJhbWV0ZXJzLHRva2VuOnRoaXMuYXBpS2V5fX0pLnRoZW4oKGU9Pntjb25zdCByPW5ldyBNYXA7Zm9yKGNvbnN0IHQgb2YgZS5kYXRhLmxheWVycylyLnNldCh0LmlkLHQpO3JldHVybntyZXN1bHQ6cn19KSwoZT0+KHtlcnJvcjplfSkpKSkpLGw9YXdhaXQgcDtpZihzKGkpLFwicmVzdWx0XCJpbiBsKXJldHVybiBsLnJlc3VsdDt0aHJvdyBsLmVycm9yfX07cmV0dXJuIGUoW2Eoe3JlYWRPbmx5OiEwfSldLGIucHJvdG90eXBlLFwiY2FwYWJpbGl0aWVzXCIsdm9pZCAwKSxlKFtwKFwic2VydmljZVwiLFwiY2FwYWJpbGl0aWVzXCIsW1wiY2FwYWJpbGl0aWVzXCIsXCJleHBvcnRUaWxlc0FsbG93ZWRcIixcIm1heEV4cG9ydFRpbGVzQ291bnRcIixcInN1cHBvcnRzRHluYW1pY0xheWVyc1wiLFwidGlsZUluZm9cIl0pXSxiLnByb3RvdHlwZSxcInJlYWRDYXBhYmlsaXRpZXNcIixudWxsKSxlKFthKHtqc29uOntyZWFkOntzb3VyY2U6XCJjb3B5cmlnaHRUZXh0XCJ9fX0pXSxiLnByb3RvdHlwZSxcImNvcHlyaWdodFwiLHZvaWQgMCksZShbYSh7dHlwZTpjfSldLGIucHJvdG90eXBlLFwiZnVsbEV4dGVudFwiLHZvaWQgMCksZShbYShtKV0sYi5wcm90b3R5cGUsXCJpZFwiLHZvaWQgMCksZShbYSh7dHlwZTpCb29sZWFuLGpzb246e29yaWdpbnM6e3NlcnZpY2U6e3JlYWQ6e2VuYWJsZWQ6ITF9fX0scmVhZDp7c291cmNlOlwic2hvd0xlZ2VuZFwifSx3cml0ZTp7dGFyZ2V0Olwic2hvd0xlZ2VuZFwifX19KV0sYi5wcm90b3R5cGUsXCJsZWdlbmRFbmFibGVkXCIsdm9pZCAwKSxlKFthKGQpXSxiLnByb3RvdHlwZSxcInBvcHVwRW5hYmxlZFwiLHZvaWQgMCksZShbYSh7dHlwZTp1fSldLGIucHJvdG90eXBlLFwic3BhdGlhbFJlZmVyZW5jZVwiLHZvaWQgMCksZShbYSh7cmVhZE9ubHk6ITB9KV0sYi5wcm90b3R5cGUsXCJ2ZXJzaW9uXCIsdm9pZCAwKSxlKFtwKFwidmVyc2lvblwiLFtcImN1cnJlbnRWZXJzaW9uXCIsXCJjYXBhYmlsaXRpZXNcIixcInRhYmxlc1wiLFwic3VwcG9ydGVkSW1hZ2VGb3JtYXRUeXBlc1wiXSldLGIucHJvdG90eXBlLFwicmVhZFZlcnNpb25cIixudWxsKSxiPWUoW2woXCJlc3JpLmxheWVycy5taXhpbnMuQXJjR0lTTWFwU2VydmljZVwiKV0sYiksYn07ZXhwb3J0e2YgYXMgQXJjR0lTTWFwU2VydmljZX07XG4iLCIvKlxuQWxsIG1hdGVyaWFsIGNvcHlyaWdodCBFU1JJLCBBbGwgUmlnaHRzIFJlc2VydmVkLCB1bmxlc3Mgb3RoZXJ3aXNlIHNwZWNpZmllZC5cblNlZSBodHRwczovL2pzLmFyY2dpcy5jb20vNC4yNy9lc3JpL2NvcHlyaWdodC50eHQgZm9yIGRldGFpbHMuXG4qL1xuaW1wb3J0e18gYXMgZX1mcm9tXCIuLi8uLi9jaHVua3MvdHNsaWIuZXM2LmpzXCI7aW1wb3J0IHIgZnJvbVwiLi4vLi4vY29yZS9Db2xsZWN0aW9uLmpzXCI7aW1wb3J0IHMgZnJvbVwiLi4vLi4vY29yZS9Db2xsZWN0aW9uRmxhdHRlbmVyLmpzXCI7aW1wb3J0IHQgZnJvbVwiLi4vLi4vY29yZS9FcnJvci5qc1wiO2ltcG9ydCBvIGZyb21cIi4uLy4uL2NvcmUvTG9nZ2VyLmpzXCI7aW1wb3J0e3dhdGNoIGFzIGEsc3luYyBhcyBsfWZyb21cIi4uLy4uL2NvcmUvcmVhY3RpdmVVdGlscy5qc1wiO2ltcG9ydHtwcm9wZXJ0eSBhcyBpfWZyb21cIi4uLy4uL2NvcmUvYWNjZXNzb3JTdXBwb3J0L2RlY29yYXRvcnMvcHJvcGVydHkuanNcIjtpbXBvcnRcIi4uLy4uL2NvcmUvYWNjZXNzb3JTdXBwb3J0L2Vuc3VyZVR5cGUuanNcIjtpbXBvcnRcIi4uLy4uL2NvcmUvYXJyYXlVdGlscy5qc1wiO2ltcG9ydFwiLi4vLi4vY29yZS9oYXMuanNcIjtpbXBvcnR7Z2V0UHJvcGVydGllcyBhcyBufWZyb21cIi4uLy4uL2NvcmUvYWNjZXNzb3JTdXBwb3J0L3V0aWxzLmpzXCI7aW1wb3J0e3N1YmNsYXNzIGFzIHl9ZnJvbVwiLi4vLi4vY29yZS9hY2Nlc3NvclN1cHBvcnQvZGVjb3JhdG9ycy9zdWJjbGFzcy5qc1wiO2ltcG9ydHtPcmlnaW5JZCBhcyB1LG5hbWVUb0lkIGFzIGMsaWRUb05hbWUgYXMgYn1mcm9tXCIuLi8uLi9jb3JlL2FjY2Vzc29yU3VwcG9ydC9Qcm9wZXJ0eU9yaWdpbi5qc1wiO2ltcG9ydCBwIGZyb21cIi4uL3N1cHBvcnQvU3VibGF5ZXIuanNcIjtpbXBvcnR7aXNTdWJsYXllck92ZXJoYXVsIGFzIGR9ZnJvbVwiLi4vc3VwcG9ydC9zdWJsYXllclV0aWxzLmpzXCI7Y29uc3QgZj1vLmdldExvZ2dlcihcImVzcmkubGF5ZXJzLlRpbGVMYXllclwiKTtmdW5jdGlvbiBTKGUscil7Y29uc3Qgcz1bXSx0PXt9O3JldHVybiBlPyhlLmZvckVhY2goKGU9Pntjb25zdCBvPW5ldyBwO2lmKG8ucmVhZChlLHIpLHRbby5pZF09byxudWxsIT1lLnBhcmVudExheWVySWQmJi0xIT09ZS5wYXJlbnRMYXllcklkKXtjb25zdCByPXRbZS5wYXJlbnRMYXllcklkXTtyLnN1YmxheWVyc3x8KHIuc3VibGF5ZXJzPVtdKSxyLnN1YmxheWVycy51bnNoaWZ0KG8pfWVsc2Ugcy51bnNoaWZ0KG8pfSkpLHMpOnN9Y29uc3QgaD1yLm9mVHlwZShwKTtmdW5jdGlvbiBtKGUscil7ZSYmZS5mb3JFYWNoKChlPT57cihlKSxlLnN1YmxheWVycyYmZS5zdWJsYXllcnMubGVuZ3RoJiZtKGUuc3VibGF5ZXJzLHIpfSkpfWNvbnN0IEU9bz0+e2xldCBFPWNsYXNzIGV4dGVuZHMgb3tjb25zdHJ1Y3RvciguLi5lKXtzdXBlciguLi5lKSx0aGlzLmFsbFN1YmxheWVycz1uZXcgcyh7Z2V0Q29sbGVjdGlvbnM6KCk9Plt0aGlzLnN1YmxheWVyc10sZ2V0Q2hpbGRyZW5GdW5jdGlvbjplPT5lLnN1YmxheWVyc30pLHRoaXMuc3VibGF5ZXJzU291cmNlSlNPTj17W3UuU0VSVklDRV06e30sW3UuUE9SVEFMX0lURU1dOnt9LFt1LldFQl9TQ0VORV06e30sW3UuV0VCX01BUF06e319LHRoaXMuYWRkSGFuZGxlcyhhKCgoKT0+dGhpcy5zdWJsYXllcnMpLCgoZSxyKT0+dGhpcy5faGFuZGxlU3VibGF5ZXJzQ2hhbmdlKGUscikpLGwpKX1kZXN0cm95KCl7dGhpcy5hbGxTdWJsYXllcnMuZGVzdHJveSgpfXJlYWRTdWJsYXllcnMoZSxyKXtpZighcnx8IWUpcmV0dXJuO2NvbnN0e3N1YmxheWVyc1NvdXJjZUpTT046c309dGhpcyx0PWMoci5vcmlnaW4pO2lmKHQ8dS5TRVJWSUNFKXJldHVybjtpZihzW3RdPXtjb250ZXh0OnIsdmlzaWJsZUxheWVyczplLnZpc2libGVMYXllcnN8fHNbdF0udmlzaWJsZUxheWVycyxsYXllcnM6ZS5sYXllcnN8fHNbdF0ubGF5ZXJzfSx0PnUuU0VSVklDRSlyZXR1cm47dGhpcy5fc2V0KFwic2VydmljZVN1YmxheWVyc1wiLHRoaXMuY3JlYXRlU3VibGF5ZXJzRm9yT3JpZ2luKFwic2VydmljZVwiKS5zdWJsYXllcnMpO2NvbnN0e3N1YmxheWVyczpvLG9yaWdpbjphfT10aGlzLmNyZWF0ZVN1YmxheWVyc0Zvck9yaWdpbihcIndlYi1kb2N1bWVudFwiKSxsPW4odGhpcyk7bC5zZXREZWZhdWx0T3JpZ2luKGEpLHRoaXMuX3NldChcInN1YmxheWVyc1wiLG5ldyBoKG8pKSxsLnNldERlZmF1bHRPcmlnaW4oXCJ1c2VyXCIpfWZpbmRTdWJsYXllckJ5SWQoZSl7cmV0dXJuIHRoaXMuYWxsU3VibGF5ZXJzLmZpbmQoKHI9PnIuaWQ9PT1lKSl9Y3JlYXRlU2VydmljZVN1YmxheWVycygpe3JldHVybiB0aGlzLmNyZWF0ZVN1YmxheWVyc0Zvck9yaWdpbihcInNlcnZpY2VcIikuc3VibGF5ZXJzfWNyZWF0ZVN1YmxheWVyc0Zvck9yaWdpbihlKXtjb25zdCByPWMoXCJ3ZWItZG9jdW1lbnRcIj09PWU/XCJ3ZWItbWFwXCI6ZSk7bGV0IHM9dS5TRVJWSUNFLHQ9dGhpcy5zdWJsYXllcnNTb3VyY2VKU09OW3UuU0VSVklDRV0ubGF5ZXJzLG89dGhpcy5zdWJsYXllcnNTb3VyY2VKU09OW3UuU0VSVklDRV0uY29udGV4dCxhPW51bGw7Y29uc3QgbD1bdS5QT1JUQUxfSVRFTSx1LldFQl9TQ0VORSx1LldFQl9NQVBdLmZpbHRlcigoZT0+ZTw9cikpO2Zvcihjb25zdCB1IG9mIGwpe2NvbnN0IGU9dGhpcy5zdWJsYXllcnNTb3VyY2VKU09OW3VdO2QoZS5sYXllcnMpJiYocz11LHQ9ZS5sYXllcnMsbz1lLmNvbnRleHQsZS52aXNpYmxlTGF5ZXJzJiYoYT17dmlzaWJsZUxheWVyczplLnZpc2libGVMYXllcnMsY29udGV4dDplLmNvbnRleHR9KSl9Y29uc3QgaT1bdS5QT1JUQUxfSVRFTSx1LldFQl9TQ0VORSx1LldFQl9NQVBdLmZpbHRlcigoZT0+ZT5zJiZlPD1yKSk7bGV0IG49bnVsbDtmb3IoY29uc3QgdSBvZiBpKXtjb25zdHtsYXllcnM6ZSx2aXNpYmxlTGF5ZXJzOnIsY29udGV4dDpzfT10aGlzLnN1YmxheWVyc1NvdXJjZUpTT05bdV07ZSYmKG49e2xheWVyczplLGNvbnRleHQ6c30pLHImJihhPXt2aXNpYmxlTGF5ZXJzOnIsY29udGV4dDpzfSl9Y29uc3QgeT1TKHQsbykscD1uZXcgTWFwLGY9bmV3IFNldDtpZihuKWZvcihjb25zdCB1IG9mIG4ubGF5ZXJzKXAuc2V0KHUuaWQsdSk7aWYoYT8udmlzaWJsZUxheWVycylmb3IoY29uc3QgdSBvZiBhLnZpc2libGVMYXllcnMpZi5hZGQodSk7cmV0dXJuIG0oeSwoZT0+e24mJmUucmVhZChwLmdldChlLmlkKSxuLmNvbnRleHQpLGEmJmUucmVhZCh7ZGVmYXVsdFZpc2liaWxpdHk6Zi5oYXMoZS5pZCl9LGEuY29udGV4dCl9KSkse29yaWdpbjpiKHMpLHN1YmxheWVyczpuZXcgaCh7aXRlbXM6eX0pfX1yZWFkKGUscil7c3VwZXIucmVhZChlLHIpLHRoaXMucmVhZFN1YmxheWVycyhlLHIpfV9oYW5kbGVTdWJsYXllcnNDaGFuZ2UoZSxyKXtyJiYoci5mb3JFYWNoKChlPT57ZS5wYXJlbnQ9bnVsbCxlLmxheWVyPW51bGx9KSksdGhpcy5yZW1vdmVIYW5kbGVzKFwic3VibGF5ZXJzLW93bmVyXCIpKSxlJiYoZS5mb3JFYWNoKChlPT57ZS5wYXJlbnQ9dGhpcyxlLmxheWVyPXRoaXN9KSksdGhpcy5hZGRIYW5kbGVzKFtlLm9uKFwiYWZ0ZXItYWRkXCIsKCh7aXRlbTplfSk9PntlLnBhcmVudD10aGlzLGUubGF5ZXI9dGhpc30pKSxlLm9uKFwiYWZ0ZXItcmVtb3ZlXCIsKCh7aXRlbTplfSk9PntlLnBhcmVudD1udWxsLGUubGF5ZXI9bnVsbH0pKV0sXCJzdWJsYXllcnMtb3duZXJcIiksXCJ0aWxlXCI9PT10aGlzLnR5cGUmJnRoaXMuYWRkSGFuZGxlcyhlLm9uKFwiYmVmb3JlLWNoYW5nZXNcIiwoZT0+e2YuZXJyb3IobmV3IHQoXCJ0aWxlbGF5ZXI6c3VibGF5ZXJzLW5vbi1tb2RpZmlhYmxlXCIsXCJJU3VibGF5ZXIgY2FuJ3QgYmUgYWRkZWQsIG1vdmVkLCBvciByZW1vdmVkIGZyb20gdGhlIGxheWVyJ3Mgc3VibGF5ZXJzXCIse2xheWVyOnRoaXN9KSksZS5wcmV2ZW50RGVmYXVsdCgpfSkpLFwic3VibGF5ZXJzLW93bmVyXCIpKX19O3JldHVybiBlKFtpKHtyZWFkT25seTohMH0pXSxFLnByb3RvdHlwZSxcImFsbFN1YmxheWVyc1wiLHZvaWQgMCksZShbaSh7cmVhZE9ubHk6ITAsdHlwZTpyLm9mVHlwZShwKX0pXSxFLnByb3RvdHlwZSxcInNlcnZpY2VTdWJsYXllcnNcIix2b2lkIDApLGUoW2koe3ZhbHVlOm51bGwsdHlwZTpoLGpzb246e3JlYWQ6ITEsd3JpdGU6e2FsbG93TnVsbDohMCxpZ25vcmVPcmlnaW46ITB9fX0pXSxFLnByb3RvdHlwZSxcInN1YmxheWVyc1wiLHZvaWQgMCksZShbaSh7cmVhZE9ubHk6ITB9KV0sRS5wcm90b3R5cGUsXCJzdWJsYXllcnNTb3VyY2VKU09OXCIsdm9pZCAwKSxFPWUoW3koXCJlc3JpLmxheWVycy5taXhpbnMuU3VibGF5ZXJzT3duZXJcIildLEUpLEV9O2V4cG9ydHtFIGFzIFN1YmxheWVyc093bmVyLG0gYXMgZm9yRWFjaFN1YmxheWVyfTtcbiIsIi8qXG5BbGwgbWF0ZXJpYWwgY29weXJpZ2h0IEVTUkksIEFsbCBSaWdodHMgUmVzZXJ2ZWQsIHVubGVzcyBvdGhlcndpc2Ugc3BlY2lmaWVkLlxuU2VlIGh0dHBzOi8vanMuYXJjZ2lzLmNvbS80LjI3L2VzcmkvY29weXJpZ2h0LnR4dCBmb3IgZGV0YWlscy5cbiovXG5pbXBvcnR7XyBhcyBlfWZyb21cIi4uLy4uL2NodW5rcy90c2xpYi5lczYuanNcIjtpbXBvcnRcIi4uLy4uL2dlb21ldHJ5LmpzXCI7aW1wb3J0IHIgZnJvbVwiLi4vLi4vUG9wdXBUZW1wbGF0ZS5qc1wiO2ltcG9ydFwiLi4vLi4vcmVuZGVyZXJzL0NsYXNzQnJlYWtzUmVuZGVyZXIuanNcIjtpbXBvcnRcIi4uLy4uL3JlbmRlcmVycy9EaWN0aW9uYXJ5UmVuZGVyZXIuanNcIjtpbXBvcnRcIi4uLy4uL3JlbmRlcmVycy9Eb3REZW5zaXR5UmVuZGVyZXIuanNcIjtpbXBvcnRcIi4uLy4uL3JlbmRlcmVycy9IZWF0bWFwUmVuZGVyZXIuanNcIjtpbXBvcnRcIi4uLy4uL3JlbmRlcmVycy9QaWVDaGFydFJlbmRlcmVyLmpzXCI7aW1wb3J0XCIuLi8uLi9yZW5kZXJlcnMvUmVuZGVyZXIuanNcIjtpbXBvcnRcIi4uLy4uL3JlbmRlcmVycy9TaW1wbGVSZW5kZXJlci5qc1wiO2ltcG9ydFwiLi4vLi4vcmVuZGVyZXJzL1VuaXF1ZVZhbHVlUmVuZGVyZXIuanNcIjtpbXBvcnRcIi4uLy4uL3JlbmRlcmVycy9zdXBwb3J0L2pzb25VdGlscy5qc1wiO2ltcG9ydHtyZW5kZXJlclR5cGVzIGFzIHQsd2ViU2NlbmVSZW5kZXJlclR5cGVzIGFzIGl9ZnJvbVwiLi4vLi4vcmVuZGVyZXJzL3N1cHBvcnQvdHlwZXMuanNcIjtpbXBvcnQgbyBmcm9tXCIuLi8uLi9yZXF1ZXN0LmpzXCI7aW1wb3J0e2lzU3ltYm9sM0QgYXMgc31mcm9tXCIuLi8uLi9zeW1ib2xzLmpzXCI7aW1wb3J0IGEgZnJvbVwiLi4vLi4vY29yZS9Db2xsZWN0aW9uLmpzXCI7aW1wb3J0IGwgZnJvbVwiLi4vLi4vY29yZS9FcnJvci5qc1wiO2ltcG9ydHtIYW5kbGVPd25lck1peGluIGFzIG59ZnJvbVwiLi4vLi4vY29yZS9IYW5kbGVPd25lci5qc1wiO2ltcG9ydCBoYXMgZnJvbVwiLi4vLi4vY29yZS9oYXMuanNcIjtpbXBvcnR7SWRlbnRpZmlhYmxlTWl4aW4gYXMgcH1mcm9tXCIuLi8uLi9jb3JlL0lkZW50aWZpYWJsZS5qc1wiO2ltcG9ydHtjbG9uZSBhcyB5fWZyb21cIi4uLy4uL2NvcmUvbGFuZy5qc1wiO2ltcG9ydCBkIGZyb21cIi4uLy4uL2NvcmUvTG9hZGFibGUuanNcIjtpbXBvcnQgdSBmcm9tXCIuLi8uLi9jb3JlL0xvZ2dlci5qc1wiO2ltcG9ydHtNdWx0aU9yaWdpbkpTT05NaXhpbiBhcyBjfWZyb21cIi4uLy4uL2NvcmUvTXVsdGlPcmlnaW5KU09OU3VwcG9ydC5qc1wiO2ltcG9ydHtzcWxBbmQgYXMgZn1mcm9tXCIuLi8uLi9jb3JlL3NxbC5qc1wiO2ltcG9ydHtvYmplY3RUb1F1ZXJ5IGFzIG19ZnJvbVwiLi4vLi4vY29yZS91cmxVdGlscy5qc1wiO2ltcG9ydHtwcm9wZXJ0eSBhcyBofWZyb21cIi4uLy4uL2NvcmUvYWNjZXNzb3JTdXBwb3J0L2RlY29yYXRvcnMvcHJvcGVydHkuanNcIjtpbXBvcnR7Y2FzdCBhcyBifWZyb21cIi4uLy4uL2NvcmUvYWNjZXNzb3JTdXBwb3J0L2RlY29yYXRvcnMvY2FzdC5qc1wiO2ltcG9ydHtyZWFkZXIgYXMgZ31mcm9tXCIuLi8uLi9jb3JlL2FjY2Vzc29yU3VwcG9ydC9kZWNvcmF0b3JzL3JlYWRlci5qc1wiO2ltcG9ydHtzdWJjbGFzcyBhcyBTfWZyb21cIi4uLy4uL2NvcmUvYWNjZXNzb3JTdXBwb3J0L2RlY29yYXRvcnMvc3ViY2xhc3MuanNcIjtpbXBvcnR7d3JpdGVyIGFzIEl9ZnJvbVwiLi4vLi4vY29yZS9hY2Nlc3NvclN1cHBvcnQvZGVjb3JhdG9ycy93cml0ZXIuanNcIjtpbXBvcnR7ZW5zdXJlSW50ZWdlciBhcyB3LGVuc3VyZVR5cGUgYXMgdixJbnRlZ2VyIGFzIGosZW5zdXJlQ2xhc3MgYXMgRH1mcm9tXCIuLi8uLi9jb3JlL2FjY2Vzc29yU3VwcG9ydC9lbnN1cmVUeXBlLmpzXCI7aW1wb3J0e09yaWdpbklkIGFzIEwsbmFtZVRvSWQgYXMgRX1mcm9tXCIuLi8uLi9jb3JlL2FjY2Vzc29yU3VwcG9ydC9Qcm9wZXJ0eU9yaWdpbi5qc1wiO2ltcG9ydHtnZXRQcm9wZXJ0aWVzIGFzIEZ9ZnJvbVwiLi4vLi4vY29yZS9hY2Nlc3NvclN1cHBvcnQvdXRpbHMuanNcIjtpbXBvcnQgUCBmcm9tXCIuLi9ncmFwaGljcy9zb3VyY2VzL3N1cHBvcnQvUXVlcnlUYXNrLmpzXCI7aW1wb3J0IHggZnJvbVwiLi9GZWF0dXJlVHlwZS5qc1wiO2ltcG9ydCBPIGZyb21cIi4vRmllbGQuanNcIjtpbXBvcnQgVCBmcm9tXCIuL0ZpZWxkc0luZGV4LmpzXCI7aW1wb3J0IF8gZnJvbVwiLi9MYWJlbENsYXNzLmpzXCI7aW1wb3J0e3ZhbGlkYXRlTGFiZWxpbmdJbmZvIGFzIEF9ZnJvbVwiLi9sYWJlbGluZ0luZm8uanNcIjtpbXBvcnQgViBmcm9tXCIuL0xheWVyRmxvb3JJbmZvLmpzXCI7aW1wb3J0e2dldEZlYXR1cmVMYXllckNhcGFiaWxpdGllcyBhcyBOfWZyb21cIi4vc2VydmljZUNhcGFiaWxpdGllc1V0aWxzLmpzXCI7aW1wb3J0e0RhdGFMYXllclNvdXJjZSBhcyBNfWZyb21cIi4vc291cmNlL0RhdGFMYXllclNvdXJjZS5qc1wiO2ltcG9ydHtNYXBMYXllclNvdXJjZSBhcyBxfWZyb21cIi4vc291cmNlL01hcExheWVyU291cmNlLmpzXCI7aW1wb3J0IFUgZnJvbVwiLi4vLi4vcmVzdC9zdXBwb3J0L0F0dGFjaG1lbnRRdWVyeS5qc1wiO2ltcG9ydCBrIGZyb21cIi4uLy4uL3Jlc3Qvc3VwcG9ydC9RdWVyeS5qc1wiO2ltcG9ydHtjcmVhdGVQb3B1cFRlbXBsYXRlIGFzIEN9ZnJvbVwiLi4vLi4vc3VwcG9ydC9wb3B1cFV0aWxzLmpzXCI7aW1wb3J0IFIgZnJvbVwiLi4vLi4vZ2VvbWV0cnkvRXh0ZW50LmpzXCI7aW1wb3J0e2ZlYXR1cmVHZW9tZXRyeVR5cGVLZWJhYkRpY3Rpb25hcnkgYXMgUX1mcm9tXCIuLi8uLi9nZW9tZXRyeS9zdXBwb3J0L3R5cGVVdGlscy5qc1wiO3ZhciBCO2Z1bmN0aW9uIEooZSl7cmV0dXJuIG51bGwhPWUmJlwiZXNyaVNNU1wiPT09ZS50eXBlfWZ1bmN0aW9uICQoZSxyLHQpe2NvbnN0IGk9dGhpcy5vcmlnaW5JZE9mKHIpPj1FKHQub3JpZ2luKTtyZXR1cm57aWdub3JlT3JpZ2luOiEwLGFsbG93TnVsbDppLGVuYWJsZWQ6ISF0JiYoXCJtYXAtaW1hZ2VcIj09PXQubGF5ZXI/LnR5cGUmJih0LndyaXRlU3VibGF5ZXJTdHJ1Y3R1cmV8fGkpKX19ZnVuY3Rpb24gRyhlLHIsdCl7cmV0dXJue2VuYWJsZWQ6ISF0JiYoXCJ0aWxlXCI9PT10LmxheWVyPy50eXBlJiYodC5vcmlnaW4mJnRoaXMub3JpZ2luSWRPZihyKT49RSh0Lm9yaWdpbil8fHRoaXMuX2lzT3ZlcnJpZGRlbihyKSkpfX1mdW5jdGlvbiBIKGUscix0KXtyZXR1cm57aWdub3JlT3JpZ2luOiEwLGVuYWJsZWQ6dCYmdC53cml0ZVN1YmxheWVyU3RydWN0dXJlfHwhMX19ZnVuY3Rpb24geihlLHIsdCl7cmV0dXJue2lnbm9yZU9yaWdpbjohMCxlbmFibGVkOiEhdCYmKHQud3JpdGVTdWJsYXllclN0cnVjdHVyZXx8dGhpcy5vcmlnaW5JZE9mKHIpPj1FKHQub3JpZ2luKSl9fWxldCBLPTA7Y29uc3QgVz1uZXcgU2V0O1cuYWRkKFwibGF5ZXJcIiksVy5hZGQoXCJwYXJlbnRcIiksVy5hZGQoXCJsb2FkZWRcIiksVy5hZGQoXCJsb2FkU3RhdHVzXCIpLFcuYWRkKFwibG9hZEVycm9yXCIpLFcuYWRkKFwibG9hZFdhcm5pbmdzXCIpO2xldCBYPUI9Y2xhc3MgZXh0ZW5kcyhuKGMocChkKSkpKXtjb25zdHJ1Y3RvcihlKXtzdXBlcihlKSx0aGlzLmNhcGFiaWxpdGllcz12b2lkIDAsdGhpcy5maWVsZHM9bnVsbCx0aGlzLmZ1bGxFeHRlbnQ9bnVsbCx0aGlzLmdlb21ldHJ5VHlwZT1udWxsLHRoaXMuZ2xvYmFsSWRGaWVsZD1udWxsLHRoaXMubGVnZW5kRW5hYmxlZD0hMCx0aGlzLm9iamVjdElkRmllbGQ9bnVsbCx0aGlzLnBhcmVudD1udWxsLHRoaXMucG9wdXBFbmFibGVkPSEwLHRoaXMucG9wdXBUZW1wbGF0ZT1udWxsLHRoaXMuc291cmNlSlNPTj1udWxsLHRoaXMudGl0bGU9bnVsbCx0aGlzLnR5cGVJZEZpZWxkPW51bGwsdGhpcy50eXBlcz1udWxsLHRoaXMuX2xhc3RQYXJzZWRVcmw9bnVsbH1hc3luYyBsb2FkKGUpe3JldHVybiB0aGlzLmFkZFJlc29sdmluZ1Byb21pc2UoKGFzeW5jKCk9Pntjb25zdHtsYXllcjpyLHVybDp0fT10aGlzO2lmKCFyJiYhdCl0aHJvdyBuZXcgbChcInN1YmxheWVyOm1pc3NpbmctbGF5ZXJcIixcIlN1YmxheWVyIGNhbid0IGJlIGxvYWRlZCB3aXRob3V0IGJlaW5nIHBhcnQgb2YgYSBsYXllclwiLHtzdWJsYXllcjp0aGlzfSk7Y29uc3QgaT1yP2F3YWl0IHIuZmV0Y2hTdWJsYXllckluZm8odGhpcyxlKTooYXdhaXQgbyh0LHtyZXNwb25zZVR5cGU6XCJqc29uXCIscXVlcnk6e2Y6XCJqc29uXCJ9LC4uLmV9KSkuZGF0YTtpJiYodGhpcy5zb3VyY2VKU09OPWksdGhpcy5yZWFkKHtsYXllckRlZmluaXRpb246aX0se29yaWdpbjpcInNlcnZpY2VcIn0pKX0pKCkpLHRoaXN9cmVhZENhcGFiaWxpdGllcyhlLHIpe3I9ci5sYXllckRlZmluaXRpb258fHI7Y29uc3R7b3BlcmF0aW9uczp7c3VwcG9ydHNRdWVyeTp0LHN1cHBvcnRzUXVlcnlBdHRhY2htZW50czppfSxxdWVyeTp7c3VwcG9ydHNGb3JtYXRQQkY6b30sZGF0YTp7c3VwcG9ydHNBdHRhY2htZW50OnN9fT1OKHIsdGhpcy51cmwpO3JldHVybntleHBvcnRNYXA6e3N1cHBvcnRzTW9kaWZpY2F0aW9uOiEhci5jYW5Nb2RpZnlMYXllcn0sb3BlcmF0aW9uczp7c3VwcG9ydHNRdWVyeTp0LHN1cHBvcnRzUXVlcnlBdHRhY2htZW50czppfSxkYXRhOntzdXBwb3J0c0F0dGFjaG1lbnQ6c30scXVlcnk6e3N1cHBvcnRzRm9ybWF0UEJGOm99fX1nZXQgZGVmYXVsdFBvcHVwVGVtcGxhdGUoKXtyZXR1cm4gdGhpcy5jcmVhdGVQb3B1cFRlbXBsYXRlKCl9c2V0IGRlZmluaXRpb25FeHByZXNzaW9uKGUpe3RoaXMuX3NldEFuZE5vdGlmeUxheWVyKFwiZGVmaW5pdGlvbkV4cHJlc3Npb25cIixlKX1nZXQgZWZmZWN0aXZlU2NhbGVSYW5nZSgpe2NvbnN0e21pblNjYWxlOmUsbWF4U2NhbGU6cn09dGhpcztyZXR1cm57bWluU2NhbGU6ZSxtYXhTY2FsZTpyfX1nZXQgZmllbGRzSW5kZXgoKXtyZXR1cm4gbmV3IFQodGhpcy5maWVsZHN8fFtdKX1zZXQgZmxvb3JJbmZvKGUpe3RoaXMuX3NldEFuZE5vdGlmeUxheWVyKFwiZmxvb3JJbmZvXCIsZSl9cmVhZEdsb2JhbElkRmllbGRGcm9tU2VydmljZShlLHIpe2lmKChyPXIubGF5ZXJEZWZpbml0aW9ufHxyKS5nbG9iYWxJZEZpZWxkKXJldHVybiByLmdsb2JhbElkRmllbGQ7aWYoci5maWVsZHMpZm9yKGNvbnN0IHQgb2Ygci5maWVsZHMpaWYoXCJlc3JpRmllbGRUeXBlR2xvYmFsSURcIj09PXQudHlwZSlyZXR1cm4gdC5uYW1lfWdldCBpZCgpe2NvbnN0IGU9dGhpcy5fZ2V0KFwiaWRcIik7cmV0dXJuIGU/P0srK31zZXQgaWQoZSl7dGhpcy5fZ2V0KFwiaWRcIikhPT1lJiYoITEhPT10aGlzLmxheWVyPy5jYXBhYmlsaXRpZXM/LmV4cG9ydE1hcD8uc3VwcG9ydHNEeW5hbWljTGF5ZXJzP3RoaXMuX3NldChcImlkXCIsZSk6dGhpcy5fbG9nTG9ja2VkRXJyb3IoXCJpZFwiLFwiY2FwYWJpbGl0eSBub3QgYXZhaWxhYmxlICdsYXllci5jYXBhYmlsaXRpZXMuZXhwb3J0TWFwLnN1cHBvcnRzRHluYW1pY0xheWVycydcIikpfXNldCBsYWJlbGluZ0luZm8oZSl7dGhpcy5fc2V0QW5kTm90aWZ5TGF5ZXIoXCJsYWJlbGluZ0luZm9cIixlKX13cml0ZUxhYmVsaW5nSW5mbyhlLHIsdCxpKXtlJiZlLmxlbmd0aCYmKHIubGF5ZXJEZWZpbml0aW9uPXtkcmF3aW5nSW5mbzp7bGFiZWxpbmdJbmZvOmUubWFwKChlPT5lLndyaXRlKHt9LGkpKSl9fSl9c2V0IGxhYmVsc1Zpc2libGUoZSl7dGhpcy5fc2V0QW5kTm90aWZ5TGF5ZXIoXCJsYWJlbHNWaXNpYmxlXCIsZSl9c2V0IGxheWVyKGUpe3RoaXMuX3NldChcImxheWVyXCIsZSksdGhpcy5zdWJsYXllcnMmJnRoaXMuc3VibGF5ZXJzLmZvckVhY2goKHI9PnIubGF5ZXI9ZSkpfXNldCBsaXN0TW9kZShlKXt0aGlzLl9zZXQoXCJsaXN0TW9kZVwiLGUpfXNldCBtaW5TY2FsZShlKXt0aGlzLl9zZXRBbmROb3RpZnlMYXllcihcIm1pblNjYWxlXCIsZSl9cmVhZE1pblNjYWxlKGUscil7cmV0dXJuIHIubWluU2NhbGV8fHIubGF5ZXJEZWZpbml0aW9uJiZyLmxheWVyRGVmaW5pdGlvbi5taW5TY2FsZXx8MH1zZXQgbWF4U2NhbGUoZSl7dGhpcy5fc2V0QW5kTm90aWZ5TGF5ZXIoXCJtYXhTY2FsZVwiLGUpfXJlYWRNYXhTY2FsZShlLHIpe3JldHVybiByLm1heFNjYWxlfHxyLmxheWVyRGVmaW5pdGlvbiYmci5sYXllckRlZmluaXRpb24ubWF4U2NhbGV8fDB9cmVhZE9iamVjdElkRmllbGRGcm9tU2VydmljZShlLHIpe2lmKChyPXIubGF5ZXJEZWZpbml0aW9ufHxyKS5vYmplY3RJZEZpZWxkKXJldHVybiByLm9iamVjdElkRmllbGQ7aWYoci5maWVsZHMpZm9yKGNvbnN0IHQgb2Ygci5maWVsZHMpaWYoXCJlc3JpRmllbGRUeXBlT0lEXCI9PT10LnR5cGUpcmV0dXJuIHQubmFtZX1zZXQgb3BhY2l0eShlKXt0aGlzLl9zZXRBbmROb3RpZnlMYXllcihcIm9wYWNpdHlcIixlKX1yZWFkT3BhY2l0eShlLHIpe2NvbnN0IHQ9ci5sYXllckRlZmluaXRpb247cmV0dXJuIDEtLjAxKigobnVsbCE9dD8udHJhbnNwYXJlbmN5P3QudHJhbnNwYXJlbmN5OnQ/LmRyYXdpbmdJbmZvPy50cmFuc3BhcmVuY3kpPz8wKX13cml0ZU9wYWNpdHkoZSxyLHQsaSl7ci5sYXllckRlZmluaXRpb249e2RyYXdpbmdJbmZvOnt0cmFuc3BhcmVuY3k6MTAwLTEwMCplfX19d3JpdGVQYXJlbnQoZSxyKXt0aGlzLnBhcmVudCYmdGhpcy5wYXJlbnQhPT10aGlzLmxheWVyP3IucGFyZW50TGF5ZXJJZD13KHRoaXMucGFyZW50LmlkKTpyLnBhcmVudExheWVySWQ9LTF9Z2V0IHF1ZXJ5VGFzaygpe2lmKCF0aGlzLmxheWVyKXJldHVybiBudWxsO2NvbnN0e3NwYXRpYWxSZWZlcmVuY2U6ZX09dGhpcy5sYXllcixyPVwiZ2RiVmVyc2lvblwiaW4gdGhpcy5sYXllcj90aGlzLmxheWVyLmdkYlZlcnNpb246dm9pZCAwLHtjYXBhYmlsaXRpZXM6dCxmaWVsZHNJbmRleDppfT10aGlzLG89aGFzKFwiZmVhdHVyZWxheWVyLXBiZlwiKSYmdD8ucXVlcnkuc3VwcG9ydHNGb3JtYXRQQkYscz10Py5vcGVyYXRpb25zPy5zdXBwb3J0c1F1ZXJ5QXR0YWNobWVudHM/PyExO3JldHVybiBuZXcgUCh7dXJsOnRoaXMudXJsLHBiZlN1cHBvcnRlZDpvLGZpZWxkc0luZGV4OmksZ2RiVmVyc2lvbjpyLHNvdXJjZVNwYXRpYWxSZWZlcmVuY2U6ZSxxdWVyeUF0dGFjaG1lbnRzU3VwcG9ydGVkOnN9KX1zZXQgcmVuZGVyZXIoZSl7aWYoZSlmb3IoY29uc3QgciBvZiBlLmdldFN5bWJvbHMoKSlpZihzKHIpKXt1LmdldExvZ2dlcih0aGlzKS53YXJuKFwiU3VibGF5ZXIgcmVuZGVyZXIgc2hvdWxkIHVzZSAyRCBzeW1ib2xzXCIpO2JyZWFrfXRoaXMuX3NldEFuZE5vdGlmeUxheWVyKFwicmVuZGVyZXJcIixlKX1nZXQgc291cmNlKCl7cmV0dXJuIHRoaXMuX2dldChcInNvdXJjZVwiKXx8bmV3IHEoe21hcExheWVySWQ6dGhpcy5pZH0pfXNldCBzb3VyY2UoZSl7dGhpcy5fc2V0QW5kTm90aWZ5TGF5ZXIoXCJzb3VyY2VcIixlKX1zZXQgc3VibGF5ZXJzKGUpe3RoaXMuX2hhbmRsZVN1YmxheWVyc0NoYW5nZShlLHRoaXMuX2dldChcInN1YmxheWVyc1wiKSksdGhpcy5fc2V0KFwic3VibGF5ZXJzXCIsZSl9Y2FzdFN1YmxheWVycyhlKXtyZXR1cm4gdihhLm9mVHlwZShCKSxlKX13cml0ZVN1YmxheWVycyhlLHIsdCl7dGhpcy5zdWJsYXllcnM/Lmxlbmd0aCYmKHJbdF09dGhpcy5zdWJsYXllcnMubWFwKChlPT5lLmlkKSkudG9BcnJheSgpLnJldmVyc2UoKSl9cmVhZFR5cGVJZEZpZWxkKGUscil7bGV0IHQ9KHI9ci5sYXllckRlZmluaXRpb258fHIpLnR5cGVJZEZpZWxkO2lmKHQmJnIuZmllbGRzKXt0PXQudG9Mb3dlckNhc2UoKTtjb25zdCBlPXIuZmllbGRzLmZpbmQoKGU9PmUubmFtZS50b0xvd2VyQ2FzZSgpPT09dCkpO2UmJih0PWUubmFtZSl9cmV0dXJuIHR9Z2V0IHVybCgpe2NvbnN0IGU9dGhpcy5sYXllcj8ucGFyc2VkVXJsPz90aGlzLl9sYXN0UGFyc2VkVXJsLHI9dGhpcy5zb3VyY2U7aWYoIWUpcmV0dXJuIG51bGw7aWYodGhpcy5fbGFzdFBhcnNlZFVybD1lLFwibWFwLWxheWVyXCI9PT1yPy50eXBlKXJldHVybmAke2UucGF0aH0vJHtyLm1hcExheWVySWR9YDtjb25zdCB0PXtsYXllcjpKU09OLnN0cmluZ2lmeSh7c291cmNlOnRoaXMuc291cmNlfSl9O3JldHVybmAke2UucGF0aH0vZHluYW1pY0xheWVyPyR7bSh0KX1gfXNldCB1cmwoZSl7dGhpcy5fb3ZlcnJpZGVJZlNvbWUoXCJ1cmxcIixlKX1zZXQgdmlzaWJsZShlKXt0aGlzLl9zZXRBbmROb3RpZnlMYXllcihcInZpc2libGVcIixlKX13cml0ZVZpc2libGUoZSxyLHQsaSl7clt0XT10aGlzLmdldEF0T3JpZ2luKFwiZGVmYXVsdFZpc2liaWxpdHlcIixcInNlcnZpY2VcIil8fGV9Y2xvbmUoKXtjb25zdHtzdG9yZTplfT1GKHRoaXMpLHI9bmV3IEI7cmV0dXJuIEYocikuc3RvcmU9ZS5jbG9uZShXKSx0aGlzLmNvbW1pdFByb3BlcnR5KFwidXJsXCIpLHIuX2xhc3RQYXJzZWRVcmw9dGhpcy5fbGFzdFBhcnNlZFVybCxyfWNyZWF0ZVBvcHVwVGVtcGxhdGUoZSl7cmV0dXJuIEModGhpcyxlKX1jcmVhdGVRdWVyeSgpe3JldHVybiBuZXcgayh7cmV0dXJuR2VvbWV0cnk6ITAsd2hlcmU6dGhpcy5kZWZpbml0aW9uRXhwcmVzc2lvbnx8XCIxPTFcIn0pfWFzeW5jIGNyZWF0ZUZlYXR1cmVMYXllcigpe2lmKHRoaXMuaGFzT3duUHJvcGVydHkoXCJzdWJsYXllcnNcIikpcmV0dXJuIG51bGw7Y29uc3R7bGF5ZXI6ZX09dGhpcyxyPWU/LnBhcnNlZFVybCx0PW5ldygwLChhd2FpdCBpbXBvcnQoXCIuLi9GZWF0dXJlTGF5ZXIuanNcIikpLmRlZmF1bHQpKHt1cmw6cj8ucGF0aH0pO3JldHVybiByJiZ0aGlzLnNvdXJjZSYmKFwibWFwLWxheWVyXCI9PT10aGlzLnNvdXJjZS50eXBlP3QubGF5ZXJJZD10aGlzLnNvdXJjZS5tYXBMYXllcklkOnQuZHluYW1pY0RhdGFTb3VyY2U9dGhpcy5zb3VyY2UpLG51bGwhPWU/LnJlZnJlc2hJbnRlcnZhbCYmKHQucmVmcmVzaEludGVydmFsPWUucmVmcmVzaEludGVydmFsKSx0aGlzLmRlZmluaXRpb25FeHByZXNzaW9uJiYodC5kZWZpbml0aW9uRXhwcmVzc2lvbj10aGlzLmRlZmluaXRpb25FeHByZXNzaW9uKSx0aGlzLmZsb29ySW5mbyYmKHQuZmxvb3JJbmZvPXkodGhpcy5mbG9vckluZm8pKSx0aGlzLm9yaWdpbklkT2YoXCJsYWJlbGluZ0luZm9cIik+TC5TRVJWSUNFJiYodC5sYWJlbGluZ0luZm89eSh0aGlzLmxhYmVsaW5nSW5mbykpLHRoaXMub3JpZ2luSWRPZihcImxhYmVsc1Zpc2libGVcIik+TC5ERUZBVUxUUyYmKHQubGFiZWxzVmlzaWJsZT10aGlzLmxhYmVsc1Zpc2libGUpLHRoaXMub3JpZ2luSWRPZihcImxlZ2VuZEVuYWJsZWRcIik+TC5ERUZBVUxUUyYmKHQubGVnZW5kRW5hYmxlZD10aGlzLmxlZ2VuZEVuYWJsZWQpLHRoaXMub3JpZ2luSWRPZihcInZpc2libGVcIik+TC5ERUZBVUxUUyYmKHQudmlzaWJsZT10aGlzLnZpc2libGUpLHRoaXMub3JpZ2luSWRPZihcIm1pblNjYWxlXCIpPkwuREVGQVVMVFMmJih0Lm1pblNjYWxlPXRoaXMubWluU2NhbGUpLHRoaXMub3JpZ2luSWRPZihcIm1heFNjYWxlXCIpPkwuREVGQVVMVFMmJih0Lm1heFNjYWxlPXRoaXMubWF4U2NhbGUpLHRoaXMub3JpZ2luSWRPZihcIm9wYWNpdHlcIik+TC5ERUZBVUxUUyYmKHQub3BhY2l0eT10aGlzLm9wYWNpdHkpLHRoaXMub3JpZ2luSWRPZihcInBvcHVwVGVtcGxhdGVcIik+TC5ERUZBVUxUUyYmKHQucG9wdXBUZW1wbGF0ZT15KHRoaXMucG9wdXBUZW1wbGF0ZSkpLHRoaXMub3JpZ2luSWRPZihcInJlbmRlcmVyXCIpPkwuU0VSVklDRSYmKHQucmVuZGVyZXI9eSh0aGlzLnJlbmRlcmVyKSksXCJkYXRhLWxheWVyXCI9PT10aGlzLnNvdXJjZT8udHlwZSYmKHQuZHluYW1pY0RhdGFTb3VyY2U9dGhpcy5zb3VyY2UuY2xvbmUoKSksdGhpcy5vcmlnaW5JZE9mKFwidGl0bGVcIik+TC5ERUZBVUxUUyYmKHQudGl0bGU9dGhpcy50aXRsZSksXCJtYXAtaW1hZ2VcIj09PWU/LnR5cGUmJmUub3JpZ2luSWRPZihcImN1c3RvbVBhcmFtZXRlcnNcIik+TC5ERUZBVUxUUyYmKHQuY3VzdG9tUGFyYW1ldGVycz1lLmN1c3RvbVBhcmFtZXRlcnMpLFwidGlsZVwiPT09ZT8udHlwZSYmZS5vcmlnaW5JZE9mKFwiY3VzdG9tUGFyYW1ldGVyc1wiKT5MLkRFRkFVTFRTJiYodC5jdXN0b21QYXJhbWV0ZXJzPWUuY3VzdG9tUGFyYW1ldGVycyksdH1nZXRGaWVsZChlKXtyZXR1cm4gdGhpcy5maWVsZHNJbmRleC5nZXQoZSl9Z2V0RmVhdHVyZVR5cGUoZSl7Y29uc3R7dHlwZUlkRmllbGQ6cix0eXBlczp0fT10aGlzO2lmKCFyfHwhZSlyZXR1cm4gbnVsbDtjb25zdCBpPWUuYXR0cmlidXRlcz9lLmF0dHJpYnV0ZXNbcl06dm9pZCAwO2lmKG51bGw9PWkpcmV0dXJuIG51bGw7bGV0IG89bnVsbDtyZXR1cm4gdD8uc29tZSgoZT0+e2NvbnN0e2lkOnJ9PWU7cmV0dXJuIG51bGwhPXImJihyLnRvU3RyaW5nKCk9PT1pLnRvU3RyaW5nKCkmJihvPWUpLCEhbyl9KSksb31nZXRGaWVsZERvbWFpbihlLHIpe2NvbnN0IHQ9ciYmci5mZWF0dXJlLGk9dGhpcy5nZXRGZWF0dXJlVHlwZSh0KTtpZihpKXtjb25zdCByPWkuZG9tYWlucyYmaS5kb21haW5zW2VdO2lmKHImJlwiaW5oZXJpdGVkXCIhPT1yLnR5cGUpcmV0dXJuIHJ9cmV0dXJuIHRoaXMuX2dldExheWVyRG9tYWluKGUpfWFzeW5jIHF1ZXJ5QXR0YWNobWVudHMoZSxyKXthd2FpdCB0aGlzLmxvYWQoKSxlPVUuZnJvbShlKTtjb25zdCB0PXRoaXMuY2FwYWJpbGl0aWVzO2lmKCF0Py5kYXRhPy5zdXBwb3J0c0F0dGFjaG1lbnQpdGhyb3cgbmV3IGwoXCJxdWVyeUF0dGFjaG1lbnRzOm5vdC1zdXBwb3J0ZWRcIixcInRoaXMgbGF5ZXIgZG9lc24ndCBzdXBwb3J0IGF0dGFjaG1lbnRzXCIpO2NvbnN0e2F0dGFjaG1lbnRUeXBlczppLG9iamVjdElkczpvLGdsb2JhbElkczpzLG51bTphLHNpemU6bixzdGFydDpwLHdoZXJlOnl9PWU7aWYoIXQ/Lm9wZXJhdGlvbnM/LnN1cHBvcnRzUXVlcnlBdHRhY2htZW50cyl7aWYoaT8ubGVuZ3RoPjB8fHM/Lmxlbmd0aD4wfHxuPy5sZW5ndGg+MHx8YXx8cHx8eSl0aHJvdyBuZXcgbChcInF1ZXJ5QXR0YWNobWVudHM6b3B0aW9uLW5vdC1zdXBwb3J0ZWRcIixcIndoZW4gJ2NhcGFiaWxpdGllcy5vcGVyYXRpb25zLnN1cHBvcnRzUXVlcnlBdHRhY2htZW50cycgaXMgZmFsc2UsIG9ubHkgb2JqZWN0SWRzIGlzIHN1cHBvcnRlZFwiLGUpfWlmKCEobz8ubGVuZ3RofHxzPy5sZW5ndGh8fHkpKXRocm93IG5ldyBsKFwicXVlcnlBdHRhY2htZW50czppbnZhbGlkLXF1ZXJ5XCIsXCInb2JqZWN0SWRzJywgJ2dsb2JhbElkcycsIG9yICd3aGVyZScgYXJlIHJlcXVpcmVkIHRvIHBlcmZvcm0gYXR0YWNobWVudCBxdWVyeVwiLGUpO3JldHVybiB0aGlzLnF1ZXJ5VGFzay5leGVjdXRlQXR0YWNobWVudFF1ZXJ5KGUscil9YXN5bmMgcXVlcnlGZWF0dXJlcyhlPXRoaXMuY3JlYXRlUXVlcnkoKSxyKXtpZihhd2FpdCB0aGlzLmxvYWQoKSwhdGhpcy5jYXBhYmlsaXRpZXMub3BlcmF0aW9ucy5zdXBwb3J0c1F1ZXJ5KXRocm93IG5ldyBsKFwicXVlcnlGZWF0dXJlczpub3Qtc3VwcG9ydGVkXCIsXCJ0aGlzIGxheWVyIGRvZXNuJ3Qgc3VwcG9ydCBxdWVyaWVzLlwiKTtpZighdGhpcy51cmwpdGhyb3cgbmV3IGwoXCJxdWVyeUZlYXR1cmVzOm5vdC1zdXBwb3J0ZWRcIixcInRoaXMgbGF5ZXIgaGFzIG5vIHVybC5cIik7Y29uc3QgdD1hd2FpdCB0aGlzLnF1ZXJ5VGFzay5leGVjdXRlKGUsey4uLnIscXVlcnk6ey4uLnRoaXMubGF5ZXI/LmN1c3RvbVBhcmFtZXRlcnMsdG9rZW46dGhpcy5sYXllcj8uYXBpS2V5fX0pO2lmKHQ/LmZlYXR1cmVzKWZvcihjb25zdCBpIG9mIHQuZmVhdHVyZXMpaS5zb3VyY2VMYXllcj10aGlzO3JldHVybiB0fXRvRXhwb3J0SW1hZ2VKU09OKGUpe2NvbnN0IHI9e2lkOnRoaXMuaWQsc291cmNlOnRoaXMuc291cmNlPy50b0pTT04oKXx8e21hcExheWVySWQ6dGhpcy5pZCx0eXBlOlwibWFwTGF5ZXJcIn19LHQ9ZihlLHRoaXMuZGVmaW5pdGlvbkV4cHJlc3Npb24pO251bGwhPXQmJihyLmRlZmluaXRpb25FeHByZXNzaW9uPXQpO2NvbnN0IGk9W1wicmVuZGVyZXJcIixcImxhYmVsaW5nSW5mb1wiLFwib3BhY2l0eVwiLFwibGFiZWxzVmlzaWJsZVwiXS5yZWR1Y2UoKChlLHIpPT4oZVtyXT10aGlzLm9yaWdpbklkT2YociksZSkpLHt9KSxvPU9iamVjdC5rZXlzKGkpLnNvbWUoKGU9PmlbZV0+TC5TRVJWSUNFKSk7aWYobyl7Y29uc3QgZT1yLmRyYXdpbmdJbmZvPXt9O2lmKGkucmVuZGVyZXI+TC5TRVJWSUNFJiYoZS5yZW5kZXJlcj10aGlzLnJlbmRlcmVyP3RoaXMucmVuZGVyZXIudG9KU09OKCk6bnVsbCksaS5sYWJlbHNWaXNpYmxlPkwuU0VSVklDRSYmKGUuc2hvd0xhYmVscz10aGlzLmxhYmVsc1Zpc2libGUpLHRoaXMubGFiZWxzVmlzaWJsZSYmaS5sYWJlbGluZ0luZm8+TC5TRVJWSUNFKXshdGhpcy5sb2FkZWQmJnRoaXMubGFiZWxpbmdJbmZvLnNvbWUoKGU9PiFlLmxhYmVsUGxhY2VtZW50KSkmJnUuZ2V0TG9nZ2VyKHRoaXMpLndhcm5PbmNlKGBBIFN1YmxheWVyICh0aXRsZTogJHt0aGlzLnRpdGxlfSwgaWQ6ICR7dGhpcy5pZH0pIGhhcyBhbiB1bmRlZmluZWQgJ2xhYmVsUGxhY2VtZW50JyBhbmQgc28gbGFiZWxzIGNhbm5vdCBiZSBkaXNwbGF5ZWQuIEVpdGhlciBkZWZpbmUgYSB2YWxpZCAnbGFiZWxQbGFjZW1lbnQnIG9yIGNhbGwgU3VibGF5ZXIubG9hZCgpIHRvIHVzZSBhIGRlZmF1bHQgdmFsdWUgYmFzZWQgb24gZ2VvbWV0cnkgdHlwZS5gLHtzdWJsYXllcjp0aGlzfSk7bGV0IHI9dGhpcy5sYWJlbGluZ0luZm87bnVsbCE9dGhpcy5nZW9tZXRyeVR5cGUmJihyPUEodGhpcy5sYWJlbGluZ0luZm8sUS50b0pTT04odGhpcy5nZW9tZXRyeVR5cGUpKSksZS5sYWJlbGluZ0luZm89ci5maWx0ZXIoKGU9PmUubGFiZWxQbGFjZW1lbnQpKS5tYXAoKGU9PmUudG9KU09OKHtvcmlnaW46XCJzZXJ2aWNlXCIsbGF5ZXI6dGhpcy5sYXllcn0pKSksZS5zaG93TGFiZWxzPSEwfWkub3BhY2l0eT5MLlNFUlZJQ0UmJihlLnRyYW5zcGFyZW5jeT0xMDAtMTAwKnRoaXMub3BhY2l0eSksdGhpcy5fYXNzaWduRGVmYXVsdFN5bWJvbENvbG9ycyhlLnJlbmRlcmVyKX1yZXR1cm4gcn1fYXNzaWduRGVmYXVsdFN5bWJvbENvbG9ycyhlKXt0aGlzLl9mb3JFYWNoU2ltcGxlTWFya2VyU3ltYm9scyhlLChlPT57ZS5jb2xvcnx8XCJlc3JpU01TWFwiIT09ZS5zdHlsZSYmXCJlc3JpU01TQ3Jvc3NcIiE9PWUuc3R5bGV8fChlLm91dGxpbmUmJmUub3V0bGluZS5jb2xvcj9lLmNvbG9yPWUub3V0bGluZS5jb2xvcjplLmNvbG9yPVswLDAsMCwwXSl9KSl9X2ZvckVhY2hTaW1wbGVNYXJrZXJTeW1ib2xzKGUscil7aWYoZSl7Y29uc3QgdD0oXCJ1bmlxdWVWYWx1ZUluZm9zXCJpbiBlP2UudW5pcXVlVmFsdWVJbmZvczpcImNsYXNzQnJlYWtJbmZvc1wiaW4gZT9lLmNsYXNzQnJlYWtJbmZvczpudWxsKT8/W107Zm9yKGNvbnN0IGUgb2YgdClKKGUuc3ltYm9sKSYmcihlLnN5bWJvbCk7XCJzeW1ib2xcImluIGUmJkooZS5zeW1ib2wpJiZyKGUuc3ltYm9sKSxcImRlZmF1bHRTeW1ib2xcImluIGUmJkooZS5kZWZhdWx0U3ltYm9sKSYmcihlLmRlZmF1bHRTeW1ib2wpfX1fc2V0QW5kTm90aWZ5TGF5ZXIoZSxyKXtjb25zdCB0PXRoaXMubGF5ZXIsaT10aGlzLl9nZXQoZSk7bGV0IG8scztzd2l0Y2goZSl7Y2FzZVwiZGVmaW5pdGlvbkV4cHJlc3Npb25cIjpjYXNlXCJmbG9vckluZm9cIjpvPVwic3VwcG9ydHNTdWJsYXllckRlZmluaXRpb25FeHByZXNzaW9uXCI7YnJlYWs7Y2FzZVwibWluU2NhbGVcIjpjYXNlXCJtYXhTY2FsZVwiOmNhc2VcInZpc2libGVcIjpvPVwic3VwcG9ydHNTdWJsYXllclZpc2liaWxpdHlcIjticmVhaztjYXNlXCJsYWJlbGluZ0luZm9cIjpjYXNlXCJsYWJlbHNWaXNpYmxlXCI6Y2FzZVwib3BhY2l0eVwiOmNhc2VcInJlbmRlcmVyXCI6Y2FzZVwic291cmNlXCI6bz1cInN1cHBvcnRzRHluYW1pY0xheWVyc1wiLHM9XCJzdXBwb3J0c01vZGlmaWNhdGlvblwifWNvbnN0IGE9Rih0aGlzKS5nZXREZWZhdWx0T3JpZ2luKCk7aWYoXCJzZXJ2aWNlXCIhPT1hKXtpZihvJiYhMT09PXRoaXMubGF5ZXI/LmNhcGFiaWxpdGllcz8uZXhwb3J0TWFwPy5bb10pcmV0dXJuIHZvaWQgdGhpcy5fbG9nTG9ja2VkRXJyb3IoZSxgY2FwYWJpbGl0eSBub3QgYXZhaWxhYmxlICdsYXllci5jYXBhYmlsaXRpZXMuZXhwb3J0TWFwLiR7b30nYCk7aWYocyYmITE9PT10aGlzLmNhcGFiaWxpdGllcz8uZXhwb3J0TWFwW3NdKXJldHVybiB2b2lkIHRoaXMuX2xvZ0xvY2tlZEVycm9yKGUsYGNhcGFiaWxpdHkgbm90IGF2YWlsYWJsZSAnY2FwYWJpbGl0aWVzLmV4cG9ydE1hcC4ke3N9J2ApfVwic291cmNlXCIhPT1lfHxcIm5vdC1sb2FkZWRcIj09PXRoaXMubG9hZFN0YXR1cz8odGhpcy5fc2V0KGUsciksXCJzZXJ2aWNlXCIhPT1hJiZpIT09ciYmdCYmdC5lbWl0JiZ0LmVtaXQoXCJzdWJsYXllci11cGRhdGVcIix7cHJvcGVydHlOYW1lOmUsdGFyZ2V0OnRoaXN9KSk6dGhpcy5fbG9nTG9ja2VkRXJyb3IoZSxcIidzb3VyY2UnIGNhbid0IGJlIGNoYW5nZWQgYWZ0ZXIgY2FsbGluZyBzdWJsYXllci5sb2FkKClcIil9X2hhbmRsZVN1YmxheWVyc0NoYW5nZShlLHIpe3ImJihyLmZvckVhY2goKGU9PntlLnBhcmVudD1udWxsLGUubGF5ZXI9bnVsbH0pKSx0aGlzLmhhbmRsZXMucmVtb3ZlQWxsKCkpLGUmJihlLmZvckVhY2goKGU9PntlLnBhcmVudD10aGlzLGUubGF5ZXI9dGhpcy5sYXllcn0pKSx0aGlzLmhhbmRsZXMuYWRkKFtlLm9uKFwiYWZ0ZXItYWRkXCIsKCh7aXRlbTplfSk9PntlLnBhcmVudD10aGlzLGUubGF5ZXI9dGhpcy5sYXllcn0pKSxlLm9uKFwiYWZ0ZXItcmVtb3ZlXCIsKCh7aXRlbTplfSk9PntlLnBhcmVudD1udWxsLGUubGF5ZXI9bnVsbH0pKSxlLm9uKFwiYmVmb3JlLWNoYW5nZXNcIiwoZT0+e2NvbnN0IHI9dGhpcy5sYXllcj8uY2FwYWJpbGl0aWVzPy5leHBvcnRNYXA/LnN1cHBvcnRzU3VibGF5ZXJzQ2hhbmdlcztudWxsPT1yfHxyfHwodS5nZXRMb2dnZXIodGhpcykuZXJyb3IobmV3IGwoXCJzdWJsYXllcjpzdWJsYXllcnMtbm9uLW1vZGlmaWFibGVcIixcIlN1YmxheWVyIGNhbid0IGJlIGFkZGVkLCBtb3ZlZCwgb3IgcmVtb3ZlZCBmcm9tIHRoZSBsYXllcidzIHN1YmxheWVyc1wiLHtzdWJsYXllcjp0aGlzLGxheWVyOnRoaXMubGF5ZXJ9KSksZS5wcmV2ZW50RGVmYXVsdCgpKX0pKV0pKX1fbG9nTG9ja2VkRXJyb3IoZSxyKXtjb25zdHtsYXllcjp0LGRlY2xhcmVkQ2xhc3M6aX09dGhpczt1LmdldExvZ2dlcihpKS5lcnJvcihuZXcgbChcInN1YmxheWVyOmxvY2tlZFwiLGBQcm9wZXJ0eSAnJHtTdHJpbmcoZSl9JyBjYW4ndCBiZSBjaGFuZ2VkIG9uIFN1YmxheWVyIGZyb20gdGhlIGxheWVyICcke3Q/LmlkfSdgLHtyZWFzb246cixzdWJsYXllcjp0aGlzLGxheWVyOnR9KSl9X2dldExheWVyRG9tYWluKGUpe2NvbnN0IHI9dGhpcy5maWVsZHNJbmRleC5nZXQoZSk7cmV0dXJuIHI/ci5kb21haW46bnVsbH19O1gudGVzdD17aXNNYXBJbWFnZUxheWVyT3ZlcnJpZGVQb2xpY3k6ZT0+ZT09PUh8fGU9PT0kLGlzVGlsZUltYWdlTGF5ZXJPdmVycmlkZVBvbGljeTplPT5lPT09R30sZShbaCh7cmVhZE9ubHk6ITB9KV0sWC5wcm90b3R5cGUsXCJjYXBhYmlsaXRpZXNcIix2b2lkIDApLGUoW2coXCJzZXJ2aWNlXCIsXCJjYXBhYmlsaXRpZXNcIixbXCJsYXllckRlZmluaXRpb24uY2FuTW9kaWZ5TGF5ZXJcIixcImxheWVyRGVmaW5pdGlvbi5jYXBhYmlsaXRpZXNcIl0pXSxYLnByb3RvdHlwZSxcInJlYWRDYXBhYmlsaXRpZXNcIixudWxsKSxlKFtoKCldLFgucHJvdG90eXBlLFwiZGVmYXVsdFBvcHVwVGVtcGxhdGVcIixudWxsKSxlKFtoKHt0eXBlOlN0cmluZyx2YWx1ZTpudWxsLGpzb246e25hbWU6XCJsYXllckRlZmluaXRpb24uZGVmaW5pdGlvbkV4cHJlc3Npb25cIix3cml0ZTp7YWxsb3dOdWxsOiEwLG92ZXJyaWRlUG9saWN5OiR9fX0pXSxYLnByb3RvdHlwZSxcImRlZmluaXRpb25FeHByZXNzaW9uXCIsbnVsbCksZShbaCh7cmVhZE9ubHk6ITB9KV0sWC5wcm90b3R5cGUsXCJlZmZlY3RpdmVTY2FsZVJhbmdlXCIsbnVsbCksZShbaCh7dHlwZTpbT10sanNvbjp7b3JpZ2luczp7c2VydmljZTp7cmVhZDp7c291cmNlOlwibGF5ZXJEZWZpbml0aW9uLmZpZWxkc1wifX19fX0pXSxYLnByb3RvdHlwZSxcImZpZWxkc1wiLHZvaWQgMCksZShbaCh7cmVhZE9ubHk6ITB9KV0sWC5wcm90b3R5cGUsXCJmaWVsZHNJbmRleFwiLG51bGwpLGUoW2goe3R5cGU6Vix2YWx1ZTpudWxsLGpzb246e25hbWU6XCJsYXllckRlZmluaXRpb24uZmxvb3JJbmZvXCIscmVhZDp7c291cmNlOlwibGF5ZXJEZWZpbml0aW9uLmZsb29ySW5mb1wifSx3cml0ZTp7dGFyZ2V0OlwibGF5ZXJEZWZpbml0aW9uLmZsb29ySW5mb1wiLG92ZXJyaWRlUG9saWN5OiR9LG9yaWdpbnM6e1wid2ViLXNjZW5lXCI6e3JlYWQ6ITEsd3JpdGU6ITF9fX19KV0sWC5wcm90b3R5cGUsXCJmbG9vckluZm9cIixudWxsKSxlKFtoKHt0eXBlOlIsanNvbjp7cmVhZDp7c291cmNlOlwibGF5ZXJEZWZpbml0aW9uLmV4dGVudFwifX19KV0sWC5wcm90b3R5cGUsXCJmdWxsRXh0ZW50XCIsdm9pZCAwKSxlKFtoKHt0eXBlOlEuYXBpVmFsdWVzLGpzb246e29yaWdpbnM6e3NlcnZpY2U6e25hbWU6XCJsYXllckRlZmluaXRpb24uZ2VvbWV0cnlUeXBlXCIscmVhZDp7cmVhZGVyOlEucmVhZH19fX19KV0sWC5wcm90b3R5cGUsXCJnZW9tZXRyeVR5cGVcIix2b2lkIDApLGUoW2goe3R5cGU6U3RyaW5nfSldLFgucHJvdG90eXBlLFwiZ2xvYmFsSWRGaWVsZFwiLHZvaWQgMCksZShbZyhcInNlcnZpY2VcIixcImdsb2JhbElkRmllbGRcIixbXCJsYXllckRlZmluaXRpb24uZ2xvYmFsSWRGaWVsZFwiLFwibGF5ZXJEZWZpbml0aW9uLmZpZWxkc1wiXSldLFgucHJvdG90eXBlLFwicmVhZEdsb2JhbElkRmllbGRGcm9tU2VydmljZVwiLG51bGwpLGUoW2goe3R5cGU6aixqc29uOnt3cml0ZTp7aWdub3JlT3JpZ2luOiEwfX19KV0sWC5wcm90b3R5cGUsXCJpZFwiLG51bGwpLGUoW2goe3ZhbHVlOm51bGwsdHlwZTpbX10sanNvbjp7cmVhZDp7c291cmNlOlwibGF5ZXJEZWZpbml0aW9uLmRyYXdpbmdJbmZvLmxhYmVsaW5nSW5mb1wifSx3cml0ZTp7dGFyZ2V0OlwibGF5ZXJEZWZpbml0aW9uLmRyYXdpbmdJbmZvLmxhYmVsaW5nSW5mb1wiLG92ZXJyaWRlUG9saWN5Okh9fX0pXSxYLnByb3RvdHlwZSxcImxhYmVsaW5nSW5mb1wiLG51bGwpLGUoW0koXCJsYWJlbGluZ0luZm9cIildLFgucHJvdG90eXBlLFwid3JpdGVMYWJlbGluZ0luZm9cIixudWxsKSxlKFtoKHt0eXBlOkJvb2xlYW4sdmFsdWU6ITAsanNvbjp7cmVhZDp7c291cmNlOlwibGF5ZXJEZWZpbml0aW9uLmRyYXdpbmdJbmZvLnNob3dMYWJlbHNcIn0sd3JpdGU6e3RhcmdldDpcImxheWVyRGVmaW5pdGlvbi5kcmF3aW5nSW5mby5zaG93TGFiZWxzXCIsb3ZlcnJpZGVQb2xpY3k6SH19fSldLFgucHJvdG90eXBlLFwibGFiZWxzVmlzaWJsZVwiLG51bGwpLGUoW2goe3ZhbHVlOm51bGx9KV0sWC5wcm90b3R5cGUsXCJsYXllclwiLG51bGwpLGUoW2goe3R5cGU6U3RyaW5nLGpzb246e3dyaXRlOntvdmVycmlkZVBvbGljeTpHfX19KV0sWC5wcm90b3R5cGUsXCJsYXllckl0ZW1JZFwiLHZvaWQgMCksZShbaCh7dHlwZTpCb29sZWFuLHZhbHVlOiEwLGpzb246e29yaWdpbnM6e3NlcnZpY2U6e3JlYWQ6e2VuYWJsZWQ6ITF9fX0scmVhZDp7c291cmNlOlwic2hvd0xlZ2VuZFwifSx3cml0ZTp7dGFyZ2V0Olwic2hvd0xlZ2VuZFwiLG92ZXJyaWRlUG9saWN5Onp9fX0pXSxYLnByb3RvdHlwZSxcImxlZ2VuZEVuYWJsZWRcIix2b2lkIDApLGUoW2goe3R5cGU6W1wic2hvd1wiLFwiaGlkZVwiLFwiaGlkZS1jaGlsZHJlblwiXSx2YWx1ZTpcInNob3dcIixqc29uOntyZWFkOiExLHdyaXRlOiExLG9yaWdpbnM6e1wid2ViLXNjZW5lXCI6e3JlYWQ6ITAsd3JpdGU6ITB9fX19KV0sWC5wcm90b3R5cGUsXCJsaXN0TW9kZVwiLG51bGwpLGUoW2goe3R5cGU6TnVtYmVyLHZhbHVlOjAsanNvbjp7d3JpdGU6e292ZXJyaWRlUG9saWN5Okh9fX0pXSxYLnByb3RvdHlwZSxcIm1pblNjYWxlXCIsbnVsbCksZShbZyhcIm1pblNjYWxlXCIsW1wibWluU2NhbGVcIixcImxheWVyRGVmaW5pdGlvbi5taW5TY2FsZVwiXSldLFgucHJvdG90eXBlLFwicmVhZE1pblNjYWxlXCIsbnVsbCksZShbaCh7dHlwZTpOdW1iZXIsdmFsdWU6MCxqc29uOnt3cml0ZTp7b3ZlcnJpZGVQb2xpY3k6SH19fSldLFgucHJvdG90eXBlLFwibWF4U2NhbGVcIixudWxsKSxlKFtnKFwibWF4U2NhbGVcIixbXCJtYXhTY2FsZVwiLFwibGF5ZXJEZWZpbml0aW9uLm1heFNjYWxlXCJdKV0sWC5wcm90b3R5cGUsXCJyZWFkTWF4U2NhbGVcIixudWxsKSxlKFtoKHt0eXBlOlN0cmluZ30pXSxYLnByb3RvdHlwZSxcIm9iamVjdElkRmllbGRcIix2b2lkIDApLGUoW2coXCJzZXJ2aWNlXCIsXCJvYmplY3RJZEZpZWxkXCIsW1wibGF5ZXJEZWZpbml0aW9uLm9iamVjdElkRmllbGRcIixcImxheWVyRGVmaW5pdGlvbi5maWVsZHNcIl0pXSxYLnByb3RvdHlwZSxcInJlYWRPYmplY3RJZEZpZWxkRnJvbVNlcnZpY2VcIixudWxsKSxlKFtoKHt0eXBlOk51bWJlcix2YWx1ZToxLGpzb246e3dyaXRlOnt0YXJnZXQ6XCJsYXllckRlZmluaXRpb24uZHJhd2luZ0luZm8udHJhbnNwYXJlbmN5XCIsb3ZlcnJpZGVQb2xpY3k6SH19fSldLFgucHJvdG90eXBlLFwib3BhY2l0eVwiLG51bGwpLGUoW2coXCJvcGFjaXR5XCIsW1wibGF5ZXJEZWZpbml0aW9uLmRyYXdpbmdJbmZvLnRyYW5zcGFyZW5jeVwiLFwibGF5ZXJEZWZpbml0aW9uLnRyYW5zcGFyZW5jeVwiXSldLFgucHJvdG90eXBlLFwicmVhZE9wYWNpdHlcIixudWxsKSxlKFtJKFwib3BhY2l0eVwiKV0sWC5wcm90b3R5cGUsXCJ3cml0ZU9wYWNpdHlcIixudWxsKSxlKFtoKHtqc29uOnt0eXBlOmosd3JpdGU6e3RhcmdldDpcInBhcmVudExheWVySWRcIix3cml0ZXJFbnN1cmVzTm9uTnVsbDohMCxvdmVycmlkZVBvbGljeTpIfX19KV0sWC5wcm90b3R5cGUsXCJwYXJlbnRcIix2b2lkIDApLGUoW0koXCJwYXJlbnRcIildLFgucHJvdG90eXBlLFwid3JpdGVQYXJlbnRcIixudWxsKSxlKFtoKHt0eXBlOkJvb2xlYW4sdmFsdWU6ITAsanNvbjp7cmVhZDp7c291cmNlOlwiZGlzYWJsZVBvcHVwXCIscmVhZGVyOihlLHIpPT4hci5kaXNhYmxlUG9wdXB9LHdyaXRlOnt0YXJnZXQ6XCJkaXNhYmxlUG9wdXBcIixvdmVycmlkZVBvbGljeTp6LHdyaXRlcihlLHIsdCl7clt0XT0hZX19fX0pXSxYLnByb3RvdHlwZSxcInBvcHVwRW5hYmxlZFwiLHZvaWQgMCksZShbaCh7dHlwZTpyLGpzb246e3JlYWQ6e3NvdXJjZTpcInBvcHVwSW5mb1wifSx3cml0ZTp7dGFyZ2V0OlwicG9wdXBJbmZvXCIsb3ZlcnJpZGVQb2xpY3k6en19fSldLFgucHJvdG90eXBlLFwicG9wdXBUZW1wbGF0ZVwiLHZvaWQgMCksZShbaCh7cmVhZE9ubHk6ITB9KV0sWC5wcm90b3R5cGUsXCJxdWVyeVRhc2tcIixudWxsKSxlKFtoKHt0eXBlczp0LHZhbHVlOm51bGwsanNvbjp7bmFtZTpcImxheWVyRGVmaW5pdGlvbi5kcmF3aW5nSW5mby5yZW5kZXJlclwiLHdyaXRlOntvdmVycmlkZVBvbGljeTpIfSxvcmlnaW5zOntcIndlYi1zY2VuZVwiOnt0eXBlczppLG5hbWU6XCJsYXllckRlZmluaXRpb24uZHJhd2luZ0luZm8ucmVuZGVyZXJcIix3cml0ZTp7b3ZlcnJpZGVQb2xpY3k6SH19fX19KV0sWC5wcm90b3R5cGUsXCJyZW5kZXJlclwiLG51bGwpLGUoW2goe3R5cGVzOntrZXk6XCJ0eXBlXCIsYmFzZTpudWxsLHR5cGVNYXA6e1wiZGF0YS1sYXllclwiOk0sXCJtYXAtbGF5ZXJcIjpxfX0sY2FzdChlKXtpZihlKXtpZihcIm1hcExheWVySWRcImluIGUpcmV0dXJuIEQocSxlKTtpZihcImRhdGFTb3VyY2VcImluIGUpcmV0dXJuIEQoTSxlKX1yZXR1cm4gZX0sanNvbjp7bmFtZTpcImxheWVyRGVmaW5pdGlvbi5zb3VyY2VcIix3cml0ZTp7b3ZlcnJpZGVQb2xpY3k6SH19fSldLFgucHJvdG90eXBlLFwic291cmNlXCIsbnVsbCksZShbaCgpXSxYLnByb3RvdHlwZSxcInNvdXJjZUpTT05cIix2b2lkIDApLGUoW2goe3ZhbHVlOm51bGwsanNvbjp7dHlwZTpbal0sd3JpdGU6e3RhcmdldDpcInN1YkxheWVySWRzXCIsYWxsb3dOdWxsOiEwLG92ZXJyaWRlUG9saWN5Okh9fX0pXSxYLnByb3RvdHlwZSxcInN1YmxheWVyc1wiLG51bGwpLGUoW2IoXCJzdWJsYXllcnNcIildLFgucHJvdG90eXBlLFwiY2FzdFN1YmxheWVyc1wiLG51bGwpLGUoW0koXCJzdWJsYXllcnNcIildLFgucHJvdG90eXBlLFwid3JpdGVTdWJsYXllcnNcIixudWxsKSxlKFtoKHt0eXBlOlN0cmluZyxqc29uOntuYW1lOlwibmFtZVwiLHdyaXRlOntvdmVycmlkZVBvbGljeTp6fX19KV0sWC5wcm90b3R5cGUsXCJ0aXRsZVwiLHZvaWQgMCksZShbaCh7dHlwZTpTdHJpbmd9KV0sWC5wcm90b3R5cGUsXCJ0eXBlSWRGaWVsZFwiLHZvaWQgMCksZShbZyhcInR5cGVJZEZpZWxkXCIsW1wibGF5ZXJEZWZpbml0aW9uLnR5cGVJZEZpZWxkXCJdKV0sWC5wcm90b3R5cGUsXCJyZWFkVHlwZUlkRmllbGRcIixudWxsKSxlKFtoKHt0eXBlOlt4XSxqc29uOntvcmlnaW5zOntzZXJ2aWNlOntyZWFkOntzb3VyY2U6XCJsYXllckRlZmluaXRpb24udHlwZXNcIn19fX19KV0sWC5wcm90b3R5cGUsXCJ0eXBlc1wiLHZvaWQgMCksZShbaCh7dHlwZTpTdHJpbmcsanNvbjp7bmFtZTpcImxheWVyVXJsXCIsd3JpdGU6e292ZXJyaWRlUG9saWN5Okd9fX0pXSxYLnByb3RvdHlwZSxcInVybFwiLG51bGwpLGUoW2goe3R5cGU6Qm9vbGVhbix2YWx1ZTohMCxqc29uOntyZWFkOntzb3VyY2U6XCJkZWZhdWx0VmlzaWJpbGl0eVwifSx3cml0ZTp7dGFyZ2V0OlwiZGVmYXVsdFZpc2liaWxpdHlcIixvdmVycmlkZVBvbGljeTpIfX19KV0sWC5wcm90b3R5cGUsXCJ2aXNpYmxlXCIsbnVsbCksZShbSShcInZpc2libGVcIildLFgucHJvdG90eXBlLFwid3JpdGVWaXNpYmxlXCIsbnVsbCksWD1CPWUoW1MoXCJlc3JpLmxheWVycy5zdXBwb3J0LlN1YmxheWVyXCIpXSxYKTtjb25zdCBZPVg7ZXhwb3J0e1kgYXMgZGVmYXVsdH07XG4iLCIvKlxuQWxsIG1hdGVyaWFsIGNvcHlyaWdodCBFU1JJLCBBbGwgUmlnaHRzIFJlc2VydmVkLCB1bmxlc3Mgb3RoZXJ3aXNlIHNwZWNpZmllZC5cblNlZSBodHRwczovL2pzLmFyY2dpcy5jb20vNC4yNy9lc3JpL2NvcHlyaWdodC50eHQgZm9yIGRldGFpbHMuXG4qL1xuaW1wb3J0IHIgZnJvbVwiLi4vLi4vY29yZS9FcnJvci5qc1wiO2ltcG9ydHt0aHJvd0lmQWJvcnRlZCBhcyBlfWZyb21cIi4uLy4uL2NvcmUvcHJvbWlzZVV0aWxzLmpzXCI7YXN5bmMgZnVuY3Rpb24gdCh0LG8sYSl7bGV0IGM7dHJ5e2M9YXdhaXQgY3JlYXRlSW1hZ2VCaXRtYXAodCl9Y2F0Y2gobCl7dGhyb3cgbmV3IHIoXCJyZXF1ZXN0OnNlcnZlclwiLGBVbmFibGUgdG8gbG9hZCAke299YCx7dXJsOm8sZXJyb3I6bH0pfXJldHVybiBlKGEpLGN9YXN5bmMgZnVuY3Rpb24gbyh0LG8sYSxjLGwpe2xldCBuO3RyeXtuPWF3YWl0IGNyZWF0ZUltYWdlQml0bWFwKHQpfWNhdGNoKGkpe3Rocm93IG5ldyByKFwicmVxdWVzdDpzZXJ2ZXJcIixgVW5hYmxlIHRvIGxvYWQgdGlsZSAke299LyR7YX0vJHtjfWAse2Vycm9yOmksbGV2ZWw6byxyb3c6YSxjb2w6Y30pfXJldHVybiBlKGwpLG59ZXhwb3J0e3QgYXMgY3JlYXRlQml0bWFwLG8gYXMgY3JlYXRlVGlsZUJpdG1hcH07XG4iLCIvKlxuQWxsIG1hdGVyaWFsIGNvcHlyaWdodCBFU1JJLCBBbGwgUmlnaHRzIFJlc2VydmVkLCB1bmxlc3Mgb3RoZXJ3aXNlIHNwZWNpZmllZC5cblNlZSBodHRwczovL2pzLmFyY2dpcy5jb20vNC4yNy9lc3JpL2NvcHlyaWdodC50eHQgZm9yIGRldGFpbHMuXG4qL1xuaW1wb3J0e09yaWdpbklkIGFzIHJ9ZnJvbVwiLi4vLi4vY29yZS9hY2Nlc3NvclN1cHBvcnQvUHJvcGVydHlPcmlnaW4uanNcIjtmdW5jdGlvbiBlKHIsZSxuKXtjb25zdCBvPWUuZmxhdHRlbigoKHtzdWJsYXllcnM6cn0pPT5yKSkubGVuZ3RoO2lmKG8hPT1yLmxlbmd0aClyZXR1cm4hMDtyZXR1cm4hIXIuc29tZSgocj0+ci5vcmlnaW5JZE9mKFwibWluU2NhbGVcIik+bnx8ci5vcmlnaW5JZE9mKFwibWF4U2NhbGVcIik+bnx8ci5vcmlnaW5JZE9mKFwicmVuZGVyZXJcIik+bnx8ci5vcmlnaW5JZE9mKFwibGFiZWxpbmdJbmZvXCIpPm58fHIub3JpZ2luSWRPZihcIm9wYWNpdHlcIik+bnx8ci5vcmlnaW5JZE9mKFwibGFiZWxzVmlzaWJsZVwiKT5ufHxyLm9yaWdpbklkT2YoXCJzb3VyY2VcIik+bikpfHwhaShyLGUpfWZ1bmN0aW9uIG4oZSxuLG8pe3JldHVybiEhZS5zb21lKChlPT57Y29uc3Qgbj1lLnNvdXJjZTtyZXR1cm4hKCFufHxcIm1hcC1sYXllclwiPT09bi50eXBlJiZuLm1hcExheWVySWQ9PT1lLmlkJiYobnVsbD09bi5nZGJWZXJzaW9ufHxuLmdkYlZlcnNpb249PT1vKSl8fGUub3JpZ2luSWRPZihcInJlbmRlcmVyXCIpPnIuU0VSVklDRXx8ZS5vcmlnaW5JZE9mKFwibGFiZWxpbmdJbmZvXCIpPnIuU0VSVklDRXx8ZS5vcmlnaW5JZE9mKFwib3BhY2l0eVwiKT5yLlNFUlZJQ0V8fGUub3JpZ2luSWRPZihcImxhYmVsc1Zpc2libGVcIik+ci5TRVJWSUNFfSkpfHwhaShlLG4pfWZ1bmN0aW9uIGkocixlKXtpZighcnx8IXIubGVuZ3RofHxudWxsPT1lKXJldHVybiEwO2NvbnN0IG49ZS5zbGljZSgpLnJldmVyc2UoKS5mbGF0dGVuKCgoe3N1YmxheWVyczpyfSk9PnImJnIudG9BcnJheSgpLnJldmVyc2UoKSkpLm1hcCgocj0+ci5pZCkpLnRvQXJyYXkoKTtpZihyLmxlbmd0aD5uLmxlbmd0aClyZXR1cm4hMTtsZXQgaT0wO2NvbnN0IG89bi5sZW5ndGg7Zm9yKGNvbnN0e2lkOnR9b2Ygcil7Zm9yKDtpPG8mJm5baV0hPT10OylpKys7aWYoaT49bylyZXR1cm4hMX1yZXR1cm4hMH1mdW5jdGlvbiBvKHIpe3JldHVybiEhciYmci5zb21lKChyPT5udWxsIT1yLm1pblNjYWxlfHxyLmxheWVyRGVmaW5pdGlvbiYmbnVsbCE9ci5sYXllckRlZmluaXRpb24ubWluU2NhbGUpKX1leHBvcnR7biBhcyBpc0V4cG9ydER5bmFtaWMsbyBhcyBpc1N1YmxheWVyT3ZlcmhhdWwsZSBhcyBzaG91bGRXcml0ZVN1YmxheWVyU3RydWN0dXJlfTtcbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==