"use strict";
(self["webpackChunkexb_client"] = self["webpackChunkexb_client"] || []).push([["vendors-node_modules_arcgis_core_core_loadAll_js-node_modules_arcgis_core_layers_mixins_ArcGI-a2c41f"],{

/***/ "./node_modules/@arcgis/core/core/CollectionFlattener.js":
/*!***************************************************************!*\
  !*** ./node_modules/@arcgis/core/core/CollectionFlattener.js ***!
  \***************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (/* binding */ n)
/* harmony export */ });
/* harmony import */ var _chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../chunks/tslib.es6.js */ "./node_modules/@arcgis/core/chunks/tslib.es6.js");
/* harmony import */ var _Collection_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./Collection.js */ "./node_modules/@arcgis/core/core/Collection.js");
/* harmony import */ var _Error_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./Error.js */ "./node_modules/@arcgis/core/core/Error.js");
/* harmony import */ var _Logger_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./Logger.js */ "./node_modules/@arcgis/core/core/Logger.js");
/* harmony import */ var _accessorSupport_watch_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./accessorSupport/watch.js */ "./node_modules/@arcgis/core/core/accessorSupport/watch.js");
/* harmony import */ var _accessorSupport_trackingUtils_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./accessorSupport/trackingUtils.js */ "./node_modules/@arcgis/core/core/accessorSupport/trackingUtils.js");
/* harmony import */ var _accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./accessorSupport/decorators/property.js */ "./node_modules/@arcgis/core/core/accessorSupport/decorators/property.js");
/* harmony import */ var _accessorSupport_decorators_subclass_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ./accessorSupport/decorators/subclass.js */ "./node_modules/@arcgis/core/core/accessorSupport/decorators/subclass.js");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.27/esri/copyright.txt for details.
*/
let i=class extends _Collection_js__WEBPACK_IMPORTED_MODULE_1__["default"]{constructor(t){super(t),this.getCollections=null}initialize(){this.own((0,_accessorSupport_trackingUtils_js__WEBPACK_IMPORTED_MODULE_5__.autorun)((()=>this._refresh())))}destroy(){this.getCollections=null}_refresh(){const t=null!=this.getCollections?this.getCollections():null;if(null==t)return void this.removeAll();let o=0;for(const s of t)null!=s&&(o=this._processCollection(o,s));this.splice(o,this.length)}_createNewInstance(t){return new _Collection_js__WEBPACK_IMPORTED_MODULE_1__["default"](t)}_processCollection(t,o){if(!o)return t;const s=this.itemFilterFunction??(t=>!!t);for(const e of o)if(e){if(s(e)){const o=this.indexOf(e,t);o>=0?o!==t&&this.reorder(e,t):this.add(e,t),++t}if(this.getChildrenFunction){const o=this.getChildrenFunction(e);if(Array.isArray(o))for(const s of o)t=this._processCollection(t,s);else t=this._processCollection(t,o)}}return t}};(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_6__.property)()],i.prototype,"getCollections",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_6__.property)()],i.prototype,"getChildrenFunction",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_6__.property)()],i.prototype,"itemFilterFunction",void 0),i=(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_accessorSupport_decorators_subclass_js__WEBPACK_IMPORTED_MODULE_7__.subclass)("esri.core.CollectionFlattener")],i);const n=i;


/***/ }),

/***/ "./node_modules/@arcgis/core/core/loadAll.js":
/*!***************************************************!*\
  !*** ./node_modules/@arcgis/core/core/loadAll.js ***!
  \***************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "loadAll": () => (/* binding */ t),
/* harmony export */   "loadAllChildren": () => (/* binding */ a)
/* harmony export */ });
/* harmony import */ var _asyncUtils_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./asyncUtils.js */ "./node_modules/@arcgis/core/core/asyncUtils.js");
/* harmony import */ var _Collection_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./Collection.js */ "./node_modules/@arcgis/core/core/Collection.js");
/* harmony import */ var _Loadable_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./Loadable.js */ "./node_modules/@arcgis/core/core/Loadable.js");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.27/esri/copyright.txt for details.
*/
async function t(o,l){return await o.load(),a(o,l)}async function a(t,a){const s=[],c=(...o)=>{for(const l of o)null!=l&&(Array.isArray(l)?c(...l):_Collection_js__WEBPACK_IMPORTED_MODULE_1__["default"].isCollection(l)?l.forEach((o=>c(o))):_Loadable_js__WEBPACK_IMPORTED_MODULE_2__["default"].isLoadable(l)&&s.push(l))};a(c);let f=null;if(await (0,_asyncUtils_js__WEBPACK_IMPORTED_MODULE_0__.map)(s,(async o=>{const n=await (0,_asyncUtils_js__WEBPACK_IMPORTED_MODULE_0__.result)(i(o)?o.loadAll():o.load());!1!==n.ok||f||(f=n)})),f)throw f.error;return t}function i(o){return"loadAll"in o&&"function"==typeof o.loadAll}


/***/ }),

/***/ "./node_modules/@arcgis/core/layers/mixins/ArcGISMapService.js":
/*!*********************************************************************!*\
  !*** ./node_modules/@arcgis/core/layers/mixins/ArcGISMapService.js ***!
  \*********************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "ArcGISMapService": () => (/* binding */ f)
/* harmony export */ });
/* harmony import */ var _chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../chunks/tslib.es6.js */ "./node_modules/@arcgis/core/chunks/tslib.es6.js");
/* harmony import */ var _request_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../request.js */ "./node_modules/@arcgis/core/request.js");
/* harmony import */ var _core_MapUtils_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../core/MapUtils.js */ "./node_modules/@arcgis/core/core/MapUtils.js");
/* harmony import */ var _core_promiseUtils_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../core/promiseUtils.js */ "./node_modules/@arcgis/core/core/promiseUtils.js");
/* harmony import */ var _core_urlUtils_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../core/urlUtils.js */ "./node_modules/@arcgis/core/core/urlUtils.js");
/* harmony import */ var _core_Version_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../core/Version.js */ "./node_modules/@arcgis/core/core/Version.js");
/* harmony import */ var _core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../core/accessorSupport/decorators/property.js */ "./node_modules/@arcgis/core/core/accessorSupport/decorators/property.js");
/* harmony import */ var _core_accessorSupport_ensureType_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../../core/accessorSupport/ensureType.js */ "./node_modules/@arcgis/core/core/accessorSupport/ensureType.js");
/* harmony import */ var _core_arrayUtils_js__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../../core/arrayUtils.js */ "./node_modules/@arcgis/core/core/arrayUtils.js");
/* harmony import */ var _core_has_js__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../../core/has.js */ "./node_modules/@arcgis/core/core/has.js");
/* harmony import */ var _core_accessorSupport_decorators_reader_js__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ../../core/accessorSupport/decorators/reader.js */ "./node_modules/@arcgis/core/core/accessorSupport/decorators/reader.js");
/* harmony import */ var _core_accessorSupport_decorators_subclass_js__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ../../core/accessorSupport/decorators/subclass.js */ "./node_modules/@arcgis/core/core/accessorSupport/decorators/subclass.js");
/* harmony import */ var _core_accessorSupport_PropertyOrigin_js__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ../../core/accessorSupport/PropertyOrigin.js */ "./node_modules/@arcgis/core/core/accessorSupport/PropertyOrigin.js");
/* harmony import */ var _geometry_Extent_js__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! ../../geometry/Extent.js */ "./node_modules/@arcgis/core/geometry/Extent.js");
/* harmony import */ var _geometry_SpatialReference_js__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! ../../geometry/SpatialReference.js */ "./node_modules/@arcgis/core/geometry/SpatialReference.js");
/* harmony import */ var _support_arcgisLayerUrl_js__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! ../support/arcgisLayerUrl.js */ "./node_modules/@arcgis/core/layers/support/arcgisLayerUrl.js");
/* harmony import */ var _support_commonProperties_js__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(/*! ../support/commonProperties.js */ "./node_modules/@arcgis/core/layers/support/commonProperties.js");
/* harmony import */ var _portal_support_portalItemUtils_js__WEBPACK_IMPORTED_MODULE_17__ = __webpack_require__(/*! ../../portal/support/portalItemUtils.js */ "./node_modules/@arcgis/core/portal/support/portalItemUtils.js");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.27/esri/copyright.txt for details.
*/
const f=f=>{let b=class extends f{constructor(){super(...arguments),this.capabilities=void 0,this.copyright=null,this.fullExtent=null,this.legendEnabled=!0,this.spatialReference=null,this.version=void 0,this._allLayersAndTablesMap=null}readCapabilities(e,r){const t=r.capabilities&&r.capabilities.split(",").map((e=>e.toLowerCase().trim()));if(!t)return{operations:{supportsExportMap:!1,supportsExportTiles:!1,supportsIdentify:!1,supportsQuery:!1,supportsTileMap:!1},exportMap:null,exportTiles:null};const s=this.type,o="tile"!==s&&!!r.supportsDynamicLayers,a=t.includes("query"),p=t.includes("map"),l=!!r.exportTilesAllowed,n=t.includes("tilemap"),c=t.includes("data"),u="tile"!==s&&(!r.tileInfo||o),y="tile"!==s&&(!r.tileInfo||o),m="tile"!==s,d=r.cimVersion&&_core_Version_js__WEBPACK_IMPORTED_MODULE_5__.Version.parse(r.cimVersion),h=d?.since(1,4)??!1,f=d?.since(2,0)??!1;return{operations:{supportsExportMap:p,supportsExportTiles:l,supportsIdentify:a,supportsQuery:c,supportsTileMap:n},exportMap:p?{supportsArcadeExpressionForLabeling:h,supportsSublayersChanges:m,supportsDynamicLayers:o,supportsSublayerVisibility:u,supportsSublayerDefinitionExpression:y,supportsCIMSymbols:f}:null,exportTiles:l?{maxExportTilesCount:+r.maxExportTilesCount}:null}}readVersion(e,r){let t=r.currentVersion;return t||(t=r.hasOwnProperty("capabilities")||r.hasOwnProperty("tables")?10:r.hasOwnProperty("supportedImageFormatTypes")?9.31:9.3),t}async fetchRelatedService(e){const r=this.portalItem;if(!r||!(0,_portal_support_portalItemUtils_js__WEBPACK_IMPORTED_MODULE_17__.isHostedLayer)(r))return null;this._relatedFeatureServicePromise||(this._relatedFeatureServicePromise=r.fetchRelatedItems({relationshipType:"Service2Service",direction:"reverse"},e).then((e=>e.find((e=>"Feature Service"===e.type))??null),(()=>null)));const t=await this._relatedFeatureServicePromise;return (0,_core_promiseUtils_js__WEBPACK_IMPORTED_MODULE_3__.throwIfAborted)(e),t?{itemId:t.id,url:t.url}:null}async fetchSublayerInfo(e,t){const{source:s}=e;if(this?.portalItem&&"tile"===this.type&&"map-layer"===s?.type&&(0,_portal_support_portalItemUtils_js__WEBPACK_IMPORTED_MODULE_17__.isHostedLayer)(this.portalItem)&&e.originIdOf("url")<_core_accessorSupport_PropertyOrigin_js__WEBPACK_IMPORTED_MODULE_12__.OriginId.SERVICE){const r=await this.fetchRelatedService(t);r&&(e.url=(0,_core_urlUtils_js__WEBPACK_IMPORTED_MODULE_4__.join)(r.url,s.mapLayerId.toString()),e.layerItemId=r.itemId)}const{url:i}=e;let a;if("data-layer"===s.type){a=(await (0,_request_js__WEBPACK_IMPORTED_MODULE_1__["default"])(i,{responseType:"json",query:{f:"json",...this.customParameters,token:this.apiKey},...t})).data}else if(i&&e.originIdOf("url")>_core_accessorSupport_PropertyOrigin_js__WEBPACK_IMPORTED_MODULE_12__.OriginId.SERVICE)try{a=(await this._fetchAllLayersAndTablesFromService(i)).get(s.mapLayerId)}catch{}else{let r=e.id;"map-layer"===s?.type&&(r=s.mapLayerId);try{a=(await this.fetchAllLayersAndTables(t)).get(r)}catch{}}return a}async fetchAllLayersAndTables(e){return this._fetchAllLayersAndTablesFromService(this.parsedUrl?.path,e)}async _fetchAllLayersAndTablesFromService(e,i){await this.load(i),this._allLayersAndTablesMap||=new Map;const a=(0,_support_arcgisLayerUrl_js__WEBPACK_IMPORTED_MODULE_15__.parse)(e),p=(0,_core_MapUtils_js__WEBPACK_IMPORTED_MODULE_2__.getOrCreateMapValue)(this._allLayersAndTablesMap,a?.url.path,(()=>(0,_request_js__WEBPACK_IMPORTED_MODULE_1__["default"])((0,_core_urlUtils_js__WEBPACK_IMPORTED_MODULE_4__.join)(a?.url.path,"/layers"),{responseType:"json",query:{f:"json",...this.customParameters,token:this.apiKey}}).then((e=>{const r=new Map;for(const t of e.data.layers)r.set(t.id,t);return{result:r}}),(e=>({error:e}))))),l=await p;if((0,_core_promiseUtils_js__WEBPACK_IMPORTED_MODULE_3__.throwIfAborted)(i),"result"in l)return l.result;throw l.error}};return (0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_6__.property)({readOnly:!0})],b.prototype,"capabilities",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_reader_js__WEBPACK_IMPORTED_MODULE_10__.reader)("service","capabilities",["capabilities","exportTilesAllowed","maxExportTilesCount","supportsDynamicLayers","tileInfo"])],b.prototype,"readCapabilities",null),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_6__.property)({json:{read:{source:"copyrightText"}}})],b.prototype,"copyright",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_6__.property)({type:_geometry_Extent_js__WEBPACK_IMPORTED_MODULE_13__["default"]})],b.prototype,"fullExtent",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_6__.property)(_support_commonProperties_js__WEBPACK_IMPORTED_MODULE_16__.id)],b.prototype,"id",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_6__.property)({type:Boolean,json:{origins:{service:{read:{enabled:!1}}},read:{source:"showLegend"},write:{target:"showLegend"}}})],b.prototype,"legendEnabled",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_6__.property)(_support_commonProperties_js__WEBPACK_IMPORTED_MODULE_16__.popupEnabled)],b.prototype,"popupEnabled",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_6__.property)({type:_geometry_SpatialReference_js__WEBPACK_IMPORTED_MODULE_14__["default"]})],b.prototype,"spatialReference",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_6__.property)({readOnly:!0})],b.prototype,"version",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_reader_js__WEBPACK_IMPORTED_MODULE_10__.reader)("version",["currentVersion","capabilities","tables","supportedImageFormatTypes"])],b.prototype,"readVersion",null),b=(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_subclass_js__WEBPACK_IMPORTED_MODULE_11__.subclass)("esri.layers.mixins.ArcGISMapService")],b),b};


/***/ }),

/***/ "./node_modules/@arcgis/core/layers/mixins/SublayersOwner.js":
/*!*******************************************************************!*\
  !*** ./node_modules/@arcgis/core/layers/mixins/SublayersOwner.js ***!
  \*******************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "SublayersOwner": () => (/* binding */ E),
/* harmony export */   "forEachSublayer": () => (/* binding */ m)
/* harmony export */ });
/* harmony import */ var _chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../chunks/tslib.es6.js */ "./node_modules/@arcgis/core/chunks/tslib.es6.js");
/* harmony import */ var _core_Collection_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../core/Collection.js */ "./node_modules/@arcgis/core/core/Collection.js");
/* harmony import */ var _core_CollectionFlattener_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../core/CollectionFlattener.js */ "./node_modules/@arcgis/core/core/CollectionFlattener.js");
/* harmony import */ var _core_Error_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../core/Error.js */ "./node_modules/@arcgis/core/core/Error.js");
/* harmony import */ var _core_Logger_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../core/Logger.js */ "./node_modules/@arcgis/core/core/Logger.js");
/* harmony import */ var _core_reactiveUtils_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../core/reactiveUtils.js */ "./node_modules/@arcgis/core/core/reactiveUtils.js");
/* harmony import */ var _core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../core/accessorSupport/decorators/property.js */ "./node_modules/@arcgis/core/core/accessorSupport/decorators/property.js");
/* harmony import */ var _core_accessorSupport_ensureType_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../../core/accessorSupport/ensureType.js */ "./node_modules/@arcgis/core/core/accessorSupport/ensureType.js");
/* harmony import */ var _core_arrayUtils_js__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../../core/arrayUtils.js */ "./node_modules/@arcgis/core/core/arrayUtils.js");
/* harmony import */ var _core_has_js__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../../core/has.js */ "./node_modules/@arcgis/core/core/has.js");
/* harmony import */ var _core_accessorSupport_utils_js__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ../../core/accessorSupport/utils.js */ "./node_modules/@arcgis/core/core/accessorSupport/utils.js");
/* harmony import */ var _core_accessorSupport_decorators_subclass_js__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ../../core/accessorSupport/decorators/subclass.js */ "./node_modules/@arcgis/core/core/accessorSupport/decorators/subclass.js");
/* harmony import */ var _core_accessorSupport_PropertyOrigin_js__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ../../core/accessorSupport/PropertyOrigin.js */ "./node_modules/@arcgis/core/core/accessorSupport/PropertyOrigin.js");
/* harmony import */ var _support_Sublayer_js__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! ../support/Sublayer.js */ "./node_modules/@arcgis/core/layers/support/Sublayer.js");
/* harmony import */ var _support_sublayerUtils_js__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! ../support/sublayerUtils.js */ "./node_modules/@arcgis/core/layers/support/sublayerUtils.js");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.27/esri/copyright.txt for details.
*/
const f=_core_Logger_js__WEBPACK_IMPORTED_MODULE_4__["default"].getLogger("esri.layers.TileLayer");function S(e,r){const s=[],t={};return e?(e.forEach((e=>{const o=new _support_Sublayer_js__WEBPACK_IMPORTED_MODULE_13__["default"];if(o.read(e,r),t[o.id]=o,null!=e.parentLayerId&&-1!==e.parentLayerId){const r=t[e.parentLayerId];r.sublayers||(r.sublayers=[]),r.sublayers.unshift(o)}else s.unshift(o)})),s):s}const h=_core_Collection_js__WEBPACK_IMPORTED_MODULE_1__["default"].ofType(_support_Sublayer_js__WEBPACK_IMPORTED_MODULE_13__["default"]);function m(e,r){e&&e.forEach((e=>{r(e),e.sublayers&&e.sublayers.length&&m(e.sublayers,r)}))}const E=o=>{let E=class extends o{constructor(...e){super(...e),this.allSublayers=new _core_CollectionFlattener_js__WEBPACK_IMPORTED_MODULE_2__["default"]({getCollections:()=>[this.sublayers],getChildrenFunction:e=>e.sublayers}),this.sublayersSourceJSON={[_core_accessorSupport_PropertyOrigin_js__WEBPACK_IMPORTED_MODULE_12__.OriginId.SERVICE]:{},[_core_accessorSupport_PropertyOrigin_js__WEBPACK_IMPORTED_MODULE_12__.OriginId.PORTAL_ITEM]:{},[_core_accessorSupport_PropertyOrigin_js__WEBPACK_IMPORTED_MODULE_12__.OriginId.WEB_SCENE]:{},[_core_accessorSupport_PropertyOrigin_js__WEBPACK_IMPORTED_MODULE_12__.OriginId.WEB_MAP]:{}},this.addHandles((0,_core_reactiveUtils_js__WEBPACK_IMPORTED_MODULE_5__.watch)((()=>this.sublayers),((e,r)=>this._handleSublayersChange(e,r)),_core_reactiveUtils_js__WEBPACK_IMPORTED_MODULE_5__.sync))}destroy(){this.allSublayers.destroy()}readSublayers(e,r){if(!r||!e)return;const{sublayersSourceJSON:s}=this,t=(0,_core_accessorSupport_PropertyOrigin_js__WEBPACK_IMPORTED_MODULE_12__.nameToId)(r.origin);if(t<_core_accessorSupport_PropertyOrigin_js__WEBPACK_IMPORTED_MODULE_12__.OriginId.SERVICE)return;if(s[t]={context:r,visibleLayers:e.visibleLayers||s[t].visibleLayers,layers:e.layers||s[t].layers},t>_core_accessorSupport_PropertyOrigin_js__WEBPACK_IMPORTED_MODULE_12__.OriginId.SERVICE)return;this._set("serviceSublayers",this.createSublayersForOrigin("service").sublayers);const{sublayers:o,origin:a}=this.createSublayersForOrigin("web-document"),l=(0,_core_accessorSupport_utils_js__WEBPACK_IMPORTED_MODULE_10__.getProperties)(this);l.setDefaultOrigin(a),this._set("sublayers",new h(o)),l.setDefaultOrigin("user")}findSublayerById(e){return this.allSublayers.find((r=>r.id===e))}createServiceSublayers(){return this.createSublayersForOrigin("service").sublayers}createSublayersForOrigin(e){const r=(0,_core_accessorSupport_PropertyOrigin_js__WEBPACK_IMPORTED_MODULE_12__.nameToId)("web-document"===e?"web-map":e);let s=_core_accessorSupport_PropertyOrigin_js__WEBPACK_IMPORTED_MODULE_12__.OriginId.SERVICE,t=this.sublayersSourceJSON[_core_accessorSupport_PropertyOrigin_js__WEBPACK_IMPORTED_MODULE_12__.OriginId.SERVICE].layers,o=this.sublayersSourceJSON[_core_accessorSupport_PropertyOrigin_js__WEBPACK_IMPORTED_MODULE_12__.OriginId.SERVICE].context,a=null;const l=[_core_accessorSupport_PropertyOrigin_js__WEBPACK_IMPORTED_MODULE_12__.OriginId.PORTAL_ITEM,_core_accessorSupport_PropertyOrigin_js__WEBPACK_IMPORTED_MODULE_12__.OriginId.WEB_SCENE,_core_accessorSupport_PropertyOrigin_js__WEBPACK_IMPORTED_MODULE_12__.OriginId.WEB_MAP].filter((e=>e<=r));for(const u of l){const e=this.sublayersSourceJSON[u];(0,_support_sublayerUtils_js__WEBPACK_IMPORTED_MODULE_14__.isSublayerOverhaul)(e.layers)&&(s=u,t=e.layers,o=e.context,e.visibleLayers&&(a={visibleLayers:e.visibleLayers,context:e.context}))}const i=[_core_accessorSupport_PropertyOrigin_js__WEBPACK_IMPORTED_MODULE_12__.OriginId.PORTAL_ITEM,_core_accessorSupport_PropertyOrigin_js__WEBPACK_IMPORTED_MODULE_12__.OriginId.WEB_SCENE,_core_accessorSupport_PropertyOrigin_js__WEBPACK_IMPORTED_MODULE_12__.OriginId.WEB_MAP].filter((e=>e>s&&e<=r));let n=null;for(const u of i){const{layers:e,visibleLayers:r,context:s}=this.sublayersSourceJSON[u];e&&(n={layers:e,context:s}),r&&(a={visibleLayers:r,context:s})}const y=S(t,o),p=new Map,f=new Set;if(n)for(const u of n.layers)p.set(u.id,u);if(a?.visibleLayers)for(const u of a.visibleLayers)f.add(u);return m(y,(e=>{n&&e.read(p.get(e.id),n.context),a&&e.read({defaultVisibility:f.has(e.id)},a.context)})),{origin:(0,_core_accessorSupport_PropertyOrigin_js__WEBPACK_IMPORTED_MODULE_12__.idToName)(s),sublayers:new h({items:y})}}read(e,r){super.read(e,r),this.readSublayers(e,r)}_handleSublayersChange(e,r){r&&(r.forEach((e=>{e.parent=null,e.layer=null})),this.removeHandles("sublayers-owner")),e&&(e.forEach((e=>{e.parent=this,e.layer=this})),this.addHandles([e.on("after-add",(({item:e})=>{e.parent=this,e.layer=this})),e.on("after-remove",(({item:e})=>{e.parent=null,e.layer=null}))],"sublayers-owner"),"tile"===this.type&&this.addHandles(e.on("before-changes",(e=>{f.error(new _core_Error_js__WEBPACK_IMPORTED_MODULE_3__["default"]("tilelayer:sublayers-non-modifiable","ISublayer can't be added, moved, or removed from the layer's sublayers",{layer:this})),e.preventDefault()})),"sublayers-owner"))}};return (0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_6__.property)({readOnly:!0})],E.prototype,"allSublayers",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_6__.property)({readOnly:!0,type:_core_Collection_js__WEBPACK_IMPORTED_MODULE_1__["default"].ofType(_support_Sublayer_js__WEBPACK_IMPORTED_MODULE_13__["default"])})],E.prototype,"serviceSublayers",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_6__.property)({value:null,type:h,json:{read:!1,write:{allowNull:!0,ignoreOrigin:!0}}})],E.prototype,"sublayers",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_6__.property)({readOnly:!0})],E.prototype,"sublayersSourceJSON",void 0),E=(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_subclass_js__WEBPACK_IMPORTED_MODULE_11__.subclass)("esri.layers.mixins.SublayersOwner")],E),E};


/***/ }),

/***/ "./node_modules/@arcgis/core/layers/support/Sublayer.js":
/*!**************************************************************!*\
  !*** ./node_modules/@arcgis/core/layers/support/Sublayer.js ***!
  \**************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (/* binding */ Y)
/* harmony export */ });
/* harmony import */ var _chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../chunks/tslib.es6.js */ "./node_modules/@arcgis/core/chunks/tslib.es6.js");
/* harmony import */ var _geometry_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../geometry.js */ "./node_modules/@arcgis/core/geometry.js");
/* harmony import */ var _PopupTemplate_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../PopupTemplate.js */ "./node_modules/@arcgis/core/PopupTemplate.js");
/* harmony import */ var _renderers_ClassBreaksRenderer_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../renderers/ClassBreaksRenderer.js */ "./node_modules/@arcgis/core/renderers/ClassBreaksRenderer.js");
/* harmony import */ var _renderers_DictionaryRenderer_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../renderers/DictionaryRenderer.js */ "./node_modules/@arcgis/core/renderers/DictionaryRenderer.js");
/* harmony import */ var _renderers_DotDensityRenderer_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../renderers/DotDensityRenderer.js */ "./node_modules/@arcgis/core/renderers/DotDensityRenderer.js");
/* harmony import */ var _renderers_HeatmapRenderer_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../renderers/HeatmapRenderer.js */ "./node_modules/@arcgis/core/renderers/HeatmapRenderer.js");
/* harmony import */ var _renderers_PieChartRenderer_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../../renderers/PieChartRenderer.js */ "./node_modules/@arcgis/core/renderers/PieChartRenderer.js");
/* harmony import */ var _renderers_Renderer_js__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../../renderers/Renderer.js */ "./node_modules/@arcgis/core/renderers/Renderer.js");
/* harmony import */ var _renderers_SimpleRenderer_js__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../../renderers/SimpleRenderer.js */ "./node_modules/@arcgis/core/renderers/SimpleRenderer.js");
/* harmony import */ var _renderers_UniqueValueRenderer_js__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ../../renderers/UniqueValueRenderer.js */ "./node_modules/@arcgis/core/renderers/UniqueValueRenderer.js");
/* harmony import */ var _renderers_support_jsonUtils_js__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ../../renderers/support/jsonUtils.js */ "./node_modules/@arcgis/core/renderers/support/jsonUtils.js");
/* harmony import */ var _renderers_support_types_js__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ../../renderers/support/types.js */ "./node_modules/@arcgis/core/renderers/support/types.js");
/* harmony import */ var _request_js__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! ../../request.js */ "./node_modules/@arcgis/core/request.js");
/* harmony import */ var _symbols_js__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! ../../symbols.js */ "./node_modules/@arcgis/core/symbols.js");
/* harmony import */ var _core_Collection_js__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! ../../core/Collection.js */ "./node_modules/@arcgis/core/core/Collection.js");
/* harmony import */ var _core_Error_js__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(/*! ../../core/Error.js */ "./node_modules/@arcgis/core/core/Error.js");
/* harmony import */ var _core_HandleOwner_js__WEBPACK_IMPORTED_MODULE_17__ = __webpack_require__(/*! ../../core/HandleOwner.js */ "./node_modules/@arcgis/core/core/HandleOwner.js");
/* harmony import */ var _core_has_js__WEBPACK_IMPORTED_MODULE_18__ = __webpack_require__(/*! ../../core/has.js */ "./node_modules/@arcgis/core/core/has.js");
/* harmony import */ var _core_Identifiable_js__WEBPACK_IMPORTED_MODULE_19__ = __webpack_require__(/*! ../../core/Identifiable.js */ "./node_modules/@arcgis/core/core/Identifiable.js");
/* harmony import */ var _core_lang_js__WEBPACK_IMPORTED_MODULE_20__ = __webpack_require__(/*! ../../core/lang.js */ "./node_modules/@arcgis/core/core/lang.js");
/* harmony import */ var _core_Loadable_js__WEBPACK_IMPORTED_MODULE_21__ = __webpack_require__(/*! ../../core/Loadable.js */ "./node_modules/@arcgis/core/core/Loadable.js");
/* harmony import */ var _core_Logger_js__WEBPACK_IMPORTED_MODULE_22__ = __webpack_require__(/*! ../../core/Logger.js */ "./node_modules/@arcgis/core/core/Logger.js");
/* harmony import */ var _core_MultiOriginJSONSupport_js__WEBPACK_IMPORTED_MODULE_23__ = __webpack_require__(/*! ../../core/MultiOriginJSONSupport.js */ "./node_modules/@arcgis/core/core/MultiOriginJSONSupport.js");
/* harmony import */ var _core_sql_js__WEBPACK_IMPORTED_MODULE_24__ = __webpack_require__(/*! ../../core/sql.js */ "./node_modules/@arcgis/core/core/sql.js");
/* harmony import */ var _core_urlUtils_js__WEBPACK_IMPORTED_MODULE_25__ = __webpack_require__(/*! ../../core/urlUtils.js */ "./node_modules/@arcgis/core/core/urlUtils.js");
/* harmony import */ var _core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_26__ = __webpack_require__(/*! ../../core/accessorSupport/decorators/property.js */ "./node_modules/@arcgis/core/core/accessorSupport/decorators/property.js");
/* harmony import */ var _core_accessorSupport_decorators_cast_js__WEBPACK_IMPORTED_MODULE_27__ = __webpack_require__(/*! ../../core/accessorSupport/decorators/cast.js */ "./node_modules/@arcgis/core/core/accessorSupport/decorators/cast.js");
/* harmony import */ var _core_accessorSupport_decorators_reader_js__WEBPACK_IMPORTED_MODULE_28__ = __webpack_require__(/*! ../../core/accessorSupport/decorators/reader.js */ "./node_modules/@arcgis/core/core/accessorSupport/decorators/reader.js");
/* harmony import */ var _core_accessorSupport_decorators_subclass_js__WEBPACK_IMPORTED_MODULE_29__ = __webpack_require__(/*! ../../core/accessorSupport/decorators/subclass.js */ "./node_modules/@arcgis/core/core/accessorSupport/decorators/subclass.js");
/* harmony import */ var _core_accessorSupport_decorators_writer_js__WEBPACK_IMPORTED_MODULE_30__ = __webpack_require__(/*! ../../core/accessorSupport/decorators/writer.js */ "./node_modules/@arcgis/core/core/accessorSupport/decorators/writer.js");
/* harmony import */ var _core_accessorSupport_ensureType_js__WEBPACK_IMPORTED_MODULE_31__ = __webpack_require__(/*! ../../core/accessorSupport/ensureType.js */ "./node_modules/@arcgis/core/core/accessorSupport/ensureType.js");
/* harmony import */ var _core_accessorSupport_PropertyOrigin_js__WEBPACK_IMPORTED_MODULE_32__ = __webpack_require__(/*! ../../core/accessorSupport/PropertyOrigin.js */ "./node_modules/@arcgis/core/core/accessorSupport/PropertyOrigin.js");
/* harmony import */ var _core_accessorSupport_utils_js__WEBPACK_IMPORTED_MODULE_33__ = __webpack_require__(/*! ../../core/accessorSupport/utils.js */ "./node_modules/@arcgis/core/core/accessorSupport/utils.js");
/* harmony import */ var _graphics_sources_support_QueryTask_js__WEBPACK_IMPORTED_MODULE_34__ = __webpack_require__(/*! ../graphics/sources/support/QueryTask.js */ "./node_modules/@arcgis/core/layers/graphics/sources/support/QueryTask.js");
/* harmony import */ var _FeatureType_js__WEBPACK_IMPORTED_MODULE_35__ = __webpack_require__(/*! ./FeatureType.js */ "./node_modules/@arcgis/core/layers/support/FeatureType.js");
/* harmony import */ var _Field_js__WEBPACK_IMPORTED_MODULE_36__ = __webpack_require__(/*! ./Field.js */ "./node_modules/@arcgis/core/layers/support/Field.js");
/* harmony import */ var _FieldsIndex_js__WEBPACK_IMPORTED_MODULE_37__ = __webpack_require__(/*! ./FieldsIndex.js */ "./node_modules/@arcgis/core/layers/support/FieldsIndex.js");
/* harmony import */ var _LabelClass_js__WEBPACK_IMPORTED_MODULE_38__ = __webpack_require__(/*! ./LabelClass.js */ "./node_modules/@arcgis/core/layers/support/LabelClass.js");
/* harmony import */ var _labelingInfo_js__WEBPACK_IMPORTED_MODULE_39__ = __webpack_require__(/*! ./labelingInfo.js */ "./node_modules/@arcgis/core/layers/support/labelingInfo.js");
/* harmony import */ var _LayerFloorInfo_js__WEBPACK_IMPORTED_MODULE_40__ = __webpack_require__(/*! ./LayerFloorInfo.js */ "./node_modules/@arcgis/core/layers/support/LayerFloorInfo.js");
/* harmony import */ var _serviceCapabilitiesUtils_js__WEBPACK_IMPORTED_MODULE_41__ = __webpack_require__(/*! ./serviceCapabilitiesUtils.js */ "./node_modules/@arcgis/core/layers/support/serviceCapabilitiesUtils.js");
/* harmony import */ var _source_DataLayerSource_js__WEBPACK_IMPORTED_MODULE_42__ = __webpack_require__(/*! ./source/DataLayerSource.js */ "./node_modules/@arcgis/core/layers/support/source/DataLayerSource.js");
/* harmony import */ var _source_MapLayerSource_js__WEBPACK_IMPORTED_MODULE_43__ = __webpack_require__(/*! ./source/MapLayerSource.js */ "./node_modules/@arcgis/core/layers/support/source/MapLayerSource.js");
/* harmony import */ var _rest_support_AttachmentQuery_js__WEBPACK_IMPORTED_MODULE_44__ = __webpack_require__(/*! ../../rest/support/AttachmentQuery.js */ "./node_modules/@arcgis/core/rest/support/AttachmentQuery.js");
/* harmony import */ var _rest_support_Query_js__WEBPACK_IMPORTED_MODULE_45__ = __webpack_require__(/*! ../../rest/support/Query.js */ "./node_modules/@arcgis/core/rest/support/Query.js");
/* harmony import */ var _support_popupUtils_js__WEBPACK_IMPORTED_MODULE_46__ = __webpack_require__(/*! ../../support/popupUtils.js */ "./node_modules/@arcgis/core/support/popupUtils.js");
/* harmony import */ var _geometry_Extent_js__WEBPACK_IMPORTED_MODULE_47__ = __webpack_require__(/*! ../../geometry/Extent.js */ "./node_modules/@arcgis/core/geometry/Extent.js");
/* harmony import */ var _geometry_support_typeUtils_js__WEBPACK_IMPORTED_MODULE_48__ = __webpack_require__(/*! ../../geometry/support/typeUtils.js */ "./node_modules/@arcgis/core/geometry/support/typeUtils.js");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.27/esri/copyright.txt for details.
*/
var B;function J(e){return null!=e&&"esriSMS"===e.type}function $(e,r,t){const i=this.originIdOf(r)>=(0,_core_accessorSupport_PropertyOrigin_js__WEBPACK_IMPORTED_MODULE_32__.nameToId)(t.origin);return{ignoreOrigin:!0,allowNull:i,enabled:!!t&&("map-image"===t.layer?.type&&(t.writeSublayerStructure||i))}}function G(e,r,t){return{enabled:!!t&&("tile"===t.layer?.type&&(t.origin&&this.originIdOf(r)>=(0,_core_accessorSupport_PropertyOrigin_js__WEBPACK_IMPORTED_MODULE_32__.nameToId)(t.origin)||this._isOverridden(r)))}}function H(e,r,t){return{ignoreOrigin:!0,enabled:t&&t.writeSublayerStructure||!1}}function z(e,r,t){return{ignoreOrigin:!0,enabled:!!t&&(t.writeSublayerStructure||this.originIdOf(r)>=(0,_core_accessorSupport_PropertyOrigin_js__WEBPACK_IMPORTED_MODULE_32__.nameToId)(t.origin))}}let K=0;const W=new Set;W.add("layer"),W.add("parent"),W.add("loaded"),W.add("loadStatus"),W.add("loadError"),W.add("loadWarnings");let X=B=class extends((0,_core_HandleOwner_js__WEBPACK_IMPORTED_MODULE_17__.HandleOwnerMixin)((0,_core_MultiOriginJSONSupport_js__WEBPACK_IMPORTED_MODULE_23__.MultiOriginJSONMixin)((0,_core_Identifiable_js__WEBPACK_IMPORTED_MODULE_19__.IdentifiableMixin)(_core_Loadable_js__WEBPACK_IMPORTED_MODULE_21__["default"])))){constructor(e){super(e),this.capabilities=void 0,this.fields=null,this.fullExtent=null,this.geometryType=null,this.globalIdField=null,this.legendEnabled=!0,this.objectIdField=null,this.parent=null,this.popupEnabled=!0,this.popupTemplate=null,this.sourceJSON=null,this.title=null,this.typeIdField=null,this.types=null,this._lastParsedUrl=null}async load(e){return this.addResolvingPromise((async()=>{const{layer:r,url:t}=this;if(!r&&!t)throw new _core_Error_js__WEBPACK_IMPORTED_MODULE_16__["default"]("sublayer:missing-layer","Sublayer can't be loaded without being part of a layer",{sublayer:this});const i=r?await r.fetchSublayerInfo(this,e):(await (0,_request_js__WEBPACK_IMPORTED_MODULE_13__["default"])(t,{responseType:"json",query:{f:"json"},...e})).data;i&&(this.sourceJSON=i,this.read({layerDefinition:i},{origin:"service"}))})()),this}readCapabilities(e,r){r=r.layerDefinition||r;const{operations:{supportsQuery:t,supportsQueryAttachments:i},query:{supportsFormatPBF:o},data:{supportsAttachment:s}}=(0,_serviceCapabilitiesUtils_js__WEBPACK_IMPORTED_MODULE_41__.getFeatureLayerCapabilities)(r,this.url);return{exportMap:{supportsModification:!!r.canModifyLayer},operations:{supportsQuery:t,supportsQueryAttachments:i},data:{supportsAttachment:s},query:{supportsFormatPBF:o}}}get defaultPopupTemplate(){return this.createPopupTemplate()}set definitionExpression(e){this._setAndNotifyLayer("definitionExpression",e)}get effectiveScaleRange(){const{minScale:e,maxScale:r}=this;return{minScale:e,maxScale:r}}get fieldsIndex(){return new _FieldsIndex_js__WEBPACK_IMPORTED_MODULE_37__["default"](this.fields||[])}set floorInfo(e){this._setAndNotifyLayer("floorInfo",e)}readGlobalIdFieldFromService(e,r){if((r=r.layerDefinition||r).globalIdField)return r.globalIdField;if(r.fields)for(const t of r.fields)if("esriFieldTypeGlobalID"===t.type)return t.name}get id(){const e=this._get("id");return e??K++}set id(e){this._get("id")!==e&&(!1!==this.layer?.capabilities?.exportMap?.supportsDynamicLayers?this._set("id",e):this._logLockedError("id","capability not available 'layer.capabilities.exportMap.supportsDynamicLayers'"))}set labelingInfo(e){this._setAndNotifyLayer("labelingInfo",e)}writeLabelingInfo(e,r,t,i){e&&e.length&&(r.layerDefinition={drawingInfo:{labelingInfo:e.map((e=>e.write({},i)))}})}set labelsVisible(e){this._setAndNotifyLayer("labelsVisible",e)}set layer(e){this._set("layer",e),this.sublayers&&this.sublayers.forEach((r=>r.layer=e))}set listMode(e){this._set("listMode",e)}set minScale(e){this._setAndNotifyLayer("minScale",e)}readMinScale(e,r){return r.minScale||r.layerDefinition&&r.layerDefinition.minScale||0}set maxScale(e){this._setAndNotifyLayer("maxScale",e)}readMaxScale(e,r){return r.maxScale||r.layerDefinition&&r.layerDefinition.maxScale||0}readObjectIdFieldFromService(e,r){if((r=r.layerDefinition||r).objectIdField)return r.objectIdField;if(r.fields)for(const t of r.fields)if("esriFieldTypeOID"===t.type)return t.name}set opacity(e){this._setAndNotifyLayer("opacity",e)}readOpacity(e,r){const t=r.layerDefinition;return 1-.01*((null!=t?.transparency?t.transparency:t?.drawingInfo?.transparency)??0)}writeOpacity(e,r,t,i){r.layerDefinition={drawingInfo:{transparency:100-100*e}}}writeParent(e,r){this.parent&&this.parent!==this.layer?r.parentLayerId=(0,_core_accessorSupport_ensureType_js__WEBPACK_IMPORTED_MODULE_31__.ensureInteger)(this.parent.id):r.parentLayerId=-1}get queryTask(){if(!this.layer)return null;const{spatialReference:e}=this.layer,r="gdbVersion"in this.layer?this.layer.gdbVersion:void 0,{capabilities:t,fieldsIndex:i}=this,o=(0,_core_has_js__WEBPACK_IMPORTED_MODULE_18__["default"])("featurelayer-pbf")&&t?.query.supportsFormatPBF,s=t?.operations?.supportsQueryAttachments??!1;return new _graphics_sources_support_QueryTask_js__WEBPACK_IMPORTED_MODULE_34__["default"]({url:this.url,pbfSupported:o,fieldsIndex:i,gdbVersion:r,sourceSpatialReference:e,queryAttachmentsSupported:s})}set renderer(e){if(e)for(const r of e.getSymbols())if((0,_symbols_js__WEBPACK_IMPORTED_MODULE_14__.isSymbol3D)(r)){_core_Logger_js__WEBPACK_IMPORTED_MODULE_22__["default"].getLogger(this).warn("Sublayer renderer should use 2D symbols");break}this._setAndNotifyLayer("renderer",e)}get source(){return this._get("source")||new _source_MapLayerSource_js__WEBPACK_IMPORTED_MODULE_43__.MapLayerSource({mapLayerId:this.id})}set source(e){this._setAndNotifyLayer("source",e)}set sublayers(e){this._handleSublayersChange(e,this._get("sublayers")),this._set("sublayers",e)}castSublayers(e){return (0,_core_accessorSupport_ensureType_js__WEBPACK_IMPORTED_MODULE_31__.ensureType)(_core_Collection_js__WEBPACK_IMPORTED_MODULE_15__["default"].ofType(B),e)}writeSublayers(e,r,t){this.sublayers?.length&&(r[t]=this.sublayers.map((e=>e.id)).toArray().reverse())}readTypeIdField(e,r){let t=(r=r.layerDefinition||r).typeIdField;if(t&&r.fields){t=t.toLowerCase();const e=r.fields.find((e=>e.name.toLowerCase()===t));e&&(t=e.name)}return t}get url(){const e=this.layer?.parsedUrl??this._lastParsedUrl,r=this.source;if(!e)return null;if(this._lastParsedUrl=e,"map-layer"===r?.type)return`${e.path}/${r.mapLayerId}`;const t={layer:JSON.stringify({source:this.source})};return`${e.path}/dynamicLayer?${(0,_core_urlUtils_js__WEBPACK_IMPORTED_MODULE_25__.objectToQuery)(t)}`}set url(e){this._overrideIfSome("url",e)}set visible(e){this._setAndNotifyLayer("visible",e)}writeVisible(e,r,t,i){r[t]=this.getAtOrigin("defaultVisibility","service")||e}clone(){const{store:e}=(0,_core_accessorSupport_utils_js__WEBPACK_IMPORTED_MODULE_33__.getProperties)(this),r=new B;return (0,_core_accessorSupport_utils_js__WEBPACK_IMPORTED_MODULE_33__.getProperties)(r).store=e.clone(W),this.commitProperty("url"),r._lastParsedUrl=this._lastParsedUrl,r}createPopupTemplate(e){return (0,_support_popupUtils_js__WEBPACK_IMPORTED_MODULE_46__.createPopupTemplate)(this,e)}createQuery(){return new _rest_support_Query_js__WEBPACK_IMPORTED_MODULE_45__["default"]({returnGeometry:!0,where:this.definitionExpression||"1=1"})}async createFeatureLayer(){if(this.hasOwnProperty("sublayers"))return null;const{layer:e}=this,r=e?.parsedUrl,t=new(0,(await Promise.resolve(/*! import() */).then(__webpack_require__.bind(__webpack_require__, /*! ../FeatureLayer.js */ "./node_modules/@arcgis/core/layers/FeatureLayer.js"))).default)({url:r?.path});return r&&this.source&&("map-layer"===this.source.type?t.layerId=this.source.mapLayerId:t.dynamicDataSource=this.source),null!=e?.refreshInterval&&(t.refreshInterval=e.refreshInterval),this.definitionExpression&&(t.definitionExpression=this.definitionExpression),this.floorInfo&&(t.floorInfo=(0,_core_lang_js__WEBPACK_IMPORTED_MODULE_20__.clone)(this.floorInfo)),this.originIdOf("labelingInfo")>_core_accessorSupport_PropertyOrigin_js__WEBPACK_IMPORTED_MODULE_32__.OriginId.SERVICE&&(t.labelingInfo=(0,_core_lang_js__WEBPACK_IMPORTED_MODULE_20__.clone)(this.labelingInfo)),this.originIdOf("labelsVisible")>_core_accessorSupport_PropertyOrigin_js__WEBPACK_IMPORTED_MODULE_32__.OriginId.DEFAULTS&&(t.labelsVisible=this.labelsVisible),this.originIdOf("legendEnabled")>_core_accessorSupport_PropertyOrigin_js__WEBPACK_IMPORTED_MODULE_32__.OriginId.DEFAULTS&&(t.legendEnabled=this.legendEnabled),this.originIdOf("visible")>_core_accessorSupport_PropertyOrigin_js__WEBPACK_IMPORTED_MODULE_32__.OriginId.DEFAULTS&&(t.visible=this.visible),this.originIdOf("minScale")>_core_accessorSupport_PropertyOrigin_js__WEBPACK_IMPORTED_MODULE_32__.OriginId.DEFAULTS&&(t.minScale=this.minScale),this.originIdOf("maxScale")>_core_accessorSupport_PropertyOrigin_js__WEBPACK_IMPORTED_MODULE_32__.OriginId.DEFAULTS&&(t.maxScale=this.maxScale),this.originIdOf("opacity")>_core_accessorSupport_PropertyOrigin_js__WEBPACK_IMPORTED_MODULE_32__.OriginId.DEFAULTS&&(t.opacity=this.opacity),this.originIdOf("popupTemplate")>_core_accessorSupport_PropertyOrigin_js__WEBPACK_IMPORTED_MODULE_32__.OriginId.DEFAULTS&&(t.popupTemplate=(0,_core_lang_js__WEBPACK_IMPORTED_MODULE_20__.clone)(this.popupTemplate)),this.originIdOf("renderer")>_core_accessorSupport_PropertyOrigin_js__WEBPACK_IMPORTED_MODULE_32__.OriginId.SERVICE&&(t.renderer=(0,_core_lang_js__WEBPACK_IMPORTED_MODULE_20__.clone)(this.renderer)),"data-layer"===this.source?.type&&(t.dynamicDataSource=this.source.clone()),this.originIdOf("title")>_core_accessorSupport_PropertyOrigin_js__WEBPACK_IMPORTED_MODULE_32__.OriginId.DEFAULTS&&(t.title=this.title),"map-image"===e?.type&&e.originIdOf("customParameters")>_core_accessorSupport_PropertyOrigin_js__WEBPACK_IMPORTED_MODULE_32__.OriginId.DEFAULTS&&(t.customParameters=e.customParameters),"tile"===e?.type&&e.originIdOf("customParameters")>_core_accessorSupport_PropertyOrigin_js__WEBPACK_IMPORTED_MODULE_32__.OriginId.DEFAULTS&&(t.customParameters=e.customParameters),t}getField(e){return this.fieldsIndex.get(e)}getFeatureType(e){const{typeIdField:r,types:t}=this;if(!r||!e)return null;const i=e.attributes?e.attributes[r]:void 0;if(null==i)return null;let o=null;return t?.some((e=>{const{id:r}=e;return null!=r&&(r.toString()===i.toString()&&(o=e),!!o)})),o}getFieldDomain(e,r){const t=r&&r.feature,i=this.getFeatureType(t);if(i){const r=i.domains&&i.domains[e];if(r&&"inherited"!==r.type)return r}return this._getLayerDomain(e)}async queryAttachments(e,r){await this.load(),e=_rest_support_AttachmentQuery_js__WEBPACK_IMPORTED_MODULE_44__["default"].from(e);const t=this.capabilities;if(!t?.data?.supportsAttachment)throw new _core_Error_js__WEBPACK_IMPORTED_MODULE_16__["default"]("queryAttachments:not-supported","this layer doesn't support attachments");const{attachmentTypes:i,objectIds:o,globalIds:s,num:a,size:n,start:p,where:y}=e;if(!t?.operations?.supportsQueryAttachments){if(i?.length>0||s?.length>0||n?.length>0||a||p||y)throw new _core_Error_js__WEBPACK_IMPORTED_MODULE_16__["default"]("queryAttachments:option-not-supported","when 'capabilities.operations.supportsQueryAttachments' is false, only objectIds is supported",e)}if(!(o?.length||s?.length||y))throw new _core_Error_js__WEBPACK_IMPORTED_MODULE_16__["default"]("queryAttachments:invalid-query","'objectIds', 'globalIds', or 'where' are required to perform attachment query",e);return this.queryTask.executeAttachmentQuery(e,r)}async queryFeatures(e=this.createQuery(),r){if(await this.load(),!this.capabilities.operations.supportsQuery)throw new _core_Error_js__WEBPACK_IMPORTED_MODULE_16__["default"]("queryFeatures:not-supported","this layer doesn't support queries.");if(!this.url)throw new _core_Error_js__WEBPACK_IMPORTED_MODULE_16__["default"]("queryFeatures:not-supported","this layer has no url.");const t=await this.queryTask.execute(e,{...r,query:{...this.layer?.customParameters,token:this.layer?.apiKey}});if(t?.features)for(const i of t.features)i.sourceLayer=this;return t}toExportImageJSON(e){const r={id:this.id,source:this.source?.toJSON()||{mapLayerId:this.id,type:"mapLayer"}},t=(0,_core_sql_js__WEBPACK_IMPORTED_MODULE_24__.sqlAnd)(e,this.definitionExpression);null!=t&&(r.definitionExpression=t);const i=["renderer","labelingInfo","opacity","labelsVisible"].reduce(((e,r)=>(e[r]=this.originIdOf(r),e)),{}),o=Object.keys(i).some((e=>i[e]>_core_accessorSupport_PropertyOrigin_js__WEBPACK_IMPORTED_MODULE_32__.OriginId.SERVICE));if(o){const e=r.drawingInfo={};if(i.renderer>_core_accessorSupport_PropertyOrigin_js__WEBPACK_IMPORTED_MODULE_32__.OriginId.SERVICE&&(e.renderer=this.renderer?this.renderer.toJSON():null),i.labelsVisible>_core_accessorSupport_PropertyOrigin_js__WEBPACK_IMPORTED_MODULE_32__.OriginId.SERVICE&&(e.showLabels=this.labelsVisible),this.labelsVisible&&i.labelingInfo>_core_accessorSupport_PropertyOrigin_js__WEBPACK_IMPORTED_MODULE_32__.OriginId.SERVICE){!this.loaded&&this.labelingInfo.some((e=>!e.labelPlacement))&&_core_Logger_js__WEBPACK_IMPORTED_MODULE_22__["default"].getLogger(this).warnOnce(`A Sublayer (title: ${this.title}, id: ${this.id}) has an undefined 'labelPlacement' and so labels cannot be displayed. Either define a valid 'labelPlacement' or call Sublayer.load() to use a default value based on geometry type.`,{sublayer:this});let r=this.labelingInfo;null!=this.geometryType&&(r=(0,_labelingInfo_js__WEBPACK_IMPORTED_MODULE_39__.validateLabelingInfo)(this.labelingInfo,_geometry_support_typeUtils_js__WEBPACK_IMPORTED_MODULE_48__.featureGeometryTypeKebabDictionary.toJSON(this.geometryType))),e.labelingInfo=r.filter((e=>e.labelPlacement)).map((e=>e.toJSON({origin:"service",layer:this.layer}))),e.showLabels=!0}i.opacity>_core_accessorSupport_PropertyOrigin_js__WEBPACK_IMPORTED_MODULE_32__.OriginId.SERVICE&&(e.transparency=100-100*this.opacity),this._assignDefaultSymbolColors(e.renderer)}return r}_assignDefaultSymbolColors(e){this._forEachSimpleMarkerSymbols(e,(e=>{e.color||"esriSMSX"!==e.style&&"esriSMSCross"!==e.style||(e.outline&&e.outline.color?e.color=e.outline.color:e.color=[0,0,0,0])}))}_forEachSimpleMarkerSymbols(e,r){if(e){const t=("uniqueValueInfos"in e?e.uniqueValueInfos:"classBreakInfos"in e?e.classBreakInfos:null)??[];for(const e of t)J(e.symbol)&&r(e.symbol);"symbol"in e&&J(e.symbol)&&r(e.symbol),"defaultSymbol"in e&&J(e.defaultSymbol)&&r(e.defaultSymbol)}}_setAndNotifyLayer(e,r){const t=this.layer,i=this._get(e);let o,s;switch(e){case"definitionExpression":case"floorInfo":o="supportsSublayerDefinitionExpression";break;case"minScale":case"maxScale":case"visible":o="supportsSublayerVisibility";break;case"labelingInfo":case"labelsVisible":case"opacity":case"renderer":case"source":o="supportsDynamicLayers",s="supportsModification"}const a=(0,_core_accessorSupport_utils_js__WEBPACK_IMPORTED_MODULE_33__.getProperties)(this).getDefaultOrigin();if("service"!==a){if(o&&!1===this.layer?.capabilities?.exportMap?.[o])return void this._logLockedError(e,`capability not available 'layer.capabilities.exportMap.${o}'`);if(s&&!1===this.capabilities?.exportMap[s])return void this._logLockedError(e,`capability not available 'capabilities.exportMap.${s}'`)}"source"!==e||"not-loaded"===this.loadStatus?(this._set(e,r),"service"!==a&&i!==r&&t&&t.emit&&t.emit("sublayer-update",{propertyName:e,target:this})):this._logLockedError(e,"'source' can't be changed after calling sublayer.load()")}_handleSublayersChange(e,r){r&&(r.forEach((e=>{e.parent=null,e.layer=null})),this.handles.removeAll()),e&&(e.forEach((e=>{e.parent=this,e.layer=this.layer})),this.handles.add([e.on("after-add",(({item:e})=>{e.parent=this,e.layer=this.layer})),e.on("after-remove",(({item:e})=>{e.parent=null,e.layer=null})),e.on("before-changes",(e=>{const r=this.layer?.capabilities?.exportMap?.supportsSublayersChanges;null==r||r||(_core_Logger_js__WEBPACK_IMPORTED_MODULE_22__["default"].getLogger(this).error(new _core_Error_js__WEBPACK_IMPORTED_MODULE_16__["default"]("sublayer:sublayers-non-modifiable","Sublayer can't be added, moved, or removed from the layer's sublayers",{sublayer:this,layer:this.layer})),e.preventDefault())}))]))}_logLockedError(e,r){const{layer:t,declaredClass:i}=this;_core_Logger_js__WEBPACK_IMPORTED_MODULE_22__["default"].getLogger(i).error(new _core_Error_js__WEBPACK_IMPORTED_MODULE_16__["default"]("sublayer:locked",`Property '${String(e)}' can't be changed on Sublayer from the layer '${t?.id}'`,{reason:r,sublayer:this,layer:t}))}_getLayerDomain(e){const r=this.fieldsIndex.get(e);return r?r.domain:null}};X.test={isMapImageLayerOverridePolicy:e=>e===H||e===$,isTileImageLayerOverridePolicy:e=>e===G},(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_26__.property)({readOnly:!0})],X.prototype,"capabilities",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_reader_js__WEBPACK_IMPORTED_MODULE_28__.reader)("service","capabilities",["layerDefinition.canModifyLayer","layerDefinition.capabilities"])],X.prototype,"readCapabilities",null),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_26__.property)()],X.prototype,"defaultPopupTemplate",null),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_26__.property)({type:String,value:null,json:{name:"layerDefinition.definitionExpression",write:{allowNull:!0,overridePolicy:$}}})],X.prototype,"definitionExpression",null),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_26__.property)({readOnly:!0})],X.prototype,"effectiveScaleRange",null),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_26__.property)({type:[_Field_js__WEBPACK_IMPORTED_MODULE_36__["default"]],json:{origins:{service:{read:{source:"layerDefinition.fields"}}}}})],X.prototype,"fields",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_26__.property)({readOnly:!0})],X.prototype,"fieldsIndex",null),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_26__.property)({type:_LayerFloorInfo_js__WEBPACK_IMPORTED_MODULE_40__["default"],value:null,json:{name:"layerDefinition.floorInfo",read:{source:"layerDefinition.floorInfo"},write:{target:"layerDefinition.floorInfo",overridePolicy:$},origins:{"web-scene":{read:!1,write:!1}}}})],X.prototype,"floorInfo",null),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_26__.property)({type:_geometry_Extent_js__WEBPACK_IMPORTED_MODULE_47__["default"],json:{read:{source:"layerDefinition.extent"}}})],X.prototype,"fullExtent",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_26__.property)({type:_geometry_support_typeUtils_js__WEBPACK_IMPORTED_MODULE_48__.featureGeometryTypeKebabDictionary.apiValues,json:{origins:{service:{name:"layerDefinition.geometryType",read:{reader:_geometry_support_typeUtils_js__WEBPACK_IMPORTED_MODULE_48__.featureGeometryTypeKebabDictionary.read}}}}})],X.prototype,"geometryType",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_26__.property)({type:String})],X.prototype,"globalIdField",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_reader_js__WEBPACK_IMPORTED_MODULE_28__.reader)("service","globalIdField",["layerDefinition.globalIdField","layerDefinition.fields"])],X.prototype,"readGlobalIdFieldFromService",null),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_26__.property)({type:_core_accessorSupport_ensureType_js__WEBPACK_IMPORTED_MODULE_31__.Integer,json:{write:{ignoreOrigin:!0}}})],X.prototype,"id",null),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_26__.property)({value:null,type:[_LabelClass_js__WEBPACK_IMPORTED_MODULE_38__["default"]],json:{read:{source:"layerDefinition.drawingInfo.labelingInfo"},write:{target:"layerDefinition.drawingInfo.labelingInfo",overridePolicy:H}}})],X.prototype,"labelingInfo",null),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_writer_js__WEBPACK_IMPORTED_MODULE_30__.writer)("labelingInfo")],X.prototype,"writeLabelingInfo",null),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_26__.property)({type:Boolean,value:!0,json:{read:{source:"layerDefinition.drawingInfo.showLabels"},write:{target:"layerDefinition.drawingInfo.showLabels",overridePolicy:H}}})],X.prototype,"labelsVisible",null),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_26__.property)({value:null})],X.prototype,"layer",null),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_26__.property)({type:String,json:{write:{overridePolicy:G}}})],X.prototype,"layerItemId",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_26__.property)({type:Boolean,value:!0,json:{origins:{service:{read:{enabled:!1}}},read:{source:"showLegend"},write:{target:"showLegend",overridePolicy:z}}})],X.prototype,"legendEnabled",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_26__.property)({type:["show","hide","hide-children"],value:"show",json:{read:!1,write:!1,origins:{"web-scene":{read:!0,write:!0}}}})],X.prototype,"listMode",null),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_26__.property)({type:Number,value:0,json:{write:{overridePolicy:H}}})],X.prototype,"minScale",null),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_reader_js__WEBPACK_IMPORTED_MODULE_28__.reader)("minScale",["minScale","layerDefinition.minScale"])],X.prototype,"readMinScale",null),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_26__.property)({type:Number,value:0,json:{write:{overridePolicy:H}}})],X.prototype,"maxScale",null),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_reader_js__WEBPACK_IMPORTED_MODULE_28__.reader)("maxScale",["maxScale","layerDefinition.maxScale"])],X.prototype,"readMaxScale",null),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_26__.property)({type:String})],X.prototype,"objectIdField",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_reader_js__WEBPACK_IMPORTED_MODULE_28__.reader)("service","objectIdField",["layerDefinition.objectIdField","layerDefinition.fields"])],X.prototype,"readObjectIdFieldFromService",null),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_26__.property)({type:Number,value:1,json:{write:{target:"layerDefinition.drawingInfo.transparency",overridePolicy:H}}})],X.prototype,"opacity",null),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_reader_js__WEBPACK_IMPORTED_MODULE_28__.reader)("opacity",["layerDefinition.drawingInfo.transparency","layerDefinition.transparency"])],X.prototype,"readOpacity",null),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_writer_js__WEBPACK_IMPORTED_MODULE_30__.writer)("opacity")],X.prototype,"writeOpacity",null),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_26__.property)({json:{type:_core_accessorSupport_ensureType_js__WEBPACK_IMPORTED_MODULE_31__.Integer,write:{target:"parentLayerId",writerEnsuresNonNull:!0,overridePolicy:H}}})],X.prototype,"parent",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_writer_js__WEBPACK_IMPORTED_MODULE_30__.writer)("parent")],X.prototype,"writeParent",null),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_26__.property)({type:Boolean,value:!0,json:{read:{source:"disablePopup",reader:(e,r)=>!r.disablePopup},write:{target:"disablePopup",overridePolicy:z,writer(e,r,t){r[t]=!e}}}})],X.prototype,"popupEnabled",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_26__.property)({type:_PopupTemplate_js__WEBPACK_IMPORTED_MODULE_2__["default"],json:{read:{source:"popupInfo"},write:{target:"popupInfo",overridePolicy:z}}})],X.prototype,"popupTemplate",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_26__.property)({readOnly:!0})],X.prototype,"queryTask",null),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_26__.property)({types:_renderers_support_types_js__WEBPACK_IMPORTED_MODULE_12__.rendererTypes,value:null,json:{name:"layerDefinition.drawingInfo.renderer",write:{overridePolicy:H},origins:{"web-scene":{types:_renderers_support_types_js__WEBPACK_IMPORTED_MODULE_12__.webSceneRendererTypes,name:"layerDefinition.drawingInfo.renderer",write:{overridePolicy:H}}}}})],X.prototype,"renderer",null),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_26__.property)({types:{key:"type",base:null,typeMap:{"data-layer":_source_DataLayerSource_js__WEBPACK_IMPORTED_MODULE_42__.DataLayerSource,"map-layer":_source_MapLayerSource_js__WEBPACK_IMPORTED_MODULE_43__.MapLayerSource}},cast(e){if(e){if("mapLayerId"in e)return (0,_core_accessorSupport_ensureType_js__WEBPACK_IMPORTED_MODULE_31__.ensureClass)(_source_MapLayerSource_js__WEBPACK_IMPORTED_MODULE_43__.MapLayerSource,e);if("dataSource"in e)return (0,_core_accessorSupport_ensureType_js__WEBPACK_IMPORTED_MODULE_31__.ensureClass)(_source_DataLayerSource_js__WEBPACK_IMPORTED_MODULE_42__.DataLayerSource,e)}return e},json:{name:"layerDefinition.source",write:{overridePolicy:H}}})],X.prototype,"source",null),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_26__.property)()],X.prototype,"sourceJSON",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_26__.property)({value:null,json:{type:[_core_accessorSupport_ensureType_js__WEBPACK_IMPORTED_MODULE_31__.Integer],write:{target:"subLayerIds",allowNull:!0,overridePolicy:H}}})],X.prototype,"sublayers",null),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_cast_js__WEBPACK_IMPORTED_MODULE_27__.cast)("sublayers")],X.prototype,"castSublayers",null),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_writer_js__WEBPACK_IMPORTED_MODULE_30__.writer)("sublayers")],X.prototype,"writeSublayers",null),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_26__.property)({type:String,json:{name:"name",write:{overridePolicy:z}}})],X.prototype,"title",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_26__.property)({type:String})],X.prototype,"typeIdField",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_reader_js__WEBPACK_IMPORTED_MODULE_28__.reader)("typeIdField",["layerDefinition.typeIdField"])],X.prototype,"readTypeIdField",null),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_26__.property)({type:[_FeatureType_js__WEBPACK_IMPORTED_MODULE_35__["default"]],json:{origins:{service:{read:{source:"layerDefinition.types"}}}}})],X.prototype,"types",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_26__.property)({type:String,json:{name:"layerUrl",write:{overridePolicy:G}}})],X.prototype,"url",null),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_26__.property)({type:Boolean,value:!0,json:{read:{source:"defaultVisibility"},write:{target:"defaultVisibility",overridePolicy:H}}})],X.prototype,"visible",null),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_writer_js__WEBPACK_IMPORTED_MODULE_30__.writer)("visible")],X.prototype,"writeVisible",null),X=B=(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_subclass_js__WEBPACK_IMPORTED_MODULE_29__.subclass)("esri.layers.support.Sublayer")],X);const Y=X;


/***/ }),

/***/ "./node_modules/@arcgis/core/layers/support/sublayerUtils.js":
/*!*******************************************************************!*\
  !*** ./node_modules/@arcgis/core/layers/support/sublayerUtils.js ***!
  \*******************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "isExportDynamic": () => (/* binding */ n),
/* harmony export */   "isSublayerOverhaul": () => (/* binding */ o),
/* harmony export */   "shouldWriteSublayerStructure": () => (/* binding */ e)
/* harmony export */ });
/* harmony import */ var _core_accessorSupport_PropertyOrigin_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../core/accessorSupport/PropertyOrigin.js */ "./node_modules/@arcgis/core/core/accessorSupport/PropertyOrigin.js");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.27/esri/copyright.txt for details.
*/
function e(r,e,n){const o=e.flatten((({sublayers:r})=>r)).length;if(o!==r.length)return!0;return!!r.some((r=>r.originIdOf("minScale")>n||r.originIdOf("maxScale")>n||r.originIdOf("renderer")>n||r.originIdOf("labelingInfo")>n||r.originIdOf("opacity")>n||r.originIdOf("labelsVisible")>n||r.originIdOf("source")>n))||!i(r,e)}function n(e,n,o){return!!e.some((e=>{const n=e.source;return!(!n||"map-layer"===n.type&&n.mapLayerId===e.id&&(null==n.gdbVersion||n.gdbVersion===o))||e.originIdOf("renderer")>_core_accessorSupport_PropertyOrigin_js__WEBPACK_IMPORTED_MODULE_0__.OriginId.SERVICE||e.originIdOf("labelingInfo")>_core_accessorSupport_PropertyOrigin_js__WEBPACK_IMPORTED_MODULE_0__.OriginId.SERVICE||e.originIdOf("opacity")>_core_accessorSupport_PropertyOrigin_js__WEBPACK_IMPORTED_MODULE_0__.OriginId.SERVICE||e.originIdOf("labelsVisible")>_core_accessorSupport_PropertyOrigin_js__WEBPACK_IMPORTED_MODULE_0__.OriginId.SERVICE}))||!i(e,n)}function i(r,e){if(!r||!r.length||null==e)return!0;const n=e.slice().reverse().flatten((({sublayers:r})=>r&&r.toArray().reverse())).map((r=>r.id)).toArray();if(r.length>n.length)return!1;let i=0;const o=n.length;for(const{id:t}of r){for(;i<o&&n[i]!==t;)i++;if(i>=o)return!1}return!0}function o(r){return!!r&&r.some((r=>null!=r.minScale||r.layerDefinition&&null!=r.layerDefinition.minScale))}


/***/ })

}]);
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoid2lkZ2V0cy9jaHVua3MvYTlhODVkZjBhODg5ZGNiMzVmZjllN2I4YzhkNjZmNWMuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDeVYsb0JBQW9CLHNEQUFDLENBQUMsZUFBZSxrQ0FBa0MsYUFBYSxTQUFTLDBFQUFDLHlCQUF5QixVQUFVLHlCQUF5QixXQUFXLDZEQUE2RCx3Q0FBd0MsUUFBUSwyREFBMkQsMkJBQTJCLHNCQUFzQixXQUFXLHNEQUFDLElBQUksd0JBQXdCLGVBQWUsMENBQTBDLHVCQUF1QixTQUFTLDBCQUEwQixnREFBZ0QsNkJBQTZCLG9DQUFvQyxvRUFBb0UscUNBQXFDLFdBQVcsdURBQUMsRUFBRSxpRkFBQyx5Q0FBeUMsdURBQUMsRUFBRSxpRkFBQyw4Q0FBOEMsdURBQUMsRUFBRSxpRkFBQywrQ0FBK0MsdURBQUMsRUFBRSxpRkFBQyxzQ0FBc0MsVUFBK0I7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7QUNKbHpDO0FBQ0E7QUFDQTtBQUNBO0FBQzhHLHNCQUFzQiw2QkFBNkIsc0JBQXNCLHNCQUFzQixvREFBb0QsbUVBQWMseUJBQXlCLCtEQUFZLGlCQUFpQixLQUFLLFdBQVcsU0FBUyxtREFBQyxjQUFjLGNBQWMsc0RBQUMsNEJBQTRCLG9CQUFvQixtQkFBbUIsU0FBUyxjQUFjLGtEQUE0Rjs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FDSmxqQjtBQUNBO0FBQ0E7QUFDQTtBQUN5OUIsWUFBWSxzQkFBc0IsY0FBYyw0TEFBNEwsc0JBQXNCLG1GQUFtRixhQUFhLFlBQVksb0dBQW9HLGtDQUFrQyxxUUFBcVEsMkRBQU8sdURBQXVELE9BQU8sWUFBWSwrRkFBK0YsY0FBYyxrTEFBa0wscUJBQXFCLDJDQUEyQyxPQUFPLGlCQUFpQix1QkFBdUIsdUlBQXVJLDZCQUE2Qix3QkFBd0IsUUFBUSxrRkFBQyxnQkFBZ0IsNkZBQTZGLHVEQUF1RCx5RUFBeUUsaURBQWlELE9BQU8scUVB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b0IsaUJBQWlCLHlIQUF5SCxxRkFBUywrQkFBK0IscUZBQVMsMEJBQTBCLHFGQUFTLGdDQUFnQyxxRkFBUyxDQUFDLFlBQVksZ0JBQWdCLG1DQUFtQyx1Q0FBdUMsWUFBWSx1REFBdUQsOEJBQThCLFFBQVEsaUJBQWlCLFVBQVUsS0FBSyxNQUFNLEtBQUssY0FBYyxLQUFLLGlCQUFpQixTQUFTLGNBQWMsOEZBQXFMIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vZXhiLWNsaWVudC8uL25vZGVfbW9kdWxlcy9AYXJjZ2lzL2NvcmUvY29yZS9Db2xsZWN0aW9uRmxhdHRlbmVyLmpzIiwid2VicGFjazovL2V4Yi1jbGllbnQvLi9ub2RlX21vZHVsZXMvQGFyY2dpcy9jb3JlL2NvcmUvbG9hZEFsbC5qcyIsIndlYnBhY2s6Ly9leGItY2xpZW50Ly4vbm9kZV9tb2R1bGVzL0BhcmNnaXMvY29yZS9sYXllcnMvbWl4aW5zL0FyY0dJU01hcFNlcnZpY2UuanMiLCJ3ZWJwYWNrOi8vZXhiLWNsaWVudC8uL25vZGVfbW9kdWxlcy9AYXJjZ2lzL2NvcmUvbGF5ZXJzL21peGlucy9TdWJsYXllcnNPd25lci5qcyIsIndlYnBhY2s6Ly9leGItY2xpZW50Ly4vbm9kZV9tb2R1bGVzL0BhcmNnaXMvY29yZS9sYXllcnMvc3VwcG9ydC9TdWJsYXllci5qcyIsIndlYnBhY2s6Ly9leGItY2xpZW50Ly4vbm9kZV9tb2R1bGVzL0BhcmNnaXMvY29yZS9sYXllcnMvc3VwcG9ydC9zdWJsYXllclV0aWxzLmpzIl0sInNvdXJjZXNDb250ZW50IjpbIi8qXG5BbGwgbWF0ZXJpYWwgY29weXJpZ2h0IEVTUkksIEFsbCBSaWdodHMgUmVzZXJ2ZWQsIHVubGVzcyBvdGhlcndpc2Ugc3BlY2lmaWVkLlxuU2VlIGh0dHBzOi8vanMuYXJjZ2lzLmNvbS80LjI3L2VzcmkvY29weXJpZ2h0LnR4dCBmb3IgZGV0YWlscy5cbiovXG5pbXBvcnR7XyBhcyB0fWZyb21cIi4uL2NodW5rcy90c2xpYi5lczYuanNcIjtpbXBvcnQgbyBmcm9tXCIuL0NvbGxlY3Rpb24uanNcIjtpbXBvcnRcIi4vRXJyb3IuanNcIjtpbXBvcnRcIi4vTG9nZ2VyLmpzXCI7aW1wb3J0XCIuL2FjY2Vzc29yU3VwcG9ydC93YXRjaC5qc1wiO2ltcG9ydHthdXRvcnVuIGFzIHN9ZnJvbVwiLi9hY2Nlc3NvclN1cHBvcnQvdHJhY2tpbmdVdGlscy5qc1wiO2ltcG9ydHtwcm9wZXJ0eSBhcyBlfWZyb21cIi4vYWNjZXNzb3JTdXBwb3J0L2RlY29yYXRvcnMvcHJvcGVydHkuanNcIjtpbXBvcnR7c3ViY2xhc3MgYXMgcn1mcm9tXCIuL2FjY2Vzc29yU3VwcG9ydC9kZWNvcmF0b3JzL3N1YmNsYXNzLmpzXCI7bGV0IGk9Y2xhc3MgZXh0ZW5kcyBve2NvbnN0cnVjdG9yKHQpe3N1cGVyKHQpLHRoaXMuZ2V0Q29sbGVjdGlvbnM9bnVsbH1pbml0aWFsaXplKCl7dGhpcy5vd24ocygoKCk9PnRoaXMuX3JlZnJlc2goKSkpKX1kZXN0cm95KCl7dGhpcy5nZXRDb2xsZWN0aW9ucz1udWxsfV9yZWZyZXNoKCl7Y29uc3QgdD1udWxsIT10aGlzLmdldENvbGxlY3Rpb25zP3RoaXMuZ2V0Q29sbGVjdGlvbnMoKTpudWxsO2lmKG51bGw9PXQpcmV0dXJuIHZvaWQgdGhpcy5yZW1vdmVBbGwoKTtsZXQgbz0wO2Zvcihjb25zdCBzIG9mIHQpbnVsbCE9cyYmKG89dGhpcy5fcHJvY2Vzc0NvbGxlY3Rpb24obyxzKSk7dGhpcy5zcGxpY2Uobyx0aGlzLmxlbmd0aCl9X2NyZWF0ZU5ld0luc3RhbmNlKHQpe3JldHVybiBuZXcgbyh0KX1fcHJvY2Vzc0NvbGxlY3Rpb24odCxvKXtpZighbylyZXR1cm4gdDtjb25zdCBzPXRoaXMuaXRlbUZpbHRlckZ1bmN0aW9uPz8odD0+ISF0KTtmb3IoY29uc3QgZSBvZiBvKWlmKGUpe2lmKHMoZSkpe2NvbnN0IG89dGhpcy5pbmRleE9mKGUsdCk7bz49MD9vIT09dCYmdGhpcy5yZW9yZGVyKGUsdCk6dGhpcy5hZGQoZSx0KSwrK3R9aWYodGhpcy5nZXRDaGlsZHJlbkZ1bmN0aW9uKXtjb25zdCBvPXRoaXMuZ2V0Q2hpbGRyZW5GdW5jdGlvbihlKTtpZihBcnJheS5pc0FycmF5KG8pKWZvcihjb25zdCBzIG9mIG8pdD10aGlzLl9wcm9jZXNzQ29sbGVjdGlvbih0LHMpO2Vsc2UgdD10aGlzLl9wcm9jZXNzQ29sbGVjdGlvbih0LG8pfX1yZXR1cm4gdH19O3QoW2UoKV0saS5wcm90b3R5cGUsXCJnZXRDb2xsZWN0aW9uc1wiLHZvaWQgMCksdChbZSgpXSxpLnByb3RvdHlwZSxcImdldENoaWxkcmVuRnVuY3Rpb25cIix2b2lkIDApLHQoW2UoKV0saS5wcm90b3R5cGUsXCJpdGVtRmlsdGVyRnVuY3Rpb25cIix2b2lkIDApLGk9dChbcihcImVzcmkuY29yZS5Db2xsZWN0aW9uRmxhdHRlbmVyXCIpXSxpKTtjb25zdCBuPWk7ZXhwb3J0e24gYXMgZGVmYXVsdH07XG4iLCIvKlxuQWxsIG1hdGVyaWFsIGNvcHlyaWdodCBFU1JJLCBBbGwgUmlnaHRzIFJlc2VydmVkLCB1bmxlc3Mgb3RoZXJ3aXNlIHNwZWNpZmllZC5cblNlZSBodHRwczovL2pzLmFyY2dpcy5jb20vNC4yNy9lc3JpL2NvcHlyaWdodC50eHQgZm9yIGRldGFpbHMuXG4qL1xuaW1wb3J0e21hcCBhcyBvLHJlc3VsdCBhcyBsfWZyb21cIi4vYXN5bmNVdGlscy5qc1wiO2ltcG9ydCBuIGZyb21cIi4vQ29sbGVjdGlvbi5qc1wiO2ltcG9ydCByIGZyb21cIi4vTG9hZGFibGUuanNcIjthc3luYyBmdW5jdGlvbiB0KG8sbCl7cmV0dXJuIGF3YWl0IG8ubG9hZCgpLGEobyxsKX1hc3luYyBmdW5jdGlvbiBhKHQsYSl7Y29uc3Qgcz1bXSxjPSguLi5vKT0+e2Zvcihjb25zdCBsIG9mIG8pbnVsbCE9bCYmKEFycmF5LmlzQXJyYXkobCk/YyguLi5sKTpuLmlzQ29sbGVjdGlvbihsKT9sLmZvckVhY2goKG89PmMobykpKTpyLmlzTG9hZGFibGUobCkmJnMucHVzaChsKSl9O2EoYyk7bGV0IGY9bnVsbDtpZihhd2FpdCBvKHMsKGFzeW5jIG89Pntjb25zdCBuPWF3YWl0IGwoaShvKT9vLmxvYWRBbGwoKTpvLmxvYWQoKSk7ITEhPT1uLm9rfHxmfHwoZj1uKX0pKSxmKXRocm93IGYuZXJyb3I7cmV0dXJuIHR9ZnVuY3Rpb24gaShvKXtyZXR1cm5cImxvYWRBbGxcImluIG8mJlwiZnVuY3Rpb25cIj09dHlwZW9mIG8ubG9hZEFsbH1leHBvcnR7dCBhcyBsb2FkQWxsLGEgYXMgbG9hZEFsbENoaWxkcmVufTtcbiIsIi8qXG5BbGwgbWF0ZXJpYWwgY29weXJpZ2h0IEVTUkksIEFsbCBSaWdodHMgUmVzZXJ2ZWQsIHVubGVzcyBvdGhlcndpc2Ugc3BlY2lmaWVkLlxuU2VlIGh0dHBzOi8vanMuYXJjZ2lzLmNvbS80LjI3L2VzcmkvY29weXJpZ2h0LnR4dCBmb3IgZGV0YWlscy5cbiovXG5pbXBvcnR7XyBhcyBlfWZyb21cIi4uLy4uL2NodW5rcy90c2xpYi5lczYuanNcIjtpbXBvcnQgciBmcm9tXCIuLi8uLi9yZXF1ZXN0LmpzXCI7aW1wb3J0e2dldE9yQ3JlYXRlTWFwVmFsdWUgYXMgdH1mcm9tXCIuLi8uLi9jb3JlL01hcFV0aWxzLmpzXCI7aW1wb3J0e3Rocm93SWZBYm9ydGVkIGFzIHN9ZnJvbVwiLi4vLi4vY29yZS9wcm9taXNlVXRpbHMuanNcIjtpbXBvcnR7am9pbiBhcyBvfWZyb21cIi4uLy4uL2NvcmUvdXJsVXRpbHMuanNcIjtpbXBvcnR7VmVyc2lvbiBhcyBpfWZyb21cIi4uLy4uL2NvcmUvVmVyc2lvbi5qc1wiO2ltcG9ydHtwcm9wZXJ0eSBhcyBhfWZyb21cIi4uLy4uL2NvcmUvYWNjZXNzb3JTdXBwb3J0L2RlY29yYXRvcnMvcHJvcGVydHkuanNcIjtpbXBvcnRcIi4uLy4uL2NvcmUvYWNjZXNzb3JTdXBwb3J0L2Vuc3VyZVR5cGUuanNcIjtpbXBvcnRcIi4uLy4uL2NvcmUvYXJyYXlVdGlscy5qc1wiO2ltcG9ydFwiLi4vLi4vY29yZS9oYXMuanNcIjtpbXBvcnR7cmVhZGVyIGFzIHB9ZnJvbVwiLi4vLi4vY29yZS9hY2Nlc3NvclN1cHBvcnQvZGVjb3JhdG9ycy9yZWFkZXIuanNcIjtpbXBvcnR7c3ViY2xhc3MgYXMgbH1mcm9tXCIuLi8uLi9jb3JlL2FjY2Vzc29yU3VwcG9ydC9kZWNvcmF0b3JzL3N1YmNsYXNzLmpzXCI7aW1wb3J0e09yaWdpbklkIGFzIG59ZnJvbVwiLi4vLi4vY29yZS9hY2Nlc3NvclN1cHBvcnQvUHJvcGVydHlPcmlnaW4uanNcIjtpbXBvcnQgYyBmcm9tXCIuLi8uLi9nZW9tZXRyeS9FeHRlbnQuanNcIjtpbXBvcnQgdSBmcm9tXCIuLi8uLi9nZW9tZXRyeS9TcGF0aWFsUmVmZXJlbmNlLmpzXCI7aW1wb3J0e3BhcnNlIGFzIHl9ZnJvbVwiLi4vc3VwcG9ydC9hcmNnaXNMYXllclVybC5qc1wiO2ltcG9ydHtpZCBhcyBtLHBvcHVwRW5hYmxlZCBhcyBkfWZyb21cIi4uL3N1cHBvcnQvY29tbW9uUHJvcGVydGllcy5qc1wiO2ltcG9ydHtpc0hvc3RlZExheWVyIGFzIGh9ZnJvbVwiLi4vLi4vcG9ydGFsL3N1cHBvcnQvcG9ydGFsSXRlbVV0aWxzLmpzXCI7Y29uc3QgZj1mPT57bGV0IGI9Y2xhc3MgZXh0ZW5kcyBme2NvbnN0cnVjdG9yKCl7c3VwZXIoLi4uYXJndW1lbnRzKSx0aGlzLmNhcGFiaWxpdGllcz12b2lkIDAsdGhpcy5jb3B5cmlnaHQ9bnVsbCx0aGlzLmZ1bGxFeHRlbnQ9bnVsbCx0aGlzLmxlZ2VuZEVuYWJsZWQ9ITAsdGhpcy5zcGF0aWFsUmVmZXJlbmNlPW51bGwsdGhpcy52ZXJzaW9uPXZvaWQgMCx0aGlzLl9hbGxMYXllcnNBbmRUYWJsZXNNYXA9bnVsbH1yZWFkQ2FwYWJpbGl0aWVzKGUscil7Y29uc3QgdD1yLmNhcGFiaWxpdGllcyYmci5jYXBhYmlsaXRpZXMuc3BsaXQoXCIsXCIpLm1hcCgoZT0+ZS50b0xvd2VyQ2FzZSgpLnRyaW0oKSkpO2lmKCF0KXJldHVybntvcGVyYXRpb25zOntzdXBwb3J0c0V4cG9ydE1hcDohMSxzdXBwb3J0c0V4cG9ydFRpbGVzOiExLHN1cHBvcnRzSWRlbnRpZnk6ITEsc3VwcG9ydHNRdWVyeTohMSxzdXBwb3J0c1RpbGVNYXA6ITF9LGV4cG9ydE1hcDpudWxsLGV4cG9ydFRpbGVzOm51bGx9O2NvbnN0IHM9dGhpcy50eXBlLG89XCJ0aWxlXCIhPT1zJiYhIXIuc3VwcG9ydHNEeW5hbWljTGF5ZXJzLGE9dC5pbmNsdWRlcyhcInF1ZXJ5XCIpLHA9dC5pbmNsdWRlcyhcIm1hcFwiKSxsPSEhci5leHBvcnRUaWxlc0FsbG93ZWQsbj10LmluY2x1ZGVzKFwidGlsZW1hcFwiKSxjPXQuaW5jbHVkZXMoXCJkYXRhXCIpLHU9XCJ0aWxlXCIhPT1zJiYoIXIudGlsZUluZm98fG8pLHk9XCJ0aWxlXCIhPT1zJiYoIXIudGlsZUluZm98fG8pLG09XCJ0aWxlXCIhPT1zLGQ9ci5jaW1WZXJzaW9uJiZpLnBhcnNlKHIuY2ltVmVyc2lvbiksaD1kPy5zaW5jZSgxLDQpPz8hMSxmPWQ/LnNpbmNlKDIsMCk/PyExO3JldHVybntvcGVyYXRpb25zOntzdXBwb3J0c0V4cG9ydE1hcDpwLHN1cHBvcnRzRXhwb3J0VGlsZXM6bCxzdXBwb3J0c0lkZW50aWZ5OmEsc3VwcG9ydHNRdWVyeTpjLHN1cHBvcnRzVGlsZU1hcDpufSxleHBvcnRNYXA6cD97c3VwcG9ydHNBcmNhZGVFeHByZXNzaW9uRm9yTGFiZWxpbmc6aCxzdXBwb3J0c1N1YmxheWVyc0NoYW5nZXM6bSxzdXBwb3J0c0R5bmFtaWNMYXllcnM6byxzdXBwb3J0c1N1YmxheWVyVmlzaWJpbGl0eTp1LHN1cHBvcnRzU3VibGF5ZXJEZWZpbml0aW9uRXhwcmVzc2lvbjp5LHN1cHBvcnRzQ0lNU3ltYm9sczpmfTpudWxsLGV4cG9ydFRpbGVzOmw/e21heEV4cG9ydFRpbGVzQ291bnQ6K3IubWF4RXhwb3J0VGlsZXNDb3VudH06bnVsbH19cmVhZFZlcnNpb24oZSxyKXtsZXQgdD1yLmN1cnJlbnRWZXJzaW9uO3JldHVybiB0fHwodD1yLmhhc093blByb3BlcnR5KFwiY2FwYWJpbGl0aWVzXCIpfHxyLmhhc093blByb3BlcnR5KFwidGFibGVzXCIpPzEwOnIuaGFzT3duUHJvcGVydHkoXCJzdXBwb3J0ZWRJbWFnZUZvcm1hdFR5cGVzXCIpPzkuMzE6OS4zKSx0fWFzeW5jIGZldGNoUmVsYXRlZFNlcnZpY2UoZSl7Y29uc3Qgcj10aGlzLnBvcnRhbEl0ZW07aWYoIXJ8fCFoKHIpKXJldHVybiBudWxsO3RoaXMuX3JlbGF0ZWRGZWF0dXJlU2VydmljZVByb21pc2V8fCh0aGlzLl9yZWxhdGVkRmVhdHVyZVNlcnZpY2VQcm9taXNlPXIuZmV0Y2hSZWxhdGVkSXRlbXMoe3JlbGF0aW9uc2hpcFR5cGU6XCJTZXJ2aWNlMlNlcnZpY2VcIixkaXJlY3Rpb246XCJyZXZlcnNlXCJ9LGUpLnRoZW4oKGU9PmUuZmluZCgoZT0+XCJGZWF0dXJlIFNlcnZpY2VcIj09PWUudHlwZSkpPz9udWxsKSwoKCk9Pm51bGwpKSk7Y29uc3QgdD1hd2FpdCB0aGlzLl9yZWxhdGVkRmVhdHVyZVNlcnZpY2VQcm9taXNlO3JldHVybiBzKGUpLHQ/e2l0ZW1JZDp0LmlkLHVybDp0LnVybH06bnVsbH1hc3luYyBmZXRjaFN1YmxheWVySW5mbyhlLHQpe2NvbnN0e3NvdXJjZTpzfT1lO2lmKHRoaXM/LnBvcnRhbEl0ZW0mJlwidGlsZVwiPT09dGhpcy50eXBlJiZcIm1hcC1sYXllclwiPT09cz8udHlwZSYmaCh0aGlzLnBvcnRhbEl0ZW0pJiZlLm9yaWdpbklkT2YoXCJ1cmxcIik8bi5TRVJWSUNFKXtjb25zdCByPWF3YWl0IHRoaXMuZmV0Y2hSZWxhdGVkU2VydmljZSh0KTtyJiYoZS51cmw9byhyLnVybCxzLm1hcExheWVySWQudG9TdHJpbmcoKSksZS5sYXllckl0ZW1JZD1yLml0ZW1JZCl9Y29uc3R7dXJsOml9PWU7bGV0IGE7aWYoXCJkYXRhLWxheWVyXCI9PT1zLnR5cGUpe2E9KGF3YWl0IHIoaSx7cmVzcG9uc2VUeXBlOlwianNvblwiLHF1ZXJ5OntmOlwianNvblwiLC4uLnRoaXMuY3VzdG9tUGFyYW1ldGVycyx0b2tlbjp0aGlzLmFwaUtleX0sLi4udH0pKS5kYXRhfWVsc2UgaWYoaSYmZS5vcmlnaW5JZE9mKFwidXJsXCIpPm4uU0VSVklDRSl0cnl7YT0oYXdhaXQgdGhpcy5fZmV0Y2hBbGxMYXllcnNBbmRUYWJsZXNGcm9tU2VydmljZShpKSkuZ2V0KHMubWFwTGF5ZXJJZCl9Y2F0Y2h7fWVsc2V7bGV0IHI9ZS5pZDtcIm1hcC1sYXllclwiPT09cz8udHlwZSYmKHI9cy5tYXBMYXllcklkKTt0cnl7YT0oYXdhaXQgdGhpcy5mZXRjaEFsbExheWVyc0FuZFRhYmxlcyh0KSkuZ2V0KHIpfWNhdGNoe319cmV0dXJuIGF9YXN5bmMgZmV0Y2hBbGxMYXllcnNBbmRUYWJsZXMoZSl7cmV0dXJuIHRoaXMuX2ZldGNoQWxsTGF5ZXJzQW5kVGFibGVzRnJvbVNlcnZpY2UodGhpcy5wYXJzZWRVcmw/LnBhdGgsZSl9YXN5bmMgX2ZldGNoQWxsTGF5ZXJzQW5kVGFibGVzRnJvbVNlcnZpY2UoZSxpKXthd2FpdCB0aGlzLmxvYWQoaSksdGhpcy5fYWxsTGF5ZXJzQW5kVGFibGVzTWFwfHw9bmV3IE1hcDtjb25zdCBhPXkoZSkscD10KHRoaXMuX2FsbExheWVyc0FuZFRhYmxlc01hcCxhPy51cmwucGF0aCwoKCk9PnIobyhhPy51cmwucGF0aCxcIi9sYXllcnNcIikse3Jlc3BvbnNlVHlwZTpcImpzb25cIixxdWVyeTp7ZjpcImpzb25cIiwuLi50aGlzLmN1c3RvbVBhcmFtZXRlcnMsdG9rZW46dGhpcy5hcGlLZXl9fSkudGhlbigoZT0+e2NvbnN0IHI9bmV3IE1hcDtmb3IoY29uc3QgdCBvZiBlLmRhdGEubGF5ZXJzKXIuc2V0KHQuaWQsdCk7cmV0dXJue3Jlc3VsdDpyfX0pLChlPT4oe2Vycm9yOmV9KSkpKSksbD1hd2FpdCBwO2lmKHMoaSksXCJyZXN1bHRcImluIGwpcmV0dXJuIGwucmVzdWx0O3Rocm93IGwuZXJyb3J9fTtyZXR1cm4gZShbYSh7cmVhZE9ubHk6ITB9KV0sYi5wcm90b3R5cGUsXCJjYXBhYmlsaXRpZXNcIix2b2lkIDApLGUoW3AoXCJzZXJ2aWNlXCIsXCJjYXBhYmlsaXRpZXNcIixbXCJjYXBhYmlsaXRpZXNcIixcImV4cG9ydFRpbGVzQWxsb3dlZFwiLFwibWF4RXhwb3J0VGlsZXNDb3VudFwiLFwic3VwcG9ydHNEeW5hbWljTGF5ZXJzXCIsXCJ0aWxlSW5mb1wiXSldLGIucHJvdG90eXBlLFwicmVhZENhcGFiaWxpdGllc1wiLG51bGwpLGUoW2Eoe2pzb246e3JlYWQ6e3NvdXJjZTpcImNvcHlyaWdodFRleHRcIn19fSldLGIucHJvdG90eXBlLFwiY29weXJpZ2h0XCIsdm9pZCAwKSxlKFthKHt0eXBlOmN9KV0sYi5wcm90b3R5cGUsXCJmdWxsRXh0ZW50XCIsdm9pZCAwKSxlKFthKG0pXSxiLnByb3RvdHlwZSxcImlkXCIsdm9pZCAwKSxlKFthKHt0eXBlOkJvb2xlYW4sanNvbjp7b3JpZ2luczp7c2VydmljZTp7cmVhZDp7ZW5hYmxlZDohMX19fSxyZWFkOntzb3VyY2U6XCJzaG93TGVnZW5kXCJ9LHdyaXRlOnt0YXJnZXQ6XCJzaG93TGVnZW5kXCJ9fX0pXSxiLnByb3RvdHlwZSxcImxlZ2VuZEVuYWJsZWRcIix2b2lkIDApLGUoW2EoZCldLGIucHJvdG90eXBlLFwicG9wdXBFbmFibGVkXCIsdm9pZCAwKSxlKFthKHt0eXBlOnV9KV0sYi5wcm90b3R5cGUsXCJzcGF0aWFsUmVmZXJlbmNlXCIsdm9pZCAwKSxlKFthKHtyZWFkT25seTohMH0pXSxiLnByb3RvdHlwZSxcInZlcnNpb25cIix2b2lkIDApLGUoW3AoXCJ2ZXJzaW9uXCIsW1wiY3VycmVudFZlcnNpb25cIixcImNhcGFiaWxpdGllc1wiLFwidGFibGVzXCIsXCJzdXBwb3J0ZWRJbWFnZUZvcm1hdFR5cGVzXCJdKV0sYi5wcm90b3R5cGUsXCJyZWFkVmVyc2lvblwiLG51bGwpLGI9ZShbbChcImVzcmkubGF5ZXJzLm1peGlucy5BcmNHSVNNYXBTZXJ2aWNlXCIpXSxiKSxifTtleHBvcnR7ZiBhcyBBcmNHSVNNYXBTZXJ2aWNlfTtcbiIsIi8qXG5BbGwgbWF0ZXJpYWwgY29weXJpZ2h0IEVTUkksIEFsbCBSaWdodHMgUmVzZXJ2ZWQsIHVubGVzcyBvdGhlcndpc2Ugc3BlY2lmaWVkLlxuU2VlIGh0dHBzOi8vanMuYXJjZ2lzLmNvbS80LjI3L2VzcmkvY29weXJpZ2h0LnR4dCBmb3IgZGV0YWlscy5cbiovXG5pbXBvcnR7XyBhcyBlfWZyb21cIi4uLy4uL2NodW5rcy90c2xpYi5lczYuanNcIjtpbXBvcnQgciBmcm9tXCIuLi8uLi9jb3JlL0NvbGxlY3Rpb24uanNcIjtpbXBvcnQgcyBmcm9tXCIuLi8uLi9jb3JlL0NvbGxlY3Rpb25GbGF0dGVuZXIuanNcIjtpbXBvcnQgdCBmcm9tXCIuLi8uLi9jb3JlL0Vycm9yLmpzXCI7aW1wb3J0IG8gZnJvbVwiLi4vLi4vY29yZS9Mb2dnZXIuanNcIjtpbXBvcnR7d2F0Y2ggYXMgYSxzeW5jIGFzIGx9ZnJvbVwiLi4vLi4vY29yZS9yZWFjdGl2ZVV0aWxzLmpzXCI7aW1wb3J0e3Byb3BlcnR5IGFzIGl9ZnJvbVwiLi4vLi4vY29yZS9hY2Nlc3NvclN1cHBvcnQvZGVjb3JhdG9ycy9wcm9wZXJ0eS5qc1wiO2ltcG9ydFwiLi4vLi4vY29yZS9hY2Nlc3NvclN1cHBvcnQvZW5zdXJlVHlwZS5qc1wiO2ltcG9ydFwiLi4vLi4vY29yZS9hcnJheVV0aWxzLmpzXCI7aW1wb3J0XCIuLi8uLi9jb3JlL2hhcy5qc1wiO2ltcG9ydHtnZXRQcm9wZXJ0aWVzIGFzIG59ZnJvbVwiLi4vLi4vY29yZS9hY2Nlc3NvclN1cHBvcnQvdXRpbHMuanNcIjtpbXBvcnR7c3ViY2xhc3MgYXMgeX1mcm9tXCIuLi8uLi9jb3JlL2FjY2Vzc29yU3VwcG9ydC9kZWNvcmF0b3JzL3N1YmNsYXNzLmpzXCI7aW1wb3J0e09yaWdpbklkIGFzIHUsbmFtZVRvSWQgYXMgYyxpZFRvTmFtZSBhcyBifWZyb21cIi4uLy4uL2NvcmUvYWNjZXNzb3JTdXBwb3J0L1Byb3BlcnR5T3JpZ2luLmpzXCI7aW1wb3J0IHAgZnJvbVwiLi4vc3VwcG9ydC9TdWJsYXllci5qc1wiO2ltcG9ydHtpc1N1YmxheWVyT3ZlcmhhdWwgYXMgZH1mcm9tXCIuLi9zdXBwb3J0L3N1YmxheWVyVXRpbHMuanNcIjtjb25zdCBmPW8uZ2V0TG9nZ2VyKFwiZXNyaS5sYXllcnMuVGlsZUxheWVyXCIpO2Z1bmN0aW9uIFMoZSxyKXtjb25zdCBzPVtdLHQ9e307cmV0dXJuIGU/KGUuZm9yRWFjaCgoZT0+e2NvbnN0IG89bmV3IHA7aWYoby5yZWFkKGUsciksdFtvLmlkXT1vLG51bGwhPWUucGFyZW50TGF5ZXJJZCYmLTEhPT1lLnBhcmVudExheWVySWQpe2NvbnN0IHI9dFtlLnBhcmVudExheWVySWRdO3Iuc3VibGF5ZXJzfHwoci5zdWJsYXllcnM9W10pLHIuc3VibGF5ZXJzLnVuc2hpZnQobyl9ZWxzZSBzLnVuc2hpZnQobyl9KSkscyk6c31jb25zdCBoPXIub2ZUeXBlKHApO2Z1bmN0aW9uIG0oZSxyKXtlJiZlLmZvckVhY2goKGU9PntyKGUpLGUuc3VibGF5ZXJzJiZlLnN1YmxheWVycy5sZW5ndGgmJm0oZS5zdWJsYXllcnMscil9KSl9Y29uc3QgRT1vPT57bGV0IEU9Y2xhc3MgZXh0ZW5kcyBve2NvbnN0cnVjdG9yKC4uLmUpe3N1cGVyKC4uLmUpLHRoaXMuYWxsU3VibGF5ZXJzPW5ldyBzKHtnZXRDb2xsZWN0aW9uczooKT0+W3RoaXMuc3VibGF5ZXJzXSxnZXRDaGlsZHJlbkZ1bmN0aW9uOmU9PmUuc3VibGF5ZXJzfSksdGhpcy5zdWJsYXllcnNTb3VyY2VKU09OPXtbdS5TRVJWSUNFXTp7fSxbdS5QT1JUQUxfSVRFTV06e30sW3UuV0VCX1NDRU5FXTp7fSxbdS5XRUJfTUFQXTp7fX0sdGhpcy5hZGRIYW5kbGVzKGEoKCgpPT50aGlzLnN1YmxheWVycyksKChlLHIpPT50aGlzLl9oYW5kbGVTdWJsYXllcnNDaGFuZ2UoZSxyKSksbCkpfWRlc3Ryb3koKXt0aGlzLmFsbFN1YmxheWVycy5kZXN0cm95KCl9cmVhZFN1YmxheWVycyhlLHIpe2lmKCFyfHwhZSlyZXR1cm47Y29uc3R7c3VibGF5ZXJzU291cmNlSlNPTjpzfT10aGlzLHQ9YyhyLm9yaWdpbik7aWYodDx1LlNFUlZJQ0UpcmV0dXJuO2lmKHNbdF09e2NvbnRleHQ6cix2aXNpYmxlTGF5ZXJzOmUudmlzaWJsZUxheWVyc3x8c1t0XS52aXNpYmxlTGF5ZXJzLGxheWVyczplLmxheWVyc3x8c1t0XS5sYXllcnN9LHQ+dS5TRVJWSUNFKXJldHVybjt0aGlzLl9zZXQoXCJzZXJ2aWNlU3VibGF5ZXJzXCIsdGhpcy5jcmVhdGVTdWJsYXllcnNGb3JPcmlnaW4oXCJzZXJ2aWNlXCIpLnN1YmxheWVycyk7Y29uc3R7c3VibGF5ZXJzOm8sb3JpZ2luOmF9PXRoaXMuY3JlYXRlU3VibGF5ZXJzRm9yT3JpZ2luKFwid2ViLWRvY3VtZW50XCIpLGw9bih0aGlzKTtsLnNldERlZmF1bHRPcmlnaW4oYSksdGhpcy5fc2V0KFwic3VibGF5ZXJzXCIsbmV3IGgobykpLGwuc2V0RGVmYXVsdE9yaWdpbihcInVzZXJcIil9ZmluZFN1YmxheWVyQnlJZChlKXtyZXR1cm4gdGhpcy5hbGxTdWJsYXllcnMuZmluZCgocj0+ci5pZD09PWUpKX1jcmVhdGVTZXJ2aWNlU3VibGF5ZXJzKCl7cmV0dXJuIHRoaXMuY3JlYXRlU3VibGF5ZXJzRm9yT3JpZ2luKFwic2VydmljZVwiKS5zdWJsYXllcnN9Y3JlYXRlU3VibGF5ZXJzRm9yT3JpZ2luKGUpe2NvbnN0IHI9YyhcIndlYi1kb2N1bWVudFwiPT09ZT9cIndlYi1tYXBcIjplKTtsZXQgcz11LlNFUlZJQ0UsdD10aGlzLnN1YmxheWVyc1NvdXJjZUpTT05bdS5TRVJWSUNFXS5sYXllcnMsbz10aGlzLnN1YmxheWVyc1NvdXJjZUpTT05bdS5TRVJWSUNFXS5jb250ZXh0LGE9bnVsbDtjb25zdCBsPVt1LlBPUlRBTF9JVEVNLHUuV0VCX1NDRU5FLHUuV0VCX01BUF0uZmlsdGVyKChlPT5lPD1yKSk7Zm9yKGNvbnN0IHUgb2YgbCl7Y29uc3QgZT10aGlzLnN1YmxheWVyc1NvdXJjZUpTT05bdV07ZChlLmxheWVycykmJihzPXUsdD1lLmxheWVycyxvPWUuY29udGV4dCxlLnZpc2libGVMYXllcnMmJihhPXt2aXNpYmxlTGF5ZXJzOmUudmlzaWJsZUxheWVycyxjb250ZXh0OmUuY29udGV4dH0pKX1jb25zdCBpPVt1LlBPUlRBTF9JVEVNLHUuV0VCX1NDRU5FLHUuV0VCX01BUF0uZmlsdGVyKChlPT5lPnMmJmU8PXIpKTtsZXQgbj1udWxsO2Zvcihjb25zdCB1IG9mIGkpe2NvbnN0e2xheWVyczplLHZpc2libGVMYXllcnM6cixjb250ZXh0OnN9PXRoaXMuc3VibGF5ZXJzU291cmNlSlNPTlt1XTtlJiYobj17bGF5ZXJzOmUsY29udGV4dDpzfSksciYmKGE9e3Zpc2libGVMYXllcnM6cixjb250ZXh0OnN9KX1jb25zdCB5PVModCxvKSxwPW5ldyBNYXAsZj1uZXcgU2V0O2lmKG4pZm9yKGNvbnN0IHUgb2Ygbi5sYXllcnMpcC5zZXQodS5pZCx1KTtpZihhPy52aXNpYmxlTGF5ZXJzKWZvcihjb25zdCB1IG9mIGEudmlzaWJsZUxheWVycylmLmFkZCh1KTtyZXR1cm4gbSh5LChlPT57biYmZS5yZWFkKHAuZ2V0KGUuaWQpLG4uY29udGV4dCksYSYmZS5yZWFkKHtkZWZhdWx0VmlzaWJpbGl0eTpmLmhhcyhlLmlkKX0sYS5jb250ZXh0KX0pKSx7b3JpZ2luOmIocyksc3VibGF5ZXJzOm5ldyBoKHtpdGVtczp5fSl9fXJlYWQoZSxyKXtzdXBlci5yZWFkKGUsciksdGhpcy5yZWFkU3VibGF5ZXJzKGUscil9X2hhbmRsZVN1YmxheWVyc0NoYW5nZShlLHIpe3ImJihyLmZvckVhY2goKGU9PntlLnBhcmVudD1udWxsLGUubGF5ZXI9bnVsbH0pKSx0aGlzLnJlbW92ZUhhbmRsZXMoXCJzdWJsYXllcnMtb3duZXJcIikpLGUmJihlLmZvckVhY2goKGU9PntlLnBhcmVudD10aGlzLGUubGF5ZXI9dGhpc30pKSx0aGlzLmFkZEhhbmRsZXMoW2Uub24oXCJhZnRlci1hZGRcIiwoKHtpdGVtOmV9KT0+e2UucGFyZW50PXRoaXMsZS5sYXllcj10aGlzfSkpLGUub24oXCJhZnRlci1yZW1vdmVcIiwoKHtpdGVtOmV9KT0+e2UucGFyZW50PW51bGwsZS5sYXllcj1udWxsfSkpXSxcInN1YmxheWVycy1vd25lclwiKSxcInRpbGVcIj09PXRoaXMudHlwZSYmdGhpcy5hZGRIYW5kbGVzKGUub24oXCJiZWZvcmUtY2hhbmdlc1wiLChlPT57Zi5lcnJvcihuZXcgdChcInRpbGVsYXllcjpzdWJsYXllcnMtbm9uLW1vZGlmaWFibGVcIixcIklTdWJsYXllciBjYW4ndCBiZSBhZGRlZCwgbW92ZWQsIG9yIHJlbW92ZWQgZnJvbSB0aGUgbGF5ZXIncyBzdWJsYXllcnNcIix7bGF5ZXI6dGhpc30pKSxlLnByZXZlbnREZWZhdWx0KCl9KSksXCJzdWJsYXllcnMtb3duZXJcIikpfX07cmV0dXJuIGUoW2koe3JlYWRPbmx5OiEwfSldLEUucHJvdG90eXBlLFwiYWxsU3VibGF5ZXJzXCIsdm9pZCAwKSxlKFtpKHtyZWFkT25seTohMCx0eXBlOnIub2ZUeXBlKHApfSldLEUucHJvdG90eXBlLFwic2VydmljZVN1YmxheWVyc1wiLHZvaWQgMCksZShbaSh7dmFsdWU6bnVsbCx0eXBlOmgsanNvbjp7cmVhZDohMSx3cml0ZTp7YWxsb3dOdWxsOiEwLGlnbm9yZU9yaWdpbjohMH19fSldLEUucHJvdG90eXBlLFwic3VibGF5ZXJzXCIsdm9pZCAwKSxlKFtpKHtyZWFkT25seTohMH0pXSxFLnByb3RvdHlwZSxcInN1YmxheWVyc1NvdXJjZUpTT05cIix2b2lkIDApLEU9ZShbeShcImVzcmkubGF5ZXJzLm1peGlucy5TdWJsYXllcnNPd25lclwiKV0sRSksRX07ZXhwb3J0e0UgYXMgU3VibGF5ZXJzT3duZXIsbSBhcyBmb3JFYWNoU3VibGF5ZXJ9O1xuIiwiLypcbkFsbCBtYXRlcmlhbCBjb3B5cmlnaHQgRVNSSSwgQWxsIFJpZ2h0cyBSZXNlcnZlZCwgdW5sZXNzIG90aGVyd2lzZSBzcGVjaWZpZWQuXG5TZWUgaHR0cHM6Ly9qcy5hcmNnaXMuY29tLzQuMjcvZXNyaS9jb3B5cmlnaHQudHh0IGZvciBkZXRhaWxzLlxuKi9cbmltcG9ydHtfIGFzIGV9ZnJvbVwiLi4vLi4vY2h1bmtzL3RzbGliLmVzNi5qc1wiO2ltcG9ydFwiLi4vLi4vZ2VvbWV0cnkuanNcIjtpbXBvcnQgciBmcm9tXCIuLi8uLi9Qb3B1cFRlbXBsYXRlLmpzXCI7aW1wb3J0XCIuLi8uLi9yZW5kZXJlcnMvQ2xhc3NCcmVha3NSZW5kZXJlci5qc1wiO2ltcG9ydFwiLi4vLi4vcmVuZGVyZXJzL0RpY3Rpb25hcnlSZW5kZXJlci5qc1wiO2ltcG9ydFwiLi4vLi4vcmVuZGVyZXJzL0RvdERlbnNpdHlSZW5kZXJlci5qc1wiO2ltcG9ydFwiLi4vLi4vcmVuZGVyZXJzL0hlYXRtYXBSZW5kZXJlci5qc1wiO2ltcG9ydFwiLi4vLi4vcmVuZGVyZXJzL1BpZUNoYXJ0UmVuZGVyZXIuanNcIjtpbXBvcnRcIi4uLy4uL3JlbmRlcmVycy9SZW5kZXJlci5qc1wiO2ltcG9ydFwiLi4vLi4vcmVuZGVyZXJzL1NpbXBsZVJlbmRlcmVyLmpzXCI7aW1wb3J0XCIuLi8uLi9yZW5kZXJlcnMvVW5pcXVlVmFsdWVSZW5kZXJlci5qc1wiO2ltcG9ydFwiLi4vLi4vcmVuZGVyZXJzL3N1cHBvcnQvanNvblV0aWxzLmpzXCI7aW1wb3J0e3JlbmRlcmVyVHlwZXMgYXMgdCx3ZWJTY2VuZVJlbmRlcmVyVHlwZXMgYXMgaX1mcm9tXCIuLi8uLi9yZW5kZXJlcnMvc3VwcG9ydC90eXBlcy5qc1wiO2ltcG9ydCBvIGZyb21cIi4uLy4uL3JlcXVlc3QuanNcIjtpbXBvcnR7aXNTeW1ib2wzRCBhcyBzfWZyb21cIi4uLy4uL3N5bWJvbHMuanNcIjtpbXBvcnQgYSBmcm9tXCIuLi8uLi9jb3JlL0NvbGxlY3Rpb24uanNcIjtpbXBvcnQgbCBmcm9tXCIuLi8uLi9jb3JlL0Vycm9yLmpzXCI7aW1wb3J0e0hhbmRsZU93bmVyTWl4aW4gYXMgbn1mcm9tXCIuLi8uLi9jb3JlL0hhbmRsZU93bmVyLmpzXCI7aW1wb3J0IGhhcyBmcm9tXCIuLi8uLi9jb3JlL2hhcy5qc1wiO2ltcG9ydHtJZGVudGlmaWFibGVNaXhpbiBhcyBwfWZyb21cIi4uLy4uL2NvcmUvSWRlbnRpZmlhYmxlLmpzXCI7aW1wb3J0e2Nsb25lIGFzIHl9ZnJvbVwiLi4vLi4vY29yZS9sYW5nLmpzXCI7aW1wb3J0IGQgZnJvbVwiLi4vLi4vY29yZS9Mb2FkYWJsZS5qc1wiO2ltcG9ydCB1IGZyb21cIi4uLy4uL2NvcmUvTG9nZ2VyLmpzXCI7aW1wb3J0e011bHRpT3JpZ2luSlNPTk1peGluIGFzIGN9ZnJvbVwiLi4vLi4vY29yZS9NdWx0aU9yaWdpbkpTT05TdXBwb3J0LmpzXCI7aW1wb3J0e3NxbEFuZCBhcyBmfWZyb21cIi4uLy4uL2NvcmUvc3FsLmpzXCI7aW1wb3J0e29iamVjdFRvUXVlcnkgYXMgbX1mcm9tXCIuLi8uLi9jb3JlL3VybFV0aWxzLmpzXCI7aW1wb3J0e3Byb3BlcnR5IGFzIGh9ZnJvbVwiLi4vLi4vY29yZS9hY2Nlc3NvclN1cHBvcnQvZGVjb3JhdG9ycy9wcm9wZXJ0eS5qc1wiO2ltcG9ydHtjYXN0IGFzIGJ9ZnJvbVwiLi4vLi4vY29yZS9hY2Nlc3NvclN1cHBvcnQvZGVjb3JhdG9ycy9jYXN0LmpzXCI7aW1wb3J0e3JlYWRlciBhcyBnfWZyb21cIi4uLy4uL2NvcmUvYWNjZXNzb3JTdXBwb3J0L2RlY29yYXRvcnMvcmVhZGVyLmpzXCI7aW1wb3J0e3N1YmNsYXNzIGFzIFN9ZnJvbVwiLi4vLi4vY29yZS9hY2Nlc3NvclN1cHBvcnQvZGVjb3JhdG9ycy9zdWJjbGFzcy5qc1wiO2ltcG9ydHt3cml0ZXIgYXMgSX1mcm9tXCIuLi8uLi9jb3JlL2FjY2Vzc29yU3VwcG9ydC9kZWNvcmF0b3JzL3dyaXRlci5qc1wiO2ltcG9ydHtlbnN1cmVJbnRlZ2VyIGFzIHcsZW5zdXJlVHlwZSBhcyB2LEludGVnZXIgYXMgaixlbnN1cmVDbGFzcyBhcyBEfWZyb21cIi4uLy4uL2NvcmUvYWNjZXNzb3JTdXBwb3J0L2Vuc3VyZVR5cGUuanNcIjtpbXBvcnR7T3JpZ2luSWQgYXMgTCxuYW1lVG9JZCBhcyBFfWZyb21cIi4uLy4uL2NvcmUvYWNjZXNzb3JTdXBwb3J0L1Byb3BlcnR5T3JpZ2luLmpzXCI7aW1wb3J0e2dldFByb3BlcnRpZXMgYXMgRn1mcm9tXCIuLi8uLi9jb3JlL2FjY2Vzc29yU3VwcG9ydC91dGlscy5qc1wiO2ltcG9ydCBQIGZyb21cIi4uL2dyYXBoaWNzL3NvdXJjZXMvc3VwcG9ydC9RdWVyeVRhc2suanNcIjtpbXBvcnQgeCBmcm9tXCIuL0ZlYXR1cmVUeXBlLmpzXCI7aW1wb3J0IE8gZnJvbVwiLi9GaWVsZC5qc1wiO2ltcG9ydCBUIGZyb21cIi4vRmllbGRzSW5kZXguanNcIjtpbXBvcnQgXyBmcm9tXCIuL0xhYmVsQ2xhc3MuanNcIjtpbXBvcnR7dmFsaWRhdGVMYWJlbGluZ0luZm8gYXMgQX1mcm9tXCIuL2xhYmVsaW5nSW5mby5qc1wiO2ltcG9ydCBWIGZyb21cIi4vTGF5ZXJGbG9vckluZm8uanNcIjtpbXBvcnR7Z2V0RmVhdHVyZUxheWVyQ2FwYWJpbGl0aWVzIGFzIE59ZnJvbVwiLi9zZXJ2aWNlQ2FwYWJpbGl0aWVzVXRpbHMuanNcIjtpbXBvcnR7RGF0YUxheWVyU291cmNlIGFzIE19ZnJvbVwiLi9zb3VyY2UvRGF0YUxheWVyU291cmNlLmpzXCI7aW1wb3J0e01hcExheWVyU291cmNlIGFzIHF9ZnJvbVwiLi9zb3VyY2UvTWFwTGF5ZXJTb3VyY2UuanNcIjtpbXBvcnQgVSBmcm9tXCIuLi8uLi9yZXN0L3N1cHBvcnQvQXR0YWNobWVudFF1ZXJ5LmpzXCI7aW1wb3J0IGsgZnJvbVwiLi4vLi4vcmVzdC9zdXBwb3J0L1F1ZXJ5LmpzXCI7aW1wb3J0e2NyZWF0ZVBvcHVwVGVtcGxhdGUgYXMgQ31mcm9tXCIuLi8uLi9zdXBwb3J0L3BvcHVwVXRpbHMuanNcIjtpbXBvcnQgUiBmcm9tXCIuLi8uLi9nZW9tZXRyeS9FeHRlbnQuanNcIjtpbXBvcnR7ZmVhdHVyZUdlb21ldHJ5VHlwZUtlYmFiRGljdGlvbmFyeSBhcyBRfWZyb21cIi4uLy4uL2dlb21ldHJ5L3N1cHBvcnQvdHlwZVV0aWxzLmpzXCI7dmFyIEI7ZnVuY3Rpb24gSihlKXtyZXR1cm4gbnVsbCE9ZSYmXCJlc3JpU01TXCI9PT1lLnR5cGV9ZnVuY3Rpb24gJChlLHIsdCl7Y29uc3QgaT10aGlzLm9yaWdpbklkT2Yocik+PUUodC5vcmlnaW4pO3JldHVybntpZ25vcmVPcmlnaW46ITAsYWxsb3dOdWxsOmksZW5hYmxlZDohIXQmJihcIm1hcC1pbWFnZVwiPT09dC5sYXllcj8udHlwZSYmKHQud3JpdGVTdWJsYXllclN0cnVjdHVyZXx8aSkpfX1mdW5jdGlvbiBHKGUscix0KXtyZXR1cm57ZW5hYmxlZDohIXQmJihcInRpbGVcIj09PXQubGF5ZXI/LnR5cGUmJih0Lm9yaWdpbiYmdGhpcy5vcmlnaW5JZE9mKHIpPj1FKHQub3JpZ2luKXx8dGhpcy5faXNPdmVycmlkZGVuKHIpKSl9fWZ1bmN0aW9uIEgoZSxyLHQpe3JldHVybntpZ25vcmVPcmlnaW46ITAsZW5hYmxlZDp0JiZ0LndyaXRlU3VibGF5ZXJTdHJ1Y3R1cmV8fCExfX1mdW5jdGlvbiB6KGUscix0KXtyZXR1cm57aWdub3JlT3JpZ2luOiEwLGVuYWJsZWQ6ISF0JiYodC53cml0ZVN1YmxheWVyU3RydWN0dXJlfHx0aGlzLm9yaWdpbklkT2Yocik+PUUodC5vcmlnaW4pKX19bGV0IEs9MDtjb25zdCBXPW5ldyBTZXQ7Vy5hZGQoXCJsYXllclwiKSxXLmFkZChcInBhcmVudFwiKSxXLmFkZChcImxvYWRlZFwiKSxXLmFkZChcImxvYWRTdGF0dXNcIiksVy5hZGQoXCJsb2FkRXJyb3JcIiksVy5hZGQoXCJsb2FkV2FybmluZ3NcIik7bGV0IFg9Qj1jbGFzcyBleHRlbmRzKG4oYyhwKGQpKSkpe2NvbnN0cnVjdG9yKGUpe3N1cGVyKGUpLHRoaXMuY2FwYWJpbGl0aWVzPXZvaWQgMCx0aGlzLmZpZWxkcz1udWxsLHRoaXMuZnVsbEV4dGVudD1udWxsLHRoaXMuZ2VvbWV0cnlUeXBlPW51bGwsdGhpcy5nbG9iYWxJZEZpZWxkPW51bGwsdGhpcy5sZWdlbmRFbmFibGVkPSEwLHRoaXMub2JqZWN0SWRGaWVsZD1udWxsLHRoaXMucGFyZW50PW51bGwsdGhpcy5wb3B1cEVuYWJsZWQ9ITAsdGhpcy5wb3B1cFRlbXBsYXRlPW51bGwsdGhpcy5zb3VyY2VKU09OPW51bGwsdGhpcy50aXRsZT1udWxsLHRoaXMudHlwZUlkRmllbGQ9bnVsbCx0aGlzLnR5cGVzPW51bGwsdGhpcy5fbGFzdFBhcnNlZFVybD1udWxsfWFzeW5jIGxvYWQoZSl7cmV0dXJuIHRoaXMuYWRkUmVzb2x2aW5nUHJvbWlzZSgoYXN5bmMoKT0+e2NvbnN0e2xheWVyOnIsdXJsOnR9PXRoaXM7aWYoIXImJiF0KXRocm93IG5ldyBsKFwic3VibGF5ZXI6bWlzc2luZy1sYXllclwiLFwiU3VibGF5ZXIgY2FuJ3QgYmUgbG9hZGVkIHdpdGhvdXQgYmVpbmcgcGFydCBvZiBhIGxheWVyXCIse3N1YmxheWVyOnRoaXN9KTtjb25zdCBpPXI/YXdhaXQgci5mZXRjaFN1YmxheWVySW5mbyh0aGlzLGUpOihhd2FpdCBvKHQse3Jlc3BvbnNlVHlwZTpcImpzb25cIixxdWVyeTp7ZjpcImpzb25cIn0sLi4uZX0pKS5kYXRhO2kmJih0aGlzLnNvdXJjZUpTT049aSx0aGlzLnJlYWQoe2xheWVyRGVmaW5pdGlvbjppfSx7b3JpZ2luOlwic2VydmljZVwifSkpfSkoKSksdGhpc31yZWFkQ2FwYWJpbGl0aWVzKGUscil7cj1yLmxheWVyRGVmaW5pdGlvbnx8cjtjb25zdHtvcGVyYXRpb25zOntzdXBwb3J0c1F1ZXJ5OnQsc3VwcG9ydHNRdWVyeUF0dGFjaG1lbnRzOml9LHF1ZXJ5OntzdXBwb3J0c0Zvcm1hdFBCRjpvfSxkYXRhOntzdXBwb3J0c0F0dGFjaG1lbnQ6c319PU4ocix0aGlzLnVybCk7cmV0dXJue2V4cG9ydE1hcDp7c3VwcG9ydHNNb2RpZmljYXRpb246ISFyLmNhbk1vZGlmeUxheWVyfSxvcGVyYXRpb25zOntzdXBwb3J0c1F1ZXJ5OnQsc3VwcG9ydHNRdWVyeUF0dGFjaG1lbnRzOml9LGRhdGE6e3N1cHBvcnRzQXR0YWNobWVudDpzfSxxdWVyeTp7c3VwcG9ydHNGb3JtYXRQQkY6b319fWdldCBkZWZhdWx0UG9wdXBUZW1wbGF0ZSgpe3JldHVybiB0aGlzLmNyZWF0ZVBvcHVwVGVtcGxhdGUoKX1zZXQgZGVmaW5pdGlvbkV4cHJlc3Npb24oZSl7dGhpcy5fc2V0QW5kTm90aWZ5TGF5ZXIoXCJkZWZpbml0aW9uRXhwcmVzc2lvblwiLGUpfWdldCBlZmZlY3RpdmVTY2FsZVJhbmdlKCl7Y29uc3R7bWluU2NhbGU6ZSxtYXhTY2FsZTpyfT10aGlzO3JldHVybnttaW5TY2FsZTplLG1heFNjYWxlOnJ9fWdldCBmaWVsZHNJbmRleCgpe3JldHVybiBuZXcgVCh0aGlzLmZpZWxkc3x8W10pfXNldCBmbG9vckluZm8oZSl7dGhpcy5fc2V0QW5kTm90aWZ5TGF5ZXIoXCJmbG9vckluZm9cIixlKX1yZWFkR2xvYmFsSWRGaWVsZEZyb21TZXJ2aWNlKGUscil7aWYoKHI9ci5sYXllckRlZmluaXRpb258fHIpLmdsb2JhbElkRmllbGQpcmV0dXJuIHIuZ2xvYmFsSWRGaWVsZDtpZihyLmZpZWxkcylmb3IoY29uc3QgdCBvZiByLmZpZWxkcylpZihcImVzcmlGaWVsZFR5cGVHbG9iYWxJRFwiPT09dC50eXBlKXJldHVybiB0Lm5hbWV9Z2V0IGlkKCl7Y29uc3QgZT10aGlzLl9nZXQoXCJpZFwiKTtyZXR1cm4gZT8/SysrfXNldCBpZChlKXt0aGlzLl9nZXQoXCJpZFwiKSE9PWUmJighMSE9PXRoaXMubGF5ZXI/LmNhcGFiaWxpdGllcz8uZXhwb3J0TWFwPy5zdXBwb3J0c0R5bmFtaWNMYXllcnM/dGhpcy5fc2V0KFwiaWRcIixlKTp0aGlzLl9sb2dMb2NrZWRFcnJvcihcImlkXCIsXCJjYXBhYmlsaXR5IG5vdCBhdmFpbGFibGUgJ2xheWVyLmNhcGFiaWxpdGllcy5leHBvcnRNYXAuc3VwcG9ydHNEeW5hbWljTGF5ZXJzJ1wiKSl9c2V0IGxhYmVsaW5nSW5mbyhlKXt0aGlzLl9zZXRBbmROb3RpZnlMYXllcihcImxhYmVsaW5nSW5mb1wiLGUpfXdyaXRlTGFiZWxpbmdJbmZvKGUscix0LGkpe2UmJmUubGVuZ3RoJiYoci5sYXllckRlZmluaXRpb249e2RyYXdpbmdJbmZvOntsYWJlbGluZ0luZm86ZS5tYXAoKGU9PmUud3JpdGUoe30saSkpKX19KX1zZXQgbGFiZWxzVmlzaWJsZShlKXt0aGlzLl9zZXRBbmROb3RpZnlMYXllcihcImxhYmVsc1Zpc2libGVcIixlKX1zZXQgbGF5ZXIoZSl7dGhpcy5fc2V0KFwibGF5ZXJcIixlKSx0aGlzLnN1YmxheWVycyYmdGhpcy5zdWJsYXllcnMuZm9yRWFjaCgocj0+ci5sYXllcj1lKSl9c2V0IGxpc3RNb2RlKGUpe3RoaXMuX3NldChcImxpc3RNb2RlXCIsZSl9c2V0IG1pblNjYWxlKGUpe3RoaXMuX3NldEFuZE5vdGlmeUxheWVyKFwibWluU2NhbGVcIixlKX1yZWFkTWluU2NhbGUoZSxyKXtyZXR1cm4gci5taW5TY2FsZXx8ci5sYXllckRlZmluaXRpb24mJnIubGF5ZXJEZWZpbml0aW9uLm1pblNjYWxlfHwwfXNldCBtYXhTY2FsZShlKXt0aGlzLl9zZXRBbmROb3RpZnlMYXllcihcIm1heFNjYWxlXCIsZSl9cmVhZE1heFNjYWxlKGUscil7cmV0dXJuIHIubWF4U2NhbGV8fHIubGF5ZXJEZWZpbml0aW9uJiZyLmxheWVyRGVmaW5pdGlvbi5tYXhTY2FsZXx8MH1yZWFkT2JqZWN0SWRGaWVsZEZyb21TZXJ2aWNlKGUscil7aWYoKHI9ci5sYXllckRlZmluaXRpb258fHIpLm9iamVjdElkRmllbGQpcmV0dXJuIHIub2JqZWN0SWRGaWVsZDtpZihyLmZpZWxkcylmb3IoY29uc3QgdCBvZiByLmZpZWxkcylpZihcImVzcmlGaWVsZFR5cGVPSURcIj09PXQudHlwZSlyZXR1cm4gdC5uYW1lfXNldCBvcGFjaXR5KGUpe3RoaXMuX3NldEFuZE5vdGlmeUxheWVyKFwib3BhY2l0eVwiLGUpfXJlYWRPcGFjaXR5KGUscil7Y29uc3QgdD1yLmxheWVyRGVmaW5pdGlvbjtyZXR1cm4gMS0uMDEqKChudWxsIT10Py50cmFuc3BhcmVuY3k/dC50cmFuc3BhcmVuY3k6dD8uZHJhd2luZ0luZm8/LnRyYW5zcGFyZW5jeSk/PzApfXdyaXRlT3BhY2l0eShlLHIsdCxpKXtyLmxheWVyRGVmaW5pdGlvbj17ZHJhd2luZ0luZm86e3RyYW5zcGFyZW5jeToxMDAtMTAwKmV9fX13cml0ZVBhcmVudChlLHIpe3RoaXMucGFyZW50JiZ0aGlzLnBhcmVudCE9PXRoaXMubGF5ZXI/ci5wYXJlbnRMYXllcklkPXcodGhpcy5wYXJlbnQuaWQpOnIucGFyZW50TGF5ZXJJZD0tMX1nZXQgcXVlcnlUYXNrKCl7aWYoIXRoaXMubGF5ZXIpcmV0dXJuIG51bGw7Y29uc3R7c3BhdGlhbFJlZmVyZW5jZTplfT10aGlzLmxheWVyLHI9XCJnZGJWZXJzaW9uXCJpbiB0aGlzLmxheWVyP3RoaXMubGF5ZXIuZ2RiVmVyc2lvbjp2b2lkIDAse2NhcGFiaWxpdGllczp0LGZpZWxkc0luZGV4Oml9PXRoaXMsbz1oYXMoXCJmZWF0dXJlbGF5ZXItcGJmXCIpJiZ0Py5xdWVyeS5zdXBwb3J0c0Zvcm1hdFBCRixzPXQ/Lm9wZXJhdGlvbnM/LnN1cHBvcnRzUXVlcnlBdHRhY2htZW50cz8/ITE7cmV0dXJuIG5ldyBQKHt1cmw6dGhpcy51cmwscGJmU3VwcG9ydGVkOm8sZmllbGRzSW5kZXg6aSxnZGJWZXJzaW9uOnIsc291cmNlU3BhdGlhbFJlZmVyZW5jZTplLHF1ZXJ5QXR0YWNobWVudHNTdXBwb3J0ZWQ6c30pfXNldCByZW5kZXJlcihlKXtpZihlKWZvcihjb25zdCByIG9mIGUuZ2V0U3ltYm9scygpKWlmKHMocikpe3UuZ2V0TG9nZ2VyKHRoaXMpLndhcm4oXCJTdWJsYXllciByZW5kZXJlciBzaG91bGQgdXNlIDJEIHN5bWJvbHNcIik7YnJlYWt9dGhpcy5fc2V0QW5kTm90aWZ5TGF5ZXIoXCJyZW5kZXJlclwiLGUpfWdldCBzb3VyY2UoKXtyZXR1cm4gdGhpcy5fZ2V0KFwic291cmNlXCIpfHxuZXcgcSh7bWFwTGF5ZXJJZDp0aGlzLmlkfSl9c2V0IHNvdXJjZShlKXt0aGlzLl9zZXRBbmROb3RpZnlMYXllcihcInNvdXJjZVwiLGUpfXNldCBzdWJsYXllcnMoZSl7dGhpcy5faGFuZGxlU3VibGF5ZXJzQ2hhbmdlKGUsdGhpcy5fZ2V0KFwic3VibGF5ZXJzXCIpKSx0aGlzLl9zZXQoXCJzdWJsYXllcnNcIixlKX1jYXN0U3VibGF5ZXJzKGUpe3JldHVybiB2KGEub2ZUeXBlKEIpLGUpfXdyaXRlU3VibGF5ZXJzKGUscix0KXt0aGlzLnN1YmxheWVycz8ubGVuZ3RoJiYoclt0XT10aGlzLnN1YmxheWVycy5tYXAoKGU9PmUuaWQpKS50b0FycmF5KCkucmV2ZXJzZSgpKX1yZWFkVHlwZUlkRmllbGQoZSxyKXtsZXQgdD0ocj1yLmxheWVyRGVmaW5pdGlvbnx8cikudHlwZUlkRmllbGQ7aWYodCYmci5maWVsZHMpe3Q9dC50b0xvd2VyQ2FzZSgpO2NvbnN0IGU9ci5maWVsZHMuZmluZCgoZT0+ZS5uYW1lLnRvTG93ZXJDYXNlKCk9PT10KSk7ZSYmKHQ9ZS5uYW1lKX1yZXR1cm4gdH1nZXQgdXJsKCl7Y29uc3QgZT10aGlzLmxheWVyPy5wYXJzZWRVcmw/P3RoaXMuX2xhc3RQYXJzZWRVcmwscj10aGlzLnNvdXJjZTtpZighZSlyZXR1cm4gbnVsbDtpZih0aGlzLl9sYXN0UGFyc2VkVXJsPWUsXCJtYXAtbGF5ZXJcIj09PXI/LnR5cGUpcmV0dXJuYCR7ZS5wYXRofS8ke3IubWFwTGF5ZXJJZH1gO2NvbnN0IHQ9e2xheWVyOkpTT04uc3RyaW5naWZ5KHtzb3VyY2U6dGhpcy5zb3VyY2V9KX07cmV0dXJuYCR7ZS5wYXRofS9keW5hbWljTGF5ZXI/JHttKHQpfWB9c2V0IHVybChlKXt0aGlzLl9vdmVycmlkZUlmU29tZShcInVybFwiLGUpfXNldCB2aXNpYmxlKGUpe3RoaXMuX3NldEFuZE5vdGlmeUxheWVyKFwidmlzaWJsZVwiLGUpfXdyaXRlVmlzaWJsZShlLHIsdCxpKXtyW3RdPXRoaXMuZ2V0QXRPcmlnaW4oXCJkZWZhdWx0VmlzaWJpbGl0eVwiLFwic2VydmljZVwiKXx8ZX1jbG9uZSgpe2NvbnN0e3N0b3JlOmV9PUYodGhpcykscj1uZXcgQjtyZXR1cm4gRihyKS5zdG9yZT1lLmNsb25lKFcpLHRoaXMuY29tbWl0UHJvcGVydHkoXCJ1cmxcIiksci5fbGFzdFBhcnNlZFVybD10aGlzLl9sYXN0UGFyc2VkVXJsLHJ9Y3JlYXRlUG9wdXBUZW1wbGF0ZShlKXtyZXR1cm4gQyh0aGlzLGUpfWNyZWF0ZVF1ZXJ5KCl7cmV0dXJuIG5ldyBrKHtyZXR1cm5HZW9tZXRyeTohMCx3aGVyZTp0aGlzLmRlZmluaXRpb25FeHByZXNzaW9ufHxcIjE9MVwifSl9YXN5bmMgY3JlYXRlRmVhdHVyZUxheWVyKCl7aWYodGhpcy5oYXNPd25Qcm9wZXJ0eShcInN1YmxheWVyc1wiKSlyZXR1cm4gbnVsbDtjb25zdHtsYXllcjplfT10aGlzLHI9ZT8ucGFyc2VkVXJsLHQ9bmV3KDAsKGF3YWl0IGltcG9ydChcIi4uL0ZlYXR1cmVMYXllci5qc1wiKSkuZGVmYXVsdCkoe3VybDpyPy5wYXRofSk7cmV0dXJuIHImJnRoaXMuc291cmNlJiYoXCJtYXAtbGF5ZXJcIj09PXRoaXMuc291cmNlLnR5cGU/dC5sYXllcklkPXRoaXMuc291cmNlLm1hcExheWVySWQ6dC5keW5hbWljRGF0YVNvdXJjZT10aGlzLnNvdXJjZSksbnVsbCE9ZT8ucmVmcmVzaEludGVydmFsJiYodC5yZWZyZXNoSW50ZXJ2YWw9ZS5yZWZyZXNoSW50ZXJ2YWwpLHRoaXMuZGVmaW5pdGlvbkV4cHJlc3Npb24mJih0LmRlZmluaXRpb25FeHByZXNzaW9uPXRoaXMuZGVmaW5pdGlvbkV4cHJlc3Npb24pLHRoaXMuZmxvb3JJbmZvJiYodC5mbG9vckluZm89eSh0aGlzLmZsb29ySW5mbykpLHRoaXMub3JpZ2luSWRPZihcImxhYmVsaW5nSW5mb1wiKT5MLlNFUlZJQ0UmJih0LmxhYmVsaW5nSW5mbz15KHRoaXMubGFiZWxpbmdJbmZvKSksdGhpcy5vcmlnaW5JZE9mKFwibGFiZWxzVmlzaWJsZVwiKT5MLkRFRkFVTFRTJiYodC5sYWJlbHNWaXNpYmxlPXRoaXMubGFiZWxzVmlzaWJsZSksdGhpcy5vcmlnaW5JZE9mKFwibGVnZW5kRW5hYmxlZFwiKT5MLkRFRkFVTFRTJiYodC5sZWdlbmRFbmFibGVkPXRoaXMubGVnZW5kRW5hYmxlZCksdGhpcy5vcmlnaW5JZE9mKFwidmlzaWJsZVwiKT5MLkRFRkFVTFRTJiYodC52aXNpYmxlPXRoaXMudmlzaWJsZSksdGhpcy5vcmlnaW5JZE9mKFwibWluU2NhbGVcIik+TC5ERUZBVUxUUyYmKHQubWluU2NhbGU9dGhpcy5taW5TY2FsZSksdGhpcy5vcmlnaW5JZE9mKFwibWF4U2NhbGVcIik+TC5ERUZBVUxUUyYmKHQubWF4U2NhbGU9dGhpcy5tYXhTY2FsZSksdGhpcy5vcmlnaW5JZE9mKFwib3BhY2l0eVwiKT5MLkRFRkFVTFRTJiYodC5vcGFjaXR5PXRoaXMub3BhY2l0eSksdGhpcy5vcmlnaW5JZE9mKFwicG9wdXBUZW1wbGF0ZVwiKT5MLkRFRkFVTFRTJiYodC5wb3B1cFRlbXBsYXRlPXkodGhpcy5wb3B1cFRlbXBsYXRlKSksdGhpcy5vcmlnaW5JZE9mKFwicmVuZGVyZXJcIik+TC5TRVJWSUNFJiYodC5yZW5kZXJlcj15KHRoaXMucmVuZGVyZXIpKSxcImRhdGEtbGF5ZXJcIj09PXRoaXMuc291cmNlPy50eXBlJiYodC5keW5hbWljRGF0YVNvdXJjZT10aGlzLnNvdXJjZS5jbG9uZSgpKSx0aGlzLm9yaWdpbklkT2YoXCJ0aXRsZVwiKT5MLkRFRkFVTFRTJiYodC50aXRsZT10aGlzLnRpdGxlKSxcIm1hcC1pbWFnZVwiPT09ZT8udHlwZSYmZS5vcmlnaW5JZE9mKFwiY3VzdG9tUGFyYW1ldGVyc1wiKT5MLkRFRkFVTFRTJiYodC5jdXN0b21QYXJhbWV0ZXJzPWUuY3VzdG9tUGFyYW1ldGVycyksXCJ0aWxlXCI9PT1lPy50eXBlJiZlLm9yaWdpbklkT2YoXCJjdXN0b21QYXJhbWV0ZXJzXCIpPkwuREVGQVVMVFMmJih0LmN1c3RvbVBhcmFtZXRlcnM9ZS5jdXN0b21QYXJhbWV0ZXJzKSx0fWdldEZpZWxkKGUpe3JldHVybiB0aGlzLmZpZWxkc0luZGV4LmdldChlKX1nZXRGZWF0dXJlVHlwZShlKXtjb25zdHt0eXBlSWRGaWVsZDpyLHR5cGVzOnR9PXRoaXM7aWYoIXJ8fCFlKXJldHVybiBudWxsO2NvbnN0IGk9ZS5hdHRyaWJ1dGVzP2UuYXR0cmlidXRlc1tyXTp2b2lkIDA7aWYobnVsbD09aSlyZXR1cm4gbnVsbDtsZXQgbz1udWxsO3JldHVybiB0Py5zb21lKChlPT57Y29uc3R7aWQ6cn09ZTtyZXR1cm4gbnVsbCE9ciYmKHIudG9TdHJpbmcoKT09PWkudG9TdHJpbmcoKSYmKG89ZSksISFvKX0pKSxvfWdldEZpZWxkRG9tYWluKGUscil7Y29uc3QgdD1yJiZyLmZlYXR1cmUsaT10aGlzLmdldEZlYXR1cmVUeXBlKHQpO2lmKGkpe2NvbnN0IHI9aS5kb21haW5zJiZpLmRvbWFpbnNbZV07aWYociYmXCJpbmhlcml0ZWRcIiE9PXIudHlwZSlyZXR1cm4gcn1yZXR1cm4gdGhpcy5fZ2V0TGF5ZXJEb21haW4oZSl9YXN5bmMgcXVlcnlBdHRhY2htZW50cyhlLHIpe2F3YWl0IHRoaXMubG9hZCgpLGU9VS5mcm9tKGUpO2NvbnN0IHQ9dGhpcy5jYXBhYmlsaXRpZXM7aWYoIXQ/LmRhdGE/LnN1cHBvcnRzQXR0YWNobWVudCl0aHJvdyBuZXcgbChcInF1ZXJ5QXR0YWNobWVudHM6bm90LXN1cHBvcnRlZFwiLFwidGhpcyBsYXllciBkb2Vzbid0IHN1cHBvcnQgYXR0YWNobWVudHNcIik7Y29uc3R7YXR0YWNobWVudFR5cGVzOmksb2JqZWN0SWRzOm8sZ2xvYmFsSWRzOnMsbnVtOmEsc2l6ZTpuLHN0YXJ0OnAsd2hlcmU6eX09ZTtpZighdD8ub3BlcmF0aW9ucz8uc3VwcG9ydHNRdWVyeUF0dGFjaG1lbnRzKXtpZihpPy5sZW5ndGg+MHx8cz8ubGVuZ3RoPjB8fG4/Lmxlbmd0aD4wfHxhfHxwfHx5KXRocm93IG5ldyBsKFwicXVlcnlBdHRhY2htZW50czpvcHRpb24tbm90LXN1cHBvcnRlZFwiLFwid2hlbiAnY2FwYWJpbGl0aWVzLm9wZXJhdGlvbnMuc3VwcG9ydHNRdWVyeUF0dGFjaG1lbnRzJyBpcyBmYWxzZSwgb25seSBvYmplY3RJZHMgaXMgc3VwcG9ydGVkXCIsZSl9aWYoIShvPy5sZW5ndGh8fHM/Lmxlbmd0aHx8eSkpdGhyb3cgbmV3IGwoXCJxdWVyeUF0dGFjaG1lbnRzOmludmFsaWQtcXVlcnlcIixcIidvYmplY3RJZHMnLCAnZ2xvYmFsSWRzJywgb3IgJ3doZXJlJyBhcmUgcmVxdWlyZWQgdG8gcGVyZm9ybSBhdHRhY2htZW50IHF1ZXJ5XCIsZSk7cmV0dXJuIHRoaXMucXVlcnlUYXNrLmV4ZWN1dGVBdHRhY2htZW50UXVlcnkoZSxyKX1hc3luYyBxdWVyeUZlYXR1cmVzKGU9dGhpcy5jcmVhdGVRdWVyeSgpLHIpe2lmKGF3YWl0IHRoaXMubG9hZCgpLCF0aGlzLmNhcGFiaWxpdGllcy5vcGVyYXRpb25zLnN1cHBvcnRzUXVlcnkpdGhyb3cgbmV3IGwoXCJxdWVyeUZlYXR1cmVzOm5vdC1zdXBwb3J0ZWRcIixcInRoaXMgbGF5ZXIgZG9lc24ndCBzdXBwb3J0IHF1ZXJpZXMuXCIpO2lmKCF0aGlzLnVybCl0aHJvdyBuZXcgbChcInF1ZXJ5RmVhdHVyZXM6bm90LXN1cHBvcnRlZFwiLFwidGhpcyBsYXllciBoYXMgbm8gdXJsLlwiKTtjb25zdCB0PWF3YWl0IHRoaXMucXVlcnlUYXNrLmV4ZWN1dGUoZSx7Li4ucixxdWVyeTp7Li4udGhpcy5sYXllcj8uY3VzdG9tUGFyYW1ldGVycyx0b2tlbjp0aGlzLmxheWVyPy5hcGlLZXl9fSk7aWYodD8uZmVhdHVyZXMpZm9yKGNvbnN0IGkgb2YgdC5mZWF0dXJlcylpLnNvdXJjZUxheWVyPXRoaXM7cmV0dXJuIHR9dG9FeHBvcnRJbWFnZUpTT04oZSl7Y29uc3Qgcj17aWQ6dGhpcy5pZCxzb3VyY2U6dGhpcy5zb3VyY2U/LnRvSlNPTigpfHx7bWFwTGF5ZXJJZDp0aGlzLmlkLHR5cGU6XCJtYXBMYXllclwifX0sdD1mKGUsdGhpcy5kZWZpbml0aW9uRXhwcmVzc2lvbik7bnVsbCE9dCYmKHIuZGVmaW5pdGlvbkV4cHJlc3Npb249dCk7Y29uc3QgaT1bXCJyZW5kZXJlclwiLFwibGFiZWxpbmdJbmZvXCIsXCJvcGFjaXR5XCIsXCJsYWJlbHNWaXNpYmxlXCJdLnJlZHVjZSgoKGUscik9PihlW3JdPXRoaXMub3JpZ2luSWRPZihyKSxlKSkse30pLG89T2JqZWN0LmtleXMoaSkuc29tZSgoZT0+aVtlXT5MLlNFUlZJQ0UpKTtpZihvKXtjb25zdCBlPXIuZHJhd2luZ0luZm89e307aWYoaS5yZW5kZXJlcj5MLlNFUlZJQ0UmJihlLnJlbmRlcmVyPXRoaXMucmVuZGVyZXI/dGhpcy5yZW5kZXJlci50b0pTT04oKTpudWxsKSxpLmxhYmVsc1Zpc2libGU+TC5TRVJWSUNFJiYoZS5zaG93TGFiZWxzPXRoaXMubGFiZWxzVmlzaWJsZSksdGhpcy5sYWJlbHNWaXNpYmxlJiZpLmxhYmVsaW5nSW5mbz5MLlNFUlZJQ0UpeyF0aGlzLmxvYWRlZCYmdGhpcy5sYWJlbGluZ0luZm8uc29tZSgoZT0+IWUubGFiZWxQbGFjZW1lbnQpKSYmdS5nZXRMb2dnZXIodGhpcykud2Fybk9uY2UoYEEgU3VibGF5ZXIgKHRpdGxlOiAke3RoaXMudGl0bGV9LCBpZDogJHt0aGlzLmlkfSkgaGFzIGFuIHVuZGVmaW5lZCAnbGFiZWxQbGFjZW1lbnQnIGFuZCBzbyBsYWJlbHMgY2Fubm90IGJlIGRpc3BsYXllZC4gRWl0aGVyIGRlZmluZSBhIHZhbGlkICdsYWJlbFBsYWNlbWVudCcgb3IgY2FsbCBTdWJsYXllci5sb2FkKCkgdG8gdXNlIGEgZGVmYXVsdCB2YWx1ZSBiYXNlZCBvbiBnZW9tZXRyeSB0eXBlLmAse3N1YmxheWVyOnRoaXN9KTtsZXQgcj10aGlzLmxhYmVsaW5nSW5mbztudWxsIT10aGlzLmdlb21ldHJ5VHlwZSYmKHI9QSh0aGlzLmxhYmVsaW5nSW5mbyxRLnRvSlNPTih0aGlzLmdlb21ldHJ5VHlwZSkpKSxlLmxhYmVsaW5nSW5mbz1yLmZpbHRlcigoZT0+ZS5sYWJlbFBsYWNlbWVudCkpLm1hcCgoZT0+ZS50b0pTT04oe29yaWdpbjpcInNlcnZpY2VcIixsYXllcjp0aGlzLmxheWVyfSkpKSxlLnNob3dMYWJlbHM9ITB9aS5vcGFjaXR5PkwuU0VSVklDRSYmKGUudHJhbnNwYXJlbmN5PTEwMC0xMDAqdGhpcy5vcGFjaXR5KSx0aGlzLl9hc3NpZ25EZWZhdWx0U3ltYm9sQ29sb3JzKGUucmVuZGVyZXIpfXJldHVybiByfV9hc3NpZ25EZWZhdWx0U3ltYm9sQ29sb3JzKGUpe3RoaXMuX2ZvckVhY2hTaW1wbGVNYXJrZXJTeW1ib2xzKGUsKGU9PntlLmNvbG9yfHxcImVzcmlTTVNYXCIhPT1lLnN0eWxlJiZcImVzcmlTTVNDcm9zc1wiIT09ZS5zdHlsZXx8KGUub3V0bGluZSYmZS5vdXRsaW5lLmNvbG9yP2UuY29sb3I9ZS5vdXRsaW5lLmNvbG9yOmUuY29sb3I9WzAsMCwwLDBdKX0pKX1fZm9yRWFjaFNpbXBsZU1hcmtlclN5bWJvbHMoZSxyKXtpZihlKXtjb25zdCB0PShcInVuaXF1ZVZhbHVlSW5mb3NcImluIGU/ZS51bmlxdWVWYWx1ZUluZm9zOlwiY2xhc3NCcmVha0luZm9zXCJpbiBlP2UuY2xhc3NCcmVha0luZm9zOm51bGwpPz9bXTtmb3IoY29uc3QgZSBvZiB0KUooZS5zeW1ib2wpJiZyKGUuc3ltYm9sKTtcInN5bWJvbFwiaW4gZSYmSihlLnN5bWJvbCkmJnIoZS5zeW1ib2wpLFwiZGVmYXVsdFN5bWJvbFwiaW4gZSYmSihlLmRlZmF1bHRTeW1ib2wpJiZyKGUuZGVmYXVsdFN5bWJvbCl9fV9zZXRBbmROb3RpZnlMYXllcihlLHIpe2NvbnN0IHQ9dGhpcy5sYXllcixpPXRoaXMuX2dldChlKTtsZXQgbyxzO3N3aXRjaChlKXtjYXNlXCJkZWZpbml0aW9uRXhwcmVzc2lvblwiOmNhc2VcImZsb29ySW5mb1wiOm89XCJzdXBwb3J0c1N1YmxheWVyRGVmaW5pdGlvbkV4cHJlc3Npb25cIjticmVhaztjYXNlXCJtaW5TY2FsZVwiOmNhc2VcIm1heFNjYWxlXCI6Y2FzZVwidmlzaWJsZVwiOm89XCJzdXBwb3J0c1N1YmxheWVyVmlzaWJpbGl0eVwiO2JyZWFrO2Nhc2VcImxhYmVsaW5nSW5mb1wiOmNhc2VcImxhYmVsc1Zpc2libGVcIjpjYXNlXCJvcGFjaXR5XCI6Y2FzZVwicmVuZGVyZXJcIjpjYXNlXCJzb3VyY2VcIjpvPVwic3VwcG9ydHNEeW5hbWljTGF5ZXJzXCIscz1cInN1cHBvcnRzTW9kaWZpY2F0aW9uXCJ9Y29uc3QgYT1GKHRoaXMpLmdldERlZmF1bHRPcmlnaW4oKTtpZihcInNlcnZpY2VcIiE9PWEpe2lmKG8mJiExPT09dGhpcy5sYXllcj8uY2FwYWJpbGl0aWVzPy5leHBvcnRNYXA/LltvXSlyZXR1cm4gdm9pZCB0aGlzLl9sb2dMb2NrZWRFcnJvcihlLGBjYXBhYmlsaXR5IG5vdCBhdmFpbGFibGUgJ2xheWVyLmNhcGFiaWxpdGllcy5leHBvcnRNYXAuJHtvfSdgKTtpZihzJiYhMT09PXRoaXMuY2FwYWJpbGl0aWVzPy5leHBvcnRNYXBbc10pcmV0dXJuIHZvaWQgdGhpcy5fbG9nTG9ja2VkRXJyb3IoZSxgY2FwYWJpbGl0eSBub3QgYXZhaWxhYmxlICdjYXBhYmlsaXRpZXMuZXhwb3J0TWFwLiR7c30nYCl9XCJzb3VyY2VcIiE9PWV8fFwibm90LWxvYWRlZFwiPT09dGhpcy5sb2FkU3RhdHVzPyh0aGlzLl9zZXQoZSxyKSxcInNlcnZpY2VcIiE9PWEmJmkhPT1yJiZ0JiZ0LmVtaXQmJnQuZW1pdChcInN1YmxheWVyLXVwZGF0ZVwiLHtwcm9wZXJ0eU5hbWU6ZSx0YXJnZXQ6dGhpc30pKTp0aGlzLl9sb2dMb2NrZWRFcnJvcihlLFwiJ3NvdXJjZScgY2FuJ3QgYmUgY2hhbmdlZCBhZnRlciBjYWxsaW5nIHN1YmxheWVyLmxvYWQoKVwiKX1faGFuZGxlU3VibGF5ZXJzQ2hhbmdlKGUscil7ciYmKHIuZm9yRWFjaCgoZT0+e2UucGFyZW50PW51bGwsZS5sYXllcj1udWxsfSkpLHRoaXMuaGFuZGxlcy5yZW1vdmVBbGwoKSksZSYmKGUuZm9yRWFjaCgoZT0+e2UucGFyZW50PXRoaXMsZS5sYXllcj10aGlzLmxheWVyfSkpLHRoaXMuaGFuZGxlcy5hZGQoW2Uub24oXCJhZnRlci1hZGRcIiwoKHtpdGVtOmV9KT0+e2UucGFyZW50PXRoaXMsZS5sYXllcj10aGlzLmxheWVyfSkpLGUub24oXCJhZnRlci1yZW1vdmVcIiwoKHtpdGVtOmV9KT0+e2UucGFyZW50PW51bGwsZS5sYXllcj1udWxsfSkpLGUub24oXCJiZWZvcmUtY2hhbmdlc1wiLChlPT57Y29uc3Qgcj10aGlzLmxheWVyPy5jYXBhYmlsaXRpZXM/LmV4cG9ydE1hcD8uc3VwcG9ydHNTdWJsYXllcnNDaGFuZ2VzO251bGw9PXJ8fHJ8fCh1LmdldExvZ2dlcih0aGlzKS5lcnJvcihuZXcgbChcInN1YmxheWVyOnN1YmxheWVycy1ub24tbW9kaWZpYWJsZVwiLFwiU3VibGF5ZXIgY2FuJ3QgYmUgYWRkZWQsIG1vdmVkLCBvciByZW1vdmVkIGZyb20gdGhlIGxheWVyJ3Mgc3VibGF5ZXJzXCIse3N1YmxheWVyOnRoaXMsbGF5ZXI6dGhpcy5sYXllcn0pKSxlLnByZXZlbnREZWZhdWx0KCkpfSkpXSkpfV9sb2dMb2NrZWRFcnJvcihlLHIpe2NvbnN0e2xheWVyOnQsZGVjbGFyZWRDbGFzczppfT10aGlzO3UuZ2V0TG9nZ2VyKGkpLmVycm9yKG5ldyBsKFwic3VibGF5ZXI6bG9ja2VkXCIsYFByb3BlcnR5ICcke1N0cmluZyhlKX0nIGNhbid0IGJlIGNoYW5nZWQgb24gU3VibGF5ZXIgZnJvbSB0aGUgbGF5ZXIgJyR7dD8uaWR9J2Ase3JlYXNvbjpyLHN1YmxheWVyOnRoaXMsbGF5ZXI6dH0pKX1fZ2V0TGF5ZXJEb21haW4oZSl7Y29uc3Qgcj10aGlzLmZpZWxkc0luZGV4LmdldChlKTtyZXR1cm4gcj9yLmRvbWFpbjpudWxsfX07WC50ZXN0PXtpc01hcEltYWdlTGF5ZXJPdmVycmlkZVBvbGljeTplPT5lPT09SHx8ZT09PSQsaXNUaWxlSW1hZ2VMYXllck92ZXJyaWRlUG9saWN5OmU9PmU9PT1HfSxlKFtoKHtyZWFkT25seTohMH0pXSxYLnByb3RvdHlwZSxcImNhcGFiaWxpdGllc1wiLHZvaWQgMCksZShbZyhcInNlcnZpY2VcIixcImNhcGFiaWxpdGllc1wiLFtcImxheWVyRGVmaW5pdGlvbi5jYW5Nb2RpZnlMYXllclwiLFwibGF5ZXJEZWZpbml0aW9uLmNhcGFiaWxpdGllc1wiXSldLFgucHJvdG90eXBlLFwicmVhZENhcGFiaWxpdGllc1wiLG51bGwpLGUoW2goKV0sWC5wcm90b3R5cGUsXCJkZWZhdWx0UG9wdXBUZW1wbGF0ZVwiLG51bGwpLGUoW2goe3R5cGU6U3RyaW5nLHZhbHVlOm51bGwsanNvbjp7bmFtZTpcImxheWVyRGVmaW5pdGlvbi5kZWZpbml0aW9uRXhwcmVzc2lvblwiLHdyaXRlOnthbGxvd051bGw6ITAsb3ZlcnJpZGVQb2xpY3k6JH19fSldLFgucHJvdG90eXBlLFwiZGVmaW5pdGlvbkV4cHJlc3Npb25cIixudWxsKSxlKFtoKHtyZWFkT25seTohMH0pXSxYLnByb3RvdHlwZSxcImVmZmVjdGl2ZVNjYWxlUmFuZ2VcIixudWxsKSxlKFtoKHt0eXBlOltPXSxqc29uOntvcmlnaW5zOntzZXJ2aWNlOntyZWFkOntzb3VyY2U6XCJsYXllckRlZmluaXRpb24uZmllbGRzXCJ9fX19fSldLFgucHJvdG90eXBlLFwiZmllbGRzXCIsdm9pZCAwKSxlKFtoKHtyZWFkT25seTohMH0pXSxYLnByb3RvdHlwZSxcImZpZWxkc0luZGV4XCIsbnVsbCksZShbaCh7dHlwZTpWLHZhbHVlOm51bGwsanNvbjp7bmFtZTpcImxheWVyRGVmaW5pdGlvbi5mbG9vckluZm9cIixyZWFkOntzb3VyY2U6XCJsYXllckRlZmluaXRpb24uZmxvb3JJbmZvXCJ9LHdyaXRlOnt0YXJnZXQ6XCJsYXllckRlZmluaXRpb24uZmxvb3JJbmZvXCIsb3ZlcnJpZGVQb2xpY3k6JH0sb3JpZ2luczp7XCJ3ZWItc2NlbmVcIjp7cmVhZDohMSx3cml0ZTohMX19fX0pXSxYLnByb3RvdHlwZSxcImZsb29ySW5mb1wiLG51bGwpLGUoW2goe3R5cGU6Uixqc29uOntyZWFkOntzb3VyY2U6XCJsYXllckRlZmluaXRpb24uZXh0ZW50XCJ9fX0pXSxYLnByb3RvdHlwZSxcImZ1bGxFeHRlbnRcIix2b2lkIDApLGUoW2goe3R5cGU6US5hcGlWYWx1ZXMsanNvbjp7b3JpZ2luczp7c2VydmljZTp7bmFtZTpcImxheWVyRGVmaW5pdGlvbi5nZW9tZXRyeVR5cGVcIixyZWFkOntyZWFkZXI6US5yZWFkfX19fX0pXSxYLnByb3RvdHlwZSxcImdlb21ldHJ5VHlwZVwiLHZvaWQgMCksZShbaCh7dHlwZTpTdHJpbmd9KV0sWC5wcm90b3R5cGUsXCJnbG9iYWxJZEZpZWxkXCIsdm9pZCAwKSxlKFtnKFwic2VydmljZVwiLFwiZ2xvYmFsSWRGaWVsZFwiLFtcImxheWVyRGVmaW5pdGlvbi5nbG9iYWxJZEZpZWxkXCIsXCJsYXllckRlZmluaXRpb24uZmllbGRzXCJdKV0sWC5wcm90b3R5cGUsXCJyZWFkR2xvYmFsSWRGaWVsZEZyb21TZXJ2aWNlXCIsbnVsbCksZShbaCh7dHlwZTpqLGpzb246e3dyaXRlOntpZ25vcmVPcmlnaW46ITB9fX0pXSxYLnByb3RvdHlwZSxcImlkXCIsbnVsbCksZShbaCh7dmFsdWU6bnVsbCx0eXBlOltfXSxqc29uOntyZWFkOntzb3VyY2U6XCJsYXllckRlZmluaXRpb24uZHJhd2luZ0luZm8ubGFiZWxpbmdJbmZvXCJ9LHdyaXRlOnt0YXJnZXQ6XCJsYXllckRlZmluaXRpb24uZHJhd2luZ0luZm8ubGFiZWxpbmdJbmZvXCIsb3ZlcnJpZGVQb2xpY3k6SH19fSldLFgucHJvdG90eXBlLFwibGFiZWxpbmdJbmZvXCIsbnVsbCksZShbSShcImxhYmVsaW5nSW5mb1wiKV0sWC5wcm90b3R5cGUsXCJ3cml0ZUxhYmVsaW5nSW5mb1wiLG51bGwpLGUoW2goe3R5cGU6Qm9vbGVhbix2YWx1ZTohMCxqc29uOntyZWFkOntzb3VyY2U6XCJsYXllckRlZmluaXRpb24uZHJhd2luZ0luZm8uc2hvd0xhYmVsc1wifSx3cml0ZTp7dGFyZ2V0OlwibGF5ZXJEZWZpbml0aW9uLmRyYXdpbmdJbmZvLnNob3dMYWJlbHNcIixvdmVycmlkZVBvbGljeTpIfX19KV0sWC5wcm90b3R5cGUsXCJsYWJlbHNWaXNpYmxlXCIsbnVsbCksZShbaCh7dmFsdWU6bnVsbH0pXSxYLnByb3RvdHlwZSxcImxheWVyXCIsbnVsbCksZShbaCh7dHlwZTpTdHJpbmcsanNvbjp7d3JpdGU6e292ZXJyaWRlUG9saWN5Okd9fX0pXSxYLnByb3RvdHlwZSxcImxheWVySXRlbUlkXCIsdm9pZCAwKSxlKFtoKHt0eXBlOkJvb2xlYW4sdmFsdWU6ITAsanNvbjp7b3JpZ2luczp7c2VydmljZTp7cmVhZDp7ZW5hYmxlZDohMX19fSxyZWFkOntzb3VyY2U6XCJzaG93TGVnZW5kXCJ9LHdyaXRlOnt0YXJnZXQ6XCJzaG93TGVnZW5kXCIsb3ZlcnJpZGVQb2xpY3k6en19fSldLFgucHJvdG90eXBlLFwibGVnZW5kRW5hYmxlZFwiLHZvaWQgMCksZShbaCh7dHlwZTpbXCJzaG93XCIsXCJoaWRlXCIsXCJoaWRlLWNoaWxkcmVuXCJdLHZhbHVlOlwic2hvd1wiLGpzb246e3JlYWQ6ITEsd3JpdGU6ITEsb3JpZ2luczp7XCJ3ZWItc2NlbmVcIjp7cmVhZDohMCx3cml0ZTohMH19fX0pXSxYLnByb3RvdHlwZSxcImxpc3RNb2RlXCIsbnVsbCksZShbaCh7dHlwZTpOdW1iZXIsdmFsdWU6MCxqc29uOnt3cml0ZTp7b3ZlcnJpZGVQb2xpY3k6SH19fSldLFgucHJvdG90eXBlLFwibWluU2NhbGVcIixudWxsKSxlKFtnKFwibWluU2NhbGVcIixbXCJtaW5TY2FsZVwiLFwibGF5ZXJEZWZpbml0aW9uLm1pblNjYWxlXCJdKV0sWC5wcm90b3R5cGUsXCJyZWFkTWluU2NhbGVcIixudWxsKSxlKFtoKHt0eXBlOk51bWJlcix2YWx1ZTowLGpzb246e3dyaXRlOntvdmVycmlkZVBvbGljeTpIfX19KV0sWC5wcm90b3R5cGUsXCJtYXhTY2FsZVwiLG51bGwpLGUoW2coXCJtYXhTY2FsZVwiLFtcIm1heFNjYWxlXCIsXCJsYXllckRlZmluaXRpb24ubWF4U2NhbGVcIl0pXSxYLnByb3RvdHlwZSxcInJlYWRNYXhTY2FsZVwiLG51bGwpLGUoW2goe3R5cGU6U3RyaW5nfSldLFgucHJvdG90eXBlLFwib2JqZWN0SWRGaWVsZFwiLHZvaWQgMCksZShbZyhcInNlcnZpY2VcIixcIm9iamVjdElkRmllbGRcIixbXCJsYXllckRlZmluaXRpb24ub2JqZWN0SWRGaWVsZFwiLFwibGF5ZXJEZWZpbml0aW9uLmZpZWxkc1wiXSldLFgucHJvdG90eXBlLFwicmVhZE9iamVjdElkRmllbGRGcm9tU2VydmljZVwiLG51bGwpLGUoW2goe3R5cGU6TnVtYmVyLHZhbHVlOjEsanNvbjp7d3JpdGU6e3RhcmdldDpcImxheWVyRGVmaW5pdGlvbi5kcmF3aW5nSW5mby50cmFuc3BhcmVuY3lcIixvdmVycmlkZVBvbGljeTpIfX19KV0sWC5wcm90b3R5cGUsXCJvcGFjaXR5XCIsbnVsbCksZShbZyhcIm9wYWNpdHlcIixbXCJsYXllckRlZmluaXRpb24uZHJhd2luZ0luZm8udHJhbnNwYXJlbmN5XCIsXCJsYXllckRlZmluaXRpb24udHJhbnNwYXJlbmN5XCJdKV0sWC5wcm90b3R5cGUsXCJyZWFkT3BhY2l0eVwiLG51bGwpLGUoW0koXCJvcGFjaXR5XCIpXSxYLnByb3RvdHlwZSxcIndyaXRlT3BhY2l0eVwiLG51bGwpLGUoW2goe2pzb246e3R5cGU6aix3cml0ZTp7dGFyZ2V0OlwicGFyZW50TGF5ZXJJZFwiLHdyaXRlckVuc3VyZXNOb25OdWxsOiEwLG92ZXJyaWRlUG9saWN5Okh9fX0pXSxYLnByb3RvdHlwZSxcInBhcmVudFwiLHZvaWQgMCksZShbSShcInBhcmVudFwiKV0sWC5wcm90b3R5cGUsXCJ3cml0ZVBhcmVudFwiLG51bGwpLGUoW2goe3R5cGU6Qm9vbGVhbix2YWx1ZTohMCxqc29uOntyZWFkOntzb3VyY2U6XCJkaXNhYmxlUG9wdXBcIixyZWFkZXI6KGUscik9PiFyLmRpc2FibGVQb3B1cH0sd3JpdGU6e3RhcmdldDpcImRpc2FibGVQb3B1cFwiLG92ZXJyaWRlUG9saWN5Onosd3JpdGVyKGUscix0KXtyW3RdPSFlfX19fSldLFgucHJvdG90eXBlLFwicG9wdXBFbmFibGVkXCIsdm9pZCAwKSxlKFtoKHt0eXBlOnIsanNvbjp7cmVhZDp7c291cmNlOlwicG9wdXBJbmZvXCJ9LHdyaXRlOnt0YXJnZXQ6XCJwb3B1cEluZm9cIixvdmVycmlkZVBvbGljeTp6fX19KV0sWC5wcm90b3R5cGUsXCJwb3B1cFRlbXBsYXRlXCIsdm9pZCAwKSxlKFtoKHtyZWFkT25seTohMH0pXSxYLnByb3RvdHlwZSxcInF1ZXJ5VGFza1wiLG51bGwpLGUoW2goe3R5cGVzOnQsdmFsdWU6bnVsbCxqc29uOntuYW1lOlwibGF5ZXJEZWZpbml0aW9uLmRyYXdpbmdJbmZvLnJlbmRlcmVyXCIsd3JpdGU6e292ZXJyaWRlUG9saWN5Okh9LG9yaWdpbnM6e1wid2ViLXNjZW5lXCI6e3R5cGVzOmksbmFtZTpcImxheWVyRGVmaW5pdGlvbi5kcmF3aW5nSW5mby5yZW5kZXJlclwiLHdyaXRlOntvdmVycmlkZVBvbGljeTpIfX19fX0pXSxYLnByb3RvdHlwZSxcInJlbmRlcmVyXCIsbnVsbCksZShbaCh7dHlwZXM6e2tleTpcInR5cGVcIixiYXNlOm51bGwsdHlwZU1hcDp7XCJkYXRhLWxheWVyXCI6TSxcIm1hcC1sYXllclwiOnF9fSxjYXN0KGUpe2lmKGUpe2lmKFwibWFwTGF5ZXJJZFwiaW4gZSlyZXR1cm4gRChxLGUpO2lmKFwiZGF0YVNvdXJjZVwiaW4gZSlyZXR1cm4gRChNLGUpfXJldHVybiBlfSxqc29uOntuYW1lOlwibGF5ZXJEZWZpbml0aW9uLnNvdXJjZVwiLHdyaXRlOntvdmVycmlkZVBvbGljeTpIfX19KV0sWC5wcm90b3R5cGUsXCJzb3VyY2VcIixudWxsKSxlKFtoKCldLFgucHJvdG90eXBlLFwic291cmNlSlNPTlwiLHZvaWQgMCksZShbaCh7dmFsdWU6bnVsbCxqc29uOnt0eXBlOltqXSx3cml0ZTp7dGFyZ2V0Olwic3ViTGF5ZXJJZHNcIixhbGxvd051bGw6ITAsb3ZlcnJpZGVQb2xpY3k6SH19fSldLFgucHJvdG90eXBlLFwic3VibGF5ZXJzXCIsbnVsbCksZShbYihcInN1YmxheWVyc1wiKV0sWC5wcm90b3R5cGUsXCJjYXN0U3VibGF5ZXJzXCIsbnVsbCksZShbSShcInN1YmxheWVyc1wiKV0sWC5wcm90b3R5cGUsXCJ3cml0ZVN1YmxheWVyc1wiLG51bGwpLGUoW2goe3R5cGU6U3RyaW5nLGpzb246e25hbWU6XCJuYW1lXCIsd3JpdGU6e292ZXJyaWRlUG9saWN5Onp9fX0pXSxYLnByb3RvdHlwZSxcInRpdGxlXCIsdm9pZCAwKSxlKFtoKHt0eXBlOlN0cmluZ30pXSxYLnByb3RvdHlwZSxcInR5cGVJZEZpZWxkXCIsdm9pZCAwKSxlKFtnKFwidHlwZUlkRmllbGRcIixbXCJsYXllckRlZmluaXRpb24udHlwZUlkRmllbGRcIl0pXSxYLnByb3RvdHlwZSxcInJlYWRUeXBlSWRGaWVsZFwiLG51bGwpLGUoW2goe3R5cGU6W3hdLGpzb246e29yaWdpbnM6e3NlcnZpY2U6e3JlYWQ6e3NvdXJjZTpcImxheWVyRGVmaW5pdGlvbi50eXBlc1wifX19fX0pXSxYLnByb3RvdHlwZSxcInR5cGVzXCIsdm9pZCAwKSxlKFtoKHt0eXBlOlN0cmluZyxqc29uOntuYW1lOlwibGF5ZXJVcmxcIix3cml0ZTp7b3ZlcnJpZGVQb2xpY3k6R319fSldLFgucHJvdG90eXBlLFwidXJsXCIsbnVsbCksZShbaCh7dHlwZTpCb29sZWFuLHZhbHVlOiEwLGpzb246e3JlYWQ6e3NvdXJjZTpcImRlZmF1bHRWaXNpYmlsaXR5XCJ9LHdyaXRlOnt0YXJnZXQ6XCJkZWZhdWx0VmlzaWJpbGl0eVwiLG92ZXJyaWRlUG9saWN5Okh9fX0pXSxYLnByb3RvdHlwZSxcInZpc2libGVcIixudWxsKSxlKFtJKFwidmlzaWJsZVwiKV0sWC5wcm90b3R5cGUsXCJ3cml0ZVZpc2libGVcIixudWxsKSxYPUI9ZShbUyhcImVzcmkubGF5ZXJzLnN1cHBvcnQuU3VibGF5ZXJcIildLFgpO2NvbnN0IFk9WDtleHBvcnR7WSBhcyBkZWZhdWx0fTtcbiIsIi8qXG5BbGwgbWF0ZXJpYWwgY29weXJpZ2h0IEVTUkksIEFsbCBSaWdodHMgUmVzZXJ2ZWQsIHVubGVzcyBvdGhlcndpc2Ugc3BlY2lmaWVkLlxuU2VlIGh0dHBzOi8vanMuYXJjZ2lzLmNvbS80LjI3L2VzcmkvY29weXJpZ2h0LnR4dCBmb3IgZGV0YWlscy5cbiovXG5pbXBvcnR7T3JpZ2luSWQgYXMgcn1mcm9tXCIuLi8uLi9jb3JlL2FjY2Vzc29yU3VwcG9ydC9Qcm9wZXJ0eU9yaWdpbi5qc1wiO2Z1bmN0aW9uIGUocixlLG4pe2NvbnN0IG89ZS5mbGF0dGVuKCgoe3N1YmxheWVyczpyfSk9PnIpKS5sZW5ndGg7aWYobyE9PXIubGVuZ3RoKXJldHVybiEwO3JldHVybiEhci5zb21lKChyPT5yLm9yaWdpbklkT2YoXCJtaW5TY2FsZVwiKT5ufHxyLm9yaWdpbklkT2YoXCJtYXhTY2FsZVwiKT5ufHxyLm9yaWdpbklkT2YoXCJyZW5kZXJlclwiKT5ufHxyLm9yaWdpbklkT2YoXCJsYWJlbGluZ0luZm9cIik+bnx8ci5vcmlnaW5JZE9mKFwib3BhY2l0eVwiKT5ufHxyLm9yaWdpbklkT2YoXCJsYWJlbHNWaXNpYmxlXCIpPm58fHIub3JpZ2luSWRPZihcInNvdXJjZVwiKT5uKSl8fCFpKHIsZSl9ZnVuY3Rpb24gbihlLG4sbyl7cmV0dXJuISFlLnNvbWUoKGU9Pntjb25zdCBuPWUuc291cmNlO3JldHVybiEoIW58fFwibWFwLWxheWVyXCI9PT1uLnR5cGUmJm4ubWFwTGF5ZXJJZD09PWUuaWQmJihudWxsPT1uLmdkYlZlcnNpb258fG4uZ2RiVmVyc2lvbj09PW8pKXx8ZS5vcmlnaW5JZE9mKFwicmVuZGVyZXJcIik+ci5TRVJWSUNFfHxlLm9yaWdpbklkT2YoXCJsYWJlbGluZ0luZm9cIik+ci5TRVJWSUNFfHxlLm9yaWdpbklkT2YoXCJvcGFjaXR5XCIpPnIuU0VSVklDRXx8ZS5vcmlnaW5JZE9mKFwibGFiZWxzVmlzaWJsZVwiKT5yLlNFUlZJQ0V9KSl8fCFpKGUsbil9ZnVuY3Rpb24gaShyLGUpe2lmKCFyfHwhci5sZW5ndGh8fG51bGw9PWUpcmV0dXJuITA7Y29uc3Qgbj1lLnNsaWNlKCkucmV2ZXJzZSgpLmZsYXR0ZW4oKCh7c3VibGF5ZXJzOnJ9KT0+ciYmci50b0FycmF5KCkucmV2ZXJzZSgpKSkubWFwKChyPT5yLmlkKSkudG9BcnJheSgpO2lmKHIubGVuZ3RoPm4ubGVuZ3RoKXJldHVybiExO2xldCBpPTA7Y29uc3Qgbz1uLmxlbmd0aDtmb3IoY29uc3R7aWQ6dH1vZiByKXtmb3IoO2k8byYmbltpXSE9PXQ7KWkrKztpZihpPj1vKXJldHVybiExfXJldHVybiEwfWZ1bmN0aW9uIG8ocil7cmV0dXJuISFyJiZyLnNvbWUoKHI9Pm51bGwhPXIubWluU2NhbGV8fHIubGF5ZXJEZWZpbml0aW9uJiZudWxsIT1yLmxheWVyRGVmaW5pdGlvbi5taW5TY2FsZSkpfWV4cG9ydHtuIGFzIGlzRXhwb3J0RHluYW1pYyxvIGFzIGlzU3VibGF5ZXJPdmVyaGF1bCxlIGFzIHNob3VsZFdyaXRlU3VibGF5ZXJTdHJ1Y3R1cmV9O1xuIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9