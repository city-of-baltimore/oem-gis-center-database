"use strict";
(self["webpackChunkexb_client"] = self["webpackChunkexb_client"] || []).push([["vendors-node_modules_arcgis_core_layers_WMSLayer_js"],{

/***/ "./node_modules/@arcgis/core/core/CollectionFlattener.js":
/*!***************************************************************!*\
  !*** ./node_modules/@arcgis/core/core/CollectionFlattener.js ***!
  \***************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (/* binding */ n)
/* harmony export */ });
/* harmony import */ var _chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../chunks/tslib.es6.js */ "./node_modules/@arcgis/core/chunks/tslib.es6.js");
/* harmony import */ var _Collection_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./Collection.js */ "./node_modules/@arcgis/core/core/Collection.js");
/* harmony import */ var _Error_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./Error.js */ "./node_modules/@arcgis/core/core/Error.js");
/* harmony import */ var _Logger_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./Logger.js */ "./node_modules/@arcgis/core/core/Logger.js");
/* harmony import */ var _accessorSupport_watch_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./accessorSupport/watch.js */ "./node_modules/@arcgis/core/core/accessorSupport/watch.js");
/* harmony import */ var _accessorSupport_trackingUtils_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./accessorSupport/trackingUtils.js */ "./node_modules/@arcgis/core/core/accessorSupport/trackingUtils.js");
/* harmony import */ var _accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./accessorSupport/decorators/property.js */ "./node_modules/@arcgis/core/core/accessorSupport/decorators/property.js");
/* harmony import */ var _accessorSupport_decorators_subclass_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ./accessorSupport/decorators/subclass.js */ "./node_modules/@arcgis/core/core/accessorSupport/decorators/subclass.js");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.27/esri/copyright.txt for details.
*/
let i=class extends _Collection_js__WEBPACK_IMPORTED_MODULE_1__["default"]{constructor(t){super(t),this.getCollections=null}initialize(){this.own((0,_accessorSupport_trackingUtils_js__WEBPACK_IMPORTED_MODULE_5__.autorun)((()=>this._refresh())))}destroy(){this.getCollections=null}_refresh(){const t=null!=this.getCollections?this.getCollections():null;if(null==t)return void this.removeAll();let o=0;for(const s of t)null!=s&&(o=this._processCollection(o,s));this.splice(o,this.length)}_createNewInstance(t){return new _Collection_js__WEBPACK_IMPORTED_MODULE_1__["default"](t)}_processCollection(t,o){if(!o)return t;const s=this.itemFilterFunction??(t=>!!t);for(const e of o)if(e){if(s(e)){const o=this.indexOf(e,t);o>=0?o!==t&&this.reorder(e,t):this.add(e,t),++t}if(this.getChildrenFunction){const o=this.getChildrenFunction(e);if(Array.isArray(o))for(const s of o)t=this._processCollection(t,s);else t=this._processCollection(t,o)}}return t}};(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_6__.property)()],i.prototype,"getCollections",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_6__.property)()],i.prototype,"getChildrenFunction",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_6__.property)()],i.prototype,"itemFilterFunction",void 0),i=(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_accessorSupport_decorators_subclass_js__WEBPACK_IMPORTED_MODULE_7__.subclass)("esri.core.CollectionFlattener")],i);const n=i;


/***/ }),

/***/ "./node_modules/@arcgis/core/geometry/support/scaleUtils.js":
/*!******************************************************************!*\
  !*** ./node_modules/@arcgis/core/geometry/support/scaleUtils.js ***!
  \******************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "getExtentForScale": () => (/* binding */ d),
/* harmony export */   "getResolutionForScale": () => (/* binding */ r),
/* harmony export */   "getResolutionInMetersForScale": () => (/* binding */ o),
/* harmony export */   "getScale": () => (/* binding */ i),
/* harmony export */   "getScaleForResolution": () => (/* binding */ c)
/* harmony export */ });
/* harmony import */ var _core_unitUtils_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../core/unitUtils.js */ "./node_modules/@arcgis/core/core/unitUtils.js");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.27/esri/copyright.txt for details.
*/
const e=96;function i(i,r){const o=r||i.extent,c=i.width,d=(0,_core_unitUtils_js__WEBPACK_IMPORTED_MODULE_0__.getMetersPerUnitForSR)(o&&o.spatialReference);return o&&c?o.width/c*d*_core_unitUtils_js__WEBPACK_IMPORTED_MODULE_0__.inchesPerMeter*e:0}function r(i,r){return i/((0,_core_unitUtils_js__WEBPACK_IMPORTED_MODULE_0__.getMetersPerUnitForSR)(r)*_core_unitUtils_js__WEBPACK_IMPORTED_MODULE_0__.inchesPerMeter*e)}function o(t){return t/(_core_unitUtils_js__WEBPACK_IMPORTED_MODULE_0__.inchesPerMeter*e)}function c(i,r){return i*((0,_core_unitUtils_js__WEBPACK_IMPORTED_MODULE_0__.getMetersPerUnitForSR)(r)*_core_unitUtils_js__WEBPACK_IMPORTED_MODULE_0__.inchesPerMeter*e)}function d(t,n){const e=t.extent,i=t.width-(t.padding?t.padding.left+t.padding.right:0),o=r(n,e.spatialReference);return e.clone().expand(o*i/e.width)}


/***/ }),

/***/ "./node_modules/@arcgis/core/layers/WMSLayer.js":
/*!******************************************************!*\
  !*** ./node_modules/@arcgis/core/layers/WMSLayer.js ***!
  \******************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (/* binding */ Y)
/* harmony export */ });
/* harmony import */ var _chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../chunks/tslib.es6.js */ "./node_modules/@arcgis/core/chunks/tslib.es6.js");
/* harmony import */ var _config_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../config.js */ "./node_modules/@arcgis/core/config.js");
/* harmony import */ var _Graphic_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../Graphic.js */ "./node_modules/@arcgis/core/Graphic.js");
/* harmony import */ var _PopupTemplate_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../PopupTemplate.js */ "./node_modules/@arcgis/core/PopupTemplate.js");
/* harmony import */ var _request_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../request.js */ "./node_modules/@arcgis/core/request.js");
/* harmony import */ var _core_Collection_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../core/Collection.js */ "./node_modules/@arcgis/core/core/Collection.js");
/* harmony import */ var _core_CollectionFlattener_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../core/CollectionFlattener.js */ "./node_modules/@arcgis/core/core/CollectionFlattener.js");
/* harmony import */ var _core_jsonMap_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../core/jsonMap.js */ "./node_modules/@arcgis/core/core/jsonMap.js");
/* harmony import */ var _core_lang_js__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../core/lang.js */ "./node_modules/@arcgis/core/core/lang.js");
/* harmony import */ var _core_MultiOriginJSONSupport_js__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../core/MultiOriginJSONSupport.js */ "./node_modules/@arcgis/core/core/MultiOriginJSONSupport.js");
/* harmony import */ var _core_promiseUtils_js__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ../core/promiseUtils.js */ "./node_modules/@arcgis/core/core/promiseUtils.js");
/* harmony import */ var _core_reactiveUtils_js__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ../core/reactiveUtils.js */ "./node_modules/@arcgis/core/core/reactiveUtils.js");
/* harmony import */ var _core_urlUtils_js__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ../core/urlUtils.js */ "./node_modules/@arcgis/core/core/urlUtils.js");
/* harmony import */ var _core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! ../core/accessorSupport/decorators/property.js */ "./node_modules/@arcgis/core/core/accessorSupport/decorators/property.js");
/* harmony import */ var _core_accessorSupport_ensureType_js__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! ../core/accessorSupport/ensureType.js */ "./node_modules/@arcgis/core/core/accessorSupport/ensureType.js");
/* harmony import */ var _core_accessorSupport_decorators_reader_js__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! ../core/accessorSupport/decorators/reader.js */ "./node_modules/@arcgis/core/core/accessorSupport/decorators/reader.js");
/* harmony import */ var _core_accessorSupport_decorators_subclass_js__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(/*! ../core/accessorSupport/decorators/subclass.js */ "./node_modules/@arcgis/core/core/accessorSupport/decorators/subclass.js");
/* harmony import */ var _core_accessorSupport_decorators_writer_js__WEBPACK_IMPORTED_MODULE_17__ = __webpack_require__(/*! ../core/accessorSupport/decorators/writer.js */ "./node_modules/@arcgis/core/core/accessorSupport/decorators/writer.js");
/* harmony import */ var _core_accessorSupport_write_js__WEBPACK_IMPORTED_MODULE_18__ = __webpack_require__(/*! ../core/accessorSupport/write.js */ "./node_modules/@arcgis/core/core/accessorSupport/write.js");
/* harmony import */ var _geometry_Extent_js__WEBPACK_IMPORTED_MODULE_19__ = __webpack_require__(/*! ../geometry/Extent.js */ "./node_modules/@arcgis/core/geometry/Extent.js");
/* harmony import */ var _geometry_SpatialReference_js__WEBPACK_IMPORTED_MODULE_20__ = __webpack_require__(/*! ../geometry/SpatialReference.js */ "./node_modules/@arcgis/core/geometry/SpatialReference.js");
/* harmony import */ var _geometry_support_scaleUtils_js__WEBPACK_IMPORTED_MODULE_21__ = __webpack_require__(/*! ../geometry/support/scaleUtils.js */ "./node_modules/@arcgis/core/geometry/support/scaleUtils.js");
/* harmony import */ var _geometry_support_spatialReferenceUtils_js__WEBPACK_IMPORTED_MODULE_22__ = __webpack_require__(/*! ../geometry/support/spatialReferenceUtils.js */ "./node_modules/@arcgis/core/geometry/support/spatialReferenceUtils.js");
/* harmony import */ var _Layer_js__WEBPACK_IMPORTED_MODULE_23__ = __webpack_require__(/*! ./Layer.js */ "./node_modules/@arcgis/core/layers/Layer.js");
/* harmony import */ var _mixins_BlendLayer_js__WEBPACK_IMPORTED_MODULE_24__ = __webpack_require__(/*! ./mixins/BlendLayer.js */ "./node_modules/@arcgis/core/layers/mixins/BlendLayer.js");
/* harmony import */ var _mixins_OperationalLayer_js__WEBPACK_IMPORTED_MODULE_25__ = __webpack_require__(/*! ./mixins/OperationalLayer.js */ "./node_modules/@arcgis/core/layers/mixins/OperationalLayer.js");
/* harmony import */ var _mixins_PortalLayer_js__WEBPACK_IMPORTED_MODULE_26__ = __webpack_require__(/*! ./mixins/PortalLayer.js */ "./node_modules/@arcgis/core/layers/mixins/PortalLayer.js");
/* harmony import */ var _mixins_RefreshableLayer_js__WEBPACK_IMPORTED_MODULE_27__ = __webpack_require__(/*! ./mixins/RefreshableLayer.js */ "./node_modules/@arcgis/core/layers/mixins/RefreshableLayer.js");
/* harmony import */ var _mixins_ScaleRangeLayer_js__WEBPACK_IMPORTED_MODULE_28__ = __webpack_require__(/*! ./mixins/ScaleRangeLayer.js */ "./node_modules/@arcgis/core/layers/mixins/ScaleRangeLayer.js");
/* harmony import */ var _mixins_TemporalLayer_js__WEBPACK_IMPORTED_MODULE_29__ = __webpack_require__(/*! ./mixins/TemporalLayer.js */ "./node_modules/@arcgis/core/layers/mixins/TemporalLayer.js");
/* harmony import */ var _ogc_crsUtils_js__WEBPACK_IMPORTED_MODULE_30__ = __webpack_require__(/*! ./ogc/crsUtils.js */ "./node_modules/@arcgis/core/layers/ogc/crsUtils.js");
/* harmony import */ var _support_arcgisLayerUrl_js__WEBPACK_IMPORTED_MODULE_31__ = __webpack_require__(/*! ./support/arcgisLayerUrl.js */ "./node_modules/@arcgis/core/layers/support/arcgisLayerUrl.js");
/* harmony import */ var _support_commonProperties_js__WEBPACK_IMPORTED_MODULE_32__ = __webpack_require__(/*! ./support/commonProperties.js */ "./node_modules/@arcgis/core/layers/support/commonProperties.js");
/* harmony import */ var _support_ExportWMSImageParameters_js__WEBPACK_IMPORTED_MODULE_33__ = __webpack_require__(/*! ./support/ExportWMSImageParameters.js */ "./node_modules/@arcgis/core/layers/support/ExportWMSImageParameters.js");
/* harmony import */ var _support_imageBitmapUtils_js__WEBPACK_IMPORTED_MODULE_34__ = __webpack_require__(/*! ./support/imageBitmapUtils.js */ "./node_modules/@arcgis/core/layers/support/imageBitmapUtils.js");
/* harmony import */ var _support_WMSSublayer_js__WEBPACK_IMPORTED_MODULE_35__ = __webpack_require__(/*! ./support/WMSSublayer.js */ "./node_modules/@arcgis/core/layers/support/WMSSublayer.js");
/* harmony import */ var _support_wmsUtils_js__WEBPACK_IMPORTED_MODULE_36__ = __webpack_require__(/*! ./support/wmsUtils.js */ "./node_modules/@arcgis/core/layers/support/wmsUtils.js");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.27/esri/copyright.txt for details.
*/
const J=new _core_jsonMap_js__WEBPACK_IMPORTED_MODULE_7__.JSONMap({bmp:"image/bmp",gif:"image/gif",jpg:"image/jpeg",png:"image/png",svg:"image/svg+xml"},{ignoreUnknown:!1});function V(e){return"text/html"===e}function z(e){return"text/plain"===e}let Q=class extends((0,_mixins_BlendLayer_js__WEBPACK_IMPORTED_MODULE_24__.BlendLayer)((0,_mixins_TemporalLayer_js__WEBPACK_IMPORTED_MODULE_29__.TemporalLayer)((0,_mixins_RefreshableLayer_js__WEBPACK_IMPORTED_MODULE_27__.RefreshableLayer)((0,_mixins_ScaleRangeLayer_js__WEBPACK_IMPORTED_MODULE_28__.ScaleRangeLayer)((0,_mixins_OperationalLayer_js__WEBPACK_IMPORTED_MODULE_25__.OperationalLayer)((0,_mixins_PortalLayer_js__WEBPACK_IMPORTED_MODULE_26__.PortalLayer)((0,_core_MultiOriginJSONSupport_js__WEBPACK_IMPORTED_MODULE_9__.MultiOriginJSONMixin)(_Layer_js__WEBPACK_IMPORTED_MODULE_23__["default"])))))))){constructor(...e){super(...e),this.allSublayers=new _core_CollectionFlattener_js__WEBPACK_IMPORTED_MODULE_6__["default"]({getCollections:()=>[this.sublayers],getChildrenFunction:e=>e.sublayers}),this.customParameters=null,this.customLayerParameters=null,this.copyright=null,this.description=null,this.dimensions=null,this.fullExtent=null,this.fullExtents=null,this.featureInfoFormats=null,this.featureInfoUrl=null,this.fetchFeatureInfoFunction=null,this.imageFormat=null,this.imageMaxHeight=2048,this.imageMaxWidth=2048,this.imageTransparency=!0,this.legendEnabled=!0,this.mapUrl=null,this.isReference=null,this.operationalLayerType="WMS",this.spatialReference=null,this.spatialReferences=null,this.sublayers=null,this.type="wms",this.version=null,this.addHandles([(0,_core_reactiveUtils_js__WEBPACK_IMPORTED_MODULE_11__.on)((()=>this.sublayers),"after-add",(({item:e})=>{e.parent=e.layer=this}),_core_reactiveUtils_js__WEBPACK_IMPORTED_MODULE_11__.sync),(0,_core_reactiveUtils_js__WEBPACK_IMPORTED_MODULE_11__.on)((()=>this.sublayers),"after-remove",(({item:e})=>{e.layer=e.parent=null}),_core_reactiveUtils_js__WEBPACK_IMPORTED_MODULE_11__.sync),(0,_core_reactiveUtils_js__WEBPACK_IMPORTED_MODULE_11__.watch)((()=>this.sublayers),((e,t)=>{if(t)for(const r of t)r.layer=r.parent=null;if(e)for(const r of e)r.parent=r.layer=this}),_core_reactiveUtils_js__WEBPACK_IMPORTED_MODULE_11__.sync)])}normalizeCtorArgs(e,t){return"string"==typeof e?{url:e,...t}:e}destroy(){this.allSublayers.destroy()}load(e){const t=null!=e?e.signal:null;return this.addResolvingPromise(this.loadFromPortal({supportedTypes:["WMS"]},e).catch(_core_promiseUtils_js__WEBPACK_IMPORTED_MODULE_10__.throwIfAbortError).then((()=>this._fetchService(t)))),Promise.resolve(this)}readFullExtentFromItemOrMap(e,t){const r=t.extent;return r?new _geometry_Extent_js__WEBPACK_IMPORTED_MODULE_19__["default"]({xmin:r[0][0],ymin:r[0][1],xmax:r[1][0],ymax:r[1][1]}):null}writeFullExtent(e,t){t.extent=[[e.xmin,e.ymin],[e.xmax,e.ymax]]}get featureInfoFormat(){return null==this.featureInfoFormats?null:this.featureInfoFormats.find(V)??this.featureInfoFormats.find(z)??null}set featureInfoFormat(e){null==e?(this.revert("featureInfoFormat","service"),this._clearOverride("featureInfoFormat")):(V(e)||z(e))&&this._override("featureInfoFormat",e)}readImageFormat(e,t){const r=t.supportedImageFormatTypes;return r&&r.includes("image/png")?"image/png":r&&r[0]}readSpatialReferenceFromItemOrDocument(e,t){return new _geometry_SpatialReference_js__WEBPACK_IMPORTED_MODULE_20__["default"](t.spatialReferences[0])}writeSpatialReferences(e,t){const r=this.spatialReference?.wkid;e&&r?(t.spatialReferences=e.filter((e=>e!==r)),t.spatialReferences.unshift(r)):t.spatialReferences=e}readSublayersFromItemOrMap(e,t,r){return X(t.layers,r,t.visibleLayers)}readSublayers(e,t,r){return X(t.layers,r)}writeSublayers(e,t,r,o){t.layers=[];const s=new Map,i=e.flatten((({sublayers:e})=>e??[]));for(const a of i)if("number"==typeof a.parent?.id){const e=s.get(a.parent.id);null!=e?e.push(a.id):s.set(a.parent.id,[a.id])}for(const a of i){const e={sublayer:a,...o},r=a.write({parentLayerId:"number"==typeof a.parent?.id?a.parent.id:-1},e);if(s.has(a.id)&&(r.sublayerIds=s.get(a.id)),!a.sublayers&&a.name){const r=a.write({},e);delete r.id,t.layers.push(r)}}t.visibleLayers=i.filter((({visible:e,sublayers:t})=>e&&!t)).map((({name:e})=>e)).toArray()}set url(e){if(!e)return void this._set("url",e);const{path:t,query:r}=(0,_core_urlUtils_js__WEBPACK_IMPORTED_MODULE_12__.urlToObject)(e);for(const s in r)/^(request|service)$/i.test(s)&&delete r[s];const o=(0,_core_urlUtils_js__WEBPACK_IMPORTED_MODULE_12__.addQueryParameters)(t,r??{});this._set("url",o)}createExportImageParameters(e,t,r,o){const s=o?.pixelRatio??1,i=(0,_geometry_support_scaleUtils_js__WEBPACK_IMPORTED_MODULE_21__.getScale)({extent:e,width:t})*s,a=new _support_ExportWMSImageParameters_js__WEBPACK_IMPORTED_MODULE_33__.ExportWMSImageParameters({layer:this,scale:i}),{xmin:n,ymin:l,xmax:p,ymax:m,spatialReference:u}=e,c=(0,_support_wmsUtils_js__WEBPACK_IMPORTED_MODULE_36__.normalizeWKID)(u,this.spatialReferences),f="1.3.0"===this.version&&(0,_ogc_crsUtils_js__WEBPACK_IMPORTED_MODULE_30__.isAxesOrderReversedForWkid)(c)?`${l},${n},${m},${p}`:`${n},${l},${p},${m}`,y=a.toJSON();return{bbox:f,["1.3.0"===this.version?"crs":"srs"]:null==c||isNaN(c)?void 0:"EPSG:"+c,...y}}async fetchImage(e,t,r,o){const i=this.mapUrl,a=this.createExportImageParameters(e,t,r,o);if(!a.layers){const e=document.createElement("canvas");return e.width=t,e.height=r,e}const n=o?.timeExtent?.start,l=o?.timeExtent?.end,p=null!=n&&null!=l?n.getTime()===l.getTime()?(0,_support_wmsUtils_js__WEBPACK_IMPORTED_MODULE_36__.toISOString)(n):`${(0,_support_wmsUtils_js__WEBPACK_IMPORTED_MODULE_36__.toISOString)(n)}/${(0,_support_wmsUtils_js__WEBPACK_IMPORTED_MODULE_36__.toISOString)(l)}`:void 0,m={responseType:"image",query:this._mixCustomParameters({width:t,height:r,...a,time:p,...this.refreshParameters}),signal:o?.signal};return (0,_request_js__WEBPACK_IMPORTED_MODULE_4__["default"])(i??"",m).then((e=>e.data))}async fetchImageBitmap(e,t,r,o){const i=this.mapUrl??"",a=this.createExportImageParameters(e,t,r,o);if(!a.layers){const e=document.createElement("canvas");return e.width=t,e.height=r,e}const n=o?.timeExtent?.start,l=o?.timeExtent?.end,p=null!=n&&null!=l?n.getTime()===l.getTime()?(0,_support_wmsUtils_js__WEBPACK_IMPORTED_MODULE_36__.toISOString)(n):`${(0,_support_wmsUtils_js__WEBPACK_IMPORTED_MODULE_36__.toISOString)(n)}/${(0,_support_wmsUtils_js__WEBPACK_IMPORTED_MODULE_36__.toISOString)(l)}`:void 0,m={responseType:"blob",query:this._mixCustomParameters({width:t,height:r,...a,time:p,...this.refreshParameters}),signal:o?.signal},{data:u}=await (0,_request_js__WEBPACK_IMPORTED_MODULE_4__["default"])(i,m);return (0,_support_imageBitmapUtils_js__WEBPACK_IMPORTED_MODULE_34__.createBitmap)(u,i,o?.signal)}fetchFeatureInfo(e,t,r,o,s){const i=(0,_geometry_support_scaleUtils_js__WEBPACK_IMPORTED_MODULE_21__.getScale)({extent:e,width:t}),a=new _support_ExportWMSImageParameters_js__WEBPACK_IMPORTED_MODULE_33__.ExportWMSImageParameters({layer:this,scale:i}),n=(0,_support_wmsUtils_js__WEBPACK_IMPORTED_MODULE_36__.getPopupLayers)(a.visibleSublayers);if(null==this.featureInfoUrl||null==n)return Promise.resolve([]);if(null==this.fetchFeatureInfoFunction&&null==this.featureInfoFormat)return Promise.resolve([]);const l="1.3.0"===this.version?{I:o,J:s}:{x:o,y:s},p={query_layers:n,request:"GetFeatureInfo",info_format:this.featureInfoFormat,feature_count:25,width:t,height:r,...l},m={...this.createExportImageParameters(e,t,r),...p},u=this._mixCustomParameters(m);return null!=this.fetchFeatureInfoFunction?this.fetchFeatureInfoFunction(u):this._defaultFetchFeatureInfoFunction((0,_core_urlUtils_js__WEBPACK_IMPORTED_MODULE_12__.addQueryParameters)(this.featureInfoUrl,u))}findSublayerById(e){return this.allSublayers.find((t=>t.id===e))}findSublayerByName(e){return this.allSublayers.find((t=>t.name===e))}serviceSupportsSpatialReference(e){return (0,_support_arcgisLayerUrl_js__WEBPACK_IMPORTED_MODULE_31__.isWmsServer)(this.url)||null!=this.spatialReferences&&this.spatialReferences.some((t=>{const r=900913===t?_geometry_SpatialReference_js__WEBPACK_IMPORTED_MODULE_20__["default"].WebMercator:new _geometry_SpatialReference_js__WEBPACK_IMPORTED_MODULE_20__["default"]({wkid:t});return (0,_geometry_support_spatialReferenceUtils_js__WEBPACK_IMPORTED_MODULE_22__.equals)(r,e)}))}_defaultFetchFeatureInfoFunction(e){const t=document.createElement("iframe");t.src=(0,_core_urlUtils_js__WEBPACK_IMPORTED_MODULE_12__.addProxy)(e),t.style.border="none",t.style.margin="0",t.style.width="100%",t.setAttribute("sandbox","");const s=new _PopupTemplate_js__WEBPACK_IMPORTED_MODULE_3__["default"]({title:this.title,content:t}),i=new _Graphic_js__WEBPACK_IMPORTED_MODULE_2__["default"]({sourceLayer:this,popupTemplate:s});return Promise.resolve([i])}async _fetchService(e){if(!this.resourceInfo&&this.parsedUrl?.path){const{path:t,query:r}=this.parsedUrl,{data:o}=await (0,_request_js__WEBPACK_IMPORTED_MODULE_4__["default"])(t,{query:{SERVICE:"WMS",REQUEST:"GetCapabilities",...r,...this.customParameters},responseType:"xml",signal:e});this.resourceInfo=(0,_support_wmsUtils_js__WEBPACK_IMPORTED_MODULE_36__.parseCapabilities)(o)}if(this.parsedUrl){const e=new _core_urlUtils_js__WEBPACK_IMPORTED_MODULE_12__.Url(this.parsedUrl.path),{httpsDomains:r}=_config_js__WEBPACK_IMPORTED_MODULE_1__["default"].request;"https"!==e.scheme||e.port&&"443"!==e.port||!e.host||r.includes(e.host)||r.push(e.host)}this.read(this.resourceInfo,{origin:"service"})}_mixCustomParameters(e){if(!this.customLayerParameters&&!this.customParameters)return e;const t={...this.customParameters,...this.customLayerParameters};for(const r in t)e[r.toLowerCase()]=t[r];return e}};function K(e,t){return e.some((e=>{for(const r in e)if((0,_core_accessorSupport_write_js__WEBPACK_IMPORTED_MODULE_18__.willPropertyWrite)(e,r,null,t))return!0;return!1}))}function X(e,t,r){e=e??[];const o=new Map;e.every((e=>null==e.id))&&(e=(0,_core_lang_js__WEBPACK_IMPORTED_MODULE_8__.clone)(e)).forEach(((e,t)=>e.id=t));for(const i of e){const e=new _support_WMSSublayer_js__WEBPACK_IMPORTED_MODULE_35__["default"];e.read(i,t),r&&!r.includes(e.name)&&(e.visible=!1),o.set(e.id,e)}const s=[];for(const a of e){const e=null!=a.id?o.get(a.id):null;if(e)if(null!=a.parentLayerId&&a.parentLayerId>=0){const t=o.get(a.parentLayerId);if(!t)continue;t.sublayers||(t.sublayers=new _core_Collection_js__WEBPACK_IMPORTED_MODULE_5__["default"]),t.sublayers.push(e)}else s.push(e)}return s}(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_13__.property)({readOnly:!0})],Q.prototype,"allSublayers",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_13__.property)({json:{type:Object,write:!0}})],Q.prototype,"customParameters",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_13__.property)({json:{type:Object,write:!0}})],Q.prototype,"customLayerParameters",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_13__.property)({type:String,json:{write:!0}})],Q.prototype,"copyright",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_13__.property)()],Q.prototype,"description",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_13__.property)({readOnly:!0})],Q.prototype,"dimensions",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_13__.property)({json:{type:[[Number]],read:{source:"extent"},write:{target:"extent"},origins:{"web-document":{write:{ignoreOrigin:!0}},"portal-item":{write:{ignoreOrigin:!0}}}}})],Q.prototype,"fullExtent",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_reader_js__WEBPACK_IMPORTED_MODULE_15__.reader)(["web-document","portal-item"],"fullExtent",["extent"])],Q.prototype,"readFullExtentFromItemOrMap",null),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_writer_js__WEBPACK_IMPORTED_MODULE_17__.writer)(["web-document","portal-item"],"fullExtent",{extent:{type:[[Number]]}})],Q.prototype,"writeFullExtent",null),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_13__.property)()],Q.prototype,"fullExtents",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_13__.property)({type:String,json:{write:{ignoreOrigin:!0}}})],Q.prototype,"featureInfoFormat",null),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_13__.property)({type:[String],readOnly:!0})],Q.prototype,"featureInfoFormats",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_13__.property)({type:String,json:{write:{ignoreOrigin:!0}}})],Q.prototype,"featureInfoUrl",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_13__.property)()],Q.prototype,"fetchFeatureInfoFunction",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_13__.property)({type:String,json:{origins:{"web-document":{default:"image/png",type:J.jsonValues,read:{reader:J.read,source:"format"},write:{writer:J.write,target:"format"}}}}})],Q.prototype,"imageFormat",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_reader_js__WEBPACK_IMPORTED_MODULE_15__.reader)("imageFormat",["supportedImageFormatTypes"])],Q.prototype,"readImageFormat",null),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_13__.property)({type:Number,json:{read:{source:"maxHeight"},write:{target:"maxHeight"}}})],Q.prototype,"imageMaxHeight",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_13__.property)({type:Number,json:{read:{source:"maxWidth"},write:{target:"maxWidth"}}})],Q.prototype,"imageMaxWidth",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_13__.property)()],Q.prototype,"imageTransparency",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_13__.property)(_support_commonProperties_js__WEBPACK_IMPORTED_MODULE_32__.legendEnabled)],Q.prototype,"legendEnabled",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_13__.property)({type:["show","hide","hide-children"]})],Q.prototype,"listMode",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_13__.property)({type:String,json:{write:{ignoreOrigin:!0}}})],Q.prototype,"mapUrl",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_13__.property)({type:Boolean,json:{read:!1,write:{enabled:!0,overridePolicy:()=>({enabled:!1})}}})],Q.prototype,"isReference",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_13__.property)({type:["WMS"]})],Q.prototype,"operationalLayerType",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_13__.property)()],Q.prototype,"resourceInfo",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_13__.property)({type:_geometry_SpatialReference_js__WEBPACK_IMPORTED_MODULE_20__["default"],json:{origins:{service:{read:{source:"extent.spatialReference"}}},write:!1}})],Q.prototype,"spatialReference",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_reader_js__WEBPACK_IMPORTED_MODULE_15__.reader)(["web-document","portal-item"],"spatialReference",["spatialReferences"])],Q.prototype,"readSpatialReferenceFromItemOrDocument",null),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_13__.property)({type:[_core_accessorSupport_ensureType_js__WEBPACK_IMPORTED_MODULE_14__.Integer],json:{read:!1,origins:{service:{read:!0},"web-document":{read:!1,write:{ignoreOrigin:!0}},"portal-item":{read:!1,write:{ignoreOrigin:!0}}}}})],Q.prototype,"spatialReferences",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_writer_js__WEBPACK_IMPORTED_MODULE_17__.writer)(["web-document","portal-item"],"spatialReferences")],Q.prototype,"writeSpatialReferences",null),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_13__.property)({type:_core_Collection_js__WEBPACK_IMPORTED_MODULE_5__["default"].ofType(_support_WMSSublayer_js__WEBPACK_IMPORTED_MODULE_35__["default"]),json:{write:{target:"layers",overridePolicy(e,t,r){if(K(this.allSublayers,r))return{ignoreOrigin:!0}}}}})],Q.prototype,"sublayers",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_reader_js__WEBPACK_IMPORTED_MODULE_15__.reader)(["web-document","portal-item"],"sublayers",["layers","visibleLayers"])],Q.prototype,"readSublayersFromItemOrMap",null),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_reader_js__WEBPACK_IMPORTED_MODULE_15__.reader)("service","sublayers",["layers"])],Q.prototype,"readSublayers",null),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_writer_js__WEBPACK_IMPORTED_MODULE_17__.writer)("sublayers",{layers:{type:[_support_WMSSublayer_js__WEBPACK_IMPORTED_MODULE_35__["default"]]},visibleLayers:{type:[String]}})],Q.prototype,"writeSublayers",null),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_13__.property)({json:{read:!1},readOnly:!0,value:"wms"})],Q.prototype,"type",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_13__.property)(_support_commonProperties_js__WEBPACK_IMPORTED_MODULE_32__.url)],Q.prototype,"url",null),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_13__.property)({type:String,json:{write:{ignoreOrigin:!0}}})],Q.prototype,"version",void 0),Q=(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_subclass_js__WEBPACK_IMPORTED_MODULE_16__.subclass)("esri.layers.WMSLayer")],Q);const Y=Q;


/***/ }),

/***/ "./node_modules/@arcgis/core/layers/ogc/crsUtils.js":
/*!**********************************************************!*\
  !*** ./node_modules/@arcgis/core/layers/ogc/crsUtils.js ***!
  \**********************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "isAxesOrderReversedForWkid": () => (/* binding */ o)
/* harmony export */ });
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.27/esri/copyright.txt for details.
*/
const n=[[3819,3819],[3821,3824],[3889,3889],[3906,3906],[4001,4025],[4027,4036],[4039,4047],[4052,4055],[4074,4075],[4080,4081],[4120,4176],[4178,4185],[4188,4216],[4218,4289],[4291,4304],[4306,4319],[4322,4326],[4463,4463],[4470,4470],[4475,4475],[4483,4483],[4490,4490],[4555,4558],[4600,4646],[4657,4765],[4801,4811],[4813,4821],[4823,4824],[4901,4904],[5013,5013],[5132,5132],[5228,5229],[5233,5233],[5246,5246],[5252,5252],[5264,5264],[5324,5340],[5354,5354],[5360,5360],[5365,5365],[5370,5373],[5381,5381],[5393,5393],[5451,5451],[5464,5464],[5467,5467],[5489,5489],[5524,5524],[5527,5527],[5546,5546],[2044,2045],[2081,2083],[2085,2086],[2093,2093],[2096,2098],[2105,2132],[2169,2170],[2176,2180],[2193,2193],[2200,2200],[2206,2212],[2319,2319],[2320,2462],[2523,2549],[2551,2735],[2738,2758],[2935,2941],[2953,2953],[3006,3030],[3034,3035],[3038,3051],[3058,3059],[3068,3068],[3114,3118],[3126,3138],[3150,3151],[3300,3301],[3328,3335],[3346,3346],[3350,3352],[3366,3366],[3389,3390],[3416,3417],[3833,3841],[3844,3850],[3854,3854],[3873,3885],[3907,3910],[4026,4026],[4037,4038],[4417,4417],[4434,4434],[4491,4554],[4839,4839],[5048,5048],[5105,5130],[5253,5259],[5269,5275],[5343,5349],[5479,5482],[5518,5519],[5520,5520],[20004,20032],[20064,20092],[21413,21423],[21473,21483],[21896,21899],[22171,22177],[22181,22187],[22191,22197],[25884,25884],[27205,27232],[27391,27398],[27492,27492],[28402,28432],[28462,28492],[30161,30179],[30800,30800],[31251,31259],[31275,31279],[31281,31290],[31466,31700]];function o(o){return null!=o&&n.some((([n,t])=>o>=n&&o<=t))}


/***/ }),

/***/ "./node_modules/@arcgis/core/layers/support/ExportWMSImageParameters.js":
/*!******************************************************************************!*\
  !*** ./node_modules/@arcgis/core/layers/support/ExportWMSImageParameters.js ***!
  \******************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "ExportWMSImageParameters": () => (/* binding */ l)
/* harmony export */ });
/* harmony import */ var _chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../chunks/tslib.es6.js */ "./node_modules/@arcgis/core/chunks/tslib.es6.js");
/* harmony import */ var _core_Accessor_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../core/Accessor.js */ "./node_modules/@arcgis/core/core/Accessor.js");
/* harmony import */ var _core_HandleOwner_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../core/HandleOwner.js */ "./node_modules/@arcgis/core/core/HandleOwner.js");
/* harmony import */ var _core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../core/accessorSupport/decorators/property.js */ "./node_modules/@arcgis/core/core/accessorSupport/decorators/property.js");
/* harmony import */ var _core_accessorSupport_ensureType_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../core/accessorSupport/ensureType.js */ "./node_modules/@arcgis/core/core/accessorSupport/ensureType.js");
/* harmony import */ var _core_arrayUtils_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../core/arrayUtils.js */ "./node_modules/@arcgis/core/core/arrayUtils.js");
/* harmony import */ var _core_has_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../core/has.js */ "./node_modules/@arcgis/core/core/has.js");
/* harmony import */ var _core_accessorSupport_decorators_subclass_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../../core/accessorSupport/decorators/subclass.js */ "./node_modules/@arcgis/core/core/accessorSupport/decorators/subclass.js");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.27/esri/copyright.txt for details.
*/
const a={visible:"visibleSublayers"};let l=class extends((0,_core_HandleOwner_js__WEBPACK_IMPORTED_MODULE_2__.HandleOwnerMixin)(_core_Accessor_js__WEBPACK_IMPORTED_MODULE_1__["default"])){constructor(e){super(e),this.scale=0}set layer(e){this._get("layer")!==e&&(this._set("layer",e),this.handles.remove("layer"),e&&this.handles.add([e.sublayers.on("change",(()=>this.notifyChange("visibleSublayers"))),e.on("wms-sublayer-update",(e=>this.notifyChange(a[e.propertyName])))],"layer"))}get layers(){return this.visibleSublayers.filter((({name:e})=>e)).map((({name:e})=>e)).join()}get version(){this.commitProperty("layers");const e=this.layer;return e&&e.commitProperty("imageTransparency"),(this._get("version")||0)+1}get visibleSublayers(){const{layer:e,scale:r}=this,s=e?.sublayers,t=[],o=e=>{const{minScale:s,maxScale:a,sublayers:l,visible:i}=e;i&&(0===r||(0===s||r<=s)&&(0===a||r>=a))&&(l?l.forEach(o):t.push(e))};return s?.forEach(o),t}toJSON(){const{layer:e,layers:r}=this,{imageFormat:s,imageTransparency:t,version:o}=e;return{format:s,request:"GetMap",service:"WMS",styles:"",transparent:t?"TRUE":"FALSE",version:o,layers:r}}};(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_3__.property)()],l.prototype,"layer",null),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_3__.property)({readOnly:!0})],l.prototype,"layers",null),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_3__.property)({type:Number})],l.prototype,"scale",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_3__.property)({readOnly:!0})],l.prototype,"version",null),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_3__.property)({readOnly:!0})],l.prototype,"visibleSublayers",null),l=(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_subclass_js__WEBPACK_IMPORTED_MODULE_7__.subclass)("esri.layers.support.ExportWMSImageParameters")],l);


/***/ }),

/***/ "./node_modules/@arcgis/core/layers/support/WMSSublayer.js":
/*!*****************************************************************!*\
  !*** ./node_modules/@arcgis/core/layers/support/WMSSublayer.js ***!
  \*****************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (/* binding */ f)
/* harmony export */ });
/* harmony import */ var _chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../chunks/tslib.es6.js */ "./node_modules/@arcgis/core/chunks/tslib.es6.js");
/* harmony import */ var _core_Collection_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../core/Collection.js */ "./node_modules/@arcgis/core/core/Collection.js");
/* harmony import */ var _core_Identifiable_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../core/Identifiable.js */ "./node_modules/@arcgis/core/core/Identifiable.js");
/* harmony import */ var _core_MultiOriginJSONSupport_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../core/MultiOriginJSONSupport.js */ "./node_modules/@arcgis/core/core/MultiOriginJSONSupport.js");
/* harmony import */ var _core_reactiveUtils_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../core/reactiveUtils.js */ "./node_modules/@arcgis/core/core/reactiveUtils.js");
/* harmony import */ var _core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../core/accessorSupport/decorators/property.js */ "./node_modules/@arcgis/core/core/accessorSupport/decorators/property.js");
/* harmony import */ var _core_accessorSupport_decorators_cast_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../core/accessorSupport/decorators/cast.js */ "./node_modules/@arcgis/core/core/accessorSupport/decorators/cast.js");
/* harmony import */ var _core_arrayUtils_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../../core/arrayUtils.js */ "./node_modules/@arcgis/core/core/arrayUtils.js");
/* harmony import */ var _core_has_js__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../../core/has.js */ "./node_modules/@arcgis/core/core/has.js");
/* harmony import */ var _core_accessorSupport_decorators_reader_js__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../../core/accessorSupport/decorators/reader.js */ "./node_modules/@arcgis/core/core/accessorSupport/decorators/reader.js");
/* harmony import */ var _core_accessorSupport_decorators_subclass_js__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ../../core/accessorSupport/decorators/subclass.js */ "./node_modules/@arcgis/core/core/accessorSupport/decorators/subclass.js");
/* harmony import */ var _core_accessorSupport_ensureType_js__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ../../core/accessorSupport/ensureType.js */ "./node_modules/@arcgis/core/core/accessorSupport/ensureType.js");
/* harmony import */ var _geometry_Extent_js__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ../../geometry/Extent.js */ "./node_modules/@arcgis/core/geometry/Extent.js");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.27/esri/copyright.txt for details.
*/
var h;let c=0,m=h=class extends((0,_core_Identifiable_js__WEBPACK_IMPORTED_MODULE_2__.IdentifiableMixin)(_core_MultiOriginJSONSupport_js__WEBPACK_IMPORTED_MODULE_3__.MultiOriginJSONSupport)){constructor(e){super(e),this.description=null,this.dimensions=null,this.fullExtent=null,this.fullExtents=null,this.legendUrl=null,this.legendEnabled=!0,this.layer=null,this.maxScale=0,this.minScale=0,this.name=null,this.parent=null,this.popupEnabled=!1,this.queryable=!1,this.sublayers=null,this.spatialReferences=null,this.title=null,this.addHandles([(0,_core_reactiveUtils_js__WEBPACK_IMPORTED_MODULE_4__.on)((()=>this.sublayers),"after-add",(({item:e})=>{e.parent=this,e.layer=this.layer}),_core_reactiveUtils_js__WEBPACK_IMPORTED_MODULE_4__.sync),(0,_core_reactiveUtils_js__WEBPACK_IMPORTED_MODULE_4__.on)((()=>this.sublayers),"after-remove",(({item:e})=>{e.layer=e.parent=null}),_core_reactiveUtils_js__WEBPACK_IMPORTED_MODULE_4__.sync),(0,_core_reactiveUtils_js__WEBPACK_IMPORTED_MODULE_4__.watch)((()=>this.sublayers),((e,t)=>{if(t)for(const r of t)r.layer=r.parent=null;if(e)for(const r of e)r.parent=this,r.layer=this.layer}),_core_reactiveUtils_js__WEBPACK_IMPORTED_MODULE_4__.sync),(0,_core_reactiveUtils_js__WEBPACK_IMPORTED_MODULE_4__.watch)((()=>this.layer),(e=>{if(this.sublayers)for(const t of this.sublayers)t.layer=e}),_core_reactiveUtils_js__WEBPACK_IMPORTED_MODULE_4__.sync)])}get id(){const e=this._get("id");return e??c++}set id(e){this._set("id",e)}readLegendUrl(e,t){return t.legendUrl??t.legendURL??null}get effectiveScaleRange(){const{minScale:e,maxScale:t}=this;return{minScale:e,maxScale:t}}castSublayers(e){return (0,_core_accessorSupport_ensureType_js__WEBPACK_IMPORTED_MODULE_11__.ensureType)(_core_Collection_js__WEBPACK_IMPORTED_MODULE_1__["default"].ofType(h),e)}set visible(e){this._setAndNotifyLayer("visible",e)}clone(){const e=new h;return this.hasOwnProperty("description")&&(e.description=this.description),this.hasOwnProperty("fullExtent")&&(e.fullExtent=this.fullExtent.clone()),this.hasOwnProperty("fullExtents")&&(e.fullExtents=this.fullExtents?.map((e=>e.clone()))??null),this.hasOwnProperty("legendUrl")&&(e.legendUrl=this.legendUrl),this.hasOwnProperty("legendEnabled")&&(e.legendEnabled=this.legendEnabled),this.hasOwnProperty("layer")&&(e.layer=this.layer),this.hasOwnProperty("name")&&(e.name=this.name),this.hasOwnProperty("parent")&&(e.parent=this.parent),this.hasOwnProperty("queryable")&&(e.queryable=this.queryable),this.hasOwnProperty("sublayers")&&(e.sublayers=this.sublayers&&this.sublayers.map((e=>e.clone()))),this.hasOwnProperty("spatialReferences")&&(e.spatialReferences=this.spatialReferences?.map((e=>e))),this.hasOwnProperty("visible")&&(e.visible=this.visible),this.hasOwnProperty("title")&&(e.title=this.title),e}_setAndNotifyLayer(e,t){const r=this.layer;this._get(e)!==t&&(this._set(e,t),r&&r.emit("wms-sublayer-update",{propertyName:e,id:this.id}))}};(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_5__.property)()],m.prototype,"description",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_5__.property)({readOnly:!0})],m.prototype,"dimensions",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_5__.property)({type:_geometry_Extent_js__WEBPACK_IMPORTED_MODULE_12__["default"],json:{name:"extent"}})],m.prototype,"fullExtent",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_5__.property)()],m.prototype,"fullExtents",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_5__.property)({type:Number,json:{write:{enabled:!1,overridePolicy:()=>({ignoreOrigin:!0,enabled:!0})}}})],m.prototype,"id",null),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_5__.property)({type:String,json:{name:"legendUrl",write:{ignoreOrigin:!0}}})],m.prototype,"legendUrl",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_reader_js__WEBPACK_IMPORTED_MODULE_9__.reader)("legendUrl",["legendUrl","legendURL"])],m.prototype,"readLegendUrl",null),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_5__.property)({type:Boolean,json:{name:"showLegend",origins:{"web-map":{read:!1,write:!1},"web-scene":{read:!1,write:!1}}}})],m.prototype,"legendEnabled",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_5__.property)()],m.prototype,"layer",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_5__.property)()],m.prototype,"maxScale",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_5__.property)()],m.prototype,"minScale",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_5__.property)({readOnly:!0})],m.prototype,"effectiveScaleRange",null),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_5__.property)({type:String,json:{write:{ignoreOrigin:!0}}})],m.prototype,"name",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_5__.property)()],m.prototype,"parent",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_5__.property)({type:Boolean,json:{read:{source:"showPopup"},write:{ignoreOrigin:!0,target:"showPopup"}}})],m.prototype,"popupEnabled",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_5__.property)({type:Boolean,json:{write:{ignoreOrigin:!0}}})],m.prototype,"queryable",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_5__.property)()],m.prototype,"sublayers",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_cast_js__WEBPACK_IMPORTED_MODULE_6__.cast)("sublayers")],m.prototype,"castSublayers",null),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_5__.property)({type:[Number],json:{read:{source:"spatialReferences"}}})],m.prototype,"spatialReferences",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_5__.property)({type:String,json:{write:{ignoreOrigin:!0}}})],m.prototype,"title",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_5__.property)({type:Boolean,value:!0,json:{read:{source:"defaultVisibility"}}})],m.prototype,"visible",null),m=h=(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_subclass_js__WEBPACK_IMPORTED_MODULE_10__.subclass)("esri.layers.support.WMSSublayer")],m);const f=m;


/***/ }),

/***/ "./node_modules/@arcgis/core/layers/support/wmsUtils.js":
/*!**************************************************************!*\
  !*** ./node_modules/@arcgis/core/layers/support/wmsUtils.js ***!
  \**************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "fromISODuration": () => (/* binding */ R),
/* harmony export */   "getPopupLayers": () => (/* binding */ a),
/* harmony export */   "isDimensionInterval": () => (/* binding */ E),
/* harmony export */   "isElevationDimension": () => (/* binding */ w),
/* harmony export */   "isGenericDimension": () => (/* binding */ L),
/* harmony export */   "isTimeDimension": () => (/* binding */ F),
/* harmony export */   "normalizeWKID": () => (/* binding */ _),
/* harmony export */   "parseCapabilities": () => (/* binding */ l),
/* harmony export */   "toISOString": () => (/* binding */ T)
/* harmony export */ });
/* harmony import */ var _core_arrayUtils_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../core/arrayUtils.js */ "./node_modules/@arcgis/core/core/arrayUtils.js");
/* harmony import */ var _core_Error_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../core/Error.js */ "./node_modules/@arcgis/core/core/Error.js");
/* harmony import */ var _core_urlUtils_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../core/urlUtils.js */ "./node_modules/@arcgis/core/core/urlUtils.js");
/* harmony import */ var _geometry_Extent_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../geometry/Extent.js */ "./node_modules/@arcgis/core/geometry/Extent.js");
/* harmony import */ var _geometry_SpatialReference_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../geometry/SpatialReference.js */ "./node_modules/@arcgis/core/geometry/SpatialReference.js");
/* harmony import */ var _ogc_crsUtils_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../ogc/crsUtils.js */ "./node_modules/@arcgis/core/layers/ogc/crsUtils.js");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.27/esri/copyright.txt for details.
*/
const o={84:4326,83:4269,27:4267};function l(n){if(!n)return null;const i={idCounter:-1};if("string"==typeof n){n=(new DOMParser).parseFromString(n,"text/xml")}const s=n.documentElement;if("ServiceExceptionReport"===s.nodeName){const e=Array.prototype.slice.call(s.childNodes).map((e=>e.textContent)).join("\r\n");throw new _core_Error_js__WEBPACK_IMPORTED_MODULE_1__["default"]("wmslayer:wms-capabilities-xml-is-not-valid","The server returned errors when the WMS capabilities were requested.",e)}const o=d("Capability",s),l=d("Service",s),a=o&&d("Request",o);if(!o||!l||!a)return null;const m=d("Layer",o);if(!m)return null;const f="WMS_Capabilities"===s.nodeName||"WMT_MS_Capabilities"===s.nodeName?s.getAttribute("version"):"1.3.0",p=h("Title",l,"")||h("Name",l,""),x=h("AccessConstraints",l,""),y=/^none$/i.test(x)?"":x,S=h("Abstract",l,""),E=parseInt(h("MaxWidth",l,"5000"),10),w=parseInt(h("MaxHeight",l,"5000"),10),L=N(a,"GetMap"),M=g(a,"GetMap"),C=b(m,f,i);if(!C)return null;let v,I=0;const R=Array.prototype.slice.call(o.childNodes),U=C.sublayers??[],T=e=>{null!=e&&U.push(e)};R.forEach((e=>{"Layer"===e.nodeName&&(0===I?v=e:1===I?(C.name&&(C.name="",T(b(v,f,i))),T(b(e,f,i))):T(b(e,f,i)),I++)}));let V=C.sublayers,O=C.extent;const _=C.fullExtents??[];if(V||(V=[]),0===V.length&&V.push(C),!O){const e=new _geometry_Extent_js__WEBPACK_IMPORTED_MODULE_3__["default"](V[0].extent);C.extent=e.toJSON(),O=C.extent}const B=C.spatialReferences.length>0?C.spatialReferences:u(C),D=g(a,"GetFeatureInfo"),j=D?N(a,"GetFeatureInfo"):null,k=c(V),q=C.minScale||0,X=C.maxScale||0,G=C.dimensions??[],W=k.reduce(((e,t)=>e.concat(t.dimensions??[])),[]),P=G.concat(W).filter(F);let $=null;if(P.length){const t=P.map((e=>{const{extent:t}=e;return A(t)?t.map((e=>e.getTime())):t?.map((e=>[e.min.getTime(),e.max.getTime()]))})).flat(2).filter(_core_arrayUtils_js__WEBPACK_IMPORTED_MODULE_0__.isSome);$={startTimeField:null,endTimeField:null,trackIdField:void 0,timeExtent:[Math.min(...t),Math.max(...t)]}}return{copyright:y,description:S,dimensions:G,extent:O,fullExtents:_,featureInfoFormats:j,featureInfoUrl:D,mapUrl:M,maxWidth:E,maxHeight:w,maxScale:X,minScale:q,layers:k,spatialReferences:B,supportedImageFormatTypes:L,timeInfo:$,title:p,version:f}}function a(e){const t=e.filter((e=>e.popupEnabled&&e.name&&e.queryable));return t.length?t.map((({name:e})=>e)).join():null}function u(e){if(e.spatialReferences.length>0)return e.spatialReferences;if(e.sublayers)for(const t of e.sublayers){const e=u(t);if(e.length>0)return e}return[]}function c(e){let t=[];for(const n of e)t.push(n),n.sublayers?.length&&(t=t.concat(c(n.sublayers)),delete n.sublayers);return t}function m(e,t,n){return t.getAttribute(e)??n}function f(e,t,n,r){const i=d(e,n);return i?m(t,i,r):r}function d(e,t){for(let n=0;n<t.childNodes.length;n++){const r=t.childNodes[n];if(S(r)&&r.nodeName===e)return r}return null}function p(e,t){if(null==t)return[];const n=[];for(let r=0;r<t.childNodes.length;r++){const i=t.childNodes[r];S(i)&&i.nodeName===e&&n.push(i)}return n}function h(e,t,n){return d(e,t)?.textContent??n}function x(e,t,n){if(!e)return null;const s=parseFloat(e.getAttribute("minx")),o=parseFloat(e.getAttribute("miny")),l=parseFloat(e.getAttribute("maxx")),a=parseFloat(e.getAttribute("maxy"));let u,c,m,f;n?(u=isNaN(o)?-Number.MAX_VALUE:o,c=isNaN(s)?-Number.MAX_VALUE:s,m=isNaN(a)?Number.MAX_VALUE:a,f=isNaN(l)?Number.MAX_VALUE:l):(u=isNaN(s)?-Number.MAX_VALUE:s,c=isNaN(o)?-Number.MAX_VALUE:o,m=isNaN(l)?Number.MAX_VALUE:l,f=isNaN(a)?Number.MAX_VALUE:a);const d=new _geometry_SpatialReference_js__WEBPACK_IMPORTED_MODULE_4__["default"]({wkid:t});return new _geometry_Extent_js__WEBPACK_IMPORTED_MODULE_3__["default"]({xmin:u,ymin:c,xmax:m,ymax:f,spatialReference:d})}function g(e,t){const n=d(t,e);if(n){const e=d("DCPType",n);if(e){const t=d("HTTP",e);if(t){const e=d("Get",t);if(e){let t=f("OnlineResource","xlink:href",e,null);if(t)return t.indexOf("&")===t.length-1&&(t=t.substring(0,t.length-1)),M(t,["service","request"])}}}}return null}function N(t,n){const r=p("Operation",t);if(!r.length){return p("Format",d(n,t)).map((({textContent:e})=>e)).filter(_core_arrayUtils_js__WEBPACK_IMPORTED_MODULE_0__.isSome)}const i=[];for(const e of r)if(e.getAttribute("name")===n){const t=p("Format",e);for(const{textContent:e}of t)null!=e&&i.push(e)}return i}function y(e,t,n){const r=d(t,e);if(!r)return n;const{textContent:i}=r;if(null==i||""===i)return n;const s=Number(i);return isNaN(s)?n:s}function b(e,t,n){if(!e)return null;const l={id:n.idCounter++,fullExtents:[],parentLayerId:null,queryable:"1"===e.getAttribute("queryable"),spatialReferences:[],sublayers:null},a=d("LatLonBoundingBox",e),u=d("EX_GeographicBoundingBox",e);let c=null;a&&(c=x(a,4326)),u&&(c=new _geometry_Extent_js__WEBPACK_IMPORTED_MODULE_3__["default"](0,0,0,0,new _geometry_SpatialReference_js__WEBPACK_IMPORTED_MODULE_4__["default"]({wkid:4326})),c.xmin=parseFloat(h("westBoundLongitude",u,"0")),c.ymin=parseFloat(h("southBoundLatitude",u,"0")),c.xmax=parseFloat(h("eastBoundLongitude",u,"0")),c.ymax=parseFloat(h("northBoundLatitude",u,"0"))),a||u||(c=new _geometry_Extent_js__WEBPACK_IMPORTED_MODULE_3__["default"](-180,-90,180,90,new _geometry_SpatialReference_js__WEBPACK_IMPORTED_MODULE_4__["default"]({wkid:4326}))),l.minScale=y(e,"MaxScaleDenominator",0),l.maxScale=y(e,"MinScaleDenominator",0);const f=["1.0.0","1.1.0","1.1.1"].includes(t)?"SRS":"CRS";return Array.prototype.slice.call(e.childNodes).forEach((e=>{if("Name"===e.nodeName)l.name=e.textContent||"";else if("Title"===e.nodeName)l.title=e.textContent||"";else if("Abstract"===e.nodeName)l.description=e.textContent||"";else if("BoundingBox"===e.nodeName){const n=e.getAttribute(f);if(n&&0===n.indexOf("EPSG:")){const r=parseInt(n.substring(5),10);0===r||isNaN(r)||c||(c="1.3.0"===t?x(e,r,(0,_ogc_crsUtils_js__WEBPACK_IMPORTED_MODULE_5__.isAxesOrderReversedForWkid)(r)):x(e,r))}const r=n&&n.indexOf(":");if(r&&r>-1){let i=parseInt(n.substring(r+1,n.length),10);0===i||isNaN(i)||(i=o[i]??i);const a="1.3.0"===t?x(e,i,(0,_ogc_crsUtils_js__WEBPACK_IMPORTED_MODULE_5__.isAxesOrderReversedForWkid)(i)):x(e,i);a&&l.fullExtents&&l.fullExtents.push(a)}}else if(e.nodeName===f){(e.textContent?.split(" ")??[]).forEach((e=>{const t=e.includes(":")?parseInt(e.split(":")[1],10):parseInt(e,10);if(0!==t&&!isNaN(t)){const e=o[t]??t;l.spatialReferences.includes(e)||l.spatialReferences.push(e)}}))}else if("Style"!==e.nodeName||l.legendUrl){if("Layer"===e.nodeName){const r=b(e,t,n);r&&(r.parentLayerId=l.id,l.sublayers||(l.sublayers=[]),l.sublayers.push(r))}}else{const t=d("LegendURL",e);if(t){const e=d("OnlineResource",t);e&&(l.legendUrl=e.getAttribute("xlink:href"))}}})),l.extent=c?.toJSON(),l.dimensions=p("Dimension",e).filter((e=>e.getAttribute("name")&&e.getAttribute("units")&&e.textContent)).map((e=>{const t=e.getAttribute("name"),n=e.getAttribute("units"),r=e.textContent,i=e.getAttribute("unitSymbol")??void 0,s=e.getAttribute("default")??void 0,o="0"!==m("default",e,"0"),l="0"!==m("nearestValue",e,"0"),a="0"!==m("current",e,"0");if(F({name:t,units:n})){return{name:"time",units:"ISO8601",extent:I(r),default:I(s),multipleValues:o,nearestValue:l,current:a}}if(w({name:t,units:n})){return{name:"elevation",units:n,extent:C(r),unitSymbol:i,default:C(s),multipleValues:o,nearestValue:l}}return{name:t,units:n,extent:v(r),unitSymbol:i,default:v(s),multipleValues:o,nearestValue:l}})),l}function A(e){return Array.isArray(e)&&e.length>0&&e[0]instanceof Date}function S(e){return e.nodeType===Node.ELEMENT_NODE}function E(e){return void 0!==e.min&&void 0!==e.max}function w(e){return/^elevation$/i.test(e.name)&&/^(epsg|crs):\d+$/i.test(e.units)}function L(e){return!F(e)&&!w(e)}function F(e){return/^time$/i.test(e.name)&&/^iso8601$/i.test(e.units)}function M(e,t){const r=[],i=(0,_core_urlUtils_js__WEBPACK_IMPORTED_MODULE_2__.urlToObject)(e);for(const n in i.query)i.query.hasOwnProperty(n)&&(t.includes(n.toLowerCase())||r.push(n+"="+i.query[n]));return i.path+(r.length?"?"+r.join("&"):"")}function C(t){if(!t)return;const n=t.includes("/"),r=t.split(",");return n?r.map((e=>{const t=e.split("/");if(t.length<2)return null;return{min:parseFloat(t[0]),max:parseFloat(t[1]),resolution:t.length>=3&&"0"!==t[2]?parseFloat(t[2]):void 0}})).filter(_core_arrayUtils_js__WEBPACK_IMPORTED_MODULE_0__.isSome):r.map((e=>parseFloat(e)))}function v(t){if(!t)return;const n=t.includes("/"),r=t.split(",");return n?r.map((e=>{const t=e.split("/");if(t.length<2)return null;return{min:t[0],max:t[1],resolution:t.length>=3&&"0"!==t[2]?t[2]:void 0}})).filter(_core_arrayUtils_js__WEBPACK_IMPORTED_MODULE_0__.isSome):r}function I(t){if(!t)return;const n=t.includes("/"),r=t.split(",");return n?r.map((e=>{const t=e.split("/");if(t.length<2)return null;return{min:new Date(t[0]),max:new Date(t[1]),resolution:t.length>=3&&"0"!==t[2]?R(t[2]):void 0}})).filter(_core_arrayUtils_js__WEBPACK_IMPORTED_MODULE_0__.isSome):r.map((e=>new Date(e)))}function R(e){const t=/(?:p(\d+y|\d+(?:.|,)\d+y)?(\d+m|\d+(?:.|,)\d+m)?(\d+d|\d+(?:.|,)\d+d)?)?(?:t(\d+h|\d+(?:.|,)\d+h)?(\d+m|\d+(?:.|,)\d+m)?(\d+s|\d+(?:.|,)\d+s)?)?/i,n=e.match(t);if(!n)return null;return{years:U(n[1]),months:U(n[2]),days:U(n[3]),hours:U(n[4]),minutes:U(n[5]),seconds:U(n[6])}}function U(e){if(!e)return 0;const t=/(?:\d+(?:.|,)\d+|\d+)/,n=e.match(t);if(!n)return 0;const r=n[0].replace(",",".");return Number(r)}function T(e){return e.toISOString().replace(/\.[0-9]{3}/,"")}const V=new Set([102100,3857,102113,900913]),O=new Set([3395,54004]);function _(e,t){let n=e.wkid;return null==t?n:(null!=n&&t.includes(n)||!e.latestWkid||(n=e.latestWkid),null!=n&&V.has(n)?t.find((e=>V.has(e)))||t.find((e=>O.has(e)))||102100:n)}


/***/ })

}]);
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoid2lkZ2V0cy9jaHVua3MvZjdkOWI3ZjkyZTQ2OTZmZGUxZjA2Zjc0NjA2MzIwNTcuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDeVYsb0JBQW9CLHNEQUFDLENBQUMsZUFBZSxrQ0FBa0MsYUFBYSxTQUFTLDBFQUFDLHlCQUF5QixVQUFVLHlCQUF5QixXQUFXLDZEQUE2RCx3Q0FBd0MsUUFBUSwyREFBMkQsMkJBQTJCLHNCQUFzQixXQUFXLHNEQUFDLElBQUksd0JBQXdCLGVBQWUsMENBQTBDLHVCQUF1QixTQUFTLDBCQUEwQixnREFBZ0QsNkJBQTZCLG9DQUFvQyxvRUFBb0UscUNBQXFDLFdBQVcsdURBQUMsRUFBRSxpRkFBQyx5Q0FBeUMsdURBQUMsRUFBRSxpRkFBQyw4Q0FBOEMsdURBQUMsRUFBRSxpRkFBQywrQ0FBK0MsdURBQUMsRUFBRSxpRkFBQyxzQ0FBc0MsVUFBK0I7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FDSmx6QztBQUNBO0FBQ0E7QUFDQTtBQUNvRixXQUFXLGdCQUFnQixnQ0FBZ0MseUVBQUMsd0JBQXdCLHdCQUF3Qiw4REFBQyxLQUFLLGdCQUFnQixVQUFVLHlFQUFDLElBQUksOERBQUMsSUFBSSxjQUFjLFVBQVUsOERBQUMsSUFBSSxnQkFBZ0IsVUFBVSx5RUFBQyxJQUFJLDhEQUFDLElBQUksZ0JBQWdCLGtHQUFrRyxxQ0FBMks7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7QUNKeGtCO0FBQ0E7QUFDQTtBQUNBO0FBQ3FsRSxZQUFZLHFEQUFDLEVBQUUscUZBQXFGLEVBQUUsaUJBQWlCLEVBQUUsY0FBYyxzQkFBc0IsY0FBYyx1QkFBdUIsb0JBQW9CLGtFQUFDLENBQUMsd0VBQUMsQ0FBQyw4RUFBQyxDQUFDLDRFQUFDLENBQUMsOEVBQUMsQ0FBQyxvRUFBQyxDQUFDLHFGQUFDLENBQUMsa0RBQUMsU0FBUyxrQkFBa0Isa0NBQWtDLG9F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QWdFLG9DQUFvQywwQkFBMEIsOEJBQThCLG9DQUFvQyx5Q0FBeUMsNEVBQUMsYUFBYSwwQkFBMEIsWUFBWSw2Q0FBNkMsNkJBQTZCLDBCQUEwQiw0RUFBQyxZQUFZLHlDQUF5Qyx3QkFBd0IsNkNBQTZDLG9FQUFvRSxxQkFBcUIsZ0JBQWdCLDhEQUE4RCxHQUFHLDJDQUEyQyx5QkFBeUIsaUJBQWlCLDZFQUE2RSxLQUFLLHlCQUF5QixNQUFNLDhCQUE4QixnREFBZ0QsMklBQTJJLDBPQUEwTyxNQUFNLGVBQWUsR0FBRyxPQUFPLGdHQUFnRyxNQUFNLGVBQWUsR0FBRyxPQUFPLGdHQUFnRyxPQUFPLHNGQUFzRixLQUFLLGNBQWMseURBQXlELGNBQWMsc0NBQXNDLGNBQWMsc0NBQXNDLGNBQWMscUVBQXFFLGNBQWMsbUJBQW1CLGNBQWMseURBQXlELGdCQUFnQixhQUFhLDhEQUFDLElBQUksMEdBQTBHLDRDQUE0QyxjQUFjLGFBQWEsdUNBQXVDLG9CQUFvQixxQkFBcUIsMEJBQTBCLE9BQU8sc0dBQXNHLFVBQVUsdURBQUMsNEJBQTRCLGNBQWMsYUFBYSx1Q0FBdUMsb0JBQW9CLHFCQUFxQiwwQkFBMEIsT0FBTyxrRUFBa0UsVUFBVSx1REFBQyxJQUFJLGNBQWMsYUFBYSx1Q0FBdUMsb0JBQW9CLHFCQUFxQiwwQkFBMEIsT0FBTyx5RkFBeUYsVUFBVSx1REFBQywwQkFBMEIsY0FBYyx5S0FBeUssa0JBQWtCLE9BQU8seUZBQXlGLGNBQWMsZUFBZSw2Q0FBNkMsZUFBZSw4QkFBOEIsaUJBQWlCLGNBQWMsd0NBQXdDLEVBQUUsTUFBTSxxRUFBcUUsZ0JBQWdCLGFBQWEsb0pBQWdXIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vZXhiLWNsaWVudC8uL25vZGVfbW9kdWxlcy9AYXJjZ2lzL2NvcmUvY29yZS9Db2xsZWN0aW9uRmxhdHRlbmVyLmpzIiwid2VicGFjazovL2V4Yi1jbGllbnQvLi9ub2RlX21vZHVsZXMvQGFyY2dpcy9jb3JlL2dlb21ldHJ5L3N1cHBvcnQvc2NhbGVVdGlscy5qcyIsIndlYnBhY2s6Ly9leGItY2xpZW50Ly4vbm9kZV9tb2R1bGVzL0BhcmNnaXMvY29yZS9sYXllcnMvV01TTGF5ZXIuanMiLCJ3ZWJwYWNrOi8vZXhiLWNsaWVudC8uL25vZGVfbW9kdWxlcy9AYXJjZ2lzL2NvcmUvbGF5ZXJzL29nYy9jcnNVdGlscy5qcyIsIndlYnBhY2s6Ly9leGItY2xpZW50Ly4vbm9kZV9tb2R1bGVzL0BhcmNnaXMvY29yZS9sYXllcnMvc3VwcG9ydC9FeHBvcnRXTVNJbWFnZVBhcmFtZXRlcnMuanMiLCJ3ZWJwYWNrOi8vZXhiLWNsaWVudC8uL25vZGVfbW9kdWxlcy9AYXJjZ2lzL2NvcmUvbGF5ZXJzL3N1cHBvcnQvV01TU3VibGF5ZXIuanMiLCJ3ZWJwYWNrOi8vZXhiLWNsaWVudC8uL25vZGVfbW9kdWxlcy9AYXJjZ2lzL2NvcmUvbGF5ZXJzL3N1cHBvcnQvd21zVXRpbHMuanMiXSwic291cmNlc0NvbnRlbnQiOlsiLypcbkFsbCBtYXRlcmlhbCBjb3B5cmlnaHQgRVNSSSwgQWxsIFJpZ2h0cyBSZXNlcnZlZCwgdW5sZXNzIG90aGVyd2lzZSBzcGVjaWZpZWQuXG5TZWUgaHR0cHM6Ly9qcy5hcmNnaXMuY29tLzQuMjcvZXNyaS9jb3B5cmlnaHQudHh0IGZvciBkZXRhaWxzLlxuKi9cbmltcG9ydHtfIGFzIHR9ZnJvbVwiLi4vY2h1bmtzL3RzbGliLmVzNi5qc1wiO2ltcG9ydCBvIGZyb21cIi4vQ29sbGVjdGlvbi5qc1wiO2ltcG9ydFwiLi9FcnJvci5qc1wiO2ltcG9ydFwiLi9Mb2dnZXIuanNcIjtpbXBvcnRcIi4vYWNjZXNzb3JTdXBwb3J0L3dhdGNoLmpzXCI7aW1wb3J0e2F1dG9ydW4gYXMgc31mcm9tXCIuL2FjY2Vzc29yU3VwcG9ydC90cmFja2luZ1V0aWxzLmpzXCI7aW1wb3J0e3Byb3BlcnR5IGFzIGV9ZnJvbVwiLi9hY2Nlc3NvclN1cHBvcnQvZGVjb3JhdG9ycy9wcm9wZXJ0eS5qc1wiO2ltcG9ydHtzdWJjbGFzcyBhcyByfWZyb21cIi4vYWNjZXNzb3JTdXBwb3J0L2RlY29yYXRvcnMvc3ViY2xhc3MuanNcIjtsZXQgaT1jbGFzcyBleHRlbmRzIG97Y29uc3RydWN0b3IodCl7c3VwZXIodCksdGhpcy5nZXRDb2xsZWN0aW9ucz1udWxsfWluaXRpYWxpemUoKXt0aGlzLm93bihzKCgoKT0+dGhpcy5fcmVmcmVzaCgpKSkpfWRlc3Ryb3koKXt0aGlzLmdldENvbGxlY3Rpb25zPW51bGx9X3JlZnJlc2goKXtjb25zdCB0PW51bGwhPXRoaXMuZ2V0Q29sbGVjdGlvbnM/dGhpcy5nZXRDb2xsZWN0aW9ucygpOm51bGw7aWYobnVsbD09dClyZXR1cm4gdm9pZCB0aGlzLnJlbW92ZUFsbCgpO2xldCBvPTA7Zm9yKGNvbnN0IHMgb2YgdCludWxsIT1zJiYobz10aGlzLl9wcm9jZXNzQ29sbGVjdGlvbihvLHMpKTt0aGlzLnNwbGljZShvLHRoaXMubGVuZ3RoKX1fY3JlYXRlTmV3SW5zdGFuY2UodCl7cmV0dXJuIG5ldyBvKHQpfV9wcm9jZXNzQ29sbGVjdGlvbih0LG8pe2lmKCFvKXJldHVybiB0O2NvbnN0IHM9dGhpcy5pdGVtRmlsdGVyRnVuY3Rpb24/Pyh0PT4hIXQpO2Zvcihjb25zdCBlIG9mIG8paWYoZSl7aWYocyhlKSl7Y29uc3Qgbz10aGlzLmluZGV4T2YoZSx0KTtvPj0wP28hPT10JiZ0aGlzLnJlb3JkZXIoZSx0KTp0aGlzLmFkZChlLHQpLCsrdH1pZih0aGlzLmdldENoaWxkcmVuRnVuY3Rpb24pe2NvbnN0IG89dGhpcy5nZXRDaGlsZHJlbkZ1bmN0aW9uKGUpO2lmKEFycmF5LmlzQXJyYXkobykpZm9yKGNvbnN0IHMgb2Ygbyl0PXRoaXMuX3Byb2Nlc3NDb2xsZWN0aW9uKHQscyk7ZWxzZSB0PXRoaXMuX3Byb2Nlc3NDb2xsZWN0aW9uKHQsbyl9fXJldHVybiB0fX07dChbZSgpXSxpLnByb3RvdHlwZSxcImdldENvbGxlY3Rpb25zXCIsdm9pZCAwKSx0KFtlKCldLGkucHJvdG90eXBlLFwiZ2V0Q2hpbGRyZW5GdW5jdGlvblwiLHZvaWQgMCksdChbZSgpXSxpLnByb3RvdHlwZSxcIml0ZW1GaWx0ZXJGdW5jdGlvblwiLHZvaWQgMCksaT10KFtyKFwiZXNyaS5jb3JlLkNvbGxlY3Rpb25GbGF0dGVuZXJcIildLGkpO2NvbnN0IG49aTtleHBvcnR7biBhcyBkZWZhdWx0fTtcbiIsIi8qXG5BbGwgbWF0ZXJpYWwgY29weXJpZ2h0IEVTUkksIEFsbCBSaWdodHMgUmVzZXJ2ZWQsIHVubGVzcyBvdGhlcndpc2Ugc3BlY2lmaWVkLlxuU2VlIGh0dHBzOi8vanMuYXJjZ2lzLmNvbS80LjI3L2VzcmkvY29weXJpZ2h0LnR4dCBmb3IgZGV0YWlscy5cbiovXG5pbXBvcnR7Z2V0TWV0ZXJzUGVyVW5pdEZvclNSIGFzIHQsaW5jaGVzUGVyTWV0ZXIgYXMgbn1mcm9tXCIuLi8uLi9jb3JlL3VuaXRVdGlscy5qc1wiO2NvbnN0IGU9OTY7ZnVuY3Rpb24gaShpLHIpe2NvbnN0IG89cnx8aS5leHRlbnQsYz1pLndpZHRoLGQ9dChvJiZvLnNwYXRpYWxSZWZlcmVuY2UpO3JldHVybiBvJiZjP28ud2lkdGgvYypkKm4qZTowfWZ1bmN0aW9uIHIoaSxyKXtyZXR1cm4gaS8odChyKSpuKmUpfWZ1bmN0aW9uIG8odCl7cmV0dXJuIHQvKG4qZSl9ZnVuY3Rpb24gYyhpLHIpe3JldHVybiBpKih0KHIpKm4qZSl9ZnVuY3Rpb24gZCh0LG4pe2NvbnN0IGU9dC5leHRlbnQsaT10LndpZHRoLSh0LnBhZGRpbmc/dC5wYWRkaW5nLmxlZnQrdC5wYWRkaW5nLnJpZ2h0OjApLG89cihuLGUuc3BhdGlhbFJlZmVyZW5jZSk7cmV0dXJuIGUuY2xvbmUoKS5leHBhbmQobyppL2Uud2lkdGgpfWV4cG9ydHtkIGFzIGdldEV4dGVudEZvclNjYWxlLHIgYXMgZ2V0UmVzb2x1dGlvbkZvclNjYWxlLG8gYXMgZ2V0UmVzb2x1dGlvbkluTWV0ZXJzRm9yU2NhbGUsaSBhcyBnZXRTY2FsZSxjIGFzIGdldFNjYWxlRm9yUmVzb2x1dGlvbn07XG4iLCIvKlxuQWxsIG1hdGVyaWFsIGNvcHlyaWdodCBFU1JJLCBBbGwgUmlnaHRzIFJlc2VydmVkLCB1bmxlc3Mgb3RoZXJ3aXNlIHNwZWNpZmllZC5cblNlZSBodHRwczovL2pzLmFyY2dpcy5jb20vNC4yNy9lc3JpL2NvcHlyaWdodC50eHQgZm9yIGRldGFpbHMuXG4qL1xuaW1wb3J0e18gYXMgZX1mcm9tXCIuLi9jaHVua3MvdHNsaWIuZXM2LmpzXCI7aW1wb3J0IHQgZnJvbVwiLi4vY29uZmlnLmpzXCI7aW1wb3J0IHIgZnJvbVwiLi4vR3JhcGhpYy5qc1wiO2ltcG9ydCBvIGZyb21cIi4uL1BvcHVwVGVtcGxhdGUuanNcIjtpbXBvcnQgcyBmcm9tXCIuLi9yZXF1ZXN0LmpzXCI7aW1wb3J0IGkgZnJvbVwiLi4vY29yZS9Db2xsZWN0aW9uLmpzXCI7aW1wb3J0IGEgZnJvbVwiLi4vY29yZS9Db2xsZWN0aW9uRmxhdHRlbmVyLmpzXCI7aW1wb3J0e0pTT05NYXAgYXMgbn1mcm9tXCIuLi9jb3JlL2pzb25NYXAuanNcIjtpbXBvcnR7Y2xvbmUgYXMgbH1mcm9tXCIuLi9jb3JlL2xhbmcuanNcIjtpbXBvcnR7TXVsdGlPcmlnaW5KU09OTWl4aW4gYXMgcH1mcm9tXCIuLi9jb3JlL011bHRpT3JpZ2luSlNPTlN1cHBvcnQuanNcIjtpbXBvcnR7dGhyb3dJZkFib3J0RXJyb3IgYXMgbX1mcm9tXCIuLi9jb3JlL3Byb21pc2VVdGlscy5qc1wiO2ltcG9ydHtvbiBhcyB1LHdhdGNoIGFzIGMsc3luYyBhcyBmfWZyb21cIi4uL2NvcmUvcmVhY3RpdmVVdGlscy5qc1wiO2ltcG9ydHt1cmxUb09iamVjdCBhcyB5LGFkZFF1ZXJ5UGFyYW1ldGVycyBhcyBkLGFkZFByb3h5IGFzIGgsVXJsIGFzIGd9ZnJvbVwiLi4vY29yZS91cmxVdGlscy5qc1wiO2ltcG9ydHtwcm9wZXJ0eSBhcyBifWZyb21cIi4uL2NvcmUvYWNjZXNzb3JTdXBwb3J0L2RlY29yYXRvcnMvcHJvcGVydHkuanNcIjtpbXBvcnR7SW50ZWdlciBhcyB3fWZyb21cIi4uL2NvcmUvYWNjZXNzb3JTdXBwb3J0L2Vuc3VyZVR5cGUuanNcIjtpbXBvcnR7cmVhZGVyIGFzIHZ9ZnJvbVwiLi4vY29yZS9hY2Nlc3NvclN1cHBvcnQvZGVjb3JhdG9ycy9yZWFkZXIuanNcIjtpbXBvcnR7c3ViY2xhc3MgYXMgeH1mcm9tXCIuLi9jb3JlL2FjY2Vzc29yU3VwcG9ydC9kZWNvcmF0b3JzL3N1YmNsYXNzLmpzXCI7aW1wb3J0e3dyaXRlciBhcyBqfWZyb21cIi4uL2NvcmUvYWNjZXNzb3JTdXBwb3J0L2RlY29yYXRvcnMvd3JpdGVyLmpzXCI7aW1wb3J0e3dpbGxQcm9wZXJ0eVdyaXRlIGFzIEl9ZnJvbVwiLi4vY29yZS9hY2Nlc3NvclN1cHBvcnQvd3JpdGUuanNcIjtpbXBvcnQgUyBmcm9tXCIuLi9nZW9tZXRyeS9FeHRlbnQuanNcIjtpbXBvcnQgRiBmcm9tXCIuLi9nZW9tZXRyeS9TcGF0aWFsUmVmZXJlbmNlLmpzXCI7aW1wb3J0e2dldFNjYWxlIGFzIFB9ZnJvbVwiLi4vZ2VvbWV0cnkvc3VwcG9ydC9zY2FsZVV0aWxzLmpzXCI7aW1wb3J0e2VxdWFscyBhcyBSfWZyb21cIi4uL2dlb21ldHJ5L3N1cHBvcnQvc3BhdGlhbFJlZmVyZW5jZVV0aWxzLmpzXCI7aW1wb3J0IEUgZnJvbVwiLi9MYXllci5qc1wiO2ltcG9ydHtCbGVuZExheWVyIGFzIE99ZnJvbVwiLi9taXhpbnMvQmxlbmRMYXllci5qc1wiO2ltcG9ydHtPcGVyYXRpb25hbExheWVyIGFzIEx9ZnJvbVwiLi9taXhpbnMvT3BlcmF0aW9uYWxMYXllci5qc1wiO2ltcG9ydHtQb3J0YWxMYXllciBhcyBVfWZyb21cIi4vbWl4aW5zL1BvcnRhbExheWVyLmpzXCI7aW1wb3J0e1JlZnJlc2hhYmxlTGF5ZXIgYXMgTX1mcm9tXCIuL21peGlucy9SZWZyZXNoYWJsZUxheWVyLmpzXCI7aW1wb3J0e1NjYWxlUmFuZ2VMYXllciBhcyBUfWZyb21cIi4vbWl4aW5zL1NjYWxlUmFuZ2VMYXllci5qc1wiO2ltcG9ydHtUZW1wb3JhbExheWVyIGFzIF99ZnJvbVwiLi9taXhpbnMvVGVtcG9yYWxMYXllci5qc1wiO2ltcG9ydHtpc0F4ZXNPcmRlclJldmVyc2VkRm9yV2tpZCBhcyAkfWZyb21cIi4vb2djL2Nyc1V0aWxzLmpzXCI7aW1wb3J0e2lzV21zU2VydmVyIGFzIEN9ZnJvbVwiLi9zdXBwb3J0L2FyY2dpc0xheWVyVXJsLmpzXCI7aW1wb3J0e2xlZ2VuZEVuYWJsZWQgYXMgVyx1cmwgYXMgcX1mcm9tXCIuL3N1cHBvcnQvY29tbW9uUHJvcGVydGllcy5qc1wiO2ltcG9ydHtFeHBvcnRXTVNJbWFnZVBhcmFtZXRlcnMgYXMgTn1mcm9tXCIuL3N1cHBvcnQvRXhwb3J0V01TSW1hZ2VQYXJhbWV0ZXJzLmpzXCI7aW1wb3J0e2NyZWF0ZUJpdG1hcCBhcyBCfWZyb21cIi4vc3VwcG9ydC9pbWFnZUJpdG1hcFV0aWxzLmpzXCI7aW1wb3J0IEggZnJvbVwiLi9zdXBwb3J0L1dNU1N1YmxheWVyLmpzXCI7aW1wb3J0e25vcm1hbGl6ZVdLSUQgYXMgayx0b0lTT1N0cmluZyBhcyBHLGdldFBvcHVwTGF5ZXJzIGFzIEEscGFyc2VDYXBhYmlsaXRpZXMgYXMgRH1mcm9tXCIuL3N1cHBvcnQvd21zVXRpbHMuanNcIjtjb25zdCBKPW5ldyBuKHtibXA6XCJpbWFnZS9ibXBcIixnaWY6XCJpbWFnZS9naWZcIixqcGc6XCJpbWFnZS9qcGVnXCIscG5nOlwiaW1hZ2UvcG5nXCIsc3ZnOlwiaW1hZ2Uvc3ZnK3htbFwifSx7aWdub3JlVW5rbm93bjohMX0pO2Z1bmN0aW9uIFYoZSl7cmV0dXJuXCJ0ZXh0L2h0bWxcIj09PWV9ZnVuY3Rpb24geihlKXtyZXR1cm5cInRleHQvcGxhaW5cIj09PWV9bGV0IFE9Y2xhc3MgZXh0ZW5kcyhPKF8oTShUKEwoVShwKEUpKSkpKSkpKXtjb25zdHJ1Y3RvciguLi5lKXtzdXBlciguLi5lKSx0aGlzLmFsbFN1YmxheWVycz1uZXcgYSh7Z2V0Q29sbGVjdGlvbnM6KCk9Plt0aGlzLnN1YmxheWVyc10sZ2V0Q2hpbGRyZW5GdW5jdGlvbjplPT5lLnN1YmxheWVyc30pLHRoaXMuY3VzdG9tUGFyYW1ldGVycz1udWxsLHRoaXMuY3VzdG9tTGF5ZXJQYXJhbWV0ZXJzPW51bGwsdGhpcy5jb3B5cmlnaHQ9bnVsbCx0aGlzLmRlc2NyaXB0aW9uPW51bGwsdGhpcy5kaW1lbnNpb25zPW51bGwsdGhpcy5mdWxsRXh0ZW50PW51bGwsdGhpcy5mdWxsRXh0ZW50cz1udWxsLHRoaXMuZmVhdHVyZUluZm9Gb3JtYXRzPW51bGwsdGhpcy5mZWF0dXJlSW5mb1VybD1udWxsLHRoaXMuZmV0Y2hGZWF0dXJlSW5mb0Z1bmN0aW9uPW51bGwsdGhpcy5pbWFnZUZvcm1hdD1udWxsLHRoaXMuaW1hZ2VNYXhIZWlnaHQ9MjA0OCx0aGlzLmltYWdlTWF4V2lkdGg9MjA0OCx0aGlzLmltYWdlVHJhbnNwYXJlbmN5PSEwLHRoaXMubGVnZW5kRW5hYmxlZD0hMCx0aGlzLm1hcFVybD1udWxsLHRoaXMuaXNSZWZlcmVuY2U9bnVsbCx0aGlzLm9wZXJhdGlvbmFsTGF5ZXJUeXBlPVwiV01TXCIsdGhpcy5zcGF0aWFsUmVmZXJlbmNlPW51bGwsdGhpcy5zcGF0aWFsUmVmZXJlbmNlcz1udWxsLHRoaXMuc3VibGF5ZXJzPW51bGwsdGhpcy50eXBlPVwid21zXCIsdGhpcy52ZXJzaW9uPW51bGwsdGhpcy5hZGRIYW5kbGVzKFt1KCgoKT0+dGhpcy5zdWJsYXllcnMpLFwiYWZ0ZXItYWRkXCIsKCh7aXRlbTplfSk9PntlLnBhcmVudD1lLmxheWVyPXRoaXN9KSxmKSx1KCgoKT0+dGhpcy5zdWJsYXllcnMpLFwiYWZ0ZXItcmVtb3ZlXCIsKCh7aXRlbTplfSk9PntlLmxheWVyPWUucGFyZW50PW51bGx9KSxmKSxjKCgoKT0+dGhpcy5zdWJsYXllcnMpLCgoZSx0KT0+e2lmKHQpZm9yKGNvbnN0IHIgb2YgdClyLmxheWVyPXIucGFyZW50PW51bGw7aWYoZSlmb3IoY29uc3QgciBvZiBlKXIucGFyZW50PXIubGF5ZXI9dGhpc30pLGYpXSl9bm9ybWFsaXplQ3RvckFyZ3MoZSx0KXtyZXR1cm5cInN0cmluZ1wiPT10eXBlb2YgZT97dXJsOmUsLi4udH06ZX1kZXN0cm95KCl7dGhpcy5hbGxTdWJsYXllcnMuZGVzdHJveSgpfWxvYWQoZSl7Y29uc3QgdD1udWxsIT1lP2Uuc2lnbmFsOm51bGw7cmV0dXJuIHRoaXMuYWRkUmVzb2x2aW5nUHJvbWlzZSh0aGlzLmxvYWRGcm9tUG9ydGFsKHtzdXBwb3J0ZWRUeXBlczpbXCJXTVNcIl19LGUpLmNhdGNoKG0pLnRoZW4oKCgpPT50aGlzLl9mZXRjaFNlcnZpY2UodCkpKSksUHJvbWlzZS5yZXNvbHZlKHRoaXMpfXJlYWRGdWxsRXh0ZW50RnJvbUl0ZW1Pck1hcChlLHQpe2NvbnN0IHI9dC5leHRlbnQ7cmV0dXJuIHI/bmV3IFMoe3htaW46clswXVswXSx5bWluOnJbMF1bMV0seG1heDpyWzFdWzBdLHltYXg6clsxXVsxXX0pOm51bGx9d3JpdGVGdWxsRXh0ZW50KGUsdCl7dC5leHRlbnQ9W1tlLnhtaW4sZS55bWluXSxbZS54bWF4LGUueW1heF1dfWdldCBmZWF0dXJlSW5mb0Zvcm1hdCgpe3JldHVybiBudWxsPT10aGlzLmZlYXR1cmVJbmZvRm9ybWF0cz9udWxsOnRoaXMuZmVhdHVyZUluZm9Gb3JtYXRzLmZpbmQoVik/P3RoaXMuZmVhdHVyZUluZm9Gb3JtYXRzLmZpbmQoeik/P251bGx9c2V0IGZlYXR1cmVJbmZvRm9ybWF0KGUpe251bGw9PWU/KHRoaXMucmV2ZXJ0KFwiZmVhdHVyZUluZm9Gb3JtYXRcIixcInNlcnZpY2VcIiksdGhpcy5fY2xlYXJPdmVycmlkZShcImZlYXR1cmVJbmZvRm9ybWF0XCIpKTooVihlKXx8eihlKSkmJnRoaXMuX292ZXJyaWRlKFwiZmVhdHVyZUluZm9Gb3JtYXRcIixlKX1yZWFkSW1hZ2VGb3JtYXQoZSx0KXtjb25zdCByPXQuc3VwcG9ydGVkSW1hZ2VGb3JtYXRUeXBlcztyZXR1cm4gciYmci5pbmNsdWRlcyhcImltYWdlL3BuZ1wiKT9cImltYWdlL3BuZ1wiOnImJnJbMF19cmVhZFNwYXRpYWxSZWZlcmVuY2VGcm9tSXRlbU9yRG9jdW1lbnQoZSx0KXtyZXR1cm4gbmV3IEYodC5zcGF0aWFsUmVmZXJlbmNlc1swXSl9d3JpdGVTcGF0aWFsUmVmZXJlbmNlcyhlLHQpe2NvbnN0IHI9dGhpcy5zcGF0aWFsUmVmZXJlbmNlPy53a2lkO2UmJnI/KHQuc3BhdGlhbFJlZmVyZW5jZXM9ZS5maWx0ZXIoKGU9PmUhPT1yKSksdC5zcGF0aWFsUmVmZXJlbmNlcy51bnNoaWZ0KHIpKTp0LnNwYXRpYWxSZWZlcmVuY2VzPWV9cmVhZFN1YmxheWVyc0Zyb21JdGVtT3JNYXAoZSx0LHIpe3JldHVybiBYKHQubGF5ZXJzLHIsdC52aXNpYmxlTGF5ZXJzKX1yZWFkU3VibGF5ZXJzKGUsdCxyKXtyZXR1cm4gWCh0LmxheWVycyxyKX13cml0ZVN1YmxheWVycyhlLHQscixvKXt0LmxheWVycz1bXTtjb25zdCBzPW5ldyBNYXAsaT1lLmZsYXR0ZW4oKCh7c3VibGF5ZXJzOmV9KT0+ZT8/W10pKTtmb3IoY29uc3QgYSBvZiBpKWlmKFwibnVtYmVyXCI9PXR5cGVvZiBhLnBhcmVudD8uaWQpe2NvbnN0IGU9cy5nZXQoYS5wYXJlbnQuaWQpO251bGwhPWU/ZS5wdXNoKGEuaWQpOnMuc2V0KGEucGFyZW50LmlkLFthLmlkXSl9Zm9yKGNvbnN0IGEgb2YgaSl7Y29uc3QgZT17c3VibGF5ZXI6YSwuLi5vfSxyPWEud3JpdGUoe3BhcmVudExheWVySWQ6XCJudW1iZXJcIj09dHlwZW9mIGEucGFyZW50Py5pZD9hLnBhcmVudC5pZDotMX0sZSk7aWYocy5oYXMoYS5pZCkmJihyLnN1YmxheWVySWRzPXMuZ2V0KGEuaWQpKSwhYS5zdWJsYXllcnMmJmEubmFtZSl7Y29uc3Qgcj1hLndyaXRlKHt9LGUpO2RlbGV0ZSByLmlkLHQubGF5ZXJzLnB1c2gocil9fXQudmlzaWJsZUxheWVycz1pLmZpbHRlcigoKHt2aXNpYmxlOmUsc3VibGF5ZXJzOnR9KT0+ZSYmIXQpKS5tYXAoKCh7bmFtZTplfSk9PmUpKS50b0FycmF5KCl9c2V0IHVybChlKXtpZighZSlyZXR1cm4gdm9pZCB0aGlzLl9zZXQoXCJ1cmxcIixlKTtjb25zdHtwYXRoOnQscXVlcnk6cn09eShlKTtmb3IoY29uc3QgcyBpbiByKS9eKHJlcXVlc3R8c2VydmljZSkkL2kudGVzdChzKSYmZGVsZXRlIHJbc107Y29uc3Qgbz1kKHQscj8/e30pO3RoaXMuX3NldChcInVybFwiLG8pfWNyZWF0ZUV4cG9ydEltYWdlUGFyYW1ldGVycyhlLHQscixvKXtjb25zdCBzPW8/LnBpeGVsUmF0aW8/PzEsaT1QKHtleHRlbnQ6ZSx3aWR0aDp0fSkqcyxhPW5ldyBOKHtsYXllcjp0aGlzLHNjYWxlOml9KSx7eG1pbjpuLHltaW46bCx4bWF4OnAseW1heDptLHNwYXRpYWxSZWZlcmVuY2U6dX09ZSxjPWsodSx0aGlzLnNwYXRpYWxSZWZlcmVuY2VzKSxmPVwiMS4zLjBcIj09PXRoaXMudmVyc2lvbiYmJChjKT9gJHtsfSwke259LCR7bX0sJHtwfWA6YCR7bn0sJHtsfSwke3B9LCR7bX1gLHk9YS50b0pTT04oKTtyZXR1cm57YmJveDpmLFtcIjEuMy4wXCI9PT10aGlzLnZlcnNpb24/XCJjcnNcIjpcInNyc1wiXTpudWxsPT1jfHxpc05hTihjKT92b2lkIDA6XCJFUFNHOlwiK2MsLi4ueX19YXN5bmMgZmV0Y2hJbWFnZShlLHQscixvKXtjb25zdCBpPXRoaXMubWFwVXJsLGE9dGhpcy5jcmVhdGVFeHBvcnRJbWFnZVBhcmFtZXRlcnMoZSx0LHIsbyk7aWYoIWEubGF5ZXJzKXtjb25zdCBlPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJjYW52YXNcIik7cmV0dXJuIGUud2lkdGg9dCxlLmhlaWdodD1yLGV9Y29uc3Qgbj1vPy50aW1lRXh0ZW50Py5zdGFydCxsPW8/LnRpbWVFeHRlbnQ/LmVuZCxwPW51bGwhPW4mJm51bGwhPWw/bi5nZXRUaW1lKCk9PT1sLmdldFRpbWUoKT9HKG4pOmAke0cobil9LyR7RyhsKX1gOnZvaWQgMCxtPXtyZXNwb25zZVR5cGU6XCJpbWFnZVwiLHF1ZXJ5OnRoaXMuX21peEN1c3RvbVBhcmFtZXRlcnMoe3dpZHRoOnQsaGVpZ2h0OnIsLi4uYSx0aW1lOnAsLi4udGhpcy5yZWZyZXNoUGFyYW1ldGVyc30pLHNpZ25hbDpvPy5zaWduYWx9O3JldHVybiBzKGk/P1wiXCIsbSkudGhlbigoZT0+ZS5kYXRhKSl9YXN5bmMgZmV0Y2hJbWFnZUJpdG1hcChlLHQscixvKXtjb25zdCBpPXRoaXMubWFwVXJsPz9cIlwiLGE9dGhpcy5jcmVhdGVFeHBvcnRJbWFnZVBhcmFtZXRlcnMoZSx0LHIsbyk7aWYoIWEubGF5ZXJzKXtjb25zdCBlPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJjYW52YXNcIik7cmV0dXJuIGUud2lkdGg9dCxlLmhlaWdodD1yLGV9Y29uc3Qgbj1vPy50aW1lRXh0ZW50Py5zdGFydCxsPW8/LnRpbWVFeHRlbnQ/LmVuZCxwPW51bGwhPW4mJm51bGwhPWw/bi5nZXRUaW1lKCk9PT1sLmdldFRpbWUoKT9HKG4pOmAke0cobil9LyR7RyhsKX1gOnZvaWQgMCxtPXtyZXNwb25zZVR5cGU6XCJibG9iXCIscXVlcnk6dGhpcy5fbWl4Q3VzdG9tUGFyYW1ldGVycyh7d2lkdGg6dCxoZWlnaHQ6ciwuLi5hLHRpbWU6cCwuLi50aGlzLnJlZnJlc2hQYXJhbWV0ZXJzfSksc2lnbmFsOm8/LnNpZ25hbH0se2RhdGE6dX09YXdhaXQgcyhpLG0pO3JldHVybiBCKHUsaSxvPy5zaWduYWwpfWZldGNoRmVhdHVyZUluZm8oZSx0LHIsbyxzKXtjb25zdCBpPVAoe2V4dGVudDplLHdpZHRoOnR9KSxhPW5ldyBOKHtsYXllcjp0aGlzLHNjYWxlOml9KSxuPUEoYS52aXNpYmxlU3VibGF5ZXJzKTtpZihudWxsPT10aGlzLmZlYXR1cmVJbmZvVXJsfHxudWxsPT1uKXJldHVybiBQcm9taXNlLnJlc29sdmUoW10pO2lmKG51bGw9PXRoaXMuZmV0Y2hGZWF0dXJlSW5mb0Z1bmN0aW9uJiZudWxsPT10aGlzLmZlYXR1cmVJbmZvRm9ybWF0KXJldHVybiBQcm9taXNlLnJlc29sdmUoW10pO2NvbnN0IGw9XCIxLjMuMFwiPT09dGhpcy52ZXJzaW9uP3tJOm8sSjpzfTp7eDpvLHk6c30scD17cXVlcnlfbGF5ZXJzOm4scmVxdWVzdDpcIkdldEZlYXR1cmVJbmZvXCIsaW5mb19mb3JtYXQ6dGhpcy5mZWF0dXJlSW5mb0Zvcm1hdCxmZWF0dXJlX2NvdW50OjI1LHdpZHRoOnQsaGVpZ2h0OnIsLi4ubH0sbT17Li4udGhpcy5jcmVhdGVFeHBvcnRJbWFnZVBhcmFtZXRlcnMoZSx0LHIpLC4uLnB9LHU9dGhpcy5fbWl4Q3VzdG9tUGFyYW1ldGVycyhtKTtyZXR1cm4gbnVsbCE9dGhpcy5mZXRjaEZlYXR1cmVJbmZvRnVuY3Rpb24/dGhpcy5mZXRjaEZlYXR1cmVJbmZvRnVuY3Rpb24odSk6dGhpcy5fZGVmYXVsdEZldGNoRmVhdHVyZUluZm9GdW5jdGlvbihkKHRoaXMuZmVhdHVyZUluZm9VcmwsdSkpfWZpbmRTdWJsYXllckJ5SWQoZSl7cmV0dXJuIHRoaXMuYWxsU3VibGF5ZXJzLmZpbmQoKHQ9PnQuaWQ9PT1lKSl9ZmluZFN1YmxheWVyQnlOYW1lKGUpe3JldHVybiB0aGlzLmFsbFN1YmxheWVycy5maW5kKCh0PT50Lm5hbWU9PT1lKSl9c2VydmljZVN1cHBvcnRzU3BhdGlhbFJlZmVyZW5jZShlKXtyZXR1cm4gQyh0aGlzLnVybCl8fG51bGwhPXRoaXMuc3BhdGlhbFJlZmVyZW5jZXMmJnRoaXMuc3BhdGlhbFJlZmVyZW5jZXMuc29tZSgodD0+e2NvbnN0IHI9OTAwOTEzPT09dD9GLldlYk1lcmNhdG9yOm5ldyBGKHt3a2lkOnR9KTtyZXR1cm4gUihyLGUpfSkpfV9kZWZhdWx0RmV0Y2hGZWF0dXJlSW5mb0Z1bmN0aW9uKGUpe2NvbnN0IHQ9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImlmcmFtZVwiKTt0LnNyYz1oKGUpLHQuc3R5bGUuYm9yZGVyPVwibm9uZVwiLHQuc3R5bGUubWFyZ2luPVwiMFwiLHQuc3R5bGUud2lkdGg9XCIxMDAlXCIsdC5zZXRBdHRyaWJ1dGUoXCJzYW5kYm94XCIsXCJcIik7Y29uc3Qgcz1uZXcgbyh7dGl0bGU6dGhpcy50aXRsZSxjb250ZW50OnR9KSxpPW5ldyByKHtzb3VyY2VMYXllcjp0aGlzLHBvcHVwVGVtcGxhdGU6c30pO3JldHVybiBQcm9taXNlLnJlc29sdmUoW2ldKX1hc3luYyBfZmV0Y2hTZXJ2aWNlKGUpe2lmKCF0aGlzLnJlc291cmNlSW5mbyYmdGhpcy5wYXJzZWRVcmw/LnBhdGgpe2NvbnN0e3BhdGg6dCxxdWVyeTpyfT10aGlzLnBhcnNlZFVybCx7ZGF0YTpvfT1hd2FpdCBzKHQse3F1ZXJ5OntTRVJWSUNFOlwiV01TXCIsUkVRVUVTVDpcIkdldENhcGFiaWxpdGllc1wiLC4uLnIsLi4udGhpcy5jdXN0b21QYXJhbWV0ZXJzfSxyZXNwb25zZVR5cGU6XCJ4bWxcIixzaWduYWw6ZX0pO3RoaXMucmVzb3VyY2VJbmZvPUQobyl9aWYodGhpcy5wYXJzZWRVcmwpe2NvbnN0IGU9bmV3IGcodGhpcy5wYXJzZWRVcmwucGF0aCkse2h0dHBzRG9tYWluczpyfT10LnJlcXVlc3Q7XCJodHRwc1wiIT09ZS5zY2hlbWV8fGUucG9ydCYmXCI0NDNcIiE9PWUucG9ydHx8IWUuaG9zdHx8ci5pbmNsdWRlcyhlLmhvc3QpfHxyLnB1c2goZS5ob3N0KX10aGlzLnJlYWQodGhpcy5yZXNvdXJjZUluZm8se29yaWdpbjpcInNlcnZpY2VcIn0pfV9taXhDdXN0b21QYXJhbWV0ZXJzKGUpe2lmKCF0aGlzLmN1c3RvbUxheWVyUGFyYW1ldGVycyYmIXRoaXMuY3VzdG9tUGFyYW1ldGVycylyZXR1cm4gZTtjb25zdCB0PXsuLi50aGlzLmN1c3RvbVBhcmFtZXRlcnMsLi4udGhpcy5jdXN0b21MYXllclBhcmFtZXRlcnN9O2Zvcihjb25zdCByIGluIHQpZVtyLnRvTG93ZXJDYXNlKCldPXRbcl07cmV0dXJuIGV9fTtmdW5jdGlvbiBLKGUsdCl7cmV0dXJuIGUuc29tZSgoZT0+e2Zvcihjb25zdCByIGluIGUpaWYoSShlLHIsbnVsbCx0KSlyZXR1cm4hMDtyZXR1cm4hMX0pKX1mdW5jdGlvbiBYKGUsdCxyKXtlPWU/P1tdO2NvbnN0IG89bmV3IE1hcDtlLmV2ZXJ5KChlPT5udWxsPT1lLmlkKSkmJihlPWwoZSkpLmZvckVhY2goKChlLHQpPT5lLmlkPXQpKTtmb3IoY29uc3QgaSBvZiBlKXtjb25zdCBlPW5ldyBIO2UucmVhZChpLHQpLHImJiFyLmluY2x1ZGVzKGUubmFtZSkmJihlLnZpc2libGU9ITEpLG8uc2V0KGUuaWQsZSl9Y29uc3Qgcz1bXTtmb3IoY29uc3QgYSBvZiBlKXtjb25zdCBlPW51bGwhPWEuaWQ/by5nZXQoYS5pZCk6bnVsbDtpZihlKWlmKG51bGwhPWEucGFyZW50TGF5ZXJJZCYmYS5wYXJlbnRMYXllcklkPj0wKXtjb25zdCB0PW8uZ2V0KGEucGFyZW50TGF5ZXJJZCk7aWYoIXQpY29udGludWU7dC5zdWJsYXllcnN8fCh0LnN1YmxheWVycz1uZXcgaSksdC5zdWJsYXllcnMucHVzaChlKX1lbHNlIHMucHVzaChlKX1yZXR1cm4gc31lKFtiKHtyZWFkT25seTohMH0pXSxRLnByb3RvdHlwZSxcImFsbFN1YmxheWVyc1wiLHZvaWQgMCksZShbYih7anNvbjp7dHlwZTpPYmplY3Qsd3JpdGU6ITB9fSldLFEucHJvdG90eXBlLFwiY3VzdG9tUGFyYW1ldGVyc1wiLHZvaWQgMCksZShbYih7anNvbjp7dHlwZTpPYmplY3Qsd3JpdGU6ITB9fSldLFEucHJvdG90eXBlLFwiY3VzdG9tTGF5ZXJQYXJhbWV0ZXJzXCIsdm9pZCAwKSxlKFtiKHt0eXBlOlN0cmluZyxqc29uOnt3cml0ZTohMH19KV0sUS5wcm90b3R5cGUsXCJjb3B5cmlnaHRcIix2b2lkIDApLGUoW2IoKV0sUS5wcm90b3R5cGUsXCJkZXNjcmlwdGlvblwiLHZvaWQgMCksZShbYih7cmVhZE9ubHk6ITB9KV0sUS5wcm90b3R5cGUsXCJkaW1lbnNpb25zXCIsdm9pZCAwKSxlKFtiKHtqc29uOnt0eXBlOltbTnVtYmVyXV0scmVhZDp7c291cmNlOlwiZXh0ZW50XCJ9LHdyaXRlOnt0YXJnZXQ6XCJleHRlbnRcIn0sb3JpZ2luczp7XCJ3ZWItZG9jdW1lbnRcIjp7d3JpdGU6e2lnbm9yZU9yaWdpbjohMH19LFwicG9ydGFsLWl0ZW1cIjp7d3JpdGU6e2lnbm9yZU9yaWdpbjohMH19fX19KV0sUS5wcm90b3R5cGUsXCJmdWxsRXh0ZW50XCIsdm9pZCAwKSxlKFt2KFtcIndlYi1kb2N1bWVudFwiLFwicG9ydGFsLWl0ZW1cIl0sXCJmdWxsRXh0ZW50XCIsW1wiZXh0ZW50XCJdKV0sUS5wcm90b3R5cGUsXCJyZWFkRnVsbEV4dGVudEZyb21JdGVtT3JNYXBcIixudWxsKSxlKFtqKFtcIndlYi1kb2N1bWVudFwiLFwicG9ydGFsLWl0ZW1cIl0sXCJmdWxsRXh0ZW50XCIse2V4dGVudDp7dHlwZTpbW051bWJlcl1dfX0pXSxRLnByb3RvdHlwZSxcIndyaXRlRnVsbEV4dGVudFwiLG51bGwpLGUoW2IoKV0sUS5wcm90b3R5cGUsXCJmdWxsRXh0ZW50c1wiLHZvaWQgMCksZShbYih7dHlwZTpTdHJpbmcsanNvbjp7d3JpdGU6e2lnbm9yZU9yaWdpbjohMH19fSldLFEucHJvdG90eXBlLFwiZmVhdHVyZUluZm9Gb3JtYXRcIixudWxsKSxlKFtiKHt0eXBlOltTdHJpbmddLHJlYWRPbmx5OiEwfSldLFEucHJvdG90eXBlLFwiZmVhdHVyZUluZm9Gb3JtYXRzXCIsdm9pZCAwKSxlKFtiKHt0eXBlOlN0cmluZyxqc29uOnt3cml0ZTp7aWdub3JlT3JpZ2luOiEwfX19KV0sUS5wcm90b3R5cGUsXCJmZWF0dXJlSW5mb1VybFwiLHZvaWQgMCksZShbYigpXSxRLnByb3RvdHlwZSxcImZldGNoRmVhdHVyZUluZm9GdW5jdGlvblwiLHZvaWQgMCksZShbYih7dHlwZTpTdHJpbmcsanNvbjp7b3JpZ2luczp7XCJ3ZWItZG9jdW1lbnRcIjp7ZGVmYXVsdDpcImltYWdlL3BuZ1wiLHR5cGU6Si5qc29uVmFsdWVzLHJlYWQ6e3JlYWRlcjpKLnJlYWQsc291cmNlOlwiZm9ybWF0XCJ9LHdyaXRlOnt3cml0ZXI6Si53cml0ZSx0YXJnZXQ6XCJmb3JtYXRcIn19fX19KV0sUS5wcm90b3R5cGUsXCJpbWFnZUZvcm1hdFwiLHZvaWQgMCksZShbdihcImltYWdlRm9ybWF0XCIsW1wic3VwcG9ydGVkSW1hZ2VGb3JtYXRUeXBlc1wiXSldLFEucHJvdG90eXBlLFwicmVhZEltYWdlRm9ybWF0XCIsbnVsbCksZShbYih7dHlwZTpOdW1iZXIsanNvbjp7cmVhZDp7c291cmNlOlwibWF4SGVpZ2h0XCJ9LHdyaXRlOnt0YXJnZXQ6XCJtYXhIZWlnaHRcIn19fSldLFEucHJvdG90eXBlLFwiaW1hZ2VNYXhIZWlnaHRcIix2b2lkIDApLGUoW2Ioe3R5cGU6TnVtYmVyLGpzb246e3JlYWQ6e3NvdXJjZTpcIm1heFdpZHRoXCJ9LHdyaXRlOnt0YXJnZXQ6XCJtYXhXaWR0aFwifX19KV0sUS5wcm90b3R5cGUsXCJpbWFnZU1heFdpZHRoXCIsdm9pZCAwKSxlKFtiKCldLFEucHJvdG90eXBlLFwiaW1hZ2VUcmFuc3BhcmVuY3lcIix2b2lkIDApLGUoW2IoVyldLFEucHJvdG90eXBlLFwibGVnZW5kRW5hYmxlZFwiLHZvaWQgMCksZShbYih7dHlwZTpbXCJzaG93XCIsXCJoaWRlXCIsXCJoaWRlLWNoaWxkcmVuXCJdfSldLFEucHJvdG90eXBlLFwibGlzdE1vZGVcIix2b2lkIDApLGUoW2Ioe3R5cGU6U3RyaW5nLGpzb246e3dyaXRlOntpZ25vcmVPcmlnaW46ITB9fX0pXSxRLnByb3RvdHlwZSxcIm1hcFVybFwiLHZvaWQgMCksZShbYih7dHlwZTpCb29sZWFuLGpzb246e3JlYWQ6ITEsd3JpdGU6e2VuYWJsZWQ6ITAsb3ZlcnJpZGVQb2xpY3k6KCk9Pih7ZW5hYmxlZDohMX0pfX19KV0sUS5wcm90b3R5cGUsXCJpc1JlZmVyZW5jZVwiLHZvaWQgMCksZShbYih7dHlwZTpbXCJXTVNcIl19KV0sUS5wcm90b3R5cGUsXCJvcGVyYXRpb25hbExheWVyVHlwZVwiLHZvaWQgMCksZShbYigpXSxRLnByb3RvdHlwZSxcInJlc291cmNlSW5mb1wiLHZvaWQgMCksZShbYih7dHlwZTpGLGpzb246e29yaWdpbnM6e3NlcnZpY2U6e3JlYWQ6e3NvdXJjZTpcImV4dGVudC5zcGF0aWFsUmVmZXJlbmNlXCJ9fX0sd3JpdGU6ITF9fSldLFEucHJvdG90eXBlLFwic3BhdGlhbFJlZmVyZW5jZVwiLHZvaWQgMCksZShbdihbXCJ3ZWItZG9jdW1lbnRcIixcInBvcnRhbC1pdGVtXCJdLFwic3BhdGlhbFJlZmVyZW5jZVwiLFtcInNwYXRpYWxSZWZlcmVuY2VzXCJdKV0sUS5wcm90b3R5cGUsXCJyZWFkU3BhdGlhbFJlZmVyZW5jZUZyb21JdGVtT3JEb2N1bWVudFwiLG51bGwpLGUoW2Ioe3R5cGU6W3ddLGpzb246e3JlYWQ6ITEsb3JpZ2luczp7c2VydmljZTp7cmVhZDohMH0sXCJ3ZWItZG9jdW1lbnRcIjp7cmVhZDohMSx3cml0ZTp7aWdub3JlT3JpZ2luOiEwfX0sXCJwb3J0YWwtaXRlbVwiOntyZWFkOiExLHdyaXRlOntpZ25vcmVPcmlnaW46ITB9fX19fSldLFEucHJvdG90eXBlLFwic3BhdGlhbFJlZmVyZW5jZXNcIix2b2lkIDApLGUoW2ooW1wid2ViLWRvY3VtZW50XCIsXCJwb3J0YWwtaXRlbVwiXSxcInNwYXRpYWxSZWZlcmVuY2VzXCIpXSxRLnByb3RvdHlwZSxcIndyaXRlU3BhdGlhbFJlZmVyZW5jZXNcIixudWxsKSxlKFtiKHt0eXBlOmkub2ZUeXBlKEgpLGpzb246e3dyaXRlOnt0YXJnZXQ6XCJsYXllcnNcIixvdmVycmlkZVBvbGljeShlLHQscil7aWYoSyh0aGlzLmFsbFN1YmxheWVycyxyKSlyZXR1cm57aWdub3JlT3JpZ2luOiEwfX19fX0pXSxRLnByb3RvdHlwZSxcInN1YmxheWVyc1wiLHZvaWQgMCksZShbdihbXCJ3ZWItZG9jdW1lbnRcIixcInBvcnRhbC1pdGVtXCJdLFwic3VibGF5ZXJzXCIsW1wibGF5ZXJzXCIsXCJ2aXNpYmxlTGF5ZXJzXCJdKV0sUS5wcm90b3R5cGUsXCJyZWFkU3VibGF5ZXJzRnJvbUl0ZW1Pck1hcFwiLG51bGwpLGUoW3YoXCJzZXJ2aWNlXCIsXCJzdWJsYXllcnNcIixbXCJsYXllcnNcIl0pXSxRLnByb3RvdHlwZSxcInJlYWRTdWJsYXllcnNcIixudWxsKSxlKFtqKFwic3VibGF5ZXJzXCIse2xheWVyczp7dHlwZTpbSF19LHZpc2libGVMYXllcnM6e3R5cGU6W1N0cmluZ119fSldLFEucHJvdG90eXBlLFwid3JpdGVTdWJsYXllcnNcIixudWxsKSxlKFtiKHtqc29uOntyZWFkOiExfSxyZWFkT25seTohMCx2YWx1ZTpcIndtc1wifSldLFEucHJvdG90eXBlLFwidHlwZVwiLHZvaWQgMCksZShbYihxKV0sUS5wcm90b3R5cGUsXCJ1cmxcIixudWxsKSxlKFtiKHt0eXBlOlN0cmluZyxqc29uOnt3cml0ZTp7aWdub3JlT3JpZ2luOiEwfX19KV0sUS5wcm90b3R5cGUsXCJ2ZXJzaW9uXCIsdm9pZCAwKSxRPWUoW3goXCJlc3JpLmxheWVycy5XTVNMYXllclwiKV0sUSk7Y29uc3QgWT1RO2V4cG9ydHtZIGFzIGRlZmF1bHR9O1xuIiwiLypcbkFsbCBtYXRlcmlhbCBjb3B5cmlnaHQgRVNSSSwgQWxsIFJpZ2h0cyBSZXNlcnZlZCwgdW5sZXNzIG90aGVyd2lzZSBzcGVjaWZpZWQuXG5TZWUgaHR0cHM6Ly9qcy5hcmNnaXMuY29tLzQuMjcvZXNyaS9jb3B5cmlnaHQudHh0IGZvciBkZXRhaWxzLlxuKi9cbmNvbnN0IG49W1szODE5LDM4MTldLFszODIxLDM4MjRdLFszODg5LDM4ODldLFszOTA2LDM5MDZdLFs0MDAxLDQwMjVdLFs0MDI3LDQwMzZdLFs0MDM5LDQwNDddLFs0MDUyLDQwNTVdLFs0MDc0LDQwNzVdLFs0MDgwLDQwODFdLFs0MTIwLDQxNzZdLFs0MTc4LDQxODVdLFs0MTg4LDQyMTZdLFs0MjE4LDQyODldLFs0MjkxLDQzMDRdLFs0MzA2LDQzMTldLFs0MzIyLDQzMjZdLFs0NDYzLDQ0NjNdLFs0NDcwLDQ0NzBdLFs0NDc1LDQ0NzVdLFs0NDgzLDQ0ODNdLFs0NDkwLDQ0OTBdLFs0NTU1LDQ1NThdLFs0NjAwLDQ2NDZdLFs0NjU3LDQ3NjVdLFs0ODAxLDQ4MTFdLFs0ODEzLDQ4MjFdLFs0ODIzLDQ4MjRdLFs0OTAxLDQ5MDRdLFs1MDEzLDUwMTNdLFs1MTMyLDUxMzJdLFs1MjI4LDUyMjldLFs1MjMzLDUyMzNdLFs1MjQ2LDUyNDZdLFs1MjUyLDUyNTJdLFs1MjY0LDUyNjRdLFs1MzI0LDUzNDBdLFs1MzU0LDUzNTRdLFs1MzYwLDUzNjBdLFs1MzY1LDUzNjVdLFs1MzcwLDUzNzNdLFs1MzgxLDUzODFdLFs1MzkzLDUzOTNdLFs1NDUxLDU0NTFdLFs1NDY0LDU0NjRdLFs1NDY3LDU0NjddLFs1NDg5LDU0ODldLFs1NTI0LDU1MjRdLFs1NTI3LDU1MjddLFs1NTQ2LDU1NDZdLFsyMDQ0LDIwNDVdLFsyMDgxLDIwODNdLFsyMDg1LDIwODZdLFsyMDkzLDIwOTNdLFsyMDk2LDIwOThdLFsyMTA1LDIxMzJdLFsyMTY5LDIxNzBdLFsyMTc2LDIxODBdLFsyMTkzLDIxOTNdLFsyMjAwLDIyMDBdLFsyMjA2LDIyMTJdLFsyMzE5LDIzMTldLFsyMzIwLDI0NjJdLFsyNTIzLDI1NDldLFsyNTUxLDI3MzVdLFsyNzM4LDI3NThdLFsyOTM1LDI5NDFdLFsyOTUzLDI5NTNdLFszMDA2LDMwMzBdLFszMDM0LDMwMzVdLFszMDM4LDMwNTFdLFszMDU4LDMwNTldLFszMDY4LDMwNjhdLFszMTE0LDMxMThdLFszMTI2LDMxMzhdLFszMTUwLDMxNTFdLFszMzAwLDMzMDFdLFszMzI4LDMzMzVdLFszMzQ2LDMzNDZdLFszMzUwLDMzNTJdLFszMzY2LDMzNjZdLFszMzg5LDMzOTBdLFszNDE2LDM0MTddLFszODMzLDM4NDFdLFszODQ0LDM4NTBdLFszODU0LDM4NTRdLFszODczLDM4ODVdLFszOTA3LDM5MTBdLFs0MDI2LDQwMjZdLFs0MDM3LDQwMzhdLFs0NDE3LDQ0MTddLFs0NDM0LDQ0MzRdLFs0NDkxLDQ1NTRdLFs0ODM5LDQ4MzldLFs1MDQ4LDUwNDhdLFs1MTA1LDUxMzBdLFs1MjUzLDUyNTldLFs1MjY5LDUyNzVdLFs1MzQzLDUzNDldLFs1NDc5LDU0ODJdLFs1NTE4LDU1MTldLFs1NTIwLDU1MjBdLFsyMDAwNCwyMDAzMl0sWzIwMDY0LDIwMDkyXSxbMjE0MTMsMjE0MjNdLFsyMTQ3MywyMTQ4M10sWzIxODk2LDIxODk5XSxbMjIxNzEsMjIxNzddLFsyMjE4MSwyMjE4N10sWzIyMTkxLDIyMTk3XSxbMjU4ODQsMjU4ODRdLFsyNzIwNSwyNzIzMl0sWzI3MzkxLDI3Mzk4XSxbMjc0OTIsMjc0OTJdLFsyODQwMiwyODQzMl0sWzI4NDYyLDI4NDkyXSxbMzAxNjEsMzAxNzldLFszMDgwMCwzMDgwMF0sWzMxMjUxLDMxMjU5XSxbMzEyNzUsMzEyNzldLFszMTI4MSwzMTI5MF0sWzMxNDY2LDMxNzAwXV07ZnVuY3Rpb24gbyhvKXtyZXR1cm4gbnVsbCE9byYmbi5zb21lKCgoW24sdF0pPT5vPj1uJiZvPD10KSl9ZXhwb3J0e28gYXMgaXNBeGVzT3JkZXJSZXZlcnNlZEZvcldraWR9O1xuIiwiLypcbkFsbCBtYXRlcmlhbCBjb3B5cmlnaHQgRVNSSSwgQWxsIFJpZ2h0cyBSZXNlcnZlZCwgdW5sZXNzIG90aGVyd2lzZSBzcGVjaWZpZWQuXG5TZWUgaHR0cHM6Ly9qcy5hcmNnaXMuY29tLzQuMjcvZXNyaS9jb3B5cmlnaHQudHh0IGZvciBkZXRhaWxzLlxuKi9cbmltcG9ydHtfIGFzIGV9ZnJvbVwiLi4vLi4vY2h1bmtzL3RzbGliLmVzNi5qc1wiO2ltcG9ydCByIGZyb21cIi4uLy4uL2NvcmUvQWNjZXNzb3IuanNcIjtpbXBvcnR7SGFuZGxlT3duZXJNaXhpbiBhcyBzfWZyb21cIi4uLy4uL2NvcmUvSGFuZGxlT3duZXIuanNcIjtpbXBvcnR7cHJvcGVydHkgYXMgdH1mcm9tXCIuLi8uLi9jb3JlL2FjY2Vzc29yU3VwcG9ydC9kZWNvcmF0b3JzL3Byb3BlcnR5LmpzXCI7aW1wb3J0XCIuLi8uLi9jb3JlL2FjY2Vzc29yU3VwcG9ydC9lbnN1cmVUeXBlLmpzXCI7aW1wb3J0XCIuLi8uLi9jb3JlL2FycmF5VXRpbHMuanNcIjtpbXBvcnRcIi4uLy4uL2NvcmUvaGFzLmpzXCI7aW1wb3J0e3N1YmNsYXNzIGFzIG99ZnJvbVwiLi4vLi4vY29yZS9hY2Nlc3NvclN1cHBvcnQvZGVjb3JhdG9ycy9zdWJjbGFzcy5qc1wiO2NvbnN0IGE9e3Zpc2libGU6XCJ2aXNpYmxlU3VibGF5ZXJzXCJ9O2xldCBsPWNsYXNzIGV4dGVuZHMocyhyKSl7Y29uc3RydWN0b3IoZSl7c3VwZXIoZSksdGhpcy5zY2FsZT0wfXNldCBsYXllcihlKXt0aGlzLl9nZXQoXCJsYXllclwiKSE9PWUmJih0aGlzLl9zZXQoXCJsYXllclwiLGUpLHRoaXMuaGFuZGxlcy5yZW1vdmUoXCJsYXllclwiKSxlJiZ0aGlzLmhhbmRsZXMuYWRkKFtlLnN1YmxheWVycy5vbihcImNoYW5nZVwiLCgoKT0+dGhpcy5ub3RpZnlDaGFuZ2UoXCJ2aXNpYmxlU3VibGF5ZXJzXCIpKSksZS5vbihcIndtcy1zdWJsYXllci11cGRhdGVcIiwoZT0+dGhpcy5ub3RpZnlDaGFuZ2UoYVtlLnByb3BlcnR5TmFtZV0pKSldLFwibGF5ZXJcIikpfWdldCBsYXllcnMoKXtyZXR1cm4gdGhpcy52aXNpYmxlU3VibGF5ZXJzLmZpbHRlcigoKHtuYW1lOmV9KT0+ZSkpLm1hcCgoKHtuYW1lOmV9KT0+ZSkpLmpvaW4oKX1nZXQgdmVyc2lvbigpe3RoaXMuY29tbWl0UHJvcGVydHkoXCJsYXllcnNcIik7Y29uc3QgZT10aGlzLmxheWVyO3JldHVybiBlJiZlLmNvbW1pdFByb3BlcnR5KFwiaW1hZ2VUcmFuc3BhcmVuY3lcIiksKHRoaXMuX2dldChcInZlcnNpb25cIil8fDApKzF9Z2V0IHZpc2libGVTdWJsYXllcnMoKXtjb25zdHtsYXllcjplLHNjYWxlOnJ9PXRoaXMscz1lPy5zdWJsYXllcnMsdD1bXSxvPWU9Pntjb25zdHttaW5TY2FsZTpzLG1heFNjYWxlOmEsc3VibGF5ZXJzOmwsdmlzaWJsZTppfT1lO2kmJigwPT09cnx8KDA9PT1zfHxyPD1zKSYmKDA9PT1hfHxyPj1hKSkmJihsP2wuZm9yRWFjaChvKTp0LnB1c2goZSkpfTtyZXR1cm4gcz8uZm9yRWFjaChvKSx0fXRvSlNPTigpe2NvbnN0e2xheWVyOmUsbGF5ZXJzOnJ9PXRoaXMse2ltYWdlRm9ybWF0OnMsaW1hZ2VUcmFuc3BhcmVuY3k6dCx2ZXJzaW9uOm99PWU7cmV0dXJue2Zvcm1hdDpzLHJlcXVlc3Q6XCJHZXRNYXBcIixzZXJ2aWNlOlwiV01TXCIsc3R5bGVzOlwiXCIsdHJhbnNwYXJlbnQ6dD9cIlRSVUVcIjpcIkZBTFNFXCIsdmVyc2lvbjpvLGxheWVyczpyfX19O2UoW3QoKV0sbC5wcm90b3R5cGUsXCJsYXllclwiLG51bGwpLGUoW3Qoe3JlYWRPbmx5OiEwfSldLGwucHJvdG90eXBlLFwibGF5ZXJzXCIsbnVsbCksZShbdCh7dHlwZTpOdW1iZXJ9KV0sbC5wcm90b3R5cGUsXCJzY2FsZVwiLHZvaWQgMCksZShbdCh7cmVhZE9ubHk6ITB9KV0sbC5wcm90b3R5cGUsXCJ2ZXJzaW9uXCIsbnVsbCksZShbdCh7cmVhZE9ubHk6ITB9KV0sbC5wcm90b3R5cGUsXCJ2aXNpYmxlU3VibGF5ZXJzXCIsbnVsbCksbD1lKFtvKFwiZXNyaS5sYXllcnMuc3VwcG9ydC5FeHBvcnRXTVNJbWFnZVBhcmFtZXRlcnNcIildLGwpO2V4cG9ydHtsIGFzIEV4cG9ydFdNU0ltYWdlUGFyYW1ldGVyc307XG4iLCIvKlxuQWxsIG1hdGVyaWFsIGNvcHlyaWdodCBFU1JJLCBBbGwgUmlnaHRzIFJlc2VydmVkLCB1bmxlc3Mgb3RoZXJ3aXNlIHNwZWNpZmllZC5cblNlZSBodHRwczovL2pzLmFyY2dpcy5jb20vNC4yNy9lc3JpL2NvcHlyaWdodC50eHQgZm9yIGRldGFpbHMuXG4qL1xuaW1wb3J0e18gYXMgZX1mcm9tXCIuLi8uLi9jaHVua3MvdHNsaWIuZXM2LmpzXCI7aW1wb3J0IHQgZnJvbVwiLi4vLi4vY29yZS9Db2xsZWN0aW9uLmpzXCI7aW1wb3J0e0lkZW50aWZpYWJsZU1peGluIGFzIHJ9ZnJvbVwiLi4vLi4vY29yZS9JZGVudGlmaWFibGUuanNcIjtpbXBvcnR7TXVsdGlPcmlnaW5KU09OU3VwcG9ydCBhcyBzfWZyb21cIi4uLy4uL2NvcmUvTXVsdGlPcmlnaW5KU09OU3VwcG9ydC5qc1wiO2ltcG9ydHtvbiBhcyBvLHdhdGNoIGFzIGksc3luYyBhcyBsfWZyb21cIi4uLy4uL2NvcmUvcmVhY3RpdmVVdGlscy5qc1wiO2ltcG9ydHtwcm9wZXJ0eSBhcyBufWZyb21cIi4uLy4uL2NvcmUvYWNjZXNzb3JTdXBwb3J0L2RlY29yYXRvcnMvcHJvcGVydHkuanNcIjtpbXBvcnR7Y2FzdCBhcyBhfWZyb21cIi4uLy4uL2NvcmUvYWNjZXNzb3JTdXBwb3J0L2RlY29yYXRvcnMvY2FzdC5qc1wiO2ltcG9ydFwiLi4vLi4vY29yZS9hcnJheVV0aWxzLmpzXCI7aW1wb3J0XCIuLi8uLi9jb3JlL2hhcy5qc1wiO2ltcG9ydHtyZWFkZXIgYXMgcH1mcm9tXCIuLi8uLi9jb3JlL2FjY2Vzc29yU3VwcG9ydC9kZWNvcmF0b3JzL3JlYWRlci5qc1wiO2ltcG9ydHtzdWJjbGFzcyBhcyB5fWZyb21cIi4uLy4uL2NvcmUvYWNjZXNzb3JTdXBwb3J0L2RlY29yYXRvcnMvc3ViY2xhc3MuanNcIjtpbXBvcnR7ZW5zdXJlVHlwZSBhcyBkfWZyb21cIi4uLy4uL2NvcmUvYWNjZXNzb3JTdXBwb3J0L2Vuc3VyZVR5cGUuanNcIjtpbXBvcnQgdSBmcm9tXCIuLi8uLi9nZW9tZXRyeS9FeHRlbnQuanNcIjt2YXIgaDtsZXQgYz0wLG09aD1jbGFzcyBleHRlbmRzKHIocykpe2NvbnN0cnVjdG9yKGUpe3N1cGVyKGUpLHRoaXMuZGVzY3JpcHRpb249bnVsbCx0aGlzLmRpbWVuc2lvbnM9bnVsbCx0aGlzLmZ1bGxFeHRlbnQ9bnVsbCx0aGlzLmZ1bGxFeHRlbnRzPW51bGwsdGhpcy5sZWdlbmRVcmw9bnVsbCx0aGlzLmxlZ2VuZEVuYWJsZWQ9ITAsdGhpcy5sYXllcj1udWxsLHRoaXMubWF4U2NhbGU9MCx0aGlzLm1pblNjYWxlPTAsdGhpcy5uYW1lPW51bGwsdGhpcy5wYXJlbnQ9bnVsbCx0aGlzLnBvcHVwRW5hYmxlZD0hMSx0aGlzLnF1ZXJ5YWJsZT0hMSx0aGlzLnN1YmxheWVycz1udWxsLHRoaXMuc3BhdGlhbFJlZmVyZW5jZXM9bnVsbCx0aGlzLnRpdGxlPW51bGwsdGhpcy5hZGRIYW5kbGVzKFtvKCgoKT0+dGhpcy5zdWJsYXllcnMpLFwiYWZ0ZXItYWRkXCIsKCh7aXRlbTplfSk9PntlLnBhcmVudD10aGlzLGUubGF5ZXI9dGhpcy5sYXllcn0pLGwpLG8oKCgpPT50aGlzLnN1YmxheWVycyksXCJhZnRlci1yZW1vdmVcIiwoKHtpdGVtOmV9KT0+e2UubGF5ZXI9ZS5wYXJlbnQ9bnVsbH0pLGwpLGkoKCgpPT50aGlzLnN1YmxheWVycyksKChlLHQpPT57aWYodClmb3IoY29uc3QgciBvZiB0KXIubGF5ZXI9ci5wYXJlbnQ9bnVsbDtpZihlKWZvcihjb25zdCByIG9mIGUpci5wYXJlbnQ9dGhpcyxyLmxheWVyPXRoaXMubGF5ZXJ9KSxsKSxpKCgoKT0+dGhpcy5sYXllciksKGU9PntpZih0aGlzLnN1YmxheWVycylmb3IoY29uc3QgdCBvZiB0aGlzLnN1YmxheWVycyl0LmxheWVyPWV9KSxsKV0pfWdldCBpZCgpe2NvbnN0IGU9dGhpcy5fZ2V0KFwiaWRcIik7cmV0dXJuIGU/P2MrK31zZXQgaWQoZSl7dGhpcy5fc2V0KFwiaWRcIixlKX1yZWFkTGVnZW5kVXJsKGUsdCl7cmV0dXJuIHQubGVnZW5kVXJsPz90LmxlZ2VuZFVSTD8/bnVsbH1nZXQgZWZmZWN0aXZlU2NhbGVSYW5nZSgpe2NvbnN0e21pblNjYWxlOmUsbWF4U2NhbGU6dH09dGhpcztyZXR1cm57bWluU2NhbGU6ZSxtYXhTY2FsZTp0fX1jYXN0U3VibGF5ZXJzKGUpe3JldHVybiBkKHQub2ZUeXBlKGgpLGUpfXNldCB2aXNpYmxlKGUpe3RoaXMuX3NldEFuZE5vdGlmeUxheWVyKFwidmlzaWJsZVwiLGUpfWNsb25lKCl7Y29uc3QgZT1uZXcgaDtyZXR1cm4gdGhpcy5oYXNPd25Qcm9wZXJ0eShcImRlc2NyaXB0aW9uXCIpJiYoZS5kZXNjcmlwdGlvbj10aGlzLmRlc2NyaXB0aW9uKSx0aGlzLmhhc093blByb3BlcnR5KFwiZnVsbEV4dGVudFwiKSYmKGUuZnVsbEV4dGVudD10aGlzLmZ1bGxFeHRlbnQuY2xvbmUoKSksdGhpcy5oYXNPd25Qcm9wZXJ0eShcImZ1bGxFeHRlbnRzXCIpJiYoZS5mdWxsRXh0ZW50cz10aGlzLmZ1bGxFeHRlbnRzPy5tYXAoKGU9PmUuY2xvbmUoKSkpPz9udWxsKSx0aGlzLmhhc093blByb3BlcnR5KFwibGVnZW5kVXJsXCIpJiYoZS5sZWdlbmRVcmw9dGhpcy5sZWdlbmRVcmwpLHRoaXMuaGFzT3duUHJvcGVydHkoXCJsZWdlbmRFbmFibGVkXCIpJiYoZS5sZWdlbmRFbmFibGVkPXRoaXMubGVnZW5kRW5hYmxlZCksdGhpcy5oYXNPd25Qcm9wZXJ0eShcImxheWVyXCIpJiYoZS5sYXllcj10aGlzLmxheWVyKSx0aGlzLmhhc093blByb3BlcnR5KFwibmFtZVwiKSYmKGUubmFtZT10aGlzLm5hbWUpLHRoaXMuaGFzT3duUHJvcGVydHkoXCJwYXJlbnRcIikmJihlLnBhcmVudD10aGlzLnBhcmVudCksdGhpcy5oYXNPd25Qcm9wZXJ0eShcInF1ZXJ5YWJsZVwiKSYmKGUucXVlcnlhYmxlPXRoaXMucXVlcnlhYmxlKSx0aGlzLmhhc093blByb3BlcnR5KFwic3VibGF5ZXJzXCIpJiYoZS5zdWJsYXllcnM9dGhpcy5zdWJsYXllcnMmJnRoaXMuc3VibGF5ZXJzLm1hcCgoZT0+ZS5jbG9uZSgpKSkpLHRoaXMuaGFzT3duUHJvcGVydHkoXCJzcGF0aWFsUmVmZXJlbmNlc1wiKSYmKGUuc3BhdGlhbFJlZmVyZW5jZXM9dGhpcy5zcGF0aWFsUmVmZXJlbmNlcz8ubWFwKChlPT5lKSkpLHRoaXMuaGFzT3duUHJvcGVydHkoXCJ2aXNpYmxlXCIpJiYoZS52aXNpYmxlPXRoaXMudmlzaWJsZSksdGhpcy5oYXNPd25Qcm9wZXJ0eShcInRpdGxlXCIpJiYoZS50aXRsZT10aGlzLnRpdGxlKSxlfV9zZXRBbmROb3RpZnlMYXllcihlLHQpe2NvbnN0IHI9dGhpcy5sYXllcjt0aGlzLl9nZXQoZSkhPT10JiYodGhpcy5fc2V0KGUsdCksciYmci5lbWl0KFwid21zLXN1YmxheWVyLXVwZGF0ZVwiLHtwcm9wZXJ0eU5hbWU6ZSxpZDp0aGlzLmlkfSkpfX07ZShbbigpXSxtLnByb3RvdHlwZSxcImRlc2NyaXB0aW9uXCIsdm9pZCAwKSxlKFtuKHtyZWFkT25seTohMH0pXSxtLnByb3RvdHlwZSxcImRpbWVuc2lvbnNcIix2b2lkIDApLGUoW24oe3R5cGU6dSxqc29uOntuYW1lOlwiZXh0ZW50XCJ9fSldLG0ucHJvdG90eXBlLFwiZnVsbEV4dGVudFwiLHZvaWQgMCksZShbbigpXSxtLnByb3RvdHlwZSxcImZ1bGxFeHRlbnRzXCIsdm9pZCAwKSxlKFtuKHt0eXBlOk51bWJlcixqc29uOnt3cml0ZTp7ZW5hYmxlZDohMSxvdmVycmlkZVBvbGljeTooKT0+KHtpZ25vcmVPcmlnaW46ITAsZW5hYmxlZDohMH0pfX19KV0sbS5wcm90b3R5cGUsXCJpZFwiLG51bGwpLGUoW24oe3R5cGU6U3RyaW5nLGpzb246e25hbWU6XCJsZWdlbmRVcmxcIix3cml0ZTp7aWdub3JlT3JpZ2luOiEwfX19KV0sbS5wcm90b3R5cGUsXCJsZWdlbmRVcmxcIix2b2lkIDApLGUoW3AoXCJsZWdlbmRVcmxcIixbXCJsZWdlbmRVcmxcIixcImxlZ2VuZFVSTFwiXSldLG0ucHJvdG90eXBlLFwicmVhZExlZ2VuZFVybFwiLG51bGwpLGUoW24oe3R5cGU6Qm9vbGVhbixqc29uOntuYW1lOlwic2hvd0xlZ2VuZFwiLG9yaWdpbnM6e1wid2ViLW1hcFwiOntyZWFkOiExLHdyaXRlOiExfSxcIndlYi1zY2VuZVwiOntyZWFkOiExLHdyaXRlOiExfX19fSldLG0ucHJvdG90eXBlLFwibGVnZW5kRW5hYmxlZFwiLHZvaWQgMCksZShbbigpXSxtLnByb3RvdHlwZSxcImxheWVyXCIsdm9pZCAwKSxlKFtuKCldLG0ucHJvdG90eXBlLFwibWF4U2NhbGVcIix2b2lkIDApLGUoW24oKV0sbS5wcm90b3R5cGUsXCJtaW5TY2FsZVwiLHZvaWQgMCksZShbbih7cmVhZE9ubHk6ITB9KV0sbS5wcm90b3R5cGUsXCJlZmZlY3RpdmVTY2FsZVJhbmdlXCIsbnVsbCksZShbbih7dHlwZTpTdHJpbmcsanNvbjp7d3JpdGU6e2lnbm9yZU9yaWdpbjohMH19fSldLG0ucHJvdG90eXBlLFwibmFtZVwiLHZvaWQgMCksZShbbigpXSxtLnByb3RvdHlwZSxcInBhcmVudFwiLHZvaWQgMCksZShbbih7dHlwZTpCb29sZWFuLGpzb246e3JlYWQ6e3NvdXJjZTpcInNob3dQb3B1cFwifSx3cml0ZTp7aWdub3JlT3JpZ2luOiEwLHRhcmdldDpcInNob3dQb3B1cFwifX19KV0sbS5wcm90b3R5cGUsXCJwb3B1cEVuYWJsZWRcIix2b2lkIDApLGUoW24oe3R5cGU6Qm9vbGVhbixqc29uOnt3cml0ZTp7aWdub3JlT3JpZ2luOiEwfX19KV0sbS5wcm90b3R5cGUsXCJxdWVyeWFibGVcIix2b2lkIDApLGUoW24oKV0sbS5wcm90b3R5cGUsXCJzdWJsYXllcnNcIix2b2lkIDApLGUoW2EoXCJzdWJsYXllcnNcIildLG0ucHJvdG90eXBlLFwiY2FzdFN1YmxheWVyc1wiLG51bGwpLGUoW24oe3R5cGU6W051bWJlcl0sanNvbjp7cmVhZDp7c291cmNlOlwic3BhdGlhbFJlZmVyZW5jZXNcIn19fSldLG0ucHJvdG90eXBlLFwic3BhdGlhbFJlZmVyZW5jZXNcIix2b2lkIDApLGUoW24oe3R5cGU6U3RyaW5nLGpzb246e3dyaXRlOntpZ25vcmVPcmlnaW46ITB9fX0pXSxtLnByb3RvdHlwZSxcInRpdGxlXCIsdm9pZCAwKSxlKFtuKHt0eXBlOkJvb2xlYW4sdmFsdWU6ITAsanNvbjp7cmVhZDp7c291cmNlOlwiZGVmYXVsdFZpc2liaWxpdHlcIn19fSldLG0ucHJvdG90eXBlLFwidmlzaWJsZVwiLG51bGwpLG09aD1lKFt5KFwiZXNyaS5sYXllcnMuc3VwcG9ydC5XTVNTdWJsYXllclwiKV0sbSk7Y29uc3QgZj1tO2V4cG9ydHtmIGFzIGRlZmF1bHR9O1xuIiwiLypcbkFsbCBtYXRlcmlhbCBjb3B5cmlnaHQgRVNSSSwgQWxsIFJpZ2h0cyBSZXNlcnZlZCwgdW5sZXNzIG90aGVyd2lzZSBzcGVjaWZpZWQuXG5TZWUgaHR0cHM6Ly9qcy5hcmNnaXMuY29tLzQuMjcvZXNyaS9jb3B5cmlnaHQudHh0IGZvciBkZXRhaWxzLlxuKi9cbmltcG9ydHtpc1NvbWUgYXMgZX1mcm9tXCIuLi8uLi9jb3JlL2FycmF5VXRpbHMuanNcIjtpbXBvcnQgdCBmcm9tXCIuLi8uLi9jb3JlL0Vycm9yLmpzXCI7aW1wb3J0e3VybFRvT2JqZWN0IGFzIG59ZnJvbVwiLi4vLi4vY29yZS91cmxVdGlscy5qc1wiO2ltcG9ydCByIGZyb21cIi4uLy4uL2dlb21ldHJ5L0V4dGVudC5qc1wiO2ltcG9ydCBpIGZyb21cIi4uLy4uL2dlb21ldHJ5L1NwYXRpYWxSZWZlcmVuY2UuanNcIjtpbXBvcnR7aXNBeGVzT3JkZXJSZXZlcnNlZEZvcldraWQgYXMgc31mcm9tXCIuLi9vZ2MvY3JzVXRpbHMuanNcIjtjb25zdCBvPXs4NDo0MzI2LDgzOjQyNjksMjc6NDI2N307ZnVuY3Rpb24gbChuKXtpZighbilyZXR1cm4gbnVsbDtjb25zdCBpPXtpZENvdW50ZXI6LTF9O2lmKFwic3RyaW5nXCI9PXR5cGVvZiBuKXtuPShuZXcgRE9NUGFyc2VyKS5wYXJzZUZyb21TdHJpbmcobixcInRleHQveG1sXCIpfWNvbnN0IHM9bi5kb2N1bWVudEVsZW1lbnQ7aWYoXCJTZXJ2aWNlRXhjZXB0aW9uUmVwb3J0XCI9PT1zLm5vZGVOYW1lKXtjb25zdCBlPUFycmF5LnByb3RvdHlwZS5zbGljZS5jYWxsKHMuY2hpbGROb2RlcykubWFwKChlPT5lLnRleHRDb250ZW50KSkuam9pbihcIlxcclxcblwiKTt0aHJvdyBuZXcgdChcIndtc2xheWVyOndtcy1jYXBhYmlsaXRpZXMteG1sLWlzLW5vdC12YWxpZFwiLFwiVGhlIHNlcnZlciByZXR1cm5lZCBlcnJvcnMgd2hlbiB0aGUgV01TIGNhcGFiaWxpdGllcyB3ZXJlIHJlcXVlc3RlZC5cIixlKX1jb25zdCBvPWQoXCJDYXBhYmlsaXR5XCIscyksbD1kKFwiU2VydmljZVwiLHMpLGE9byYmZChcIlJlcXVlc3RcIixvKTtpZighb3x8IWx8fCFhKXJldHVybiBudWxsO2NvbnN0IG09ZChcIkxheWVyXCIsbyk7aWYoIW0pcmV0dXJuIG51bGw7Y29uc3QgZj1cIldNU19DYXBhYmlsaXRpZXNcIj09PXMubm9kZU5hbWV8fFwiV01UX01TX0NhcGFiaWxpdGllc1wiPT09cy5ub2RlTmFtZT9zLmdldEF0dHJpYnV0ZShcInZlcnNpb25cIik6XCIxLjMuMFwiLHA9aChcIlRpdGxlXCIsbCxcIlwiKXx8aChcIk5hbWVcIixsLFwiXCIpLHg9aChcIkFjY2Vzc0NvbnN0cmFpbnRzXCIsbCxcIlwiKSx5PS9ebm9uZSQvaS50ZXN0KHgpP1wiXCI6eCxTPWgoXCJBYnN0cmFjdFwiLGwsXCJcIiksRT1wYXJzZUludChoKFwiTWF4V2lkdGhcIixsLFwiNTAwMFwiKSwxMCksdz1wYXJzZUludChoKFwiTWF4SGVpZ2h0XCIsbCxcIjUwMDBcIiksMTApLEw9TihhLFwiR2V0TWFwXCIpLE09ZyhhLFwiR2V0TWFwXCIpLEM9YihtLGYsaSk7aWYoIUMpcmV0dXJuIG51bGw7bGV0IHYsST0wO2NvbnN0IFI9QXJyYXkucHJvdG90eXBlLnNsaWNlLmNhbGwoby5jaGlsZE5vZGVzKSxVPUMuc3VibGF5ZXJzPz9bXSxUPWU9PntudWxsIT1lJiZVLnB1c2goZSl9O1IuZm9yRWFjaCgoZT0+e1wiTGF5ZXJcIj09PWUubm9kZU5hbWUmJigwPT09ST92PWU6MT09PUk/KEMubmFtZSYmKEMubmFtZT1cIlwiLFQoYih2LGYsaSkpKSxUKGIoZSxmLGkpKSk6VChiKGUsZixpKSksSSsrKX0pKTtsZXQgVj1DLnN1YmxheWVycyxPPUMuZXh0ZW50O2NvbnN0IF89Qy5mdWxsRXh0ZW50cz8/W107aWYoVnx8KFY9W10pLDA9PT1WLmxlbmd0aCYmVi5wdXNoKEMpLCFPKXtjb25zdCBlPW5ldyByKFZbMF0uZXh0ZW50KTtDLmV4dGVudD1lLnRvSlNPTigpLE89Qy5leHRlbnR9Y29uc3QgQj1DLnNwYXRpYWxSZWZlcmVuY2VzLmxlbmd0aD4wP0Muc3BhdGlhbFJlZmVyZW5jZXM6dShDKSxEPWcoYSxcIkdldEZlYXR1cmVJbmZvXCIpLGo9RD9OKGEsXCJHZXRGZWF0dXJlSW5mb1wiKTpudWxsLGs9YyhWKSxxPUMubWluU2NhbGV8fDAsWD1DLm1heFNjYWxlfHwwLEc9Qy5kaW1lbnNpb25zPz9bXSxXPWsucmVkdWNlKCgoZSx0KT0+ZS5jb25jYXQodC5kaW1lbnNpb25zPz9bXSkpLFtdKSxQPUcuY29uY2F0KFcpLmZpbHRlcihGKTtsZXQgJD1udWxsO2lmKFAubGVuZ3RoKXtjb25zdCB0PVAubWFwKChlPT57Y29uc3R7ZXh0ZW50OnR9PWU7cmV0dXJuIEEodCk/dC5tYXAoKGU9PmUuZ2V0VGltZSgpKSk6dD8ubWFwKChlPT5bZS5taW4uZ2V0VGltZSgpLGUubWF4LmdldFRpbWUoKV0pKX0pKS5mbGF0KDIpLmZpbHRlcihlKTskPXtzdGFydFRpbWVGaWVsZDpudWxsLGVuZFRpbWVGaWVsZDpudWxsLHRyYWNrSWRGaWVsZDp2b2lkIDAsdGltZUV4dGVudDpbTWF0aC5taW4oLi4udCksTWF0aC5tYXgoLi4udCldfX1yZXR1cm57Y29weXJpZ2h0OnksZGVzY3JpcHRpb246UyxkaW1lbnNpb25zOkcsZXh0ZW50Ok8sZnVsbEV4dGVudHM6XyxmZWF0dXJlSW5mb0Zvcm1hdHM6aixmZWF0dXJlSW5mb1VybDpELG1hcFVybDpNLG1heFdpZHRoOkUsbWF4SGVpZ2h0OncsbWF4U2NhbGU6WCxtaW5TY2FsZTpxLGxheWVyczprLHNwYXRpYWxSZWZlcmVuY2VzOkIsc3VwcG9ydGVkSW1hZ2VGb3JtYXRUeXBlczpMLHRpbWVJbmZvOiQsdGl0bGU6cCx2ZXJzaW9uOmZ9fWZ1bmN0aW9uIGEoZSl7Y29uc3QgdD1lLmZpbHRlcigoZT0+ZS5wb3B1cEVuYWJsZWQmJmUubmFtZSYmZS5xdWVyeWFibGUpKTtyZXR1cm4gdC5sZW5ndGg/dC5tYXAoKCh7bmFtZTplfSk9PmUpKS5qb2luKCk6bnVsbH1mdW5jdGlvbiB1KGUpe2lmKGUuc3BhdGlhbFJlZmVyZW5jZXMubGVuZ3RoPjApcmV0dXJuIGUuc3BhdGlhbFJlZmVyZW5jZXM7aWYoZS5zdWJsYXllcnMpZm9yKGNvbnN0IHQgb2YgZS5zdWJsYXllcnMpe2NvbnN0IGU9dSh0KTtpZihlLmxlbmd0aD4wKXJldHVybiBlfXJldHVybltdfWZ1bmN0aW9uIGMoZSl7bGV0IHQ9W107Zm9yKGNvbnN0IG4gb2YgZSl0LnB1c2gobiksbi5zdWJsYXllcnM/Lmxlbmd0aCYmKHQ9dC5jb25jYXQoYyhuLnN1YmxheWVycykpLGRlbGV0ZSBuLnN1YmxheWVycyk7cmV0dXJuIHR9ZnVuY3Rpb24gbShlLHQsbil7cmV0dXJuIHQuZ2V0QXR0cmlidXRlKGUpPz9ufWZ1bmN0aW9uIGYoZSx0LG4scil7Y29uc3QgaT1kKGUsbik7cmV0dXJuIGk/bSh0LGkscik6cn1mdW5jdGlvbiBkKGUsdCl7Zm9yKGxldCBuPTA7bjx0LmNoaWxkTm9kZXMubGVuZ3RoO24rKyl7Y29uc3Qgcj10LmNoaWxkTm9kZXNbbl07aWYoUyhyKSYmci5ub2RlTmFtZT09PWUpcmV0dXJuIHJ9cmV0dXJuIG51bGx9ZnVuY3Rpb24gcChlLHQpe2lmKG51bGw9PXQpcmV0dXJuW107Y29uc3Qgbj1bXTtmb3IobGV0IHI9MDtyPHQuY2hpbGROb2Rlcy5sZW5ndGg7cisrKXtjb25zdCBpPXQuY2hpbGROb2Rlc1tyXTtTKGkpJiZpLm5vZGVOYW1lPT09ZSYmbi5wdXNoKGkpfXJldHVybiBufWZ1bmN0aW9uIGgoZSx0LG4pe3JldHVybiBkKGUsdCk/LnRleHRDb250ZW50Pz9ufWZ1bmN0aW9uIHgoZSx0LG4pe2lmKCFlKXJldHVybiBudWxsO2NvbnN0IHM9cGFyc2VGbG9hdChlLmdldEF0dHJpYnV0ZShcIm1pbnhcIikpLG89cGFyc2VGbG9hdChlLmdldEF0dHJpYnV0ZShcIm1pbnlcIikpLGw9cGFyc2VGbG9hdChlLmdldEF0dHJpYnV0ZShcIm1heHhcIikpLGE9cGFyc2VGbG9hdChlLmdldEF0dHJpYnV0ZShcIm1heHlcIikpO2xldCB1LGMsbSxmO24/KHU9aXNOYU4obyk/LU51bWJlci5NQVhfVkFMVUU6byxjPWlzTmFOKHMpPy1OdW1iZXIuTUFYX1ZBTFVFOnMsbT1pc05hTihhKT9OdW1iZXIuTUFYX1ZBTFVFOmEsZj1pc05hTihsKT9OdW1iZXIuTUFYX1ZBTFVFOmwpOih1PWlzTmFOKHMpPy1OdW1iZXIuTUFYX1ZBTFVFOnMsYz1pc05hTihvKT8tTnVtYmVyLk1BWF9WQUxVRTpvLG09aXNOYU4obCk/TnVtYmVyLk1BWF9WQUxVRTpsLGY9aXNOYU4oYSk/TnVtYmVyLk1BWF9WQUxVRTphKTtjb25zdCBkPW5ldyBpKHt3a2lkOnR9KTtyZXR1cm4gbmV3IHIoe3htaW46dSx5bWluOmMseG1heDptLHltYXg6ZixzcGF0aWFsUmVmZXJlbmNlOmR9KX1mdW5jdGlvbiBnKGUsdCl7Y29uc3Qgbj1kKHQsZSk7aWYobil7Y29uc3QgZT1kKFwiRENQVHlwZVwiLG4pO2lmKGUpe2NvbnN0IHQ9ZChcIkhUVFBcIixlKTtpZih0KXtjb25zdCBlPWQoXCJHZXRcIix0KTtpZihlKXtsZXQgdD1mKFwiT25saW5lUmVzb3VyY2VcIixcInhsaW5rOmhyZWZcIixlLG51bGwpO2lmKHQpcmV0dXJuIHQuaW5kZXhPZihcIiZcIik9PT10Lmxlbmd0aC0xJiYodD10LnN1YnN0cmluZygwLHQubGVuZ3RoLTEpKSxNKHQsW1wic2VydmljZVwiLFwicmVxdWVzdFwiXSl9fX19cmV0dXJuIG51bGx9ZnVuY3Rpb24gTih0LG4pe2NvbnN0IHI9cChcIk9wZXJhdGlvblwiLHQpO2lmKCFyLmxlbmd0aCl7cmV0dXJuIHAoXCJGb3JtYXRcIixkKG4sdCkpLm1hcCgoKHt0ZXh0Q29udGVudDplfSk9PmUpKS5maWx0ZXIoZSl9Y29uc3QgaT1bXTtmb3IoY29uc3QgZSBvZiByKWlmKGUuZ2V0QXR0cmlidXRlKFwibmFtZVwiKT09PW4pe2NvbnN0IHQ9cChcIkZvcm1hdFwiLGUpO2Zvcihjb25zdHt0ZXh0Q29udGVudDplfW9mIHQpbnVsbCE9ZSYmaS5wdXNoKGUpfXJldHVybiBpfWZ1bmN0aW9uIHkoZSx0LG4pe2NvbnN0IHI9ZCh0LGUpO2lmKCFyKXJldHVybiBuO2NvbnN0e3RleHRDb250ZW50Oml9PXI7aWYobnVsbD09aXx8XCJcIj09PWkpcmV0dXJuIG47Y29uc3Qgcz1OdW1iZXIoaSk7cmV0dXJuIGlzTmFOKHMpP246c31mdW5jdGlvbiBiKGUsdCxuKXtpZighZSlyZXR1cm4gbnVsbDtjb25zdCBsPXtpZDpuLmlkQ291bnRlcisrLGZ1bGxFeHRlbnRzOltdLHBhcmVudExheWVySWQ6bnVsbCxxdWVyeWFibGU6XCIxXCI9PT1lLmdldEF0dHJpYnV0ZShcInF1ZXJ5YWJsZVwiKSxzcGF0aWFsUmVmZXJlbmNlczpbXSxzdWJsYXllcnM6bnVsbH0sYT1kKFwiTGF0TG9uQm91bmRpbmdCb3hcIixlKSx1PWQoXCJFWF9HZW9ncmFwaGljQm91bmRpbmdCb3hcIixlKTtsZXQgYz1udWxsO2EmJihjPXgoYSw0MzI2KSksdSYmKGM9bmV3IHIoMCwwLDAsMCxuZXcgaSh7d2tpZDo0MzI2fSkpLGMueG1pbj1wYXJzZUZsb2F0KGgoXCJ3ZXN0Qm91bmRMb25naXR1ZGVcIix1LFwiMFwiKSksYy55bWluPXBhcnNlRmxvYXQoaChcInNvdXRoQm91bmRMYXRpdHVkZVwiLHUsXCIwXCIpKSxjLnhtYXg9cGFyc2VGbG9hdChoKFwiZWFzdEJvdW5kTG9uZ2l0dWRlXCIsdSxcIjBcIikpLGMueW1heD1wYXJzZUZsb2F0KGgoXCJub3J0aEJvdW5kTGF0aXR1ZGVcIix1LFwiMFwiKSkpLGF8fHV8fChjPW5ldyByKC0xODAsLTkwLDE4MCw5MCxuZXcgaSh7d2tpZDo0MzI2fSkpKSxsLm1pblNjYWxlPXkoZSxcIk1heFNjYWxlRGVub21pbmF0b3JcIiwwKSxsLm1heFNjYWxlPXkoZSxcIk1pblNjYWxlRGVub21pbmF0b3JcIiwwKTtjb25zdCBmPVtcIjEuMC4wXCIsXCIxLjEuMFwiLFwiMS4xLjFcIl0uaW5jbHVkZXModCk/XCJTUlNcIjpcIkNSU1wiO3JldHVybiBBcnJheS5wcm90b3R5cGUuc2xpY2UuY2FsbChlLmNoaWxkTm9kZXMpLmZvckVhY2goKGU9PntpZihcIk5hbWVcIj09PWUubm9kZU5hbWUpbC5uYW1lPWUudGV4dENvbnRlbnR8fFwiXCI7ZWxzZSBpZihcIlRpdGxlXCI9PT1lLm5vZGVOYW1lKWwudGl0bGU9ZS50ZXh0Q29udGVudHx8XCJcIjtlbHNlIGlmKFwiQWJzdHJhY3RcIj09PWUubm9kZU5hbWUpbC5kZXNjcmlwdGlvbj1lLnRleHRDb250ZW50fHxcIlwiO2Vsc2UgaWYoXCJCb3VuZGluZ0JveFwiPT09ZS5ub2RlTmFtZSl7Y29uc3Qgbj1lLmdldEF0dHJpYnV0ZShmKTtpZihuJiYwPT09bi5pbmRleE9mKFwiRVBTRzpcIikpe2NvbnN0IHI9cGFyc2VJbnQobi5zdWJzdHJpbmcoNSksMTApOzA9PT1yfHxpc05hTihyKXx8Y3x8KGM9XCIxLjMuMFwiPT09dD94KGUscixzKHIpKTp4KGUscikpfWNvbnN0IHI9biYmbi5pbmRleE9mKFwiOlwiKTtpZihyJiZyPi0xKXtsZXQgaT1wYXJzZUludChuLnN1YnN0cmluZyhyKzEsbi5sZW5ndGgpLDEwKTswPT09aXx8aXNOYU4oaSl8fChpPW9baV0/P2kpO2NvbnN0IGE9XCIxLjMuMFwiPT09dD94KGUsaSxzKGkpKTp4KGUsaSk7YSYmbC5mdWxsRXh0ZW50cyYmbC5mdWxsRXh0ZW50cy5wdXNoKGEpfX1lbHNlIGlmKGUubm9kZU5hbWU9PT1mKXsoZS50ZXh0Q29udGVudD8uc3BsaXQoXCIgXCIpPz9bXSkuZm9yRWFjaCgoZT0+e2NvbnN0IHQ9ZS5pbmNsdWRlcyhcIjpcIik/cGFyc2VJbnQoZS5zcGxpdChcIjpcIilbMV0sMTApOnBhcnNlSW50KGUsMTApO2lmKDAhPT10JiYhaXNOYU4odCkpe2NvbnN0IGU9b1t0XT8/dDtsLnNwYXRpYWxSZWZlcmVuY2VzLmluY2x1ZGVzKGUpfHxsLnNwYXRpYWxSZWZlcmVuY2VzLnB1c2goZSl9fSkpfWVsc2UgaWYoXCJTdHlsZVwiIT09ZS5ub2RlTmFtZXx8bC5sZWdlbmRVcmwpe2lmKFwiTGF5ZXJcIj09PWUubm9kZU5hbWUpe2NvbnN0IHI9YihlLHQsbik7ciYmKHIucGFyZW50TGF5ZXJJZD1sLmlkLGwuc3VibGF5ZXJzfHwobC5zdWJsYXllcnM9W10pLGwuc3VibGF5ZXJzLnB1c2gocikpfX1lbHNle2NvbnN0IHQ9ZChcIkxlZ2VuZFVSTFwiLGUpO2lmKHQpe2NvbnN0IGU9ZChcIk9ubGluZVJlc291cmNlXCIsdCk7ZSYmKGwubGVnZW5kVXJsPWUuZ2V0QXR0cmlidXRlKFwieGxpbms6aHJlZlwiKSl9fX0pKSxsLmV4dGVudD1jPy50b0pTT04oKSxsLmRpbWVuc2lvbnM9cChcIkRpbWVuc2lvblwiLGUpLmZpbHRlcigoZT0+ZS5nZXRBdHRyaWJ1dGUoXCJuYW1lXCIpJiZlLmdldEF0dHJpYnV0ZShcInVuaXRzXCIpJiZlLnRleHRDb250ZW50KSkubWFwKChlPT57Y29uc3QgdD1lLmdldEF0dHJpYnV0ZShcIm5hbWVcIiksbj1lLmdldEF0dHJpYnV0ZShcInVuaXRzXCIpLHI9ZS50ZXh0Q29udGVudCxpPWUuZ2V0QXR0cmlidXRlKFwidW5pdFN5bWJvbFwiKT8/dm9pZCAwLHM9ZS5nZXRBdHRyaWJ1dGUoXCJkZWZhdWx0XCIpPz92b2lkIDAsbz1cIjBcIiE9PW0oXCJkZWZhdWx0XCIsZSxcIjBcIiksbD1cIjBcIiE9PW0oXCJuZWFyZXN0VmFsdWVcIixlLFwiMFwiKSxhPVwiMFwiIT09bShcImN1cnJlbnRcIixlLFwiMFwiKTtpZihGKHtuYW1lOnQsdW5pdHM6bn0pKXtyZXR1cm57bmFtZTpcInRpbWVcIix1bml0czpcIklTTzg2MDFcIixleHRlbnQ6SShyKSxkZWZhdWx0OkkocyksbXVsdGlwbGVWYWx1ZXM6byxuZWFyZXN0VmFsdWU6bCxjdXJyZW50OmF9fWlmKHcoe25hbWU6dCx1bml0czpufSkpe3JldHVybntuYW1lOlwiZWxldmF0aW9uXCIsdW5pdHM6bixleHRlbnQ6QyhyKSx1bml0U3ltYm9sOmksZGVmYXVsdDpDKHMpLG11bHRpcGxlVmFsdWVzOm8sbmVhcmVzdFZhbHVlOmx9fXJldHVybntuYW1lOnQsdW5pdHM6bixleHRlbnQ6dihyKSx1bml0U3ltYm9sOmksZGVmYXVsdDp2KHMpLG11bHRpcGxlVmFsdWVzOm8sbmVhcmVzdFZhbHVlOmx9fSkpLGx9ZnVuY3Rpb24gQShlKXtyZXR1cm4gQXJyYXkuaXNBcnJheShlKSYmZS5sZW5ndGg+MCYmZVswXWluc3RhbmNlb2YgRGF0ZX1mdW5jdGlvbiBTKGUpe3JldHVybiBlLm5vZGVUeXBlPT09Tm9kZS5FTEVNRU5UX05PREV9ZnVuY3Rpb24gRShlKXtyZXR1cm4gdm9pZCAwIT09ZS5taW4mJnZvaWQgMCE9PWUubWF4fWZ1bmN0aW9uIHcoZSl7cmV0dXJuL15lbGV2YXRpb24kL2kudGVzdChlLm5hbWUpJiYvXihlcHNnfGNycyk6XFxkKyQvaS50ZXN0KGUudW5pdHMpfWZ1bmN0aW9uIEwoZSl7cmV0dXJuIUYoZSkmJiF3KGUpfWZ1bmN0aW9uIEYoZSl7cmV0dXJuL150aW1lJC9pLnRlc3QoZS5uYW1lKSYmL15pc284NjAxJC9pLnRlc3QoZS51bml0cyl9ZnVuY3Rpb24gTShlLHQpe2NvbnN0IHI9W10saT1uKGUpO2Zvcihjb25zdCBuIGluIGkucXVlcnkpaS5xdWVyeS5oYXNPd25Qcm9wZXJ0eShuKSYmKHQuaW5jbHVkZXMobi50b0xvd2VyQ2FzZSgpKXx8ci5wdXNoKG4rXCI9XCIraS5xdWVyeVtuXSkpO3JldHVybiBpLnBhdGgrKHIubGVuZ3RoP1wiP1wiK3Iuam9pbihcIiZcIik6XCJcIil9ZnVuY3Rpb24gQyh0KXtpZighdClyZXR1cm47Y29uc3Qgbj10LmluY2x1ZGVzKFwiL1wiKSxyPXQuc3BsaXQoXCIsXCIpO3JldHVybiBuP3IubWFwKChlPT57Y29uc3QgdD1lLnNwbGl0KFwiL1wiKTtpZih0Lmxlbmd0aDwyKXJldHVybiBudWxsO3JldHVybnttaW46cGFyc2VGbG9hdCh0WzBdKSxtYXg6cGFyc2VGbG9hdCh0WzFdKSxyZXNvbHV0aW9uOnQubGVuZ3RoPj0zJiZcIjBcIiE9PXRbMl0/cGFyc2VGbG9hdCh0WzJdKTp2b2lkIDB9fSkpLmZpbHRlcihlKTpyLm1hcCgoZT0+cGFyc2VGbG9hdChlKSkpfWZ1bmN0aW9uIHYodCl7aWYoIXQpcmV0dXJuO2NvbnN0IG49dC5pbmNsdWRlcyhcIi9cIikscj10LnNwbGl0KFwiLFwiKTtyZXR1cm4gbj9yLm1hcCgoZT0+e2NvbnN0IHQ9ZS5zcGxpdChcIi9cIik7aWYodC5sZW5ndGg8MilyZXR1cm4gbnVsbDtyZXR1cm57bWluOnRbMF0sbWF4OnRbMV0scmVzb2x1dGlvbjp0Lmxlbmd0aD49MyYmXCIwXCIhPT10WzJdP3RbMl06dm9pZCAwfX0pKS5maWx0ZXIoZSk6cn1mdW5jdGlvbiBJKHQpe2lmKCF0KXJldHVybjtjb25zdCBuPXQuaW5jbHVkZXMoXCIvXCIpLHI9dC5zcGxpdChcIixcIik7cmV0dXJuIG4/ci5tYXAoKGU9Pntjb25zdCB0PWUuc3BsaXQoXCIvXCIpO2lmKHQubGVuZ3RoPDIpcmV0dXJuIG51bGw7cmV0dXJue21pbjpuZXcgRGF0ZSh0WzBdKSxtYXg6bmV3IERhdGUodFsxXSkscmVzb2x1dGlvbjp0Lmxlbmd0aD49MyYmXCIwXCIhPT10WzJdP1IodFsyXSk6dm9pZCAwfX0pKS5maWx0ZXIoZSk6ci5tYXAoKGU9Pm5ldyBEYXRlKGUpKSl9ZnVuY3Rpb24gUihlKXtjb25zdCB0PS8oPzpwKFxcZCt5fFxcZCsoPzoufCwpXFxkK3kpPyhcXGQrbXxcXGQrKD86LnwsKVxcZCttKT8oXFxkK2R8XFxkKyg/Oi58LClcXGQrZCk/KT8oPzp0KFxcZCtofFxcZCsoPzoufCwpXFxkK2gpPyhcXGQrbXxcXGQrKD86LnwsKVxcZCttKT8oXFxkK3N8XFxkKyg/Oi58LClcXGQrcyk/KT8vaSxuPWUubWF0Y2godCk7aWYoIW4pcmV0dXJuIG51bGw7cmV0dXJue3llYXJzOlUoblsxXSksbW9udGhzOlUoblsyXSksZGF5czpVKG5bM10pLGhvdXJzOlUobls0XSksbWludXRlczpVKG5bNV0pLHNlY29uZHM6VShuWzZdKX19ZnVuY3Rpb24gVShlKXtpZighZSlyZXR1cm4gMDtjb25zdCB0PS8oPzpcXGQrKD86LnwsKVxcZCt8XFxkKykvLG49ZS5tYXRjaCh0KTtpZighbilyZXR1cm4gMDtjb25zdCByPW5bMF0ucmVwbGFjZShcIixcIixcIi5cIik7cmV0dXJuIE51bWJlcihyKX1mdW5jdGlvbiBUKGUpe3JldHVybiBlLnRvSVNPU3RyaW5nKCkucmVwbGFjZSgvXFwuWzAtOV17M30vLFwiXCIpfWNvbnN0IFY9bmV3IFNldChbMTAyMTAwLDM4NTcsMTAyMTEzLDkwMDkxM10pLE89bmV3IFNldChbMzM5NSw1NDAwNF0pO2Z1bmN0aW9uIF8oZSx0KXtsZXQgbj1lLndraWQ7cmV0dXJuIG51bGw9PXQ/bjoobnVsbCE9biYmdC5pbmNsdWRlcyhuKXx8IWUubGF0ZXN0V2tpZHx8KG49ZS5sYXRlc3RXa2lkKSxudWxsIT1uJiZWLmhhcyhuKT90LmZpbmQoKGU9PlYuaGFzKGUpKSl8fHQuZmluZCgoZT0+Ty5oYXMoZSkpKXx8MTAyMTAwOm4pfWV4cG9ydHtSIGFzIGZyb21JU09EdXJhdGlvbixhIGFzIGdldFBvcHVwTGF5ZXJzLEUgYXMgaXNEaW1lbnNpb25JbnRlcnZhbCx3IGFzIGlzRWxldmF0aW9uRGltZW5zaW9uLEwgYXMgaXNHZW5lcmljRGltZW5zaW9uLEYgYXMgaXNUaW1lRGltZW5zaW9uLF8gYXMgbm9ybWFsaXplV0tJRCxsIGFzIHBhcnNlQ2FwYWJpbGl0aWVzLFQgYXMgdG9JU09TdHJpbmd9O1xuIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9