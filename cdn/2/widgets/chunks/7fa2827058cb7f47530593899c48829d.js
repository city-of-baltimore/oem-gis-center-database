"use strict";
(self["webpackChunkexb_client"] = self["webpackChunkexb_client"] || []).push([["vendors-node_modules_arcgis_core_layers_ElevationLayer_js"],{

/***/ "./node_modules/@arcgis/core/core/workers/WorkerHandle.js":
/*!****************************************************************!*\
  !*** ./node_modules/@arcgis/core/core/workers/WorkerHandle.js ***!
  \****************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "WorkerHandle": () => (/* binding */ h)
/* harmony export */ });
/* harmony import */ var _arrayUtils_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../arrayUtils.js */ "./node_modules/@arcgis/core/core/arrayUtils.js");
/* harmony import */ var _handleUtils_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../handleUtils.js */ "./node_modules/@arcgis/core/core/handleUtils.js");
/* harmony import */ var _Logger_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../Logger.js */ "./node_modules/@arcgis/core/core/Logger.js");
/* harmony import */ var _promiseUtils_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../promiseUtils.js */ "./node_modules/@arcgis/core/core/promiseUtils.js");
/* harmony import */ var _workers_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./workers.js */ "./node_modules/@arcgis/core/core/workers/workers.js");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.27/esri/copyright.txt for details.
*/
class h{constructor(e,t,r,h,o={}){this._mainMethod=t,this._transferLists=r,this._listeners=[],this._promise=(0,_workers_js__WEBPACK_IMPORTED_MODULE_4__.open)(e,{...o,schedule:h}).then((e=>{if(void 0===this._thread){this._thread=e,this._promise=null,o.hasInitialize&&this.broadcast({},"initialize");for(const e of this._listeners)this._connectListener(e)}else e.close()})),this._promise.catch((t=>_Logger_js__WEBPACK_IMPORTED_MODULE_2__["default"].getLogger("esri.core.workers.WorkerHandle").error(`Failed to initialize ${e} worker: ${t}`)))}on(s,r){const i={removed:!1,eventName:s,callback:r,threadHandle:null};return this._listeners.push(i),this._connectListener(i),(0,_handleUtils_js__WEBPACK_IMPORTED_MODULE_1__.makeHandle)((()=>{i.removed=!0,(0,_arrayUtils_js__WEBPACK_IMPORTED_MODULE_0__.remove)(this._listeners,i),this._thread&&null!=i.threadHandle&&i.threadHandle.remove()}))}destroy(){this._thread&&(this._thread.close(),this._thread=null),this._promise=null,this._listeners.length=0,this._transferLists={}}invoke(e,t){return this.invokeMethod(this._mainMethod,e,t)}invokeMethod(e,t,s){if(this._thread){const r=this._transferLists[e],i=r?r(t):[];return this._thread.invoke(e,t,{transferList:i,signal:s})}return this._promise?this._promise.then((()=>((0,_promiseUtils_js__WEBPACK_IMPORTED_MODULE_3__.throwIfAborted)(s),this.invokeMethod(e,t,s)))):Promise.reject(null)}broadcast(e,t){return this._thread?Promise.all(this._thread.broadcast(t,e)).then((()=>{})):this._promise?this._promise.then((()=>this.broadcast(e,t))):Promise.reject()}get promise(){return this._promise}_connectListener(e){this._thread&&this._thread.on(e.eventName,e.callback).then((t=>{e.removed||(e.threadHandle=t)}))}}


/***/ }),

/***/ "./node_modules/@arcgis/core/layers/ElevationLayer.js":
/*!************************************************************!*\
  !*** ./node_modules/@arcgis/core/layers/ElevationLayer.js ***!
  \************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (/* binding */ T)
/* harmony export */ });
/* harmony import */ var _chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../chunks/tslib.es6.js */ "./node_modules/@arcgis/core/chunks/tslib.es6.js");
/* harmony import */ var _request_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../request.js */ "./node_modules/@arcgis/core/request.js");
/* harmony import */ var _core_Error_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../core/Error.js */ "./node_modules/@arcgis/core/core/Error.js");
/* harmony import */ var _core_maybe_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../core/maybe.js */ "./node_modules/@arcgis/core/core/maybe.js");
/* harmony import */ var _core_MultiOriginJSONSupport_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../core/MultiOriginJSONSupport.js */ "./node_modules/@arcgis/core/core/MultiOriginJSONSupport.js");
/* harmony import */ var _core_promiseUtils_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../core/promiseUtils.js */ "./node_modules/@arcgis/core/core/promiseUtils.js");
/* harmony import */ var _core_urlUtils_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../core/urlUtils.js */ "./node_modules/@arcgis/core/core/urlUtils.js");
/* harmony import */ var _core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../core/accessorSupport/decorators/property.js */ "./node_modules/@arcgis/core/core/accessorSupport/decorators/property.js");
/* harmony import */ var _core_accessorSupport_ensureType_js__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../core/accessorSupport/ensureType.js */ "./node_modules/@arcgis/core/core/accessorSupport/ensureType.js");
/* harmony import */ var _core_arrayUtils_js__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../core/arrayUtils.js */ "./node_modules/@arcgis/core/core/arrayUtils.js");
/* harmony import */ var _core_has_js__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ../core/has.js */ "./node_modules/@arcgis/core/core/has.js");
/* harmony import */ var _core_accessorSupport_decorators_reader_js__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ../core/accessorSupport/decorators/reader.js */ "./node_modules/@arcgis/core/core/accessorSupport/decorators/reader.js");
/* harmony import */ var _core_accessorSupport_decorators_subclass_js__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ../core/accessorSupport/decorators/subclass.js */ "./node_modules/@arcgis/core/core/accessorSupport/decorators/subclass.js");
/* harmony import */ var _geometry_HeightModelInfo_js__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! ../geometry/HeightModelInfo.js */ "./node_modules/@arcgis/core/geometry/HeightModelInfo.js");
/* harmony import */ var _Layer_js__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! ./Layer.js */ "./node_modules/@arcgis/core/layers/Layer.js");
/* harmony import */ var _mixins_ArcGISCachedService_js__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! ./mixins/ArcGISCachedService.js */ "./node_modules/@arcgis/core/layers/mixins/ArcGISCachedService.js");
/* harmony import */ var _mixins_ArcGISService_js__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(/*! ./mixins/ArcGISService.js */ "./node_modules/@arcgis/core/layers/mixins/ArcGISService.js");
/* harmony import */ var _mixins_OperationalLayer_js__WEBPACK_IMPORTED_MODULE_17__ = __webpack_require__(/*! ./mixins/OperationalLayer.js */ "./node_modules/@arcgis/core/layers/mixins/OperationalLayer.js");
/* harmony import */ var _mixins_PortalLayer_js__WEBPACK_IMPORTED_MODULE_18__ = __webpack_require__(/*! ./mixins/PortalLayer.js */ "./node_modules/@arcgis/core/layers/mixins/PortalLayer.js");
/* harmony import */ var _support_commonProperties_js__WEBPACK_IMPORTED_MODULE_19__ = __webpack_require__(/*! ./support/commonProperties.js */ "./node_modules/@arcgis/core/layers/support/commonProperties.js");
/* harmony import */ var _support_ElevationTileData_js__WEBPACK_IMPORTED_MODULE_20__ = __webpack_require__(/*! ./support/ElevationTileData.js */ "./node_modules/@arcgis/core/layers/support/ElevationTileData.js");
/* harmony import */ var _support_LercDecoder_js__WEBPACK_IMPORTED_MODULE_21__ = __webpack_require__(/*! ./support/LercDecoder.js */ "./node_modules/@arcgis/core/layers/support/LercDecoder.js");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.27/esri/copyright.txt for details.
*/
let S=class extends((0,_mixins_ArcGISCachedService_js__WEBPACK_IMPORTED_MODULE_15__.ArcGISCachedService)((0,_mixins_ArcGISService_js__WEBPACK_IMPORTED_MODULE_16__.ArcGISService)((0,_mixins_OperationalLayer_js__WEBPACK_IMPORTED_MODULE_17__.OperationalLayer)((0,_mixins_PortalLayer_js__WEBPACK_IMPORTED_MODULE_18__.PortalLayer)((0,_core_MultiOriginJSONSupport_js__WEBPACK_IMPORTED_MODULE_4__.MultiOriginJSONMixin)(_Layer_js__WEBPACK_IMPORTED_MODULE_14__["default"])))))){constructor(...e){super(...e),this.capabilities={operations:{supportsTileMap:!1}},this.copyright=null,this.heightModelInfo=null,this.path=null,this.minScale=void 0,this.maxScale=void 0,this.opacity=1,this.operationalLayerType="ArcGISTiledElevationServiceLayer",this.sourceJSON=null,this.type="elevation",this.url=null,this.version=null,this._lercDecoder=(0,_support_LercDecoder_js__WEBPACK_IMPORTED_MODULE_21__.acquireDecoder)()}normalizeCtorArgs(e,r){return"string"==typeof e?{url:e,...r}:e}destroy(){this._lercDecoder=(0,_core_maybe_js__WEBPACK_IMPORTED_MODULE_3__.releaseMaybe)(this._lercDecoder)}readCapabilities(e,r){const t=r.capabilities&&r.capabilities.split(",").map((e=>e.toLowerCase().trim()));if(!t)return{operations:{supportsTileMap:!1}};return{operations:{supportsTileMap:t.includes("tilemap")}}}readVersion(e,r){let t=r.currentVersion;return t||(t=9.3),t}load(e){const r=null!=e?e.signal:null;return this.addResolvingPromise(this.loadFromPortal({supportedTypes:["Image Service"],supportsData:!1,validateItem:e=>{for(let r=0;r<e.typeKeywords.length;r++)if("elevation 3d layer"===e.typeKeywords[r].toLowerCase())return!0;throw new _core_Error_js__WEBPACK_IMPORTED_MODULE_2__["default"]("portal:invalid-layer-item-type","Invalid layer item type '${type}', expected '${expectedType}' ",{type:"Image Service",expectedType:"Image Service Elevation 3D Layer"})}},e).catch(_core_promiseUtils_js__WEBPACK_IMPORTED_MODULE_5__.throwIfAbortError).then((()=>this._fetchImageService(r)))),Promise.resolve(this)}fetchTile(e,t,i,o){const s=null!=(o=o||{signal:null}).signal?o.signal:o.signal=(new AbortController).signal,a={responseType:"array-buffer",signal:s},p={noDataValue:o.noDataValue,returnFileInfo:!0};return this.load().then((()=>this._fetchTileAvailability(e,t,i,o))).then((()=>(0,_request_js__WEBPACK_IMPORTED_MODULE_1__["default"])(this.getTileUrl(e,t,i),a))).then((e=>this._lercDecoder.decode(e.data,p,s))).then((e=>new _support_ElevationTileData_js__WEBPACK_IMPORTED_MODULE_20__.ElevationTileData(e)))}getTileUrl(e,r,t){const i=!this.capabilities.operations.supportsTileMap&&this.supportsBlankTile,o=(0,_core_urlUtils_js__WEBPACK_IMPORTED_MODULE_6__.objectToQuery)({...this.parsedUrl.query,blankTile:!i&&null});return`${this.parsedUrl.path}/tile/${e}/${r}/${t}${o?"?"+o:""}`}async queryElevation(e,r){const{ElevationQuery:t}=await __webpack_require__.e(/*! import() */ "vendors-node_modules_arcgis_core_layers_support_ElevationQuery_js").then(__webpack_require__.bind(__webpack_require__, /*! ./support/ElevationQuery.js */ "./node_modules/@arcgis/core/layers/support/ElevationQuery.js"));(0,_core_promiseUtils_js__WEBPACK_IMPORTED_MODULE_5__.throwIfAborted)(r);return(new t).query(this,e,r)}async createElevationSampler(e,r){const{ElevationQuery:t}=await __webpack_require__.e(/*! import() */ "vendors-node_modules_arcgis_core_layers_support_ElevationQuery_js").then(__webpack_require__.bind(__webpack_require__, /*! ./support/ElevationQuery.js */ "./node_modules/@arcgis/core/layers/support/ElevationQuery.js"));(0,_core_promiseUtils_js__WEBPACK_IMPORTED_MODULE_5__.throwIfAborted)(r);return(new t).createSampler(this,e,r)}_fetchTileAvailability(e,r,t,i){return this.tilemapCache?this.tilemapCache.fetchAvailability(e,r,t,i):Promise.resolve("unknown")}async _fetchImageService(e){if(this.sourceJSON)return this.sourceJSON;const t={query:{f:"json",...this.parsedUrl.query},responseType:"json",signal:e},i=await (0,_request_js__WEBPACK_IMPORTED_MODULE_1__["default"])(this.parsedUrl.path,t);i.ssl&&(this.url=this.url?.replace(/^http:/i,"https:")),this.sourceJSON=i.data,this.read(i.data,{origin:"service",url:this.parsedUrl})}get hasOverriddenFetchTile(){return!this.fetchTile[w]}};(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_7__.property)({readOnly:!0})],S.prototype,"capabilities",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_reader_js__WEBPACK_IMPORTED_MODULE_11__.reader)("service","capabilities",["capabilities"])],S.prototype,"readCapabilities",null),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_7__.property)({json:{read:{source:"copyrightText"}}})],S.prototype,"copyright",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_7__.property)({readOnly:!0,type:_geometry_HeightModelInfo_js__WEBPACK_IMPORTED_MODULE_13__["default"]})],S.prototype,"heightModelInfo",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_7__.property)({type:String,json:{origins:{"web-scene":{read:!0,write:!0}},read:!1}})],S.prototype,"path",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_7__.property)({type:["show","hide"]})],S.prototype,"listMode",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_7__.property)({json:{read:!1,write:!1,origins:{service:{read:!1,write:!1},"portal-item":{read:!1,write:!1},"web-document":{read:!1,write:!1}}},readOnly:!0})],S.prototype,"minScale",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_7__.property)({json:{read:!1,write:!1,origins:{service:{read:!1,write:!1},"portal-item":{read:!1,write:!1},"web-document":{read:!1,write:!1}}},readOnly:!0})],S.prototype,"maxScale",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_7__.property)({json:{read:!1,write:!1,origins:{"web-document":{read:!1,write:!1}}}})],S.prototype,"opacity",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_7__.property)({type:["ArcGISTiledElevationServiceLayer"]})],S.prototype,"operationalLayerType",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_7__.property)()],S.prototype,"sourceJSON",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_7__.property)({json:{read:!1},value:"elevation",readOnly:!0})],S.prototype,"type",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_7__.property)(_support_commonProperties_js__WEBPACK_IMPORTED_MODULE_19__.url)],S.prototype,"url",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_7__.property)()],S.prototype,"version",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_reader_js__WEBPACK_IMPORTED_MODULE_11__.reader)("version",["currentVersion"])],S.prototype,"readVersion",null),S=(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_subclass_js__WEBPACK_IMPORTED_MODULE_12__.subclass)("esri.layers.ElevationLayer")],S);const w=Symbol("default-fetch-tile");S.prototype.fetchTile[w]=!0;const T=S;


/***/ }),

/***/ "./node_modules/@arcgis/core/layers/mixins/ArcGISCachedService.js":
/*!************************************************************************!*\
  !*** ./node_modules/@arcgis/core/layers/mixins/ArcGISCachedService.js ***!
  \************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "ArcGISCachedService": () => (/* binding */ p)
/* harmony export */ });
/* harmony import */ var _chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../chunks/tslib.es6.js */ "./node_modules/@arcgis/core/chunks/tslib.es6.js");
/* harmony import */ var _geometry_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../geometry.js */ "./node_modules/@arcgis/core/geometry.js");
/* harmony import */ var _core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../core/accessorSupport/decorators/property.js */ "./node_modules/@arcgis/core/core/accessorSupport/decorators/property.js");
/* harmony import */ var _core_accessorSupport_ensureType_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../core/accessorSupport/ensureType.js */ "./node_modules/@arcgis/core/core/accessorSupport/ensureType.js");
/* harmony import */ var _core_arrayUtils_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../core/arrayUtils.js */ "./node_modules/@arcgis/core/core/arrayUtils.js");
/* harmony import */ var _core_has_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../core/has.js */ "./node_modules/@arcgis/core/core/has.js");
/* harmony import */ var _core_accessorSupport_decorators_reader_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../core/accessorSupport/decorators/reader.js */ "./node_modules/@arcgis/core/core/accessorSupport/decorators/reader.js");
/* harmony import */ var _core_accessorSupport_decorators_subclass_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../../core/accessorSupport/decorators/subclass.js */ "./node_modules/@arcgis/core/core/accessorSupport/decorators/subclass.js");
/* harmony import */ var _support_TileInfo_js__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../support/TileInfo.js */ "./node_modules/@arcgis/core/layers/support/TileInfo.js");
/* harmony import */ var _support_TileInfoTilemapCache_js__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../support/TileInfoTilemapCache.js */ "./node_modules/@arcgis/core/layers/support/TileInfoTilemapCache.js");
/* harmony import */ var _support_TilemapCache_js__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ../support/TilemapCache.js */ "./node_modules/@arcgis/core/layers/support/TilemapCache.js");
/* harmony import */ var _geometry_SpatialReference_js__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ../../geometry/SpatialReference.js */ "./node_modules/@arcgis/core/geometry/SpatialReference.js");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.27/esri/copyright.txt for details.
*/
const p=p=>{let n=class extends p{constructor(){super(...arguments),this.copyright=null,this.minScale=0,this.maxScale=0,this.spatialReference=null,this.tileInfo=null,this.tilemapCache=null}destroy(){this.tilemapCache?.destroy?.()}readMinScale(e,o){return null!=o.minLOD&&null!=o.maxLOD?e:0}readMaxScale(e,o){return null!=o.minLOD&&null!=o.maxLOD?e:0}get supportsBlankTile(){return this.version>=10.2}readTilemapCache(e,o,r){const t=o.capabilities?.includes("Tilemap");let{minLOD:a,maxLOD:p,minScale:n,maxScale:c}=o;if(null==a&&null==p&&0!==n&&0!==c){const e=e=>Math.round(1e4*e)/1e4;n=e(n||o.tileInfo.lods[0].scale),c=e(c||o.tileInfo.lods[o.tileInfo.lods.length-1].scale);for(const r of o.tileInfo.lods){const o=e(r.scale);a=o>=n?r.level:a,p=o>=c?r.level:p}}if(t)return new _support_TilemapCache_js__WEBPACK_IMPORTED_MODULE_10__.TilemapCache({layer:this,minLOD:a,maxLOD:p});if(o.tileInfo){const e=new _support_TileInfo_js__WEBPACK_IMPORTED_MODULE_8__["default"];return e.read(o.tileInfo,r),new _support_TileInfoTilemapCache_js__WEBPACK_IMPORTED_MODULE_9__["default"](e,a,p)}return null}};return (0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_2__.property)({json:{read:{source:"copyrightText"}}})],n.prototype,"copyright",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_2__.property)()],n.prototype,"minScale",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_reader_js__WEBPACK_IMPORTED_MODULE_6__.reader)("service","minScale")],n.prototype,"readMinScale",null),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_2__.property)()],n.prototype,"maxScale",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_reader_js__WEBPACK_IMPORTED_MODULE_6__.reader)("service","maxScale")],n.prototype,"readMaxScale",null),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_2__.property)({type:_geometry_SpatialReference_js__WEBPACK_IMPORTED_MODULE_11__["default"]})],n.prototype,"spatialReference",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_2__.property)({readOnly:!0})],n.prototype,"supportsBlankTile",null),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_2__.property)({type:_support_TileInfo_js__WEBPACK_IMPORTED_MODULE_8__["default"]})],n.prototype,"tileInfo",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_2__.property)()],n.prototype,"tilemapCache",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_reader_js__WEBPACK_IMPORTED_MODULE_6__.reader)("service","tilemapCache",["capabilities","tileInfo"])],n.prototype,"readTilemapCache",null),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_2__.property)()],n.prototype,"version",void 0),n=(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_subclass_js__WEBPACK_IMPORTED_MODULE_7__.subclass)("esri.layers.mixins.ArcGISCachedService")],n),n};


/***/ }),

/***/ "./node_modules/@arcgis/core/layers/support/ElevationTileData.js":
/*!***********************************************************************!*\
  !*** ./node_modules/@arcgis/core/layers/support/ElevationTileData.js ***!
  \***********************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "ElevationTileData": () => (/* binding */ a)
/* harmony export */ });
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.27/esri/copyright.txt for details.
*/
class a{constructor(a,t,s,e){this._hasNoDataValues=null,this._minValue=null,this._maxValue=null,"pixelData"in a?(this.values=a.pixelData,this.width=a.width,this.height=a.height,this.noDataValue=a.noDataValue):(this.values=a,this.width=t,this.height=s,this.noDataValue=e)}get hasNoDataValues(){if(null==this._hasNoDataValues){const a=this.noDataValue;this._hasNoDataValues=this.values.includes(a)}return this._hasNoDataValues}get minValue(){return this._ensureBounds(),this._minValue}get maxValue(){return this._ensureBounds(),this._maxValue}_ensureBounds(){if(null!=this._minValue)return;const{noDataValue:a,values:t}=this;let s=1/0,e=-1/0,i=!0;for(const u of t)u===a?this._hasNoDataValues=!0:(s=u<s?u:s,e=u>e?u:e,i=!1);i?(this._minValue=0,this._maxValue=0):(this._minValue=s,this._maxValue=e>-3e38?e:0)}}


/***/ }),

/***/ "./node_modules/@arcgis/core/layers/support/LercDecoder.js":
/*!*****************************************************************!*\
  !*** ./node_modules/@arcgis/core/layers/support/LercDecoder.js ***!
  \*****************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "acquireDecoder": () => (/* binding */ s)
/* harmony export */ });
/* harmony import */ var _core_workers_WorkerHandle_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../core/workers/WorkerHandle.js */ "./node_modules/@arcgis/core/core/workers/WorkerHandle.js");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.27/esri/copyright.txt for details.
*/
class r extends _core_workers_WorkerHandle_js__WEBPACK_IMPORTED_MODULE_0__.WorkerHandle{constructor(e=null){super("LercWorker","_decode",{_decode:e=>[e.buffer]},e,{strategy:"dedicated"}),this.schedule=e,this.ref=0}decode(e,r,t){return e&&0!==e.byteLength?this.invoke({buffer:e,options:r},t):Promise.resolve(null)}release(){--this.ref<=0&&(t.forEach(((e,r)=>{e===this&&t.delete(r)})),this.destroy())}}const t=new Map;function s(e=null){let s=t.get(e);return s||(null!=e?(s=new r((r=>e.immediate.schedule(r))),t.set(e,s)):(s=new r,t.set(null,s))),++s.ref,s}


/***/ }),

/***/ "./node_modules/@arcgis/core/layers/support/TileInfoTilemapCache.js":
/*!**************************************************************************!*\
  !*** ./node_modules/@arcgis/core/layers/support/TileInfoTilemapCache.js ***!
  \**************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (/* binding */ e)
/* harmony export */ });
/* harmony import */ var _core_Error_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../core/Error.js */ "./node_modules/@arcgis/core/core/Error.js");
/* harmony import */ var _core_promiseUtils_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../core/promiseUtils.js */ "./node_modules/@arcgis/core/core/promiseUtils.js");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.27/esri/copyright.txt for details.
*/
class e{constructor(t,i=0,l=t.lods.length-1){this.tileInfo=t,this.minLOD=i,this.maxLOD=l}get effectiveMinLOD(){return this.minLOD??this.tileInfo.lods[0].level}get effectiveMaxLOD(){return this.maxLOD??this.tileInfo.lods[this.tileInfo.lods.length-1].level}getAvailability(t,i,l){const e=this.tileInfo?.lodAt(t);return!e||t<this.minLOD||t>this.maxLOD?"unavailable":e.cols&&e.rows?l>=e.cols[0]&&l<=e.cols[1]&&i>=e.rows[0]&&i<=e.rows[1]?"unknown":"unavailable":"unknown"}async fetchAvailability(l,e,a,o){await (0,_core_promiseUtils_js__WEBPACK_IMPORTED_MODULE_1__.waitTick)(o);const s=this.getAvailability(l,e,a);if("unavailable"===s)throw new _core_Error_js__WEBPACK_IMPORTED_MODULE_0__["default"]("tile-map:tile-unavailable","Tile is not available",{level:l,row:e,col:a});return s}async fetchAvailabilityUpsample(t,e,a,o,s){await (0,_core_promiseUtils_js__WEBPACK_IMPORTED_MODULE_1__.waitTick)(s),o.level=t,o.row=e,o.col=a;const n=this.tileInfo;return n.updateTileInfo(o),this.fetchAvailability(t,e,a,s).catch((t=>{if((0,_core_promiseUtils_js__WEBPACK_IMPORTED_MODULE_1__.isAbortError)(t))throw t;if(n.upsampleTile(o))return this.fetchAvailabilityUpsample(o.level,o.row,o.col,o,s);throw t}))}}


/***/ })

}]);
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoid2lkZ2V0cy9jaHVua3MvN2ZhMjgyNzA1OGNiN2Y0NzUzMDU5Mzg5OWM0ODgyOWQuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDNk0sUUFBUSx3QkFBd0IsRUFBRSwwRUFBMEUsaURBQUMsSUFBSSxnQkFBZ0IsWUFBWSwwQkFBMEIsb0VBQW9FLGVBQWUsd0RBQXdELGVBQWUsMkJBQTJCLDREQUFXLGlFQUFpRSxHQUFHLFVBQVUsRUFBRSxLQUFLLFFBQVEsU0FBUyxxREFBcUQsd0RBQXdELDJEQUFDLE9BQU8sYUFBYSxzREFBQyxnRkFBZ0YsR0FBRyxVQUFVLDBIQUEwSCxZQUFZLCtDQUErQyxvQkFBb0IsaUJBQWlCLDJDQUEyQyxnQ0FBZ0Msd0JBQXdCLEVBQUUsOENBQThDLGdFQUFDLHFEQUFxRCxlQUFlLHlFQUF5RSxnRkFBZ0YsY0FBYyxxQkFBcUIsb0JBQW9CLGdFQUFnRSw4QkFBOEIsSUFBOEI7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7QUNKeG5EO0FBQ0E7QUFDQTtBQUNBO0FBQ2lwQyxvQkFBb0Isb0ZBQUMsQ0FBQyx3RUFBQyxDQUFDLDhFQUFDLENBQUMsb0VBQUMsQ0FBQyxxRkFBQyxDQUFDLGtEQUFDLE9BQU8sa0JBQWtCLCtCQUErQixZQUFZLG9CQUFvQixpUkFBaVIsd0VBQUMsR0FBRyx1QkFBdUIsMEJBQTBCLFdBQVcsR0FBRyxVQUFVLGtCQUFrQiw0REFBQyxvQkFBb0Isc0JBQXNCLG1GQUFtRixhQUFhLFlBQVkscUJBQXFCLE9BQU8sWUFBWSx3Q0FBd0MsaUJBQWlCLHVCQUF1QixvQkFBb0IsUUFBUSw4QkFBOEIscURBQXFELGtFQUFrRSxZQUFZLHdCQUF3Qix1RUFBdUUsVUFBVSxzREFBQyw4REFBOEQsS0FBSyxlQUFlLGFBQWEsS0FBSyxxRUFBcUUsR0FBRyxVQUFVLG9FQUFDLGdFQUFnRSxtQkFBbUIscUJBQXFCLFlBQVksMkRBQTJELHFDQUFxQyxJQUFJLDZD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ZUFBZSwyQ0FBMkMsZ0JBQWdCLCtCQUErQixNQUFNLHVCQUF1QixNQUFNLHNCQUFzQiwyRUFBMkUscUZBQW9IOzs7Ozs7Ozs7Ozs7Ozs7O0FDSnAwQjtBQUNBO0FBQ0E7QUFDQTtBQUNrRSxnQkFBZ0IsdUVBQUMsQ0FBQyxvQkFBb0IsOEJBQThCLHNCQUFzQixJQUFJLHFCQUFxQiw2QkFBNkIsY0FBYyx3Q0FBd0MsbUJBQW1CLDBCQUEwQixVQUFVLG1DQUFtQyxzQkFBc0Isb0JBQW9CLGdCQUFnQixtQkFBbUIsZUFBZSx5R0FBcUk7Ozs7Ozs7Ozs7Ozs7Ozs7O0FDSm5rQjtBQUNBO0FBQ0E7QUFDQTtBQUMyRyxRQUFRLHFDQUFxQyw0Q0FBNEMsc0JBQXNCLGdEQUFnRCxzQkFBc0IsMEVBQTBFLHVCQUF1QixnQ0FBZ0MsNkpBQTZKLGlDQUFpQyxNQUFNLCtEQUFDLElBQUksb0NBQW9DLCtCQUErQixzREFBQyxzREFBc0Qsb0JBQW9CLEVBQUUsU0FBUywyQ0FBMkMsTUFBTSwrREFBQyw4QkFBOEIsc0JBQXNCLHNFQUFzRSxHQUFHLG1FQUFDLFlBQVksb0ZBQW9GLFFBQVEsSUFBeUIiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9leGItY2xpZW50Ly4vbm9kZV9tb2R1bGVzL0BhcmNnaXMvY29yZS9jb3JlL3dvcmtlcnMvV29ya2VySGFuZGxlLmpzIiwid2VicGFjazovL2V4Yi1jbGllbnQvLi9ub2RlX21vZHVsZXMvQGFyY2dpcy9jb3JlL2xheWVycy9FbGV2YXRpb25MYXllci5qcyIsIndlYnBhY2s6Ly9leGItY2xpZW50Ly4vbm9kZV9tb2R1bGVzL0BhcmNnaXMvY29yZS9sYXllcnMvbWl4aW5zL0FyY0dJU0NhY2hlZFNlcnZpY2UuanMiLCJ3ZWJwYWNrOi8vZXhiLWNsaWVudC8uL25vZGVfbW9kdWxlcy9AYXJjZ2lzL2NvcmUvbGF5ZXJzL3N1cHBvcnQvRWxldmF0aW9uVGlsZURhdGEuanMiLCJ3ZWJwYWNrOi8vZXhiLWNsaWVudC8uL25vZGVfbW9kdWxlcy9AYXJjZ2lzL2NvcmUvbGF5ZXJzL3N1cHBvcnQvTGVyY0RlY29kZXIuanMiLCJ3ZWJwYWNrOi8vZXhiLWNsaWVudC8uL25vZGVfbW9kdWxlcy9AYXJjZ2lzL2NvcmUvbGF5ZXJzL3N1cHBvcnQvVGlsZUluZm9UaWxlbWFwQ2FjaGUuanMiXSwic291cmNlc0NvbnRlbnQiOlsiLypcbkFsbCBtYXRlcmlhbCBjb3B5cmlnaHQgRVNSSSwgQWxsIFJpZ2h0cyBSZXNlcnZlZCwgdW5sZXNzIG90aGVyd2lzZSBzcGVjaWZpZWQuXG5TZWUgaHR0cHM6Ly9qcy5hcmNnaXMuY29tLzQuMjcvZXNyaS9jb3B5cmlnaHQudHh0IGZvciBkZXRhaWxzLlxuKi9cbmltcG9ydHtyZW1vdmUgYXMgZX1mcm9tXCIuLi9hcnJheVV0aWxzLmpzXCI7aW1wb3J0e21ha2VIYW5kbGUgYXMgdH1mcm9tXCIuLi9oYW5kbGVVdGlscy5qc1wiO2ltcG9ydCBzIGZyb21cIi4uL0xvZ2dlci5qc1wiO2ltcG9ydHt0aHJvd0lmQWJvcnRlZCBhcyByfWZyb21cIi4uL3Byb21pc2VVdGlscy5qc1wiO2ltcG9ydHtvcGVuIGFzIGl9ZnJvbVwiLi93b3JrZXJzLmpzXCI7Y2xhc3MgaHtjb25zdHJ1Y3RvcihlLHQscixoLG89e30pe3RoaXMuX21haW5NZXRob2Q9dCx0aGlzLl90cmFuc2Zlckxpc3RzPXIsdGhpcy5fbGlzdGVuZXJzPVtdLHRoaXMuX3Byb21pc2U9aShlLHsuLi5vLHNjaGVkdWxlOmh9KS50aGVuKChlPT57aWYodm9pZCAwPT09dGhpcy5fdGhyZWFkKXt0aGlzLl90aHJlYWQ9ZSx0aGlzLl9wcm9taXNlPW51bGwsby5oYXNJbml0aWFsaXplJiZ0aGlzLmJyb2FkY2FzdCh7fSxcImluaXRpYWxpemVcIik7Zm9yKGNvbnN0IGUgb2YgdGhpcy5fbGlzdGVuZXJzKXRoaXMuX2Nvbm5lY3RMaXN0ZW5lcihlKX1lbHNlIGUuY2xvc2UoKX0pKSx0aGlzLl9wcm9taXNlLmNhdGNoKCh0PT5zLmdldExvZ2dlcihcImVzcmkuY29yZS53b3JrZXJzLldvcmtlckhhbmRsZVwiKS5lcnJvcihgRmFpbGVkIHRvIGluaXRpYWxpemUgJHtlfSB3b3JrZXI6ICR7dH1gKSkpfW9uKHMscil7Y29uc3QgaT17cmVtb3ZlZDohMSxldmVudE5hbWU6cyxjYWxsYmFjazpyLHRocmVhZEhhbmRsZTpudWxsfTtyZXR1cm4gdGhpcy5fbGlzdGVuZXJzLnB1c2goaSksdGhpcy5fY29ubmVjdExpc3RlbmVyKGkpLHQoKCgpPT57aS5yZW1vdmVkPSEwLGUodGhpcy5fbGlzdGVuZXJzLGkpLHRoaXMuX3RocmVhZCYmbnVsbCE9aS50aHJlYWRIYW5kbGUmJmkudGhyZWFkSGFuZGxlLnJlbW92ZSgpfSkpfWRlc3Ryb3koKXt0aGlzLl90aHJlYWQmJih0aGlzLl90aHJlYWQuY2xvc2UoKSx0aGlzLl90aHJlYWQ9bnVsbCksdGhpcy5fcHJvbWlzZT1udWxsLHRoaXMuX2xpc3RlbmVycy5sZW5ndGg9MCx0aGlzLl90cmFuc2Zlckxpc3RzPXt9fWludm9rZShlLHQpe3JldHVybiB0aGlzLmludm9rZU1ldGhvZCh0aGlzLl9tYWluTWV0aG9kLGUsdCl9aW52b2tlTWV0aG9kKGUsdCxzKXtpZih0aGlzLl90aHJlYWQpe2NvbnN0IHI9dGhpcy5fdHJhbnNmZXJMaXN0c1tlXSxpPXI/cih0KTpbXTtyZXR1cm4gdGhpcy5fdGhyZWFkLmludm9rZShlLHQse3RyYW5zZmVyTGlzdDppLHNpZ25hbDpzfSl9cmV0dXJuIHRoaXMuX3Byb21pc2U/dGhpcy5fcHJvbWlzZS50aGVuKCgoKT0+KHIocyksdGhpcy5pbnZva2VNZXRob2QoZSx0LHMpKSkpOlByb21pc2UucmVqZWN0KG51bGwpfWJyb2FkY2FzdChlLHQpe3JldHVybiB0aGlzLl90aHJlYWQ/UHJvbWlzZS5hbGwodGhpcy5fdGhyZWFkLmJyb2FkY2FzdCh0LGUpKS50aGVuKCgoKT0+e30pKTp0aGlzLl9wcm9taXNlP3RoaXMuX3Byb21pc2UudGhlbigoKCk9PnRoaXMuYnJvYWRjYXN0KGUsdCkpKTpQcm9taXNlLnJlamVjdCgpfWdldCBwcm9taXNlKCl7cmV0dXJuIHRoaXMuX3Byb21pc2V9X2Nvbm5lY3RMaXN0ZW5lcihlKXt0aGlzLl90aHJlYWQmJnRoaXMuX3RocmVhZC5vbihlLmV2ZW50TmFtZSxlLmNhbGxiYWNrKS50aGVuKCh0PT57ZS5yZW1vdmVkfHwoZS50aHJlYWRIYW5kbGU9dCl9KSl9fWV4cG9ydHtoIGFzIFdvcmtlckhhbmRsZX07XG4iLCIvKlxuQWxsIG1hdGVyaWFsIGNvcHlyaWdodCBFU1JJLCBBbGwgUmlnaHRzIFJlc2VydmVkLCB1bmxlc3Mgb3RoZXJ3aXNlIHNwZWNpZmllZC5cblNlZSBodHRwczovL2pzLmFyY2dpcy5jb20vNC4yNy9lc3JpL2NvcHlyaWdodC50eHQgZm9yIGRldGFpbHMuXG4qL1xuaW1wb3J0e18gYXMgZX1mcm9tXCIuLi9jaHVua3MvdHNsaWIuZXM2LmpzXCI7aW1wb3J0IHIgZnJvbVwiLi4vcmVxdWVzdC5qc1wiO2ltcG9ydCB0IGZyb21cIi4uL2NvcmUvRXJyb3IuanNcIjtpbXBvcnR7cmVsZWFzZU1heWJlIGFzIGl9ZnJvbVwiLi4vY29yZS9tYXliZS5qc1wiO2ltcG9ydHtNdWx0aU9yaWdpbkpTT05NaXhpbiBhcyBvfWZyb21cIi4uL2NvcmUvTXVsdGlPcmlnaW5KU09OU3VwcG9ydC5qc1wiO2ltcG9ydHt0aHJvd0lmQWJvcnRFcnJvciBhcyBzLHRocm93SWZBYm9ydGVkIGFzIGF9ZnJvbVwiLi4vY29yZS9wcm9taXNlVXRpbHMuanNcIjtpbXBvcnR7b2JqZWN0VG9RdWVyeSBhcyBwfWZyb21cIi4uL2NvcmUvdXJsVXRpbHMuanNcIjtpbXBvcnR7cHJvcGVydHkgYXMgbH1mcm9tXCIuLi9jb3JlL2FjY2Vzc29yU3VwcG9ydC9kZWNvcmF0b3JzL3Byb3BlcnR5LmpzXCI7aW1wb3J0XCIuLi9jb3JlL2FjY2Vzc29yU3VwcG9ydC9lbnN1cmVUeXBlLmpzXCI7aW1wb3J0XCIuLi9jb3JlL2FycmF5VXRpbHMuanNcIjtpbXBvcnRcIi4uL2NvcmUvaGFzLmpzXCI7aW1wb3J0e3JlYWRlciBhcyBufWZyb21cIi4uL2NvcmUvYWNjZXNzb3JTdXBwb3J0L2RlY29yYXRvcnMvcmVhZGVyLmpzXCI7aW1wb3J0e3N1YmNsYXNzIGFzIGN9ZnJvbVwiLi4vY29yZS9hY2Nlc3NvclN1cHBvcnQvZGVjb3JhdG9ycy9zdWJjbGFzcy5qc1wiO2ltcG9ydCBkIGZyb21cIi4uL2dlb21ldHJ5L0hlaWdodE1vZGVsSW5mby5qc1wiO2ltcG9ydCB1IGZyb21cIi4vTGF5ZXIuanNcIjtpbXBvcnR7QXJjR0lTQ2FjaGVkU2VydmljZSBhcyB5fWZyb21cIi4vbWl4aW5zL0FyY0dJU0NhY2hlZFNlcnZpY2UuanNcIjtpbXBvcnR7QXJjR0lTU2VydmljZSBhcyBtfWZyb21cIi4vbWl4aW5zL0FyY0dJU1NlcnZpY2UuanNcIjtpbXBvcnR7T3BlcmF0aW9uYWxMYXllciBhcyBofWZyb21cIi4vbWl4aW5zL09wZXJhdGlvbmFsTGF5ZXIuanNcIjtpbXBvcnR7UG9ydGFsTGF5ZXIgYXMgdn1mcm9tXCIuL21peGlucy9Qb3J0YWxMYXllci5qc1wiO2ltcG9ydHt1cmwgYXMgZn1mcm9tXCIuL3N1cHBvcnQvY29tbW9uUHJvcGVydGllcy5qc1wiO2ltcG9ydHtFbGV2YXRpb25UaWxlRGF0YSBhcyBnfWZyb21cIi4vc3VwcG9ydC9FbGV2YXRpb25UaWxlRGF0YS5qc1wiO2ltcG9ydHthY3F1aXJlRGVjb2RlciBhcyBqfWZyb21cIi4vc3VwcG9ydC9MZXJjRGVjb2Rlci5qc1wiO2xldCBTPWNsYXNzIGV4dGVuZHMoeShtKGgodihvKHUpKSkpKSl7Y29uc3RydWN0b3IoLi4uZSl7c3VwZXIoLi4uZSksdGhpcy5jYXBhYmlsaXRpZXM9e29wZXJhdGlvbnM6e3N1cHBvcnRzVGlsZU1hcDohMX19LHRoaXMuY29weXJpZ2h0PW51bGwsdGhpcy5oZWlnaHRNb2RlbEluZm89bnVsbCx0aGlzLnBhdGg9bnVsbCx0aGlzLm1pblNjYWxlPXZvaWQgMCx0aGlzLm1heFNjYWxlPXZvaWQgMCx0aGlzLm9wYWNpdHk9MSx0aGlzLm9wZXJhdGlvbmFsTGF5ZXJUeXBlPVwiQXJjR0lTVGlsZWRFbGV2YXRpb25TZXJ2aWNlTGF5ZXJcIix0aGlzLnNvdXJjZUpTT049bnVsbCx0aGlzLnR5cGU9XCJlbGV2YXRpb25cIix0aGlzLnVybD1udWxsLHRoaXMudmVyc2lvbj1udWxsLHRoaXMuX2xlcmNEZWNvZGVyPWooKX1ub3JtYWxpemVDdG9yQXJncyhlLHIpe3JldHVyblwic3RyaW5nXCI9PXR5cGVvZiBlP3t1cmw6ZSwuLi5yfTplfWRlc3Ryb3koKXt0aGlzLl9sZXJjRGVjb2Rlcj1pKHRoaXMuX2xlcmNEZWNvZGVyKX1yZWFkQ2FwYWJpbGl0aWVzKGUscil7Y29uc3QgdD1yLmNhcGFiaWxpdGllcyYmci5jYXBhYmlsaXRpZXMuc3BsaXQoXCIsXCIpLm1hcCgoZT0+ZS50b0xvd2VyQ2FzZSgpLnRyaW0oKSkpO2lmKCF0KXJldHVybntvcGVyYXRpb25zOntzdXBwb3J0c1RpbGVNYXA6ITF9fTtyZXR1cm57b3BlcmF0aW9uczp7c3VwcG9ydHNUaWxlTWFwOnQuaW5jbHVkZXMoXCJ0aWxlbWFwXCIpfX19cmVhZFZlcnNpb24oZSxyKXtsZXQgdD1yLmN1cnJlbnRWZXJzaW9uO3JldHVybiB0fHwodD05LjMpLHR9bG9hZChlKXtjb25zdCByPW51bGwhPWU/ZS5zaWduYWw6bnVsbDtyZXR1cm4gdGhpcy5hZGRSZXNvbHZpbmdQcm9taXNlKHRoaXMubG9hZEZyb21Qb3J0YWwoe3N1cHBvcnRlZFR5cGVzOltcIkltYWdlIFNlcnZpY2VcIl0sc3VwcG9ydHNEYXRhOiExLHZhbGlkYXRlSXRlbTplPT57Zm9yKGxldCByPTA7cjxlLnR5cGVLZXl3b3Jkcy5sZW5ndGg7cisrKWlmKFwiZWxldmF0aW9uIDNkIGxheWVyXCI9PT1lLnR5cGVLZXl3b3Jkc1tyXS50b0xvd2VyQ2FzZSgpKXJldHVybiEwO3Rocm93IG5ldyB0KFwicG9ydGFsOmludmFsaWQtbGF5ZXItaXRlbS10eXBlXCIsXCJJbnZhbGlkIGxheWVyIGl0ZW0gdHlwZSAnJHt0eXBlfScsIGV4cGVjdGVkICcke2V4cGVjdGVkVHlwZX0nIFwiLHt0eXBlOlwiSW1hZ2UgU2VydmljZVwiLGV4cGVjdGVkVHlwZTpcIkltYWdlIFNlcnZpY2UgRWxldmF0aW9uIDNEIExheWVyXCJ9KX19LGUpLmNhdGNoKHMpLnRoZW4oKCgpPT50aGlzLl9mZXRjaEltYWdlU2VydmljZShyKSkpKSxQcm9taXNlLnJlc29sdmUodGhpcyl9ZmV0Y2hUaWxlKGUsdCxpLG8pe2NvbnN0IHM9bnVsbCE9KG89b3x8e3NpZ25hbDpudWxsfSkuc2lnbmFsP28uc2lnbmFsOm8uc2lnbmFsPShuZXcgQWJvcnRDb250cm9sbGVyKS5zaWduYWwsYT17cmVzcG9uc2VUeXBlOlwiYXJyYXktYnVmZmVyXCIsc2lnbmFsOnN9LHA9e25vRGF0YVZhbHVlOm8ubm9EYXRhVmFsdWUscmV0dXJuRmlsZUluZm86ITB9O3JldHVybiB0aGlzLmxvYWQoKS50aGVuKCgoKT0+dGhpcy5fZmV0Y2hUaWxlQXZhaWxhYmlsaXR5KGUsdCxpLG8pKSkudGhlbigoKCk9PnIodGhpcy5nZXRUaWxlVXJsKGUsdCxpKSxhKSkpLnRoZW4oKGU9PnRoaXMuX2xlcmNEZWNvZGVyLmRlY29kZShlLmRhdGEscCxzKSkpLnRoZW4oKGU9Pm5ldyBnKGUpKSl9Z2V0VGlsZVVybChlLHIsdCl7Y29uc3QgaT0hdGhpcy5jYXBhYmlsaXRpZXMub3BlcmF0aW9ucy5zdXBwb3J0c1RpbGVNYXAmJnRoaXMuc3VwcG9ydHNCbGFua1RpbGUsbz1wKHsuLi50aGlzLnBhcnNlZFVybC5xdWVyeSxibGFua1RpbGU6IWkmJm51bGx9KTtyZXR1cm5gJHt0aGlzLnBhcnNlZFVybC5wYXRofS90aWxlLyR7ZX0vJHtyfS8ke3R9JHtvP1wiP1wiK286XCJcIn1gfWFzeW5jIHF1ZXJ5RWxldmF0aW9uKGUscil7Y29uc3R7RWxldmF0aW9uUXVlcnk6dH09YXdhaXQgaW1wb3J0KFwiLi9zdXBwb3J0L0VsZXZhdGlvblF1ZXJ5LmpzXCIpO2Eocik7cmV0dXJuKG5ldyB0KS5xdWVyeSh0aGlzLGUscil9YXN5bmMgY3JlYXRlRWxldmF0aW9uU2FtcGxlcihlLHIpe2NvbnN0e0VsZXZhdGlvblF1ZXJ5OnR9PWF3YWl0IGltcG9ydChcIi4vc3VwcG9ydC9FbGV2YXRpb25RdWVyeS5qc1wiKTthKHIpO3JldHVybihuZXcgdCkuY3JlYXRlU2FtcGxlcih0aGlzLGUscil9X2ZldGNoVGlsZUF2YWlsYWJpbGl0eShlLHIsdCxpKXtyZXR1cm4gdGhpcy50aWxlbWFwQ2FjaGU/dGhpcy50aWxlbWFwQ2FjaGUuZmV0Y2hBdmFpbGFiaWxpdHkoZSxyLHQsaSk6UHJvbWlzZS5yZXNvbHZlKFwidW5rbm93blwiKX1hc3luYyBfZmV0Y2hJbWFnZVNlcnZpY2UoZSl7aWYodGhpcy5zb3VyY2VKU09OKXJldHVybiB0aGlzLnNvdXJjZUpTT047Y29uc3QgdD17cXVlcnk6e2Y6XCJqc29uXCIsLi4udGhpcy5wYXJzZWRVcmwucXVlcnl9LHJlc3BvbnNlVHlwZTpcImpzb25cIixzaWduYWw6ZX0saT1hd2FpdCByKHRoaXMucGFyc2VkVXJsLnBhdGgsdCk7aS5zc2wmJih0aGlzLnVybD10aGlzLnVybD8ucmVwbGFjZSgvXmh0dHA6L2ksXCJodHRwczpcIikpLHRoaXMuc291cmNlSlNPTj1pLmRhdGEsdGhpcy5yZWFkKGkuZGF0YSx7b3JpZ2luOlwic2VydmljZVwiLHVybDp0aGlzLnBhcnNlZFVybH0pfWdldCBoYXNPdmVycmlkZGVuRmV0Y2hUaWxlKCl7cmV0dXJuIXRoaXMuZmV0Y2hUaWxlW3ddfX07ZShbbCh7cmVhZE9ubHk6ITB9KV0sUy5wcm90b3R5cGUsXCJjYXBhYmlsaXRpZXNcIix2b2lkIDApLGUoW24oXCJzZXJ2aWNlXCIsXCJjYXBhYmlsaXRpZXNcIixbXCJjYXBhYmlsaXRpZXNcIl0pXSxTLnByb3RvdHlwZSxcInJlYWRDYXBhYmlsaXRpZXNcIixudWxsKSxlKFtsKHtqc29uOntyZWFkOntzb3VyY2U6XCJjb3B5cmlnaHRUZXh0XCJ9fX0pXSxTLnByb3RvdHlwZSxcImNvcHlyaWdodFwiLHZvaWQgMCksZShbbCh7cmVhZE9ubHk6ITAsdHlwZTpkfSldLFMucHJvdG90eXBlLFwiaGVpZ2h0TW9kZWxJbmZvXCIsdm9pZCAwKSxlKFtsKHt0eXBlOlN0cmluZyxqc29uOntvcmlnaW5zOntcIndlYi1zY2VuZVwiOntyZWFkOiEwLHdyaXRlOiEwfX0scmVhZDohMX19KV0sUy5wcm90b3R5cGUsXCJwYXRoXCIsdm9pZCAwKSxlKFtsKHt0eXBlOltcInNob3dcIixcImhpZGVcIl19KV0sUy5wcm90b3R5cGUsXCJsaXN0TW9kZVwiLHZvaWQgMCksZShbbCh7anNvbjp7cmVhZDohMSx3cml0ZTohMSxvcmlnaW5zOntzZXJ2aWNlOntyZWFkOiExLHdyaXRlOiExfSxcInBvcnRhbC1pdGVtXCI6e3JlYWQ6ITEsd3JpdGU6ITF9LFwid2ViLWRvY3VtZW50XCI6e3JlYWQ6ITEsd3JpdGU6ITF9fX0scmVhZE9ubHk6ITB9KV0sUy5wcm90b3R5cGUsXCJtaW5TY2FsZVwiLHZvaWQgMCksZShbbCh7anNvbjp7cmVhZDohMSx3cml0ZTohMSxvcmlnaW5zOntzZXJ2aWNlOntyZWFkOiExLHdyaXRlOiExfSxcInBvcnRhbC1pdGVtXCI6e3JlYWQ6ITEsd3JpdGU6ITF9LFwid2ViLWRvY3VtZW50XCI6e3JlYWQ6ITEsd3JpdGU6ITF9fX0scmVhZE9ubHk6ITB9KV0sUy5wcm90b3R5cGUsXCJtYXhTY2FsZVwiLHZvaWQgMCksZShbbCh7anNvbjp7cmVhZDohMSx3cml0ZTohMSxvcmlnaW5zOntcIndlYi1kb2N1bWVudFwiOntyZWFkOiExLHdyaXRlOiExfX19fSldLFMucHJvdG90eXBlLFwib3BhY2l0eVwiLHZvaWQgMCksZShbbCh7dHlwZTpbXCJBcmNHSVNUaWxlZEVsZXZhdGlvblNlcnZpY2VMYXllclwiXX0pXSxTLnByb3RvdHlwZSxcIm9wZXJhdGlvbmFsTGF5ZXJUeXBlXCIsdm9pZCAwKSxlKFtsKCldLFMucHJvdG90eXBlLFwic291cmNlSlNPTlwiLHZvaWQgMCksZShbbCh7anNvbjp7cmVhZDohMX0sdmFsdWU6XCJlbGV2YXRpb25cIixyZWFkT25seTohMH0pXSxTLnByb3RvdHlwZSxcInR5cGVcIix2b2lkIDApLGUoW2woZildLFMucHJvdG90eXBlLFwidXJsXCIsdm9pZCAwKSxlKFtsKCldLFMucHJvdG90eXBlLFwidmVyc2lvblwiLHZvaWQgMCksZShbbihcInZlcnNpb25cIixbXCJjdXJyZW50VmVyc2lvblwiXSldLFMucHJvdG90eXBlLFwicmVhZFZlcnNpb25cIixudWxsKSxTPWUoW2MoXCJlc3JpLmxheWVycy5FbGV2YXRpb25MYXllclwiKV0sUyk7Y29uc3Qgdz1TeW1ib2woXCJkZWZhdWx0LWZldGNoLXRpbGVcIik7Uy5wcm90b3R5cGUuZmV0Y2hUaWxlW3ddPSEwO2NvbnN0IFQ9UztleHBvcnR7VCBhcyBkZWZhdWx0fTtcbiIsIi8qXG5BbGwgbWF0ZXJpYWwgY29weXJpZ2h0IEVTUkksIEFsbCBSaWdodHMgUmVzZXJ2ZWQsIHVubGVzcyBvdGhlcndpc2Ugc3BlY2lmaWVkLlxuU2VlIGh0dHBzOi8vanMuYXJjZ2lzLmNvbS80LjI3L2VzcmkvY29weXJpZ2h0LnR4dCBmb3IgZGV0YWlscy5cbiovXG5pbXBvcnR7XyBhcyBlfWZyb21cIi4uLy4uL2NodW5rcy90c2xpYi5lczYuanNcIjtpbXBvcnRcIi4uLy4uL2dlb21ldHJ5LmpzXCI7aW1wb3J0e3Byb3BlcnR5IGFzIG99ZnJvbVwiLi4vLi4vY29yZS9hY2Nlc3NvclN1cHBvcnQvZGVjb3JhdG9ycy9wcm9wZXJ0eS5qc1wiO2ltcG9ydFwiLi4vLi4vY29yZS9hY2Nlc3NvclN1cHBvcnQvZW5zdXJlVHlwZS5qc1wiO2ltcG9ydFwiLi4vLi4vY29yZS9hcnJheVV0aWxzLmpzXCI7aW1wb3J0XCIuLi8uLi9jb3JlL2hhcy5qc1wiO2ltcG9ydHtyZWFkZXIgYXMgcn1mcm9tXCIuLi8uLi9jb3JlL2FjY2Vzc29yU3VwcG9ydC9kZWNvcmF0b3JzL3JlYWRlci5qc1wiO2ltcG9ydHtzdWJjbGFzcyBhcyB0fWZyb21cIi4uLy4uL2NvcmUvYWNjZXNzb3JTdXBwb3J0L2RlY29yYXRvcnMvc3ViY2xhc3MuanNcIjtpbXBvcnQgbCBmcm9tXCIuLi9zdXBwb3J0L1RpbGVJbmZvLmpzXCI7aW1wb3J0IGkgZnJvbVwiLi4vc3VwcG9ydC9UaWxlSW5mb1RpbGVtYXBDYWNoZS5qc1wiO2ltcG9ydHtUaWxlbWFwQ2FjaGUgYXMgc31mcm9tXCIuLi9zdXBwb3J0L1RpbGVtYXBDYWNoZS5qc1wiO2ltcG9ydCBhIGZyb21cIi4uLy4uL2dlb21ldHJ5L1NwYXRpYWxSZWZlcmVuY2UuanNcIjtjb25zdCBwPXA9PntsZXQgbj1jbGFzcyBleHRlbmRzIHB7Y29uc3RydWN0b3IoKXtzdXBlciguLi5hcmd1bWVudHMpLHRoaXMuY29weXJpZ2h0PW51bGwsdGhpcy5taW5TY2FsZT0wLHRoaXMubWF4U2NhbGU9MCx0aGlzLnNwYXRpYWxSZWZlcmVuY2U9bnVsbCx0aGlzLnRpbGVJbmZvPW51bGwsdGhpcy50aWxlbWFwQ2FjaGU9bnVsbH1kZXN0cm95KCl7dGhpcy50aWxlbWFwQ2FjaGU/LmRlc3Ryb3k/LigpfXJlYWRNaW5TY2FsZShlLG8pe3JldHVybiBudWxsIT1vLm1pbkxPRCYmbnVsbCE9by5tYXhMT0Q/ZTowfXJlYWRNYXhTY2FsZShlLG8pe3JldHVybiBudWxsIT1vLm1pbkxPRCYmbnVsbCE9by5tYXhMT0Q/ZTowfWdldCBzdXBwb3J0c0JsYW5rVGlsZSgpe3JldHVybiB0aGlzLnZlcnNpb24+PTEwLjJ9cmVhZFRpbGVtYXBDYWNoZShlLG8scil7Y29uc3QgdD1vLmNhcGFiaWxpdGllcz8uaW5jbHVkZXMoXCJUaWxlbWFwXCIpO2xldHttaW5MT0Q6YSxtYXhMT0Q6cCxtaW5TY2FsZTpuLG1heFNjYWxlOmN9PW87aWYobnVsbD09YSYmbnVsbD09cCYmMCE9PW4mJjAhPT1jKXtjb25zdCBlPWU9Pk1hdGgucm91bmQoMWU0KmUpLzFlNDtuPWUobnx8by50aWxlSW5mby5sb2RzWzBdLnNjYWxlKSxjPWUoY3x8by50aWxlSW5mby5sb2RzW28udGlsZUluZm8ubG9kcy5sZW5ndGgtMV0uc2NhbGUpO2Zvcihjb25zdCByIG9mIG8udGlsZUluZm8ubG9kcyl7Y29uc3Qgbz1lKHIuc2NhbGUpO2E9bz49bj9yLmxldmVsOmEscD1vPj1jP3IubGV2ZWw6cH19aWYodClyZXR1cm4gbmV3IHMoe2xheWVyOnRoaXMsbWluTE9EOmEsbWF4TE9EOnB9KTtpZihvLnRpbGVJbmZvKXtjb25zdCBlPW5ldyBsO3JldHVybiBlLnJlYWQoby50aWxlSW5mbyxyKSxuZXcgaShlLGEscCl9cmV0dXJuIG51bGx9fTtyZXR1cm4gZShbbyh7anNvbjp7cmVhZDp7c291cmNlOlwiY29weXJpZ2h0VGV4dFwifX19KV0sbi5wcm90b3R5cGUsXCJjb3B5cmlnaHRcIix2b2lkIDApLGUoW28oKV0sbi5wcm90b3R5cGUsXCJtaW5TY2FsZVwiLHZvaWQgMCksZShbcihcInNlcnZpY2VcIixcIm1pblNjYWxlXCIpXSxuLnByb3RvdHlwZSxcInJlYWRNaW5TY2FsZVwiLG51bGwpLGUoW28oKV0sbi5wcm90b3R5cGUsXCJtYXhTY2FsZVwiLHZvaWQgMCksZShbcihcInNlcnZpY2VcIixcIm1heFNjYWxlXCIpXSxuLnByb3RvdHlwZSxcInJlYWRNYXhTY2FsZVwiLG51bGwpLGUoW28oe3R5cGU6YX0pXSxuLnByb3RvdHlwZSxcInNwYXRpYWxSZWZlcmVuY2VcIix2b2lkIDApLGUoW28oe3JlYWRPbmx5OiEwfSldLG4ucHJvdG90eXBlLFwic3VwcG9ydHNCbGFua1RpbGVcIixudWxsKSxlKFtvKHt0eXBlOmx9KV0sbi5wcm90b3R5cGUsXCJ0aWxlSW5mb1wiLHZvaWQgMCksZShbbygpXSxuLnByb3RvdHlwZSxcInRpbGVtYXBDYWNoZVwiLHZvaWQgMCksZShbcihcInNlcnZpY2VcIixcInRpbGVtYXBDYWNoZVwiLFtcImNhcGFiaWxpdGllc1wiLFwidGlsZUluZm9cIl0pXSxuLnByb3RvdHlwZSxcInJlYWRUaWxlbWFwQ2FjaGVcIixudWxsKSxlKFtvKCldLG4ucHJvdG90eXBlLFwidmVyc2lvblwiLHZvaWQgMCksbj1lKFt0KFwiZXNyaS5sYXllcnMubWl4aW5zLkFyY0dJU0NhY2hlZFNlcnZpY2VcIildLG4pLG59O2V4cG9ydHtwIGFzIEFyY0dJU0NhY2hlZFNlcnZpY2V9O1xuIiwiLypcbkFsbCBtYXRlcmlhbCBjb3B5cmlnaHQgRVNSSSwgQWxsIFJpZ2h0cyBSZXNlcnZlZCwgdW5sZXNzIG90aGVyd2lzZSBzcGVjaWZpZWQuXG5TZWUgaHR0cHM6Ly9qcy5hcmNnaXMuY29tLzQuMjcvZXNyaS9jb3B5cmlnaHQudHh0IGZvciBkZXRhaWxzLlxuKi9cbmNsYXNzIGF7Y29uc3RydWN0b3IoYSx0LHMsZSl7dGhpcy5faGFzTm9EYXRhVmFsdWVzPW51bGwsdGhpcy5fbWluVmFsdWU9bnVsbCx0aGlzLl9tYXhWYWx1ZT1udWxsLFwicGl4ZWxEYXRhXCJpbiBhPyh0aGlzLnZhbHVlcz1hLnBpeGVsRGF0YSx0aGlzLndpZHRoPWEud2lkdGgsdGhpcy5oZWlnaHQ9YS5oZWlnaHQsdGhpcy5ub0RhdGFWYWx1ZT1hLm5vRGF0YVZhbHVlKToodGhpcy52YWx1ZXM9YSx0aGlzLndpZHRoPXQsdGhpcy5oZWlnaHQ9cyx0aGlzLm5vRGF0YVZhbHVlPWUpfWdldCBoYXNOb0RhdGFWYWx1ZXMoKXtpZihudWxsPT10aGlzLl9oYXNOb0RhdGFWYWx1ZXMpe2NvbnN0IGE9dGhpcy5ub0RhdGFWYWx1ZTt0aGlzLl9oYXNOb0RhdGFWYWx1ZXM9dGhpcy52YWx1ZXMuaW5jbHVkZXMoYSl9cmV0dXJuIHRoaXMuX2hhc05vRGF0YVZhbHVlc31nZXQgbWluVmFsdWUoKXtyZXR1cm4gdGhpcy5fZW5zdXJlQm91bmRzKCksdGhpcy5fbWluVmFsdWV9Z2V0IG1heFZhbHVlKCl7cmV0dXJuIHRoaXMuX2Vuc3VyZUJvdW5kcygpLHRoaXMuX21heFZhbHVlfV9lbnN1cmVCb3VuZHMoKXtpZihudWxsIT10aGlzLl9taW5WYWx1ZSlyZXR1cm47Y29uc3R7bm9EYXRhVmFsdWU6YSx2YWx1ZXM6dH09dGhpcztsZXQgcz0xLzAsZT0tMS8wLGk9ITA7Zm9yKGNvbnN0IHUgb2YgdCl1PT09YT90aGlzLl9oYXNOb0RhdGFWYWx1ZXM9ITA6KHM9dTxzP3U6cyxlPXU+ZT91OmUsaT0hMSk7aT8odGhpcy5fbWluVmFsdWU9MCx0aGlzLl9tYXhWYWx1ZT0wKToodGhpcy5fbWluVmFsdWU9cyx0aGlzLl9tYXhWYWx1ZT1lPi0zZTM4P2U6MCl9fWV4cG9ydHthIGFzIEVsZXZhdGlvblRpbGVEYXRhfTtcbiIsIi8qXG5BbGwgbWF0ZXJpYWwgY29weXJpZ2h0IEVTUkksIEFsbCBSaWdodHMgUmVzZXJ2ZWQsIHVubGVzcyBvdGhlcndpc2Ugc3BlY2lmaWVkLlxuU2VlIGh0dHBzOi8vanMuYXJjZ2lzLmNvbS80LjI3L2VzcmkvY29weXJpZ2h0LnR4dCBmb3IgZGV0YWlscy5cbiovXG5pbXBvcnR7V29ya2VySGFuZGxlIGFzIGV9ZnJvbVwiLi4vLi4vY29yZS93b3JrZXJzL1dvcmtlckhhbmRsZS5qc1wiO2NsYXNzIHIgZXh0ZW5kcyBle2NvbnN0cnVjdG9yKGU9bnVsbCl7c3VwZXIoXCJMZXJjV29ya2VyXCIsXCJfZGVjb2RlXCIse19kZWNvZGU6ZT0+W2UuYnVmZmVyXX0sZSx7c3RyYXRlZ3k6XCJkZWRpY2F0ZWRcIn0pLHRoaXMuc2NoZWR1bGU9ZSx0aGlzLnJlZj0wfWRlY29kZShlLHIsdCl7cmV0dXJuIGUmJjAhPT1lLmJ5dGVMZW5ndGg/dGhpcy5pbnZva2Uoe2J1ZmZlcjplLG9wdGlvbnM6cn0sdCk6UHJvbWlzZS5yZXNvbHZlKG51bGwpfXJlbGVhc2UoKXstLXRoaXMucmVmPD0wJiYodC5mb3JFYWNoKCgoZSxyKT0+e2U9PT10aGlzJiZ0LmRlbGV0ZShyKX0pKSx0aGlzLmRlc3Ryb3koKSl9fWNvbnN0IHQ9bmV3IE1hcDtmdW5jdGlvbiBzKGU9bnVsbCl7bGV0IHM9dC5nZXQoZSk7cmV0dXJuIHN8fChudWxsIT1lPyhzPW5ldyByKChyPT5lLmltbWVkaWF0ZS5zY2hlZHVsZShyKSkpLHQuc2V0KGUscykpOihzPW5ldyByLHQuc2V0KG51bGwscykpKSwrK3MucmVmLHN9ZXhwb3J0e3MgYXMgYWNxdWlyZURlY29kZXJ9O1xuIiwiLypcbkFsbCBtYXRlcmlhbCBjb3B5cmlnaHQgRVNSSSwgQWxsIFJpZ2h0cyBSZXNlcnZlZCwgdW5sZXNzIG90aGVyd2lzZSBzcGVjaWZpZWQuXG5TZWUgaHR0cHM6Ly9qcy5hcmNnaXMuY29tLzQuMjcvZXNyaS9jb3B5cmlnaHQudHh0IGZvciBkZXRhaWxzLlxuKi9cbmltcG9ydCB0IGZyb21cIi4uLy4uL2NvcmUvRXJyb3IuanNcIjtpbXBvcnR7d2FpdFRpY2sgYXMgaSxpc0Fib3J0RXJyb3IgYXMgbH1mcm9tXCIuLi8uLi9jb3JlL3Byb21pc2VVdGlscy5qc1wiO2NsYXNzIGV7Y29uc3RydWN0b3IodCxpPTAsbD10LmxvZHMubGVuZ3RoLTEpe3RoaXMudGlsZUluZm89dCx0aGlzLm1pbkxPRD1pLHRoaXMubWF4TE9EPWx9Z2V0IGVmZmVjdGl2ZU1pbkxPRCgpe3JldHVybiB0aGlzLm1pbkxPRD8/dGhpcy50aWxlSW5mby5sb2RzWzBdLmxldmVsfWdldCBlZmZlY3RpdmVNYXhMT0QoKXtyZXR1cm4gdGhpcy5tYXhMT0Q/P3RoaXMudGlsZUluZm8ubG9kc1t0aGlzLnRpbGVJbmZvLmxvZHMubGVuZ3RoLTFdLmxldmVsfWdldEF2YWlsYWJpbGl0eSh0LGksbCl7Y29uc3QgZT10aGlzLnRpbGVJbmZvPy5sb2RBdCh0KTtyZXR1cm4hZXx8dDx0aGlzLm1pbkxPRHx8dD50aGlzLm1heExPRD9cInVuYXZhaWxhYmxlXCI6ZS5jb2xzJiZlLnJvd3M/bD49ZS5jb2xzWzBdJiZsPD1lLmNvbHNbMV0mJmk+PWUucm93c1swXSYmaTw9ZS5yb3dzWzFdP1widW5rbm93blwiOlwidW5hdmFpbGFibGVcIjpcInVua25vd25cIn1hc3luYyBmZXRjaEF2YWlsYWJpbGl0eShsLGUsYSxvKXthd2FpdCBpKG8pO2NvbnN0IHM9dGhpcy5nZXRBdmFpbGFiaWxpdHkobCxlLGEpO2lmKFwidW5hdmFpbGFibGVcIj09PXMpdGhyb3cgbmV3IHQoXCJ0aWxlLW1hcDp0aWxlLXVuYXZhaWxhYmxlXCIsXCJUaWxlIGlzIG5vdCBhdmFpbGFibGVcIix7bGV2ZWw6bCxyb3c6ZSxjb2w6YX0pO3JldHVybiBzfWFzeW5jIGZldGNoQXZhaWxhYmlsaXR5VXBzYW1wbGUodCxlLGEsbyxzKXthd2FpdCBpKHMpLG8ubGV2ZWw9dCxvLnJvdz1lLG8uY29sPWE7Y29uc3Qgbj10aGlzLnRpbGVJbmZvO3JldHVybiBuLnVwZGF0ZVRpbGVJbmZvKG8pLHRoaXMuZmV0Y2hBdmFpbGFiaWxpdHkodCxlLGEscykuY2F0Y2goKHQ9PntpZihsKHQpKXRocm93IHQ7aWYobi51cHNhbXBsZVRpbGUobykpcmV0dXJuIHRoaXMuZmV0Y2hBdmFpbGFiaWxpdHlVcHNhbXBsZShvLmxldmVsLG8ucm93LG8uY29sLG8scyk7dGhyb3cgdH0pKX19ZXhwb3J0e2UgYXMgZGVmYXVsdH07XG4iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=