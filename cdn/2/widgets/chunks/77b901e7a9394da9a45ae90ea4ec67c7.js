"use strict";
(self["webpackChunkexb_client"] = self["webpackChunkexb_client"] || []).push([["vendors-node_modules_arcgis_core_layers_graphics_sources_geojson_GeoJSONSourceWorker_js"],{

/***/ "./node_modules/@arcgis/core/layers/graphics/sources/geojson/GeoJSONSourceWorker.js":
/*!******************************************************************************************!*\
  !*** ./node_modules/@arcgis/core/layers/graphics/sources/geojson/GeoJSONSourceWorker.js ***!
  \******************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (/* binding */ C)
/* harmony export */ });
/* harmony import */ var _request_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../../request.js */ "./node_modules/@arcgis/core/request.js");
/* harmony import */ var _core_asyncUtils_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../../core/asyncUtils.js */ "./node_modules/@arcgis/core/core/asyncUtils.js");
/* harmony import */ var _core_Error_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../../core/Error.js */ "./node_modules/@arcgis/core/core/Error.js");
/* harmony import */ var _core_Logger_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../../../core/Logger.js */ "./node_modules/@arcgis/core/core/Logger.js");
/* harmony import */ var _core_promiseUtils_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../../../core/promiseUtils.js */ "./node_modules/@arcgis/core/core/promiseUtils.js");
/* harmony import */ var _geometry_support_jsonUtils_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../../../geometry/support/jsonUtils.js */ "./node_modules/@arcgis/core/geometry/support/jsonUtils.js");
/* harmony import */ var _geometry_support_spatialReferenceUtils_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../../../geometry/support/spatialReferenceUtils.js */ "./node_modules/@arcgis/core/geometry/support/spatialReferenceUtils.js");
/* harmony import */ var _featureConversionUtils_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../../featureConversionUtils.js */ "./node_modules/@arcgis/core/layers/graphics/featureConversionUtils.js");
/* harmony import */ var _data_FeatureStore_js__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../../data/FeatureStore.js */ "./node_modules/@arcgis/core/layers/graphics/data/FeatureStore.js");
/* harmony import */ var _data_projectionSupport_js__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../../data/projectionSupport.js */ "./node_modules/@arcgis/core/layers/graphics/data/projectionSupport.js");
/* harmony import */ var _data_QueryEngine_js__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ../../data/QueryEngine.js */ "./node_modules/@arcgis/core/layers/graphics/data/QueryEngine.js");
/* harmony import */ var _geojson_js__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ./geojson.js */ "./node_modules/@arcgis/core/layers/graphics/sources/geojson/geojson.js");
/* harmony import */ var _support_clientSideDefaults_js__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ../support/clientSideDefaults.js */ "./node_modules/@arcgis/core/layers/graphics/sources/support/clientSideDefaults.js");
/* harmony import */ var _support_sourceUtils_js__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! ../support/sourceUtils.js */ "./node_modules/@arcgis/core/layers/graphics/sources/support/sourceUtils.js");
/* harmony import */ var _support_FieldsIndex_js__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! ../../../support/FieldsIndex.js */ "./node_modules/@arcgis/core/layers/support/FieldsIndex.js");
/* harmony import */ var _support_fieldType_js__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! ../../../support/fieldType.js */ "./node_modules/@arcgis/core/layers/support/fieldType.js");
/* harmony import */ var _support_fieldUtils_js__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(/*! ../../../support/fieldUtils.js */ "./node_modules/@arcgis/core/layers/support/fieldUtils.js");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.27/esri/copyright.txt for details.
*/
const O={hasAttachments:!1,capabilities:"query, editing, create, delete, update",useStandardizedQueries:!0,supportsCoordinatesQuantization:!0,supportsReturningQueryGeometry:!0,advancedQueryCapabilities:{supportsQueryAttachments:!1,supportsStatistics:!0,supportsPercentileStatistics:!0,supportsReturningGeometryCentroid:!0,supportsQueryWithDistance:!0,supportsDistinct:!0,supportsReturningQueryExtent:!0,supportsReturningGeometryProperties:!1,supportsHavingClause:!0,supportsOrderBy:!0,supportsPagination:!0,supportsQueryWithResultType:!1,supportsSqlExpression:!0,supportsDisjointSpatialRel:!0}};class C{constructor(){this._queryEngine=null,this._snapshotFeatures=async e=>{const t=await this._fetch(e);return this._createFeatures(t)}}destroy(){this._queryEngine?.destroy(),this._queryEngine=this._fieldsIndex=this._createDefaultAttributes=null}async load(e,t={}){this._loadOptions={url:e.url,customParameters:e.customParameters};const i=[];await this._checkProjection(e.spatialReference);let r=null;e.url&&(r=await this._fetch(t?.signal));const n=(0,_geojson_js__WEBPACK_IMPORTED_MODULE_11__.inferLayerProperties)(r,{geometryType:e.geometryType}),o=e.fields||n.fields||[],l=null!=e.hasZ?e.hasZ:n.hasZ,u=n.geometryType;let d=e.objectIdField||n.objectIdFieldName||"__OBJECTID";const p=e.spatialReference||_geometry_support_spatialReferenceUtils_js__WEBPACK_IMPORTED_MODULE_6__.WGS84;let c=e.timeInfo;o===n.fields&&n.unknownFields.length>0&&i.push({name:"geojson-layer:unknown-field-types",message:"Some fields types couldn't be inferred from the features and were dropped",details:{unknownFields:n.unknownFields}});let y=new _support_FieldsIndex_js__WEBPACK_IMPORTED_MODULE_14__["default"](o).get(d);y?("esriFieldTypeString"!==y.type&&(y.type="esriFieldTypeOID"),y.editable=!1,y.nullable=!1,d=y.name):(y={alias:d,name:d,type:"string"===n.objectIdFieldType?"esriFieldTypeString":"esriFieldTypeOID",editable:!1,nullable:!1},o.unshift(y));const m={};for(const a of o){if(null==a.name&&(a.name=a.alias),null==a.alias&&(a.alias=a.name),!a.name)throw new _core_Error_js__WEBPACK_IMPORTED_MODULE_2__["default"]("geojson-layer:invalid-field-name","field name is missing",{field:a});if(!_support_fieldType_js__WEBPACK_IMPORTED_MODULE_15__.kebabDict.jsonValues.includes(a.type))throw new _core_Error_js__WEBPACK_IMPORTED_MODULE_2__["default"]("geojson-layer:invalid-field-type",`invalid type for field "${a.name}"`,{field:a});if(a.name!==y.name){const e=(0,_support_fieldUtils_js__WEBPACK_IMPORTED_MODULE_16__.getFieldDefaultValue)(a);void 0!==e&&(m[a.name]=e)}}this._fieldsIndex=new _support_FieldsIndex_js__WEBPACK_IMPORTED_MODULE_14__["default"](o);const _=this._fieldsIndex.requiredFields.indexOf(y);if(_>-1&&this._fieldsIndex.requiredFields.splice(_,1),c){if(c.startTimeField){const e=this._fieldsIndex.get(c.startTimeField);e?(c.startTimeField=e.name,e.type="esriFieldTypeDate"):c.startTimeField=null}if(c.endTimeField){const e=this._fieldsIndex.get(c.endTimeField);e?(c.endTimeField=e.name,e.type="esriFieldTypeDate"):c.endTimeField=null}if(c.trackIdField){const e=this._fieldsIndex.get(c.trackIdField);e?c.trackIdField=e.name:(c.trackIdField=null,i.push({name:"geojson-layer:invalid-timeInfo-trackIdField",message:"trackIdField is missing",details:{timeInfo:c}}))}c.startTimeField||c.endTimeField||(i.push({name:"geojson-layer:invalid-timeInfo",message:"startTimeField and endTimeField are missing",details:{timeInfo:c}}),c=null)}const I=u?(0,_support_clientSideDefaults_js__WEBPACK_IMPORTED_MODULE_12__.createDrawingInfo)(u):void 0,b={warnings:i,featureErrors:[],layerDefinition:{...O,drawingInfo:I??void 0,templates:(0,_support_clientSideDefaults_js__WEBPACK_IMPORTED_MODULE_12__.createDefaultTemplate)(m),extent:void 0,geometryType:u,objectIdField:d,fields:o,hasZ:!!l,timeInfo:c}};this._queryEngine=new _data_QueryEngine_js__WEBPACK_IMPORTED_MODULE_10__.QueryEngine({fields:o,geometryType:u,hasM:!1,hasZ:l,objectIdField:d,spatialReference:p,timeInfo:c,featureStore:new _data_FeatureStore_js__WEBPACK_IMPORTED_MODULE_8__["default"]({geometryType:u,hasM:!1,hasZ:l}),cacheSpatialQueries:!0}),this._createDefaultAttributes=(0,_support_clientSideDefaults_js__WEBPACK_IMPORTED_MODULE_12__.createDefaultAttributesFunction)(m,d);const w=await this._createFeatures(r);this._objectIdGenerator=this._createObjectIdGenerator(this._queryEngine,w);const T=this._normalizeFeatures(w,b.warnings,b.featureErrors);this._queryEngine.featureStore.addMany(T);const{fullExtent:x,timeExtent:q}=await this._queryEngine.fetchRecomputedExtents();if(b.layerDefinition.extent=x,q){const{start:e,end:t}=q;b.layerDefinition.timeInfo.timeExtent=[e,t]}return b}async applyEdits(e){const{spatialReference:t,geometryType:s}=this._queryEngine;return await Promise.all([(0,_support_sourceUtils_js__WEBPACK_IMPORTED_MODULE_13__.loadGeometryEngineForSimplify)(t,s),(0,_data_projectionSupport_js__WEBPACK_IMPORTED_MODULE_9__.checkProjectionSupport)(e.adds,t),(0,_data_projectionSupport_js__WEBPACK_IMPORTED_MODULE_9__.checkProjectionSupport)(e.updates,t)]),await this._waitSnapshotComplete(),this._applyEdits(e)}async queryFeatures(e={},t={}){return await this._waitSnapshotComplete(),this._queryEngine.executeQuery(e,t.signal)}async queryFeatureCount(e={},t={}){return await this._waitSnapshotComplete(),this._queryEngine.executeQueryForCount(e,t.signal)}async queryObjectIds(e={},t={}){return await this._waitSnapshotComplete(),this._queryEngine.executeQueryForIds(e,t.signal)}async queryExtent(e={},t={}){return await this._waitSnapshotComplete(),this._queryEngine.executeQueryForExtent(e,t.signal)}async querySnapping(e,t={}){return await this._waitSnapshotComplete(),this._queryEngine.executeQueryForSnapping(e,t.signal)}async refresh(e){this._loadOptions.customParameters=e,this._snapshotTask?.abort(),this._snapshotTask=(0,_core_asyncUtils_js__WEBPACK_IMPORTED_MODULE_1__.createTask)(this._snapshotFeatures),this._snapshotTask.promise.then((e=>{this._queryEngine.featureStore.clear(),this._objectIdGenerator=this._createObjectIdGenerator(this._queryEngine,e);const t=this._normalizeFeatures(e);t&&this._queryEngine.featureStore.addMany(t)}),(e=>{this._queryEngine.featureStore.clear(),(0,_core_promiseUtils_js__WEBPACK_IMPORTED_MODULE_4__.isAbortError)(e)||_core_Logger_js__WEBPACK_IMPORTED_MODULE_3__["default"].getLogger("esri.layers.GeoJSONLayer").error(new _core_Error_js__WEBPACK_IMPORTED_MODULE_2__["default"]("geojson-layer:refresh","An error occurred during refresh",{error:e}))})),await this._waitSnapshotComplete();const{fullExtent:n,timeExtent:a}=await this._queryEngine.fetchRecomputedExtents();return{extent:n,timeExtent:a}}async _createFeatures(e){if(null==e)return[];const{geometryType:t,hasZ:s,objectIdField:i}=this._queryEngine,r=(0,_geojson_js__WEBPACK_IMPORTED_MODULE_11__.createOptimizedFeatures)(e,{geometryType:t,hasZ:s,objectIdField:i});if(!(0,_geometry_support_spatialReferenceUtils_js__WEBPACK_IMPORTED_MODULE_6__.equals)(this._queryEngine.spatialReference,_geometry_support_spatialReferenceUtils_js__WEBPACK_IMPORTED_MODULE_6__.WGS84))for(const n of r)null!=n.geometry&&(n.geometry=(0,_featureConversionUtils_js__WEBPACK_IMPORTED_MODULE_7__.convertFromGeometry)((0,_data_projectionSupport_js__WEBPACK_IMPORTED_MODULE_9__.project)((0,_featureConversionUtils_js__WEBPACK_IMPORTED_MODULE_7__.convertToGeometry)(n.geometry,this._queryEngine.geometryType,this._queryEngine.hasZ,!1),_geometry_support_spatialReferenceUtils_js__WEBPACK_IMPORTED_MODULE_6__.WGS84,this._queryEngine.spatialReference)));return r}async _waitSnapshotComplete(){if(this._snapshotTask&&!this._snapshotTask.finished){try{await this._snapshotTask.promise}catch{}return this._waitSnapshotComplete()}}async _fetch(t){const{url:s,customParameters:i}=this._loadOptions,r=(await (0,_request_js__WEBPACK_IMPORTED_MODULE_0__["default"])(s,{responseType:"json",query:{...i},signal:t})).data;return await (0,_geojson_js__WEBPACK_IMPORTED_MODULE_11__.validateGeoJSON)(r),r}_normalizeFeatures(e,t,s){const{objectIdField:i}=this._queryEngine,r=[];for(const n of e){const e=this._createDefaultAttributes(),a=(0,_support_sourceUtils_js__WEBPACK_IMPORTED_MODULE_13__.mixAttributes)(this._fieldsIndex,e,n.attributes,!0,t);a?s?.push(a):(this._assignObjectId(e,n.attributes,!0),n.attributes=e,n.objectId=e[i],r.push(n))}return r}async _applyEdits(e){const{adds:t,updates:s,deletes:i}=e,r={addResults:[],deleteResults:[],updateResults:[],uidToObjectId:{}};if(t&&t.length&&this._applyAddEdits(r,t),s&&s.length&&this._applyUpdateEdits(r,s),i&&i.length){for(const e of i)r.deleteResults.push((0,_support_sourceUtils_js__WEBPACK_IMPORTED_MODULE_13__.createFeatureEditSuccessResult)(e));this._queryEngine.featureStore.removeManyById(i)}const{fullExtent:n,timeExtent:a}=await this._queryEngine.fetchRecomputedExtents();return{extent:n,timeExtent:a,featureEditResults:r}}_applyAddEdits(e,t){const{addResults:s}=e,{geometryType:i,hasM:r,hasZ:a,objectIdField:o,spatialReference:l,featureStore:u}=this._queryEngine,p=[];for(const d of t){if(d.geometry&&i!==(0,_geometry_support_jsonUtils_js__WEBPACK_IMPORTED_MODULE_5__.getJsonType)(d.geometry)){s.push((0,_support_sourceUtils_js__WEBPACK_IMPORTED_MODULE_13__.createFeatureEditErrorResult)("Incorrect geometry type."));continue}const t=this._createDefaultAttributes(),r=(0,_support_sourceUtils_js__WEBPACK_IMPORTED_MODULE_13__.mixAttributes)(this._fieldsIndex,t,d.attributes);if(r)s.push(r);else{if(this._assignObjectId(t,d.attributes),d.attributes=t,null!=d.uid){const t=d.attributes[o];e.uidToObjectId[d.uid]=t}if(null!=d.geometry){const e=d.geometry.spatialReference??l;d.geometry=(0,_data_projectionSupport_js__WEBPACK_IMPORTED_MODULE_9__.project)((0,_support_sourceUtils_js__WEBPACK_IMPORTED_MODULE_13__.simplify)(d.geometry,e),e,l)}p.push(d),s.push((0,_support_sourceUtils_js__WEBPACK_IMPORTED_MODULE_13__.createFeatureEditSuccessResult)(d.attributes[o]))}}u.addMany((0,_featureConversionUtils_js__WEBPACK_IMPORTED_MODULE_7__.convertFromFeatures)([],p,i,a,r,o))}_applyUpdateEdits({updateResults:e},t){const{geometryType:s,hasM:i,hasZ:r,objectIdField:a,spatialReference:o,featureStore:l}=this._queryEngine;for(const u of t){const{attributes:t,geometry:d}=u,h=t&&t[a];if(null==h){e.push((0,_support_sourceUtils_js__WEBPACK_IMPORTED_MODULE_13__.createFeatureEditErrorResult)(`Identifier field ${a} missing`));continue}if(!l.has(h)){e.push((0,_support_sourceUtils_js__WEBPACK_IMPORTED_MODULE_13__.createFeatureEditErrorResult)(`Feature with object id ${h} missing`));continue}const y=(0,_featureConversionUtils_js__WEBPACK_IMPORTED_MODULE_7__.convertToFeature)(l.getFeature(h),s,r,i);if(null!=d){if(s!==(0,_geometry_support_jsonUtils_js__WEBPACK_IMPORTED_MODULE_5__.getJsonType)(d)){e.push((0,_support_sourceUtils_js__WEBPACK_IMPORTED_MODULE_13__.createFeatureEditErrorResult)("Incorrect geometry type."));continue}const t=d.spatialReference??o;y.geometry=(0,_data_projectionSupport_js__WEBPACK_IMPORTED_MODULE_9__.project)((0,_support_sourceUtils_js__WEBPACK_IMPORTED_MODULE_13__.simplify)(d,t),t,o)}if(t){const s=(0,_support_sourceUtils_js__WEBPACK_IMPORTED_MODULE_13__.mixAttributes)(this._fieldsIndex,y.attributes,t);if(s){e.push(s);continue}}l.add((0,_featureConversionUtils_js__WEBPACK_IMPORTED_MODULE_7__.convertFromFeature)(y,s,r,i,a)),e.push((0,_support_sourceUtils_js__WEBPACK_IMPORTED_MODULE_13__.createFeatureEditSuccessResult)(h))}}_createObjectIdGenerator(e,t){const s=e.fieldsIndex.get(e.objectIdField);if("esriFieldTypeString"===s.type)return()=>s.name+"-"+Date.now().toString(16);let i=Number.NEGATIVE_INFINITY;for(const r of t)r.objectId&&(i=Math.max(i,r.objectId));return i=Math.max(0,i)+1,()=>i++}_assignObjectId(e,t,s=!1){const i=this._queryEngine.objectIdField;e[i]=s&&i in t?t[i]:this._objectIdGenerator()}async _checkProjection(e){try{await (0,_data_projectionSupport_js__WEBPACK_IMPORTED_MODULE_9__.checkProjectionSupport)(_geometry_support_spatialReferenceUtils_js__WEBPACK_IMPORTED_MODULE_6__.WGS84,e)}catch{throw new _core_Error_js__WEBPACK_IMPORTED_MODULE_2__["default"]("geojson-layer","Projection not supported")}}}


/***/ }),

/***/ "./node_modules/@arcgis/core/layers/graphics/sources/geojson/geojson.js":
/*!******************************************************************************!*\
  !*** ./node_modules/@arcgis/core/layers/graphics/sources/geojson/geojson.js ***!
  \******************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "createOptimizedFeatures": () => (/* binding */ I),
/* harmony export */   "getGeometryType": () => (/* binding */ s),
/* harmony export */   "inferLayerProperties": () => (/* binding */ L),
/* harmony export */   "validateGeoJSON": () => (/* binding */ T)
/* harmony export */ });
/* harmony import */ var _core_Error_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../../core/Error.js */ "./node_modules/@arcgis/core/core/Error.js");
/* harmony import */ var _OptimizedFeature_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../OptimizedFeature.js */ "./node_modules/@arcgis/core/layers/graphics/OptimizedFeature.js");
/* harmony import */ var _OptimizedGeometry_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../OptimizedGeometry.js */ "./node_modules/@arcgis/core/layers/graphics/OptimizedGeometry.js");
/* harmony import */ var _support_fieldUtils_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../../support/fieldUtils.js */ "./node_modules/@arcgis/core/layers/support/fieldUtils.js");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.27/esri/copyright.txt for details.
*/
const i={LineString:"esriGeometryPolyline",MultiLineString:"esriGeometryPolyline",MultiPoint:"esriGeometryMultipoint",Point:"esriGeometryPoint",Polygon:"esriGeometryPolygon",MultiPolygon:"esriGeometryPolygon"};function s(e){return i[e]}function*c(e){switch(e.type){case"Feature":yield e;break;case"FeatureCollection":for(const t of e.features)t&&(yield t)}}function*u(e){if(e)switch(e.type){case"Point":yield e.coordinates;break;case"LineString":case"MultiPoint":yield*e.coordinates;break;case"MultiLineString":case"Polygon":for(const t of e.coordinates)yield*t;break;case"MultiPolygon":for(const t of e.coordinates)for(const e of t)yield*e}}function*l(e,o={}){const{geometryType:r,objectIdField:i}=o;for(const c of e){const{geometry:e,properties:u,id:l}=c;if(e&&s(e.type)!==r)continue;const f=u||{};let a;i&&(a=f[i],null==l||a||(f[i]=a=l));const y=new _OptimizedFeature_js__WEBPACK_IMPORTED_MODULE_1__.OptimizedFeature(e?g(new _OptimizedGeometry_js__WEBPACK_IMPORTED_MODULE_2__["default"],e,o):null,f,null,a??void 0);yield y}}function f(e){for(const t of e)if(t.length>2)return!0;return!1}function a(e){return!p(e)}function y(e){return p(e)}function p(e){let t=0;for(let n=0;n<e.length;n++){const o=e[n],r=e[(n+1)%e.length];t+=o[0]*r[1]-r[0]*o[1]}return t<=0}function d(e){const t=e[0],n=e[e.length-1];return t[0]===n[0]&&t[1]===n[1]&&t[2]===n[2]||e.push(t),e}function g(e,t,n){switch(t.type){case"LineString":return m(e,t,n);case"MultiLineString":return h(e,t,n);case"MultiPoint":return w(e,t,n);case"MultiPolygon":return P(e,t,n);case"Point":return b(e,t,n);case"Polygon":return j(e,t,n)}}function m(e,t,n){return G(e,t.coordinates,n),e}function h(e,t,n){for(const o of t.coordinates)G(e,o,n);return e}function w(e,t,n){return G(e,t.coordinates,n),e}function P(e,t,n){for(const o of t.coordinates){S(e,o[0],n);for(let t=1;t<o.length;t++)F(e,o[t],n)}return e}function b(e,t,n){return k(e,t.coordinates,n),e}function j(e,t,n){const o=t.coordinates;S(e,o[0],n);for(let r=1;r<o.length;r++)F(e,o[r],n);return e}function S(e,t,n){const o=d(t);a(o)?M(e,o,n):G(e,o,n)}function F(e,t,n){const o=d(t);y(o)?M(e,o,n):G(e,o,n)}function G(e,t,n){for(const o of t)k(e,o,n);e.lengths.push(t.length)}function M(e,t,n){for(let o=t.length-1;o>=0;o--)k(e,t[o],n);e.lengths.push(t.length)}function k(e,t,n){const[o,r,i]=t;e.coords.push(o,r),n.hasZ&&e.coords.push(i||0)}function O(e){switch(typeof e){case"string":return"esriFieldTypeString";case"number":return"esriFieldTypeDouble";default:return"unknown"}}function T(t){if(!t)throw new _core_Error_js__WEBPACK_IMPORTED_MODULE_0__["default"]("geojson-layer:empty","GeoJSON data is empty");if("Feature"!==t.type&&"FeatureCollection"!==t.type)throw new _core_Error_js__WEBPACK_IMPORTED_MODULE_0__["default"]("geojson-layer:unsupported-geojson-object","missing or not supported GeoJSON object type",{data:t});const{crs:n}=t;if(!n)return;const o="string"==typeof n?n:"name"===n.type?n.properties.name:"EPSG"===n.type?n.properties.code:null,r=new RegExp(".*(CRS84H?|4326)$","i");if(!o||!r.test(o))throw new _core_Error_js__WEBPACK_IMPORTED_MODULE_0__["default"]("geojson-layer:unsupported-crs","unsupported GeoJSON 'crs' member",{crs:n})}function L(e,t={}){const n=[],i=new Set,l=new Set;let a,y=!1,p=null,d=!1,{geometryType:g=null}=t,m=!1;for(const r of c(e)){const{geometry:e,properties:t,id:c}=r;if(!e||(g||(g=s(e.type)),s(e.type)===g)){if(!y){y=f(u(e))}if(d||(d=null!=c,d&&(a=typeof c,t&&(p=Object.keys(t).filter((e=>t[e]===c))))),t&&p&&d&&null!=c&&(p.length>1?p=p.filter((e=>t[e]===c)):1===p.length&&(p=t[p[0]]===c?p:[])),!m&&t){let e=!0;for(const r in t){if(i.has(r))continue;const s=t[r];if(null==s){e=!1,l.add(r);continue}const c=O(s);if("unknown"===c){l.add(r);continue}l.delete(r),i.add(r);const u=(0,_support_fieldUtils_js__WEBPACK_IMPORTED_MODULE_3__.normalizeFieldName)(r);u&&n.push({name:u,alias:r,type:c})}m=e}}}const h=(0,_support_fieldUtils_js__WEBPACK_IMPORTED_MODULE_3__.normalizeFieldName)(1===p?.length&&p[0]||null)??void 0;if(h)for(const o of n)if(o.name===h&&(0,_support_fieldUtils_js__WEBPACK_IMPORTED_MODULE_3__.isNumericField)(o)){o.type="esriFieldTypeOID";break}return{fields:n,geometryType:g,hasZ:y,objectIdFieldName:h,objectIdFieldType:a,unknownFields:Array.from(l)}}function I(e,t){return Array.from(l(c(e),t))}


/***/ }),

/***/ "./node_modules/@arcgis/core/layers/graphics/sources/support/clientSideDefaults.js":
/*!*****************************************************************************************!*\
  !*** ./node_modules/@arcgis/core/layers/graphics/sources/support/clientSideDefaults.js ***!
  \*****************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "createCapabilities": () => (/* binding */ c),
/* harmony export */   "createDefaultAttributesFunction": () => (/* binding */ i),
/* harmony export */   "createDefaultTemplate": () => (/* binding */ a),
/* harmony export */   "createDrawingInfo": () => (/* binding */ o)
/* harmony export */ });
/* harmony import */ var _core_has_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../../core/has.js */ "./node_modules/@arcgis/core/core/has.js");
/* harmony import */ var _core_lang_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../../core/lang.js */ "./node_modules/@arcgis/core/core/lang.js");
/* harmony import */ var _data_QueryEngineCapabilities_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../data/QueryEngineCapabilities.js */ "./node_modules/@arcgis/core/layers/graphics/data/QueryEngineCapabilities.js");
/* harmony import */ var _symbols_support_defaultsJSON_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../../../symbols/support/defaultsJSON.js */ "./node_modules/@arcgis/core/symbols/support/defaultsJSON.js");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.27/esri/copyright.txt for details.
*/
function o(t){return{renderer:{type:"simple",symbol:"esriGeometryPoint"===t||"esriGeometryMultipoint"===t?_symbols_support_defaultsJSON_js__WEBPACK_IMPORTED_MODULE_3__.defaultPointSymbolJSON:"esriGeometryPolyline"===t?_symbols_support_defaultsJSON_js__WEBPACK_IMPORTED_MODULE_3__.defaultPolylineSymbolJSON:_symbols_support_defaultsJSON_js__WEBPACK_IMPORTED_MODULE_3__.defaultPolygonSymbolJSON}}}const u=/^[_$a-zA-Z][_$a-zA-Z0-9]*$/;let n=1;function i(t,s){if((0,_core_has_js__WEBPACK_IMPORTED_MODULE_0__["default"])("esri-csp-restrictions"))return()=>({[s]:null,...t});try{let r=`this.${s} = null;`;for(const s in t){r+=`this${u.test(s)?`.${s}`:`["${s}"]`} = ${JSON.stringify(t[s])};`}const e=new Function(`\n      return class AttributesClass$${n++} {\n        constructor() {\n          ${r};\n        }\n      }\n    `)();return()=>new e}catch(r){return()=>({[s]:null,...t})}}function a(s={}){return[{name:"New Feature",description:"",prototype:{attributes:(0,_core_lang_js__WEBPACK_IMPORTED_MODULE_1__.clone)(s)}}]}function c(t,r){return{analytics:{supportsCacheHint:!1},attachment:null,data:{isVersioned:!1,supportsAttachment:!1,supportsM:!1,supportsZ:t},metadata:{supportsAdvancedFieldProperties:!1},operations:{supportsCalculate:!1,supportsTruncate:!1,supportsValidateSql:!1,supportsAdd:r,supportsDelete:r,supportsEditing:r,supportsChangeTracking:!1,supportsQuery:!0,supportsQueryAnalytics:!1,supportsQueryAttachments:!1,supportsQueryTopFeatures:!1,supportsResizeAttachments:!1,supportsSync:!1,supportsUpdate:r,supportsExceedsLimitStatistics:!0,supportsAsyncConvert3D:!1},query:_data_QueryEngineCapabilities_js__WEBPACK_IMPORTED_MODULE_2__.queryCapabilities,queryRelated:{supportsCount:!0,supportsOrderBy:!0,supportsPagination:!0,supportsCacheHint:!1},queryTopFeatures:{supportsCacheHint:!1},editing:{supportsGeometryUpdate:r,supportsGlobalId:!1,supportsReturnServiceEditsInSourceSpatialReference:!1,supportsRollbackOnFailure:!1,supportsUpdateWithoutM:!1,supportsUploadWithItemId:!1,supportsDeleteByAnonymous:!1,supportsDeleteByOthers:!1,supportsUpdateByAnonymous:!1,supportsUpdateByOthers:!1,supportsAsyncApplyEdits:!1}}}


/***/ }),

/***/ "./node_modules/@arcgis/core/layers/graphics/sources/support/sourceUtils.js":
/*!**********************************************************************************!*\
  !*** ./node_modules/@arcgis/core/layers/graphics/sources/support/sourceUtils.js ***!
  \**********************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "createFeatureEditErrorResult": () => (/* binding */ u),
/* harmony export */   "createFeatureEditSuccessResult": () => (/* binding */ c),
/* harmony export */   "loadGeometryEngineForSimplify": () => (/* binding */ y),
/* harmony export */   "mixAttributes": () => (/* binding */ d),
/* harmony export */   "simplify": () => (/* binding */ h)
/* harmony export */ });
/* harmony import */ var _geometry_support_spatialReferenceUtils_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../../geometry/support/spatialReferenceUtils.js */ "./node_modules/@arcgis/core/geometry/support/spatialReferenceUtils.js");
/* harmony import */ var _support_fieldUtils_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../support/fieldUtils.js */ "./node_modules/@arcgis/core/layers/support/fieldUtils.js");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.27/esri/copyright.txt for details.
*/
class o{constructor(){this.code=null,this.description=null}}class l{constructor(e){this.error=new o,this.globalId=null,this.objectId=null,this.success=!1,this.uniqueId=null,this.error.description=e}}function u(e){return new l(e)}class a{constructor(e){this.globalId=null,this.success=!0,this.objectId=this.uniqueId=e}}function c(e){return new a(e)}const f=new Set;function d(e,i,r,s=!1,o){f.clear();for(const l in r){const a=e.get(l);if(!a)continue;const c=r[l],d=m(a,c);if(d!==c&&o&&o.push({name:"invalid-value-type",message:"attribute value was converted to match the field type",details:{field:a,originalValue:c,sanitizedValue:d}}),f.add(a.name),a&&(s||a.editable)){const e=(0,_support_fieldUtils_js__WEBPACK_IMPORTED_MODULE_1__.validateFieldValue)(a,d);if(e)return u((0,_support_fieldUtils_js__WEBPACK_IMPORTED_MODULE_1__.validationErrorToString)(e,a,d));i[a.name]=d}}for(const t of e?.requiredFields??[])if(!f.has(t.name))return u(`missing required field "${t.name}"`);return null}function m(e,t){let n=t;return"string"==typeof t&&(0,_support_fieldUtils_js__WEBPACK_IMPORTED_MODULE_1__.isNumericField)(e)?n=parseFloat(t):null!=t&&(0,_support_fieldUtils_js__WEBPACK_IMPORTED_MODULE_1__.isStringField)(e)&&"string"!=typeof t&&(n=String(t)),(0,_support_fieldUtils_js__WEBPACK_IMPORTED_MODULE_1__.sanitizeNullFieldValue)(n)}let p;function h(t,n){if(!t||!(0,_geometry_support_spatialReferenceUtils_js__WEBPACK_IMPORTED_MODULE_0__.isValid)(n))return t;if("rings"in t||"paths"in t){if(null==p)throw new TypeError("geometry engine not loaded");return p.simplify(n,t)}return t}async function g(){return null==p&&(p=await Promise.all(/*! import() */[__webpack_require__.e("vendors-node_modules_arcgis_core_chunks_geometryEngineBase_js"), __webpack_require__.e("node_modules_arcgis_core_geometry_geometryEngineJSON_js-_997e1")]).then(__webpack_require__.bind(__webpack_require__, /*! ../../../../geometry/geometryEngineJSON.js */ "./node_modules/@arcgis/core/geometry/geometryEngineJSON.js"))),p}async function y(t,n){!(0,_geometry_support_spatialReferenceUtils_js__WEBPACK_IMPORTED_MODULE_0__.isValid)(t)||"esriGeometryPolygon"!==n&&"esriGeometryPolyline"!==n||await g()}


/***/ })

}]);
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoid2lkZ2V0cy9jaHVua3MvNzdiOTAxZTdhOTM5NGRhOWE0NWFlOTBlYTRlYzY3YzcuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDOHpDLFNBQVMsa01BQWtNLHdZQUF3WSxRQUFRLGNBQWMsd0RBQXdELDZCQUE2QixnQ0FBZ0MsVUFBVSxvR0FBb0csaUJBQWlCLEVBQUUsbUJBQW1CLCtDQUErQyxXQUFXLGdEQUFnRCxXQUFXLHdDQUF3QyxRQUFRLGtFQUFDLElBQUksNEJBQTRCLHlFQUF5RSx5REFBeUQsNEJBQTRCLDZFQUFDLENBQUMsaUJBQWlCLGdEQUFnRCxzSUFBc0ksK0JBQStCLEVBQUUsVUFBVSxnRUFBQyxXQUFXLHlHQUF5RyxvSEFBb0gsZUFBZSxXQUFXLGtCQUFrQixvRkFBb0Ysc0RBQUMsNkRBQTZELFFBQVEsRUFBRSxJQUFJLGlGQUFxQixtQkFBbUIsc0RBQUMsK0RBQStELE9BQU8sSUFBSSxRQUFRLEVBQUUsb0JBQW9CLFFBQVEsNkVBQUMsSUFBSSwyQkFBMkIsc0JBQXNCLGdFQUFDLElBQUksb0RBQW9ELHlEQUF5RCxxQkFBcUIsZ0RBQWdELDZFQUE2RSxtQkFBbUIsOENBQThDLHlFQUF5RSxtQkFBbUIsOENBQThDLHFEQUFxRCw4RkFBOEYsWUFBWSxHQUFHLDJDQUEyQyxxR0FBcUcsWUFBWSxVQUFVLFVBQVUsa0ZBQUMsY0FBYyw2Q0FBNkMscUNBQXFDLHNGQUFDLGdGQUFnRixzQkFBc0IsOERBQUMsRUFBRSxzR0FBc0csNkRBQUMsRUFBRSw4QkFBOEIseUJBQXlCLGdDQUFnQyxnR0FBQyxNQUFNLHNDQUFzQywyRUFBMkUsOERBQThELDBDQUEwQyxNQUFNLDBCQUEwQixrREFBa0QsaUNBQWlDLE1BQU0sY0FBYyxHQUFHLDRDQUE0QyxTQUFTLG9CQUFvQixNQUFNLGtDQUFrQyxtQkFBbUIsMEJBQTBCLHVGQUFDLE1BQU0sa0ZBQUMsV0FBVyxrRkFBQyx1RUFBdUUsd0JB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QUFlLEVBQUUsUUFBUSw2Q0FBNkMsV0FBVyxvREFBQyxLQUFLLEVBQUUsZ0JBQWdCLE9BQU8sV0FBVyxxQkFBcUIsdUJBQXVCLDhEQUE4RCxXQUFXLG1DQUFtQyxhQUFhLHdXQUF3VyxPQUFPLCtFQUFDLGVBQWUsK0VBQStFLG1CQUFtQixxQkFBcUIsVUFBVSxpVUFBd2I7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQ0oxa0U7QUFDQTtBQUNBO0FBQ0E7QUFDb1AsUUFBUSxjQUFjLHNDQUFzQyxRQUFRLGVBQWUsb0hBQW9ILGNBQWMsZ0JBQWdCLFFBQVEsZUFBZSxrRUFBa0UsY0FBYyxnQkFBZ0IsZ0JBQWdCLHlCQUF5QixVQUFVLGtCQUFrQixpQkFBaUIsZUFBZSxzQkFBc0IscUJBQXFCLG1HQUFtRywwQ0FBMEMsb0NBQW9DLFFBQVEsMEVBQUMsTUFBTSxjQUFjLCtFQUFDLFNBQVMsYUFBYSwyRkFBMkYsT0FBTyxJQUFJLFlBQVksZ0JBQWdCLFFBQVEsMEJBQTBCLHNFQUFDLDZCQUE2QixxRUFBQyx1Q0FBdUMsOEVBQUMsSUFBSSxNQUFNLGdCQUFnQixRQUFRLG1GQUFDLGFBQWEsNkJBQTZCLDZEQUE2RCx1QkFBdUIsU0FBUyxtQkFBbUIseUJBQXlCLGlYQUFvRCxJQUFJLHNCQUFzQixDQUFDLG1GQUFDLHNFQUF3TiIsInNvdXJjZXMiOlsid2VicGFjazovL2V4Yi1jbGllbnQvLi9ub2RlX21vZHVsZXMvQGFyY2dpcy9jb3JlL2xheWVycy9ncmFwaGljcy9zb3VyY2VzL2dlb2pzb24vR2VvSlNPTlNvdXJjZVdvcmtlci5qcyIsIndlYnBhY2s6Ly9leGItY2xpZW50Ly4vbm9kZV9tb2R1bGVzL0BhcmNnaXMvY29yZS9sYXllcnMvZ3JhcGhpY3Mvc291cmNlcy9nZW9qc29uL2dlb2pzb24uanMiLCJ3ZWJwYWNrOi8vZXhiLWNsaWVudC8uL25vZGVfbW9kdWxlcy9AYXJjZ2lzL2NvcmUvbGF5ZXJzL2dyYXBoaWNzL3NvdXJjZXMvc3VwcG9ydC9jbGllbnRTaWRlRGVmYXVsdHMuanMiLCJ3ZWJwYWNrOi8vZXhiLWNsaWVudC8uL25vZGVfbW9kdWxlcy9AYXJjZ2lzL2NvcmUvbGF5ZXJzL2dyYXBoaWNzL3NvdXJjZXMvc3VwcG9ydC9zb3VyY2VVdGlscy5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyIvKlxuQWxsIG1hdGVyaWFsIGNvcHlyaWdodCBFU1JJLCBBbGwgUmlnaHRzIFJlc2VydmVkLCB1bmxlc3Mgb3RoZXJ3aXNlIHNwZWNpZmllZC5cblNlZSBodHRwczovL2pzLmFyY2dpcy5jb20vNC4yNy9lc3JpL2NvcHlyaWdodC50eHQgZm9yIGRldGFpbHMuXG4qL1xuaW1wb3J0IGUgZnJvbVwiLi4vLi4vLi4vLi4vcmVxdWVzdC5qc1wiO2ltcG9ydHtjcmVhdGVUYXNrIGFzIHR9ZnJvbVwiLi4vLi4vLi4vLi4vY29yZS9hc3luY1V0aWxzLmpzXCI7aW1wb3J0IHMgZnJvbVwiLi4vLi4vLi4vLi4vY29yZS9FcnJvci5qc1wiO2ltcG9ydCBpIGZyb21cIi4uLy4uLy4uLy4uL2NvcmUvTG9nZ2VyLmpzXCI7aW1wb3J0e2lzQWJvcnRFcnJvciBhcyByfWZyb21cIi4uLy4uLy4uLy4uL2NvcmUvcHJvbWlzZVV0aWxzLmpzXCI7aW1wb3J0e2dldEpzb25UeXBlIGFzIG59ZnJvbVwiLi4vLi4vLi4vLi4vZ2VvbWV0cnkvc3VwcG9ydC9qc29uVXRpbHMuanNcIjtpbXBvcnR7V0dTODQgYXMgYSxlcXVhbHMgYXMgb31mcm9tXCIuLi8uLi8uLi8uLi9nZW9tZXRyeS9zdXBwb3J0L3NwYXRpYWxSZWZlcmVuY2VVdGlscy5qc1wiO2ltcG9ydHtjb252ZXJ0RnJvbUdlb21ldHJ5IGFzIGwsY29udmVydFRvR2VvbWV0cnkgYXMgdSxjb252ZXJ0RnJvbUZlYXR1cmVzIGFzIGQsY29udmVydFRvRmVhdHVyZSBhcyBwLGNvbnZlcnRGcm9tRmVhdHVyZSBhcyBjfWZyb21cIi4uLy4uL2ZlYXR1cmVDb252ZXJzaW9uVXRpbHMuanNcIjtpbXBvcnQgaCBmcm9tXCIuLi8uLi9kYXRhL0ZlYXR1cmVTdG9yZS5qc1wiO2ltcG9ydHtjaGVja1Byb2plY3Rpb25TdXBwb3J0IGFzIHkscHJvamVjdCBhcyBtfWZyb21cIi4uLy4uL2RhdGEvcHJvamVjdGlvblN1cHBvcnQuanNcIjtpbXBvcnR7UXVlcnlFbmdpbmUgYXMgZn1mcm9tXCIuLi8uLi9kYXRhL1F1ZXJ5RW5naW5lLmpzXCI7aW1wb3J0e2luZmVyTGF5ZXJQcm9wZXJ0aWVzIGFzIGcsY3JlYXRlT3B0aW1pemVkRmVhdHVyZXMgYXMgXyx2YWxpZGF0ZUdlb0pTT04gYXMgSX1mcm9tXCIuL2dlb2pzb24uanNcIjtpbXBvcnR7Y3JlYXRlRHJhd2luZ0luZm8gYXMgaixjcmVhdGVEZWZhdWx0VGVtcGxhdGUgYXMgRixjcmVhdGVEZWZhdWx0QXR0cmlidXRlc0Z1bmN0aW9uIGFzIEV9ZnJvbVwiLi4vc3VwcG9ydC9jbGllbnRTaWRlRGVmYXVsdHMuanNcIjtpbXBvcnR7bG9hZEdlb21ldHJ5RW5naW5lRm9yU2ltcGxpZnkgYXMgYixtaXhBdHRyaWJ1dGVzIGFzIHcsY3JlYXRlRmVhdHVyZUVkaXRTdWNjZXNzUmVzdWx0IGFzIFQsY3JlYXRlRmVhdHVyZUVkaXRFcnJvclJlc3VsdCBhcyB4LHNpbXBsaWZ5IGFzIHF9ZnJvbVwiLi4vc3VwcG9ydC9zb3VyY2VVdGlscy5qc1wiO2ltcG9ydCBTIGZyb21cIi4uLy4uLy4uL3N1cHBvcnQvRmllbGRzSW5kZXguanNcIjtpbXBvcnR7a2ViYWJEaWN0IGFzIFJ9ZnJvbVwiLi4vLi4vLi4vc3VwcG9ydC9maWVsZFR5cGUuanNcIjtpbXBvcnR7Z2V0RmllbGREZWZhdWx0VmFsdWUgYXMga31mcm9tXCIuLi8uLi8uLi9zdXBwb3J0L2ZpZWxkVXRpbHMuanNcIjtjb25zdCBPPXtoYXNBdHRhY2htZW50czohMSxjYXBhYmlsaXRpZXM6XCJxdWVyeSwgZWRpdGluZywgY3JlYXRlLCBkZWxldGUsIHVwZGF0ZVwiLHVzZVN0YW5kYXJkaXplZFF1ZXJpZXM6ITAsc3VwcG9ydHNDb29yZGluYXRlc1F1YW50aXphdGlvbjohMCxzdXBwb3J0c1JldHVybmluZ1F1ZXJ5R2VvbWV0cnk6ITAsYWR2YW5jZWRRdWVyeUNhcGFiaWxpdGllczp7c3VwcG9ydHNRdWVyeUF0dGFjaG1lbnRzOiExLHN1cHBvcnRzU3RhdGlzdGljczohMCxzdXBwb3J0c1BlcmNlbnRpbGVTdGF0aXN0aWNzOiEwLHN1cHBvcnRzUmV0dXJuaW5nR2VvbWV0cnlDZW50cm9pZDohMCxzdXBwb3J0c1F1ZXJ5V2l0aERpc3RhbmNlOiEwLHN1cHBvcnRzRGlzdGluY3Q6ITAsc3VwcG9ydHNSZXR1cm5pbmdRdWVyeUV4dGVudDohMCxzdXBwb3J0c1JldHVybmluZ0dlb21ldHJ5UHJvcGVydGllczohMSxzdXBwb3J0c0hhdmluZ0NsYXVzZTohMCxzdXBwb3J0c09yZGVyQnk6ITAsc3VwcG9ydHNQYWdpbmF0aW9uOiEwLHN1cHBvcnRzUXVlcnlXaXRoUmVzdWx0VHlwZTohMSxzdXBwb3J0c1NxbEV4cHJlc3Npb246ITAsc3VwcG9ydHNEaXNqb2ludFNwYXRpYWxSZWw6ITB9fTtjbGFzcyBDe2NvbnN0cnVjdG9yKCl7dGhpcy5fcXVlcnlFbmdpbmU9bnVsbCx0aGlzLl9zbmFwc2hvdEZlYXR1cmVzPWFzeW5jIGU9Pntjb25zdCB0PWF3YWl0IHRoaXMuX2ZldGNoKGUpO3JldHVybiB0aGlzLl9jcmVhdGVGZWF0dXJlcyh0KX19ZGVzdHJveSgpe3RoaXMuX3F1ZXJ5RW5naW5lPy5kZXN0cm95KCksdGhpcy5fcXVlcnlFbmdpbmU9dGhpcy5fZmllbGRzSW5kZXg9dGhpcy5fY3JlYXRlRGVmYXVsdEF0dHJpYnV0ZXM9bnVsbH1hc3luYyBsb2FkKGUsdD17fSl7dGhpcy5fbG9hZE9wdGlvbnM9e3VybDplLnVybCxjdXN0b21QYXJhbWV0ZXJzOmUuY3VzdG9tUGFyYW1ldGVyc307Y29uc3QgaT1bXTthd2FpdCB0aGlzLl9jaGVja1Byb2plY3Rpb24oZS5zcGF0aWFsUmVmZXJlbmNlKTtsZXQgcj1udWxsO2UudXJsJiYocj1hd2FpdCB0aGlzLl9mZXRjaCh0Py5zaWduYWwpKTtjb25zdCBuPWcocix7Z2VvbWV0cnlUeXBlOmUuZ2VvbWV0cnlUeXBlfSksbz1lLmZpZWxkc3x8bi5maWVsZHN8fFtdLGw9bnVsbCE9ZS5oYXNaP2UuaGFzWjpuLmhhc1osdT1uLmdlb21ldHJ5VHlwZTtsZXQgZD1lLm9iamVjdElkRmllbGR8fG4ub2JqZWN0SWRGaWVsZE5hbWV8fFwiX19PQkpFQ1RJRFwiO2NvbnN0IHA9ZS5zcGF0aWFsUmVmZXJlbmNlfHxhO2xldCBjPWUudGltZUluZm87bz09PW4uZmllbGRzJiZuLnVua25vd25GaWVsZHMubGVuZ3RoPjAmJmkucHVzaCh7bmFtZTpcImdlb2pzb24tbGF5ZXI6dW5rbm93bi1maWVsZC10eXBlc1wiLG1lc3NhZ2U6XCJTb21lIGZpZWxkcyB0eXBlcyBjb3VsZG4ndCBiZSBpbmZlcnJlZCBmcm9tIHRoZSBmZWF0dXJlcyBhbmQgd2VyZSBkcm9wcGVkXCIsZGV0YWlsczp7dW5rbm93bkZpZWxkczpuLnVua25vd25GaWVsZHN9fSk7bGV0IHk9bmV3IFMobykuZ2V0KGQpO3k/KFwiZXNyaUZpZWxkVHlwZVN0cmluZ1wiIT09eS50eXBlJiYoeS50eXBlPVwiZXNyaUZpZWxkVHlwZU9JRFwiKSx5LmVkaXRhYmxlPSExLHkubnVsbGFibGU9ITEsZD15Lm5hbWUpOih5PXthbGlhczpkLG5hbWU6ZCx0eXBlOlwic3RyaW5nXCI9PT1uLm9iamVjdElkRmllbGRUeXBlP1wiZXNyaUZpZWxkVHlwZVN0cmluZ1wiOlwiZXNyaUZpZWxkVHlwZU9JRFwiLGVkaXRhYmxlOiExLG51bGxhYmxlOiExfSxvLnVuc2hpZnQoeSkpO2NvbnN0IG09e307Zm9yKGNvbnN0IGEgb2Ygbyl7aWYobnVsbD09YS5uYW1lJiYoYS5uYW1lPWEuYWxpYXMpLG51bGw9PWEuYWxpYXMmJihhLmFsaWFzPWEubmFtZSksIWEubmFtZSl0aHJvdyBuZXcgcyhcImdlb2pzb24tbGF5ZXI6aW52YWxpZC1maWVsZC1uYW1lXCIsXCJmaWVsZCBuYW1lIGlzIG1pc3NpbmdcIix7ZmllbGQ6YX0pO2lmKCFSLmpzb25WYWx1ZXMuaW5jbHVkZXMoYS50eXBlKSl0aHJvdyBuZXcgcyhcImdlb2pzb24tbGF5ZXI6aW52YWxpZC1maWVsZC10eXBlXCIsYGludmFsaWQgdHlwZSBmb3IgZmllbGQgXCIke2EubmFtZX1cImAse2ZpZWxkOmF9KTtpZihhLm5hbWUhPT15Lm5hbWUpe2NvbnN0IGU9ayhhKTt2b2lkIDAhPT1lJiYobVthLm5hbWVdPWUpfX10aGlzLl9maWVsZHNJbmRleD1uZXcgUyhvKTtjb25zdCBfPXRoaXMuX2ZpZWxkc0luZGV4LnJlcXVpcmVkRmllbGRzLmluZGV4T2YoeSk7aWYoXz4tMSYmdGhpcy5fZmllbGRzSW5kZXgucmVxdWlyZWRGaWVsZHMuc3BsaWNlKF8sMSksYyl7aWYoYy5zdGFydFRpbWVGaWVsZCl7Y29uc3QgZT10aGlzLl9maWVsZHNJbmRleC5nZXQoYy5zdGFydFRpbWVGaWVsZCk7ZT8oYy5zdGFydFRpbWVGaWVsZD1lLm5hbWUsZS50eXBlPVwiZXNyaUZpZWxkVHlwZURhdGVcIik6Yy5zdGFydFRpbWVGaWVsZD1udWxsfWlmKGMuZW5kVGltZUZpZWxkKXtjb25zdCBlPXRoaXMuX2ZpZWxkc0luZGV4LmdldChjLmVuZFRpbWVGaWVsZCk7ZT8oYy5lbmRUaW1lRmllbGQ9ZS5uYW1lLGUudHlwZT1cImVzcmlGaWVsZFR5cGVEYXRlXCIpOmMuZW5kVGltZUZpZWxkPW51bGx9aWYoYy50cmFja0lkRmllbGQpe2NvbnN0IGU9dGhpcy5fZmllbGRzSW5kZXguZ2V0KGMudHJhY2tJZEZpZWxkKTtlP2MudHJhY2tJZEZpZWxkPWUubmFtZTooYy50cmFja0lkRmllbGQ9bnVsbCxpLnB1c2goe25hbWU6XCJnZW9qc29uLWxheWVyOmludmFsaWQtdGltZUluZm8tdHJhY2tJZEZpZWxkXCIsbWVzc2FnZTpcInRyYWNrSWRGaWVsZCBpcyBtaXNzaW5nXCIsZGV0YWlsczp7dGltZUluZm86Y319KSl9Yy5zdGFydFRpbWVGaWVsZHx8Yy5lbmRUaW1lRmllbGR8fChpLnB1c2goe25hbWU6XCJnZW9qc29uLWxheWVyOmludmFsaWQtdGltZUluZm9cIixtZXNzYWdlOlwic3RhcnRUaW1lRmllbGQgYW5kIGVuZFRpbWVGaWVsZCBhcmUgbWlzc2luZ1wiLGRldGFpbHM6e3RpbWVJbmZvOmN9fSksYz1udWxsKX1jb25zdCBJPXU/aih1KTp2b2lkIDAsYj17d2FybmluZ3M6aSxmZWF0dXJlRXJyb3JzOltdLGxheWVyRGVmaW5pdGlvbjp7Li4uTyxkcmF3aW5nSW5mbzpJPz92b2lkIDAsdGVtcGxhdGVzOkYobSksZXh0ZW50OnZvaWQgMCxnZW9tZXRyeVR5cGU6dSxvYmplY3RJZEZpZWxkOmQsZmllbGRzOm8saGFzWjohIWwsdGltZUluZm86Y319O3RoaXMuX3F1ZXJ5RW5naW5lPW5ldyBmKHtmaWVsZHM6byxnZW9tZXRyeVR5cGU6dSxoYXNNOiExLGhhc1o6bCxvYmplY3RJZEZpZWxkOmQsc3BhdGlhbFJlZmVyZW5jZTpwLHRpbWVJbmZvOmMsZmVhdHVyZVN0b3JlOm5ldyBoKHtnZW9tZXRyeVR5cGU6dSxoYXNNOiExLGhhc1o6bH0pLGNhY2hlU3BhdGlhbFF1ZXJpZXM6ITB9KSx0aGlzLl9jcmVhdGVEZWZhdWx0QXR0cmlidXRlcz1FKG0sZCk7Y29uc3Qgdz1hd2FpdCB0aGlzLl9jcmVhdGVGZWF0dXJlcyhyKTt0aGlzLl9vYmplY3RJZEdlbmVyYXRvcj10aGlzLl9jcmVhdGVPYmplY3RJZEdlbmVyYXRvcih0aGlzLl9xdWVyeUVuZ2luZSx3KTtjb25zdCBUPXRoaXMuX25vcm1hbGl6ZUZlYXR1cmVzKHcsYi53YXJuaW5ncyxiLmZlYXR1cmVFcnJvcnMpO3RoaXMuX3F1ZXJ5RW5naW5lLmZlYXR1cmVTdG9yZS5hZGRNYW55KFQpO2NvbnN0e2Z1bGxFeHRlbnQ6eCx0aW1lRXh0ZW50OnF9PWF3YWl0IHRoaXMuX3F1ZXJ5RW5naW5lLmZldGNoUmVjb21wdXRlZEV4dGVudHMoKTtpZihiLmxheWVyRGVmaW5pdGlvbi5leHRlbnQ9eCxxKXtjb25zdHtzdGFydDplLGVuZDp0fT1xO2IubGF5ZXJEZWZpbml0aW9uLnRpbWVJbmZvLnRpbWVFeHRlbnQ9W2UsdF19cmV0dXJuIGJ9YXN5bmMgYXBwbHlFZGl0cyhlKXtjb25zdHtzcGF0aWFsUmVmZXJlbmNlOnQsZ2VvbWV0cnlUeXBlOnN9PXRoaXMuX3F1ZXJ5RW5naW5lO3JldHVybiBhd2FpdCBQcm9taXNlLmFsbChbYih0LHMpLHkoZS5hZGRzLHQpLHkoZS51cGRhdGVzLHQpXSksYXdhaXQgdGhpcy5fd2FpdFNuYXBzaG90Q29tcGxldGUoKSx0aGlzLl9hcHBseUVkaXRzKGUpfWFzeW5jIHF1ZXJ5RmVhdHVyZXMoZT17fSx0PXt9KXtyZXR1cm4gYXdhaXQgdGhpcy5fd2FpdFNuYXBzaG90Q29tcGxldGUoKSx0aGlzLl9xdWVyeUVuZ2luZS5leGVjdXRlUXVlcnkoZSx0LnNpZ25hbCl9YXN5bmMgcXVlcnlGZWF0dXJlQ291bnQoZT17fSx0PXt9KXtyZXR1cm4gYXdhaXQgdGhpcy5fd2FpdFNuYXBzaG90Q29tcGxldGUoKSx0aGlzLl9xdWVyeUVuZ2luZS5leGVjdXRlUXVlcnlGb3JDb3VudChlLHQuc2lnbmFsKX1hc3luYyBxdWVyeU9iamVjdElkcyhlPXt9LHQ9e30pe3JldHVybiBhd2FpdCB0aGlzLl93YWl0U25hcHNob3RDb21wbGV0ZSgpLHRoaXMuX3F1ZXJ5RW5naW5lLmV4ZWN1dGVRdWVyeUZvcklkcyhlLHQuc2lnbmFsKX1hc3luYyBxdWVyeUV4dGVudChlPXt9LHQ9e30pe3JldHVybiBhd2FpdCB0aGlzLl93YWl0U25hcHNob3RDb21wbGV0ZSgpLHRoaXMuX3F1ZXJ5RW5naW5lLmV4ZWN1dGVRdWVyeUZvckV4dGVudChlLHQuc2lnbmFsKX1hc3luYyBxdWVyeVNuYXBwaW5nKGUsdD17fSl7cmV0dXJuIGF3YWl0IHRoaXMuX3dhaXRTbmFwc2hvdENvbXBsZXRlKCksdGhpcy5fcXVlcnlFbmdpbmUuZXhlY3V0ZVF1ZXJ5Rm9yU25hcHBpbmcoZSx0LnNpZ25hbCl9YXN5bmMgcmVmcmVzaChlKXt0aGlzLl9sb2FkT3B0aW9ucy5jdXN0b21QYXJhbWV0ZXJzPWUsdGhpcy5fc25hcHNob3RUYXNrPy5hYm9ydCgpLHRoaXMuX3NuYXBzaG90VGFzaz10KHRoaXMuX3NuYXBzaG90RmVhdHVyZXMpLHRoaXMuX3NuYXBzaG90VGFzay5wcm9taXNlLnRoZW4oKGU9Pnt0aGlzLl9xdWVyeUVuZ2luZS5mZWF0dXJlU3RvcmUuY2xlYXIoKSx0aGlzLl9vYmplY3RJZEdlbmVyYXRvcj10aGlzLl9jcmVhdGVPYmplY3RJZEdlbmVyYXRvcih0aGlzLl9xdWVyeUVuZ2luZSxlKTtjb25zdCB0PXRoaXMuX25vcm1hbGl6ZUZlYXR1cmVzKGUpO3QmJnRoaXMuX3F1ZXJ5RW5naW5lLmZlYXR1cmVTdG9yZS5hZGRNYW55KHQpfSksKGU9Pnt0aGlzLl9xdWVyeUVuZ2luZS5mZWF0dXJlU3RvcmUuY2xlYXIoKSxyKGUpfHxpLmdldExvZ2dlcihcImVzcmkubGF5ZXJzLkdlb0pTT05MYXllclwiKS5lcnJvcihuZXcgcyhcImdlb2pzb24tbGF5ZXI6cmVmcmVzaFwiLFwiQW4gZXJyb3Igb2NjdXJyZWQgZHVyaW5nIHJlZnJlc2hcIix7ZXJyb3I6ZX0pKX0pKSxhd2FpdCB0aGlzLl93YWl0U25hcHNob3RDb21wbGV0ZSgpO2NvbnN0e2Z1bGxFeHRlbnQ6bix0aW1lRXh0ZW50OmF9PWF3YWl0IHRoaXMuX3F1ZXJ5RW5naW5lLmZldGNoUmVjb21wdXRlZEV4dGVudHMoKTtyZXR1cm57ZXh0ZW50Om4sdGltZUV4dGVudDphfX1hc3luYyBfY3JlYXRlRmVhdHVyZXMoZSl7aWYobnVsbD09ZSlyZXR1cm5bXTtjb25zdHtnZW9tZXRyeVR5cGU6dCxoYXNaOnMsb2JqZWN0SWRGaWVsZDppfT10aGlzLl9xdWVyeUVuZ2luZSxyPV8oZSx7Z2VvbWV0cnlUeXBlOnQsaGFzWjpzLG9iamVjdElkRmllbGQ6aX0pO2lmKCFvKHRoaXMuX3F1ZXJ5RW5naW5lLnNwYXRpYWxSZWZlcmVuY2UsYSkpZm9yKGNvbnN0IG4gb2YgciludWxsIT1uLmdlb21ldHJ5JiYobi5nZW9tZXRyeT1sKG0odShuLmdlb21ldHJ5LHRoaXMuX3F1ZXJ5RW5naW5lLmdlb21ldHJ5VHlwZSx0aGlzLl9xdWVyeUVuZ2luZS5oYXNaLCExKSxhLHRoaXMuX3F1ZXJ5RW5naW5lLnNwYXRpYWxSZWZlcmVuY2UpKSk7cmV0dXJuIHJ9YXN5bmMgX3dhaXRTbmFwc2hvdENvbXBsZXRlKCl7aWYodGhpcy5fc25hcHNob3RUYXNrJiYhdGhpcy5fc25hcHNob3RUYXNrLmZpbmlzaGVkKXt0cnl7YXdhaXQgdGhpcy5fc25hcHNob3RUYXNrLnByb21pc2V9Y2F0Y2h7fXJldHVybiB0aGlzLl93YWl0U25hcHNob3RDb21wbGV0ZSgpfX1hc3luYyBfZmV0Y2godCl7Y29uc3R7dXJsOnMsY3VzdG9tUGFyYW1ldGVyczppfT10aGlzLl9sb2FkT3B0aW9ucyxyPShhd2FpdCBlKHMse3Jlc3BvbnNlVHlwZTpcImpzb25cIixxdWVyeTp7Li4uaX0sc2lnbmFsOnR9KSkuZGF0YTtyZXR1cm4gYXdhaXQgSShyKSxyfV9ub3JtYWxpemVGZWF0dXJlcyhlLHQscyl7Y29uc3R7b2JqZWN0SWRGaWVsZDppfT10aGlzLl9xdWVyeUVuZ2luZSxyPVtdO2Zvcihjb25zdCBuIG9mIGUpe2NvbnN0IGU9dGhpcy5fY3JlYXRlRGVmYXVsdEF0dHJpYnV0ZXMoKSxhPXcodGhpcy5fZmllbGRzSW5kZXgsZSxuLmF0dHJpYnV0ZXMsITAsdCk7YT9zPy5wdXNoKGEpOih0aGlzLl9hc3NpZ25PYmplY3RJZChlLG4uYXR0cmlidXRlcywhMCksbi5hdHRyaWJ1dGVzPWUsbi5vYmplY3RJZD1lW2ldLHIucHVzaChuKSl9cmV0dXJuIHJ9YXN5bmMgX2FwcGx5RWRpdHMoZSl7Y29uc3R7YWRkczp0LHVwZGF0ZXM6cyxkZWxldGVzOml9PWUscj17YWRkUmVzdWx0czpbXSxkZWxldGVSZXN1bHRzOltdLHVwZGF0ZVJlc3VsdHM6W10sdWlkVG9PYmplY3RJZDp7fX07aWYodCYmdC5sZW5ndGgmJnRoaXMuX2FwcGx5QWRkRWRpdHMocix0KSxzJiZzLmxlbmd0aCYmdGhpcy5fYXBwbHlVcGRhdGVFZGl0cyhyLHMpLGkmJmkubGVuZ3RoKXtmb3IoY29uc3QgZSBvZiBpKXIuZGVsZXRlUmVzdWx0cy5wdXNoKFQoZSkpO3RoaXMuX3F1ZXJ5RW5naW5lLmZlYXR1cmVTdG9yZS5yZW1vdmVNYW55QnlJZChpKX1jb25zdHtmdWxsRXh0ZW50Om4sdGltZUV4dGVudDphfT1hd2FpdCB0aGlzLl9xdWVyeUVuZ2luZS5mZXRjaFJlY29tcHV0ZWRFeHRlbnRzKCk7cmV0dXJue2V4dGVudDpuLHRpbWVFeHRlbnQ6YSxmZWF0dXJlRWRpdFJlc3VsdHM6cn19X2FwcGx5QWRkRWRpdHMoZSx0KXtjb25zdHthZGRSZXN1bHRzOnN9PWUse2dlb21ldHJ5VHlwZTppLGhhc006cixoYXNaOmEsb2JqZWN0SWRGaWVsZDpvLHNwYXRpYWxSZWZlcmVuY2U6bCxmZWF0dXJlU3RvcmU6dX09dGhpcy5fcXVlcnlFbmdpbmUscD1bXTtmb3IoY29uc3QgZCBvZiB0KXtpZihkLmdlb21ldHJ5JiZpIT09bihkLmdlb21ldHJ5KSl7cy5wdXNoKHgoXCJJbmNvcnJlY3QgZ2VvbWV0cnkgdHlwZS5cIikpO2NvbnRpbnVlfWNvbnN0IHQ9dGhpcy5fY3JlYXRlRGVmYXVsdEF0dHJpYnV0ZXMoKSxyPXcodGhpcy5fZmllbGRzSW5kZXgsdCxkLmF0dHJpYnV0ZXMpO2lmKHIpcy5wdXNoKHIpO2Vsc2V7aWYodGhpcy5fYXNzaWduT2JqZWN0SWQodCxkLmF0dHJpYnV0ZXMpLGQuYXR0cmlidXRlcz10LG51bGwhPWQudWlkKXtjb25zdCB0PWQuYXR0cmlidXRlc1tvXTtlLnVpZFRvT2JqZWN0SWRbZC51aWRdPXR9aWYobnVsbCE9ZC5nZW9tZXRyeSl7Y29uc3QgZT1kLmdlb21ldHJ5LnNwYXRpYWxSZWZlcmVuY2U/P2w7ZC5nZW9tZXRyeT1tKHEoZC5nZW9tZXRyeSxlKSxlLGwpfXAucHVzaChkKSxzLnB1c2goVChkLmF0dHJpYnV0ZXNbb10pKX19dS5hZGRNYW55KGQoW10scCxpLGEscixvKSl9X2FwcGx5VXBkYXRlRWRpdHMoe3VwZGF0ZVJlc3VsdHM6ZX0sdCl7Y29uc3R7Z2VvbWV0cnlUeXBlOnMsaGFzTTppLGhhc1o6cixvYmplY3RJZEZpZWxkOmEsc3BhdGlhbFJlZmVyZW5jZTpvLGZlYXR1cmVTdG9yZTpsfT10aGlzLl9xdWVyeUVuZ2luZTtmb3IoY29uc3QgdSBvZiB0KXtjb25zdHthdHRyaWJ1dGVzOnQsZ2VvbWV0cnk6ZH09dSxoPXQmJnRbYV07aWYobnVsbD09aCl7ZS5wdXNoKHgoYElkZW50aWZpZXIgZmllbGQgJHthfSBtaXNzaW5nYCkpO2NvbnRpbnVlfWlmKCFsLmhhcyhoKSl7ZS5wdXNoKHgoYEZlYXR1cmUgd2l0aCBvYmplY3QgaWQgJHtofSBtaXNzaW5nYCkpO2NvbnRpbnVlfWNvbnN0IHk9cChsLmdldEZlYXR1cmUoaCkscyxyLGkpO2lmKG51bGwhPWQpe2lmKHMhPT1uKGQpKXtlLnB1c2goeChcIkluY29ycmVjdCBnZW9tZXRyeSB0eXBlLlwiKSk7Y29udGludWV9Y29uc3QgdD1kLnNwYXRpYWxSZWZlcmVuY2U/P287eS5nZW9tZXRyeT1tKHEoZCx0KSx0LG8pfWlmKHQpe2NvbnN0IHM9dyh0aGlzLl9maWVsZHNJbmRleCx5LmF0dHJpYnV0ZXMsdCk7aWYocyl7ZS5wdXNoKHMpO2NvbnRpbnVlfX1sLmFkZChjKHkscyxyLGksYSkpLGUucHVzaChUKGgpKX19X2NyZWF0ZU9iamVjdElkR2VuZXJhdG9yKGUsdCl7Y29uc3Qgcz1lLmZpZWxkc0luZGV4LmdldChlLm9iamVjdElkRmllbGQpO2lmKFwiZXNyaUZpZWxkVHlwZVN0cmluZ1wiPT09cy50eXBlKXJldHVybigpPT5zLm5hbWUrXCItXCIrRGF0ZS5ub3coKS50b1N0cmluZygxNik7bGV0IGk9TnVtYmVyLk5FR0FUSVZFX0lORklOSVRZO2Zvcihjb25zdCByIG9mIHQpci5vYmplY3RJZCYmKGk9TWF0aC5tYXgoaSxyLm9iamVjdElkKSk7cmV0dXJuIGk9TWF0aC5tYXgoMCxpKSsxLCgpPT5pKyt9X2Fzc2lnbk9iamVjdElkKGUsdCxzPSExKXtjb25zdCBpPXRoaXMuX3F1ZXJ5RW5naW5lLm9iamVjdElkRmllbGQ7ZVtpXT1zJiZpIGluIHQ/dFtpXTp0aGlzLl9vYmplY3RJZEdlbmVyYXRvcigpfWFzeW5jIF9jaGVja1Byb2plY3Rpb24oZSl7dHJ5e2F3YWl0IHkoYSxlKX1jYXRjaHt0aHJvdyBuZXcgcyhcImdlb2pzb24tbGF5ZXJcIixcIlByb2plY3Rpb24gbm90IHN1cHBvcnRlZFwiKX19fWV4cG9ydHtDIGFzIGRlZmF1bHR9O1xuIiwiLypcbkFsbCBtYXRlcmlhbCBjb3B5cmlnaHQgRVNSSSwgQWxsIFJpZ2h0cyBSZXNlcnZlZCwgdW5sZXNzIG90aGVyd2lzZSBzcGVjaWZpZWQuXG5TZWUgaHR0cHM6Ly9qcy5hcmNnaXMuY29tLzQuMjcvZXNyaS9jb3B5cmlnaHQudHh0IGZvciBkZXRhaWxzLlxuKi9cbmltcG9ydCBlIGZyb21cIi4uLy4uLy4uLy4uL2NvcmUvRXJyb3IuanNcIjtpbXBvcnR7T3B0aW1pemVkRmVhdHVyZSBhcyB0fWZyb21cIi4uLy4uL09wdGltaXplZEZlYXR1cmUuanNcIjtpbXBvcnQgbiBmcm9tXCIuLi8uLi9PcHRpbWl6ZWRHZW9tZXRyeS5qc1wiO2ltcG9ydHtub3JtYWxpemVGaWVsZE5hbWUgYXMgbyxpc051bWVyaWNGaWVsZCBhcyByfWZyb21cIi4uLy4uLy4uL3N1cHBvcnQvZmllbGRVdGlscy5qc1wiO2NvbnN0IGk9e0xpbmVTdHJpbmc6XCJlc3JpR2VvbWV0cnlQb2x5bGluZVwiLE11bHRpTGluZVN0cmluZzpcImVzcmlHZW9tZXRyeVBvbHlsaW5lXCIsTXVsdGlQb2ludDpcImVzcmlHZW9tZXRyeU11bHRpcG9pbnRcIixQb2ludDpcImVzcmlHZW9tZXRyeVBvaW50XCIsUG9seWdvbjpcImVzcmlHZW9tZXRyeVBvbHlnb25cIixNdWx0aVBvbHlnb246XCJlc3JpR2VvbWV0cnlQb2x5Z29uXCJ9O2Z1bmN0aW9uIHMoZSl7cmV0dXJuIGlbZV19ZnVuY3Rpb24qYyhlKXtzd2l0Y2goZS50eXBlKXtjYXNlXCJGZWF0dXJlXCI6eWllbGQgZTticmVhaztjYXNlXCJGZWF0dXJlQ29sbGVjdGlvblwiOmZvcihjb25zdCB0IG9mIGUuZmVhdHVyZXMpdCYmKHlpZWxkIHQpfX1mdW5jdGlvbip1KGUpe2lmKGUpc3dpdGNoKGUudHlwZSl7Y2FzZVwiUG9pbnRcIjp5aWVsZCBlLmNvb3JkaW5hdGVzO2JyZWFrO2Nhc2VcIkxpbmVTdHJpbmdcIjpjYXNlXCJNdWx0aVBvaW50XCI6eWllbGQqZS5jb29yZGluYXRlczticmVhaztjYXNlXCJNdWx0aUxpbmVTdHJpbmdcIjpjYXNlXCJQb2x5Z29uXCI6Zm9yKGNvbnN0IHQgb2YgZS5jb29yZGluYXRlcyl5aWVsZCp0O2JyZWFrO2Nhc2VcIk11bHRpUG9seWdvblwiOmZvcihjb25zdCB0IG9mIGUuY29vcmRpbmF0ZXMpZm9yKGNvbnN0IGUgb2YgdCl5aWVsZCplfX1mdW5jdGlvbipsKGUsbz17fSl7Y29uc3R7Z2VvbWV0cnlUeXBlOnIsb2JqZWN0SWRGaWVsZDppfT1vO2Zvcihjb25zdCBjIG9mIGUpe2NvbnN0e2dlb21ldHJ5OmUscHJvcGVydGllczp1LGlkOmx9PWM7aWYoZSYmcyhlLnR5cGUpIT09ciljb250aW51ZTtjb25zdCBmPXV8fHt9O2xldCBhO2kmJihhPWZbaV0sbnVsbD09bHx8YXx8KGZbaV09YT1sKSk7Y29uc3QgeT1uZXcgdChlP2cobmV3IG4sZSxvKTpudWxsLGYsbnVsbCxhPz92b2lkIDApO3lpZWxkIHl9fWZ1bmN0aW9uIGYoZSl7Zm9yKGNvbnN0IHQgb2YgZSlpZih0Lmxlbmd0aD4yKXJldHVybiEwO3JldHVybiExfWZ1bmN0aW9uIGEoZSl7cmV0dXJuIXAoZSl9ZnVuY3Rpb24geShlKXtyZXR1cm4gcChlKX1mdW5jdGlvbiBwKGUpe2xldCB0PTA7Zm9yKGxldCBuPTA7bjxlLmxlbmd0aDtuKyspe2NvbnN0IG89ZVtuXSxyPWVbKG4rMSklZS5sZW5ndGhdO3QrPW9bMF0qclsxXS1yWzBdKm9bMV19cmV0dXJuIHQ8PTB9ZnVuY3Rpb24gZChlKXtjb25zdCB0PWVbMF0sbj1lW2UubGVuZ3RoLTFdO3JldHVybiB0WzBdPT09blswXSYmdFsxXT09PW5bMV0mJnRbMl09PT1uWzJdfHxlLnB1c2godCksZX1mdW5jdGlvbiBnKGUsdCxuKXtzd2l0Y2godC50eXBlKXtjYXNlXCJMaW5lU3RyaW5nXCI6cmV0dXJuIG0oZSx0LG4pO2Nhc2VcIk11bHRpTGluZVN0cmluZ1wiOnJldHVybiBoKGUsdCxuKTtjYXNlXCJNdWx0aVBvaW50XCI6cmV0dXJuIHcoZSx0LG4pO2Nhc2VcIk11bHRpUG9seWdvblwiOnJldHVybiBQKGUsdCxuKTtjYXNlXCJQb2ludFwiOnJldHVybiBiKGUsdCxuKTtjYXNlXCJQb2x5Z29uXCI6cmV0dXJuIGooZSx0LG4pfX1mdW5jdGlvbiBtKGUsdCxuKXtyZXR1cm4gRyhlLHQuY29vcmRpbmF0ZXMsbiksZX1mdW5jdGlvbiBoKGUsdCxuKXtmb3IoY29uc3QgbyBvZiB0LmNvb3JkaW5hdGVzKUcoZSxvLG4pO3JldHVybiBlfWZ1bmN0aW9uIHcoZSx0LG4pe3JldHVybiBHKGUsdC5jb29yZGluYXRlcyxuKSxlfWZ1bmN0aW9uIFAoZSx0LG4pe2Zvcihjb25zdCBvIG9mIHQuY29vcmRpbmF0ZXMpe1MoZSxvWzBdLG4pO2ZvcihsZXQgdD0xO3Q8by5sZW5ndGg7dCsrKUYoZSxvW3RdLG4pfXJldHVybiBlfWZ1bmN0aW9uIGIoZSx0LG4pe3JldHVybiBrKGUsdC5jb29yZGluYXRlcyxuKSxlfWZ1bmN0aW9uIGooZSx0LG4pe2NvbnN0IG89dC5jb29yZGluYXRlcztTKGUsb1swXSxuKTtmb3IobGV0IHI9MTtyPG8ubGVuZ3RoO3IrKylGKGUsb1tyXSxuKTtyZXR1cm4gZX1mdW5jdGlvbiBTKGUsdCxuKXtjb25zdCBvPWQodCk7YShvKT9NKGUsbyxuKTpHKGUsbyxuKX1mdW5jdGlvbiBGKGUsdCxuKXtjb25zdCBvPWQodCk7eShvKT9NKGUsbyxuKTpHKGUsbyxuKX1mdW5jdGlvbiBHKGUsdCxuKXtmb3IoY29uc3QgbyBvZiB0KWsoZSxvLG4pO2UubGVuZ3Rocy5wdXNoKHQubGVuZ3RoKX1mdW5jdGlvbiBNKGUsdCxuKXtmb3IobGV0IG89dC5sZW5ndGgtMTtvPj0wO28tLSlrKGUsdFtvXSxuKTtlLmxlbmd0aHMucHVzaCh0Lmxlbmd0aCl9ZnVuY3Rpb24gayhlLHQsbil7Y29uc3RbbyxyLGldPXQ7ZS5jb29yZHMucHVzaChvLHIpLG4uaGFzWiYmZS5jb29yZHMucHVzaChpfHwwKX1mdW5jdGlvbiBPKGUpe3N3aXRjaCh0eXBlb2YgZSl7Y2FzZVwic3RyaW5nXCI6cmV0dXJuXCJlc3JpRmllbGRUeXBlU3RyaW5nXCI7Y2FzZVwibnVtYmVyXCI6cmV0dXJuXCJlc3JpRmllbGRUeXBlRG91YmxlXCI7ZGVmYXVsdDpyZXR1cm5cInVua25vd25cIn19ZnVuY3Rpb24gVCh0KXtpZighdCl0aHJvdyBuZXcgZShcImdlb2pzb24tbGF5ZXI6ZW1wdHlcIixcIkdlb0pTT04gZGF0YSBpcyBlbXB0eVwiKTtpZihcIkZlYXR1cmVcIiE9PXQudHlwZSYmXCJGZWF0dXJlQ29sbGVjdGlvblwiIT09dC50eXBlKXRocm93IG5ldyBlKFwiZ2VvanNvbi1sYXllcjp1bnN1cHBvcnRlZC1nZW9qc29uLW9iamVjdFwiLFwibWlzc2luZyBvciBub3Qgc3VwcG9ydGVkIEdlb0pTT04gb2JqZWN0IHR5cGVcIix7ZGF0YTp0fSk7Y29uc3R7Y3JzOm59PXQ7aWYoIW4pcmV0dXJuO2NvbnN0IG89XCJzdHJpbmdcIj09dHlwZW9mIG4/bjpcIm5hbWVcIj09PW4udHlwZT9uLnByb3BlcnRpZXMubmFtZTpcIkVQU0dcIj09PW4udHlwZT9uLnByb3BlcnRpZXMuY29kZTpudWxsLHI9bmV3IFJlZ0V4cChcIi4qKENSUzg0SD98NDMyNikkXCIsXCJpXCIpO2lmKCFvfHwhci50ZXN0KG8pKXRocm93IG5ldyBlKFwiZ2VvanNvbi1sYXllcjp1bnN1cHBvcnRlZC1jcnNcIixcInVuc3VwcG9ydGVkIEdlb0pTT04gJ2NycycgbWVtYmVyXCIse2NyczpufSl9ZnVuY3Rpb24gTChlLHQ9e30pe2NvbnN0IG49W10saT1uZXcgU2V0LGw9bmV3IFNldDtsZXQgYSx5PSExLHA9bnVsbCxkPSExLHtnZW9tZXRyeVR5cGU6Zz1udWxsfT10LG09ITE7Zm9yKGNvbnN0IHIgb2YgYyhlKSl7Y29uc3R7Z2VvbWV0cnk6ZSxwcm9wZXJ0aWVzOnQsaWQ6Y309cjtpZighZXx8KGd8fChnPXMoZS50eXBlKSkscyhlLnR5cGUpPT09Zykpe2lmKCF5KXt5PWYodShlKSl9aWYoZHx8KGQ9bnVsbCE9YyxkJiYoYT10eXBlb2YgYyx0JiYocD1PYmplY3Qua2V5cyh0KS5maWx0ZXIoKGU9PnRbZV09PT1jKSkpKSksdCYmcCYmZCYmbnVsbCE9YyYmKHAubGVuZ3RoPjE/cD1wLmZpbHRlcigoZT0+dFtlXT09PWMpKToxPT09cC5sZW5ndGgmJihwPXRbcFswXV09PT1jP3A6W10pKSwhbSYmdCl7bGV0IGU9ITA7Zm9yKGNvbnN0IHIgaW4gdCl7aWYoaS5oYXMocikpY29udGludWU7Y29uc3Qgcz10W3JdO2lmKG51bGw9PXMpe2U9ITEsbC5hZGQocik7Y29udGludWV9Y29uc3QgYz1PKHMpO2lmKFwidW5rbm93blwiPT09Yyl7bC5hZGQocik7Y29udGludWV9bC5kZWxldGUociksaS5hZGQocik7Y29uc3QgdT1vKHIpO3UmJm4ucHVzaCh7bmFtZTp1LGFsaWFzOnIsdHlwZTpjfSl9bT1lfX19Y29uc3QgaD1vKDE9PT1wPy5sZW5ndGgmJnBbMF18fG51bGwpPz92b2lkIDA7aWYoaClmb3IoY29uc3QgbyBvZiBuKWlmKG8ubmFtZT09PWgmJnIobykpe28udHlwZT1cImVzcmlGaWVsZFR5cGVPSURcIjticmVha31yZXR1cm57ZmllbGRzOm4sZ2VvbWV0cnlUeXBlOmcsaGFzWjp5LG9iamVjdElkRmllbGROYW1lOmgsb2JqZWN0SWRGaWVsZFR5cGU6YSx1bmtub3duRmllbGRzOkFycmF5LmZyb20obCl9fWZ1bmN0aW9uIEkoZSx0KXtyZXR1cm4gQXJyYXkuZnJvbShsKGMoZSksdCkpfWV4cG9ydHtJIGFzIGNyZWF0ZU9wdGltaXplZEZlYXR1cmVzLHMgYXMgZ2V0R2VvbWV0cnlUeXBlLEwgYXMgaW5mZXJMYXllclByb3BlcnRpZXMsVCBhcyB2YWxpZGF0ZUdlb0pTT059O1xuIiwiLypcbkFsbCBtYXRlcmlhbCBjb3B5cmlnaHQgRVNSSSwgQWxsIFJpZ2h0cyBSZXNlcnZlZCwgdW5sZXNzIG90aGVyd2lzZSBzcGVjaWZpZWQuXG5TZWUgaHR0cHM6Ly9qcy5hcmNnaXMuY29tLzQuMjcvZXNyaS9jb3B5cmlnaHQudHh0IGZvciBkZXRhaWxzLlxuKi9cbmltcG9ydCBoYXMgZnJvbVwiLi4vLi4vLi4vLi4vY29yZS9oYXMuanNcIjtpbXBvcnR7Y2xvbmUgYXMgdH1mcm9tXCIuLi8uLi8uLi8uLi9jb3JlL2xhbmcuanNcIjtpbXBvcnR7cXVlcnlDYXBhYmlsaXRpZXMgYXMgc31mcm9tXCIuLi8uLi9kYXRhL1F1ZXJ5RW5naW5lQ2FwYWJpbGl0aWVzLmpzXCI7aW1wb3J0e2RlZmF1bHRQb2ludFN5bWJvbEpTT04gYXMgcixkZWZhdWx0UG9seWxpbmVTeW1ib2xKU09OIGFzIGUsZGVmYXVsdFBvbHlnb25TeW1ib2xKU09OIGFzIHB9ZnJvbVwiLi4vLi4vLi4vLi4vc3ltYm9scy9zdXBwb3J0L2RlZmF1bHRzSlNPTi5qc1wiO2Z1bmN0aW9uIG8odCl7cmV0dXJue3JlbmRlcmVyOnt0eXBlOlwic2ltcGxlXCIsc3ltYm9sOlwiZXNyaUdlb21ldHJ5UG9pbnRcIj09PXR8fFwiZXNyaUdlb21ldHJ5TXVsdGlwb2ludFwiPT09dD9yOlwiZXNyaUdlb21ldHJ5UG9seWxpbmVcIj09PXQ/ZTpwfX19Y29uc3QgdT0vXltfJGEtekEtWl1bXyRhLXpBLVowLTldKiQvO2xldCBuPTE7ZnVuY3Rpb24gaSh0LHMpe2lmKGhhcyhcImVzcmktY3NwLXJlc3RyaWN0aW9uc1wiKSlyZXR1cm4oKT0+KHtbc106bnVsbCwuLi50fSk7dHJ5e2xldCByPWB0aGlzLiR7c30gPSBudWxsO2A7Zm9yKGNvbnN0IHMgaW4gdCl7cis9YHRoaXMke3UudGVzdChzKT9gLiR7c31gOmBbXCIke3N9XCJdYH0gPSAke0pTT04uc3RyaW5naWZ5KHRbc10pfTtgfWNvbnN0IGU9bmV3IEZ1bmN0aW9uKGBcXG4gICAgICByZXR1cm4gY2xhc3MgQXR0cmlidXRlc0NsYXNzJCR7bisrfSB7XFxuICAgICAgICBjb25zdHJ1Y3RvcigpIHtcXG4gICAgICAgICAgJHtyfTtcXG4gICAgICAgIH1cXG4gICAgICB9XFxuICAgIGApKCk7cmV0dXJuKCk9Pm5ldyBlfWNhdGNoKHIpe3JldHVybigpPT4oe1tzXTpudWxsLC4uLnR9KX19ZnVuY3Rpb24gYShzPXt9KXtyZXR1cm5be25hbWU6XCJOZXcgRmVhdHVyZVwiLGRlc2NyaXB0aW9uOlwiXCIscHJvdG90eXBlOnthdHRyaWJ1dGVzOnQocyl9fV19ZnVuY3Rpb24gYyh0LHIpe3JldHVybnthbmFseXRpY3M6e3N1cHBvcnRzQ2FjaGVIaW50OiExfSxhdHRhY2htZW50Om51bGwsZGF0YTp7aXNWZXJzaW9uZWQ6ITEsc3VwcG9ydHNBdHRhY2htZW50OiExLHN1cHBvcnRzTTohMSxzdXBwb3J0c1o6dH0sbWV0YWRhdGE6e3N1cHBvcnRzQWR2YW5jZWRGaWVsZFByb3BlcnRpZXM6ITF9LG9wZXJhdGlvbnM6e3N1cHBvcnRzQ2FsY3VsYXRlOiExLHN1cHBvcnRzVHJ1bmNhdGU6ITEsc3VwcG9ydHNWYWxpZGF0ZVNxbDohMSxzdXBwb3J0c0FkZDpyLHN1cHBvcnRzRGVsZXRlOnIsc3VwcG9ydHNFZGl0aW5nOnIsc3VwcG9ydHNDaGFuZ2VUcmFja2luZzohMSxzdXBwb3J0c1F1ZXJ5OiEwLHN1cHBvcnRzUXVlcnlBbmFseXRpY3M6ITEsc3VwcG9ydHNRdWVyeUF0dGFjaG1lbnRzOiExLHN1cHBvcnRzUXVlcnlUb3BGZWF0dXJlczohMSxzdXBwb3J0c1Jlc2l6ZUF0dGFjaG1lbnRzOiExLHN1cHBvcnRzU3luYzohMSxzdXBwb3J0c1VwZGF0ZTpyLHN1cHBvcnRzRXhjZWVkc0xpbWl0U3RhdGlzdGljczohMCxzdXBwb3J0c0FzeW5jQ29udmVydDNEOiExfSxxdWVyeTpzLHF1ZXJ5UmVsYXRlZDp7c3VwcG9ydHNDb3VudDohMCxzdXBwb3J0c09yZGVyQnk6ITAsc3VwcG9ydHNQYWdpbmF0aW9uOiEwLHN1cHBvcnRzQ2FjaGVIaW50OiExfSxxdWVyeVRvcEZlYXR1cmVzOntzdXBwb3J0c0NhY2hlSGludDohMX0sZWRpdGluZzp7c3VwcG9ydHNHZW9tZXRyeVVwZGF0ZTpyLHN1cHBvcnRzR2xvYmFsSWQ6ITEsc3VwcG9ydHNSZXR1cm5TZXJ2aWNlRWRpdHNJblNvdXJjZVNwYXRpYWxSZWZlcmVuY2U6ITEsc3VwcG9ydHNSb2xsYmFja09uRmFpbHVyZTohMSxzdXBwb3J0c1VwZGF0ZVdpdGhvdXRNOiExLHN1cHBvcnRzVXBsb2FkV2l0aEl0ZW1JZDohMSxzdXBwb3J0c0RlbGV0ZUJ5QW5vbnltb3VzOiExLHN1cHBvcnRzRGVsZXRlQnlPdGhlcnM6ITEsc3VwcG9ydHNVcGRhdGVCeUFub255bW91czohMSxzdXBwb3J0c1VwZGF0ZUJ5T3RoZXJzOiExLHN1cHBvcnRzQXN5bmNBcHBseUVkaXRzOiExfX19ZXhwb3J0e2MgYXMgY3JlYXRlQ2FwYWJpbGl0aWVzLGkgYXMgY3JlYXRlRGVmYXVsdEF0dHJpYnV0ZXNGdW5jdGlvbixhIGFzIGNyZWF0ZURlZmF1bHRUZW1wbGF0ZSxvIGFzIGNyZWF0ZURyYXdpbmdJbmZvfTtcbiIsIi8qXG5BbGwgbWF0ZXJpYWwgY29weXJpZ2h0IEVTUkksIEFsbCBSaWdodHMgUmVzZXJ2ZWQsIHVubGVzcyBvdGhlcndpc2Ugc3BlY2lmaWVkLlxuU2VlIGh0dHBzOi8vanMuYXJjZ2lzLmNvbS80LjI3L2VzcmkvY29weXJpZ2h0LnR4dCBmb3IgZGV0YWlscy5cbiovXG5pbXBvcnR7aXNWYWxpZCBhcyBlfWZyb21cIi4uLy4uLy4uLy4uL2dlb21ldHJ5L3N1cHBvcnQvc3BhdGlhbFJlZmVyZW5jZVV0aWxzLmpzXCI7aW1wb3J0e3ZhbGlkYXRlRmllbGRWYWx1ZSBhcyB0LHZhbGlkYXRpb25FcnJvclRvU3RyaW5nIGFzIG4saXNOdW1lcmljRmllbGQgYXMgaSxpc1N0cmluZ0ZpZWxkIGFzIHIsc2FuaXRpemVOdWxsRmllbGRWYWx1ZSBhcyBzfWZyb21cIi4uLy4uLy4uL3N1cHBvcnQvZmllbGRVdGlscy5qc1wiO2NsYXNzIG97Y29uc3RydWN0b3IoKXt0aGlzLmNvZGU9bnVsbCx0aGlzLmRlc2NyaXB0aW9uPW51bGx9fWNsYXNzIGx7Y29uc3RydWN0b3IoZSl7dGhpcy5lcnJvcj1uZXcgbyx0aGlzLmdsb2JhbElkPW51bGwsdGhpcy5vYmplY3RJZD1udWxsLHRoaXMuc3VjY2Vzcz0hMSx0aGlzLnVuaXF1ZUlkPW51bGwsdGhpcy5lcnJvci5kZXNjcmlwdGlvbj1lfX1mdW5jdGlvbiB1KGUpe3JldHVybiBuZXcgbChlKX1jbGFzcyBhe2NvbnN0cnVjdG9yKGUpe3RoaXMuZ2xvYmFsSWQ9bnVsbCx0aGlzLnN1Y2Nlc3M9ITAsdGhpcy5vYmplY3RJZD10aGlzLnVuaXF1ZUlkPWV9fWZ1bmN0aW9uIGMoZSl7cmV0dXJuIG5ldyBhKGUpfWNvbnN0IGY9bmV3IFNldDtmdW5jdGlvbiBkKGUsaSxyLHM9ITEsbyl7Zi5jbGVhcigpO2Zvcihjb25zdCBsIGluIHIpe2NvbnN0IGE9ZS5nZXQobCk7aWYoIWEpY29udGludWU7Y29uc3QgYz1yW2xdLGQ9bShhLGMpO2lmKGQhPT1jJiZvJiZvLnB1c2goe25hbWU6XCJpbnZhbGlkLXZhbHVlLXR5cGVcIixtZXNzYWdlOlwiYXR0cmlidXRlIHZhbHVlIHdhcyBjb252ZXJ0ZWQgdG8gbWF0Y2ggdGhlIGZpZWxkIHR5cGVcIixkZXRhaWxzOntmaWVsZDphLG9yaWdpbmFsVmFsdWU6YyxzYW5pdGl6ZWRWYWx1ZTpkfX0pLGYuYWRkKGEubmFtZSksYSYmKHN8fGEuZWRpdGFibGUpKXtjb25zdCBlPXQoYSxkKTtpZihlKXJldHVybiB1KG4oZSxhLGQpKTtpW2EubmFtZV09ZH19Zm9yKGNvbnN0IHQgb2YgZT8ucmVxdWlyZWRGaWVsZHM/P1tdKWlmKCFmLmhhcyh0Lm5hbWUpKXJldHVybiB1KGBtaXNzaW5nIHJlcXVpcmVkIGZpZWxkIFwiJHt0Lm5hbWV9XCJgKTtyZXR1cm4gbnVsbH1mdW5jdGlvbiBtKGUsdCl7bGV0IG49dDtyZXR1cm5cInN0cmluZ1wiPT10eXBlb2YgdCYmaShlKT9uPXBhcnNlRmxvYXQodCk6bnVsbCE9dCYmcihlKSYmXCJzdHJpbmdcIiE9dHlwZW9mIHQmJihuPVN0cmluZyh0KSkscyhuKX1sZXQgcDtmdW5jdGlvbiBoKHQsbil7aWYoIXR8fCFlKG4pKXJldHVybiB0O2lmKFwicmluZ3NcImluIHR8fFwicGF0aHNcImluIHQpe2lmKG51bGw9PXApdGhyb3cgbmV3IFR5cGVFcnJvcihcImdlb21ldHJ5IGVuZ2luZSBub3QgbG9hZGVkXCIpO3JldHVybiBwLnNpbXBsaWZ5KG4sdCl9cmV0dXJuIHR9YXN5bmMgZnVuY3Rpb24gZygpe3JldHVybiBudWxsPT1wJiYocD1hd2FpdCBpbXBvcnQoXCIuLi8uLi8uLi8uLi9nZW9tZXRyeS9nZW9tZXRyeUVuZ2luZUpTT04uanNcIikpLHB9YXN5bmMgZnVuY3Rpb24geSh0LG4peyFlKHQpfHxcImVzcmlHZW9tZXRyeVBvbHlnb25cIiE9PW4mJlwiZXNyaUdlb21ldHJ5UG9seWxpbmVcIiE9PW58fGF3YWl0IGcoKX1leHBvcnR7dSBhcyBjcmVhdGVGZWF0dXJlRWRpdEVycm9yUmVzdWx0LGMgYXMgY3JlYXRlRmVhdHVyZUVkaXRTdWNjZXNzUmVzdWx0LHkgYXMgbG9hZEdlb21ldHJ5RW5naW5lRm9yU2ltcGxpZnksZCBhcyBtaXhBdHRyaWJ1dGVzLGggYXMgc2ltcGxpZnl9O1xuIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9