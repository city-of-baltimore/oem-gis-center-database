"use strict";
(self["webpackChunkexb_client"] = self["webpackChunkexb_client"] || []).push([["vendors-node_modules_arcgis_core_layers_WMSLayer_js"],{

/***/ "./node_modules/@arcgis/core/core/CollectionFlattener.js":
/*!***************************************************************!*\
  !*** ./node_modules/@arcgis/core/core/CollectionFlattener.js ***!
  \***************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (/* binding */ n)
/* harmony export */ });
/* harmony import */ var _chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../chunks/tslib.es6.js */ "./node_modules/@arcgis/core/chunks/tslib.es6.js");
/* harmony import */ var _Collection_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./Collection.js */ "./node_modules/@arcgis/core/core/Collection.js");
/* harmony import */ var _Error_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./Error.js */ "./node_modules/@arcgis/core/core/Error.js");
/* harmony import */ var _Logger_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./Logger.js */ "./node_modules/@arcgis/core/core/Logger.js");
/* harmony import */ var _accessorSupport_watch_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./accessorSupport/watch.js */ "./node_modules/@arcgis/core/core/accessorSupport/watch.js");
/* harmony import */ var _accessorSupport_trackingUtils_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./accessorSupport/trackingUtils.js */ "./node_modules/@arcgis/core/core/accessorSupport/trackingUtils.js");
/* harmony import */ var _accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./accessorSupport/decorators/property.js */ "./node_modules/@arcgis/core/core/accessorSupport/decorators/property.js");
/* harmony import */ var _accessorSupport_decorators_subclass_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ./accessorSupport/decorators/subclass.js */ "./node_modules/@arcgis/core/core/accessorSupport/decorators/subclass.js");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.27/esri/copyright.txt for details.
*/
let i=class extends _Collection_js__WEBPACK_IMPORTED_MODULE_1__["default"]{constructor(t){super(t),this.getCollections=null}initialize(){this.own((0,_accessorSupport_trackingUtils_js__WEBPACK_IMPORTED_MODULE_5__.autorun)((()=>this._refresh())))}destroy(){this.getCollections=null}_refresh(){const t=null!=this.getCollections?this.getCollections():null;if(null==t)return void this.removeAll();let o=0;for(const s of t)null!=s&&(o=this._processCollection(o,s));this.splice(o,this.length)}_createNewInstance(t){return new _Collection_js__WEBPACK_IMPORTED_MODULE_1__["default"](t)}_processCollection(t,o){if(!o)return t;const s=this.itemFilterFunction??(t=>!!t);for(const e of o)if(e){if(s(e)){const o=this.indexOf(e,t);o>=0?o!==t&&this.reorder(e,t):this.add(e,t),++t}if(this.getChildrenFunction){const o=this.getChildrenFunction(e);if(Array.isArray(o))for(const s of o)t=this._processCollection(t,s);else t=this._processCollection(t,o)}}return t}};(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_6__.property)()],i.prototype,"getCollections",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_6__.property)()],i.prototype,"getChildrenFunction",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_6__.property)()],i.prototype,"itemFilterFunction",void 0),i=(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_accessorSupport_decorators_subclass_js__WEBPACK_IMPORTED_MODULE_7__.subclass)("esri.core.CollectionFlattener")],i);const n=i;


/***/ }),

/***/ "./node_modules/@arcgis/core/geometry/support/scaleUtils.js":
/*!******************************************************************!*\
  !*** ./node_modules/@arcgis/core/geometry/support/scaleUtils.js ***!
  \******************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "getExtentForScale": () => (/* binding */ d),
/* harmony export */   "getResolutionForScale": () => (/* binding */ r),
/* harmony export */   "getResolutionInMetersForScale": () => (/* binding */ o),
/* harmony export */   "getScale": () => (/* binding */ i),
/* harmony export */   "getScaleForResolution": () => (/* binding */ c)
/* harmony export */ });
/* harmony import */ var _core_unitUtils_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../core/unitUtils.js */ "./node_modules/@arcgis/core/core/unitUtils.js");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.27/esri/copyright.txt for details.
*/
const e=96;function i(i,r){const o=r||i.extent,c=i.width,d=(0,_core_unitUtils_js__WEBPACK_IMPORTED_MODULE_0__.getMetersPerUnitForSR)(o&&o.spatialReference);return o&&c?o.width/c*d*_core_unitUtils_js__WEBPACK_IMPORTED_MODULE_0__.inchesPerMeter*e:0}function r(i,r){return i/((0,_core_unitUtils_js__WEBPACK_IMPORTED_MODULE_0__.getMetersPerUnitForSR)(r)*_core_unitUtils_js__WEBPACK_IMPORTED_MODULE_0__.inchesPerMeter*e)}function o(t){return t/(_core_unitUtils_js__WEBPACK_IMPORTED_MODULE_0__.inchesPerMeter*e)}function c(i,r){return i*((0,_core_unitUtils_js__WEBPACK_IMPORTED_MODULE_0__.getMetersPerUnitForSR)(r)*_core_unitUtils_js__WEBPACK_IMPORTED_MODULE_0__.inchesPerMeter*e)}function d(t,n){const e=t.extent,i=t.width-(t.padding?t.padding.left+t.padding.right:0),o=r(n,e.spatialReference);return e.clone().expand(o*i/e.width)}


/***/ }),

/***/ "./node_modules/@arcgis/core/layers/WMSLayer.js":
/*!******************************************************!*\
  !*** ./node_modules/@arcgis/core/layers/WMSLayer.js ***!
  \******************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (/* binding */ Y)
/* harmony export */ });
/* harmony import */ var _chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../chunks/tslib.es6.js */ "./node_modules/@arcgis/core/chunks/tslib.es6.js");
/* harmony import */ var _config_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../config.js */ "./node_modules/@arcgis/core/config.js");
/* harmony import */ var _Graphic_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../Graphic.js */ "./node_modules/@arcgis/core/Graphic.js");
/* harmony import */ var _PopupTemplate_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../PopupTemplate.js */ "./node_modules/@arcgis/core/PopupTemplate.js");
/* harmony import */ var _request_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../request.js */ "./node_modules/@arcgis/core/request.js");
/* harmony import */ var _core_Collection_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../core/Collection.js */ "./node_modules/@arcgis/core/core/Collection.js");
/* harmony import */ var _core_CollectionFlattener_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../core/CollectionFlattener.js */ "./node_modules/@arcgis/core/core/CollectionFlattener.js");
/* harmony import */ var _core_jsonMap_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../core/jsonMap.js */ "./node_modules/@arcgis/core/core/jsonMap.js");
/* harmony import */ var _core_lang_js__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../core/lang.js */ "./node_modules/@arcgis/core/core/lang.js");
/* harmony import */ var _core_MultiOriginJSONSupport_js__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../core/MultiOriginJSONSupport.js */ "./node_modules/@arcgis/core/core/MultiOriginJSONSupport.js");
/* harmony import */ var _core_promiseUtils_js__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ../core/promiseUtils.js */ "./node_modules/@arcgis/core/core/promiseUtils.js");
/* harmony import */ var _core_reactiveUtils_js__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ../core/reactiveUtils.js */ "./node_modules/@arcgis/core/core/reactiveUtils.js");
/* harmony import */ var _core_urlUtils_js__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ../core/urlUtils.js */ "./node_modules/@arcgis/core/core/urlUtils.js");
/* harmony import */ var _core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! ../core/accessorSupport/decorators/property.js */ "./node_modules/@arcgis/core/core/accessorSupport/decorators/property.js");
/* harmony import */ var _core_accessorSupport_ensureType_js__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! ../core/accessorSupport/ensureType.js */ "./node_modules/@arcgis/core/core/accessorSupport/ensureType.js");
/* harmony import */ var _core_accessorSupport_decorators_reader_js__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! ../core/accessorSupport/decorators/reader.js */ "./node_modules/@arcgis/core/core/accessorSupport/decorators/reader.js");
/* harmony import */ var _core_accessorSupport_decorators_subclass_js__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(/*! ../core/accessorSupport/decorators/subclass.js */ "./node_modules/@arcgis/core/core/accessorSupport/decorators/subclass.js");
/* harmony import */ var _core_accessorSupport_decorators_writer_js__WEBPACK_IMPORTED_MODULE_17__ = __webpack_require__(/*! ../core/accessorSupport/decorators/writer.js */ "./node_modules/@arcgis/core/core/accessorSupport/decorators/writer.js");
/* harmony import */ var _core_accessorSupport_write_js__WEBPACK_IMPORTED_MODULE_18__ = __webpack_require__(/*! ../core/accessorSupport/write.js */ "./node_modules/@arcgis/core/core/accessorSupport/write.js");
/* harmony import */ var _geometry_Extent_js__WEBPACK_IMPORTED_MODULE_19__ = __webpack_require__(/*! ../geometry/Extent.js */ "./node_modules/@arcgis/core/geometry/Extent.js");
/* harmony import */ var _geometry_SpatialReference_js__WEBPACK_IMPORTED_MODULE_20__ = __webpack_require__(/*! ../geometry/SpatialReference.js */ "./node_modules/@arcgis/core/geometry/SpatialReference.js");
/* harmony import */ var _geometry_support_scaleUtils_js__WEBPACK_IMPORTED_MODULE_21__ = __webpack_require__(/*! ../geometry/support/scaleUtils.js */ "./node_modules/@arcgis/core/geometry/support/scaleUtils.js");
/* harmony import */ var _geometry_support_spatialReferenceUtils_js__WEBPACK_IMPORTED_MODULE_22__ = __webpack_require__(/*! ../geometry/support/spatialReferenceUtils.js */ "./node_modules/@arcgis/core/geometry/support/spatialReferenceUtils.js");
/* harmony import */ var _Layer_js__WEBPACK_IMPORTED_MODULE_23__ = __webpack_require__(/*! ./Layer.js */ "./node_modules/@arcgis/core/layers/Layer.js");
/* harmony import */ var _mixins_BlendLayer_js__WEBPACK_IMPORTED_MODULE_24__ = __webpack_require__(/*! ./mixins/BlendLayer.js */ "./node_modules/@arcgis/core/layers/mixins/BlendLayer.js");
/* harmony import */ var _mixins_OperationalLayer_js__WEBPACK_IMPORTED_MODULE_25__ = __webpack_require__(/*! ./mixins/OperationalLayer.js */ "./node_modules/@arcgis/core/layers/mixins/OperationalLayer.js");
/* harmony import */ var _mixins_PortalLayer_js__WEBPACK_IMPORTED_MODULE_26__ = __webpack_require__(/*! ./mixins/PortalLayer.js */ "./node_modules/@arcgis/core/layers/mixins/PortalLayer.js");
/* harmony import */ var _mixins_RefreshableLayer_js__WEBPACK_IMPORTED_MODULE_27__ = __webpack_require__(/*! ./mixins/RefreshableLayer.js */ "./node_modules/@arcgis/core/layers/mixins/RefreshableLayer.js");
/* harmony import */ var _mixins_ScaleRangeLayer_js__WEBPACK_IMPORTED_MODULE_28__ = __webpack_require__(/*! ./mixins/ScaleRangeLayer.js */ "./node_modules/@arcgis/core/layers/mixins/ScaleRangeLayer.js");
/* harmony import */ var _mixins_TemporalLayer_js__WEBPACK_IMPORTED_MODULE_29__ = __webpack_require__(/*! ./mixins/TemporalLayer.js */ "./node_modules/@arcgis/core/layers/mixins/TemporalLayer.js");
/* harmony import */ var _ogc_crsUtils_js__WEBPACK_IMPORTED_MODULE_30__ = __webpack_require__(/*! ./ogc/crsUtils.js */ "./node_modules/@arcgis/core/layers/ogc/crsUtils.js");
/* harmony import */ var _support_arcgisLayerUrl_js__WEBPACK_IMPORTED_MODULE_31__ = __webpack_require__(/*! ./support/arcgisLayerUrl.js */ "./node_modules/@arcgis/core/layers/support/arcgisLayerUrl.js");
/* harmony import */ var _support_commonProperties_js__WEBPACK_IMPORTED_MODULE_32__ = __webpack_require__(/*! ./support/commonProperties.js */ "./node_modules/@arcgis/core/layers/support/commonProperties.js");
/* harmony import */ var _support_ExportWMSImageParameters_js__WEBPACK_IMPORTED_MODULE_33__ = __webpack_require__(/*! ./support/ExportWMSImageParameters.js */ "./node_modules/@arcgis/core/layers/support/ExportWMSImageParameters.js");
/* harmony import */ var _support_imageBitmapUtils_js__WEBPACK_IMPORTED_MODULE_34__ = __webpack_require__(/*! ./support/imageBitmapUtils.js */ "./node_modules/@arcgis/core/layers/support/imageBitmapUtils.js");
/* harmony import */ var _support_WMSSublayer_js__WEBPACK_IMPORTED_MODULE_35__ = __webpack_require__(/*! ./support/WMSSublayer.js */ "./node_modules/@arcgis/core/layers/support/WMSSublayer.js");
/* harmony import */ var _support_wmsUtils_js__WEBPACK_IMPORTED_MODULE_36__ = __webpack_require__(/*! ./support/wmsUtils.js */ "./node_modules/@arcgis/core/layers/support/wmsUtils.js");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.27/esri/copyright.txt for details.
*/
const J=new _core_jsonMap_js__WEBPACK_IMPORTED_MODULE_7__.JSONMap({bmp:"image/bmp",gif:"image/gif",jpg:"image/jpeg",png:"image/png",svg:"image/svg+xml"},{ignoreUnknown:!1});function V(e){return"text/html"===e}function z(e){return"text/plain"===e}let Q=class extends((0,_mixins_BlendLayer_js__WEBPACK_IMPORTED_MODULE_24__.BlendLayer)((0,_mixins_TemporalLayer_js__WEBPACK_IMPORTED_MODULE_29__.TemporalLayer)((0,_mixins_RefreshableLayer_js__WEBPACK_IMPORTED_MODULE_27__.RefreshableLayer)((0,_mixins_ScaleRangeLayer_js__WEBPACK_IMPORTED_MODULE_28__.ScaleRangeLayer)((0,_mixins_OperationalLayer_js__WEBPACK_IMPORTED_MODULE_25__.OperationalLayer)((0,_mixins_PortalLayer_js__WEBPACK_IMPORTED_MODULE_26__.PortalLayer)((0,_core_MultiOriginJSONSupport_js__WEBPACK_IMPORTED_MODULE_9__.MultiOriginJSONMixin)(_Layer_js__WEBPACK_IMPORTED_MODULE_23__["default"])))))))){constructor(...e){super(...e),this.allSublayers=new _core_CollectionFlattener_js__WEBPACK_IMPORTED_MODULE_6__["default"]({getCollections:()=>[this.sublayers],getChildrenFunction:e=>e.sublayers}),this.customParameters=null,this.customLayerParameters=null,this.copyright=null,this.description=null,this.dimensions=null,this.fullExtent=null,this.fullExtents=null,this.featureInfoFormats=null,this.featureInfoUrl=null,this.fetchFeatureInfoFunction=null,this.imageFormat=null,this.imageMaxHeight=2048,this.imageMaxWidth=2048,this.imageTransparency=!0,this.legendEnabled=!0,this.mapUrl=null,this.isReference=null,this.operationalLayerType="WMS",this.spatialReference=null,this.spatialReferences=null,this.sublayers=null,this.type="wms",this.version=null,this.addHandles([(0,_core_reactiveUtils_js__WEBPACK_IMPORTED_MODULE_11__.on)((()=>this.sublayers),"after-add",(({item:e})=>{e.parent=e.layer=this}),_core_reactiveUtils_js__WEBPACK_IMPORTED_MODULE_11__.sync),(0,_core_reactiveUtils_js__WEBPACK_IMPORTED_MODULE_11__.on)((()=>this.sublayers),"after-remove",(({item:e})=>{e.layer=e.parent=null}),_core_reactiveUtils_js__WEBPACK_IMPORTED_MODULE_11__.sync),(0,_core_reactiveUtils_js__WEBPACK_IMPORTED_MODULE_11__.watch)((()=>this.sublayers),((e,t)=>{if(t)for(const r of t)r.layer=r.parent=null;if(e)for(const r of e)r.parent=r.layer=this}),_core_reactiveUtils_js__WEBPACK_IMPORTED_MODULE_11__.sync)])}normalizeCtorArgs(e,t){return"string"==typeof e?{url:e,...t}:e}destroy(){this.allSublayers.destroy()}load(e){const t=null!=e?e.signal:null;return this.addResolvingPromise(this.loadFromPortal({supportedTypes:["WMS"]},e).catch(_core_promiseUtils_js__WEBPACK_IMPORTED_MODULE_10__.throwIfAbortError).then((()=>this._fetchService(t)))),Promise.resolve(this)}readFullExtentFromItemOrMap(e,t){const r=t.extent;return r?new _geometry_Extent_js__WEBPACK_IMPORTED_MODULE_19__["default"]({xmin:r[0][0],ymin:r[0][1],xmax:r[1][0],ymax:r[1][1]}):null}writeFullExtent(e,t){t.extent=[[e.xmin,e.ymin],[e.xmax,e.ymax]]}get featureInfoFormat(){return null==this.featureInfoFormats?null:this.featureInfoFormats.find(V)??this.featureInfoFormats.find(z)??null}set featureInfoFormat(e){null==e?(this.revert("featureInfoFormat","service"),this._clearOverride("featureInfoFormat")):(V(e)||z(e))&&this._override("featureInfoFormat",e)}readImageFormat(e,t){const r=t.supportedImageFormatTypes;return r&&r.includes("image/png")?"image/png":r&&r[0]}readSpatialReferenceFromItemOrDocument(e,t){return new _geometry_SpatialReference_js__WEBPACK_IMPORTED_MODULE_20__["default"](t.spatialReferences[0])}writeSpatialReferences(e,t){const r=this.spatialReference?.wkid;e&&r?(t.spatialReferences=e.filter((e=>e!==r)),t.spatialReferences.unshift(r)):t.spatialReferences=e}readSublayersFromItemOrMap(e,t,r){return X(t.layers,r,t.visibleLayers)}readSublayers(e,t,r){return X(t.layers,r)}writeSublayers(e,t,r,o){t.layers=[];const s=new Map,i=e.flatten((({sublayers:e})=>e??[]));for(const a of i)if("number"==typeof a.parent?.id){const e=s.get(a.parent.id);null!=e?e.push(a.id):s.set(a.parent.id,[a.id])}for(const a of i){const e={sublayer:a,...o},r=a.write({parentLayerId:"number"==typeof a.parent?.id?a.parent.id:-1},e);if(s.has(a.id)&&(r.sublayerIds=s.get(a.id)),!a.sublayers&&a.name){const r=a.write({},e);delete r.id,t.layers.push(r)}}t.visibleLayers=i.filter((({visible:e,sublayers:t})=>e&&!t)).map((({name:e})=>e)).toArray()}set url(e){if(!e)return void this._set("url",e);const{path:t,query:r}=(0,_core_urlUtils_js__WEBPACK_IMPORTED_MODULE_12__.urlToObject)(e);for(const s in r)/^(request|service)$/i.test(s)&&delete r[s];const o=(0,_core_urlUtils_js__WEBPACK_IMPORTED_MODULE_12__.addQueryParameters)(t,r??{});this._set("url",o)}createExportImageParameters(e,t,r,o){const s=o?.pixelRatio??1,i=(0,_geometry_support_scaleUtils_js__WEBPACK_IMPORTED_MODULE_21__.getScale)({extent:e,width:t})*s,a=new _support_ExportWMSImageParameters_js__WEBPACK_IMPORTED_MODULE_33__.ExportWMSImageParameters({layer:this,scale:i}),{xmin:n,ymin:l,xmax:p,ymax:m,spatialReference:u}=e,c=(0,_support_wmsUtils_js__WEBPACK_IMPORTED_MODULE_36__.normalizeWKID)(u,this.spatialReferences),f="1.3.0"===this.version&&(0,_ogc_crsUtils_js__WEBPACK_IMPORTED_MODULE_30__.isAxesOrderReversedForWkid)(c)?`${l},${n},${m},${p}`:`${n},${l},${p},${m}`,y=a.toJSON();return{bbox:f,["1.3.0"===this.version?"crs":"srs"]:null==c||isNaN(c)?void 0:"EPSG:"+c,...y}}async fetchImage(e,t,r,o){const i=this.mapUrl,a=this.createExportImageParameters(e,t,r,o);if(!a.layers){const e=document.createElement("canvas");return e.width=t,e.height=r,e}const n=o?.timeExtent?.start,l=o?.timeExtent?.end,p=null!=n&&null!=l?n.getTime()===l.getTime()?(0,_support_wmsUtils_js__WEBPACK_IMPORTED_MODULE_36__.toISOString)(n):`${(0,_support_wmsUtils_js__WEBPACK_IMPORTED_MODULE_36__.toISOString)(n)}/${(0,_support_wmsUtils_js__WEBPACK_IMPORTED_MODULE_36__.toISOString)(l)}`:void 0,m={responseType:"image",query:this._mixCustomParameters({width:t,height:r,...a,time:p,...this.refreshParameters}),signal:o?.signal};return (0,_request_js__WEBPACK_IMPORTED_MODULE_4__["default"])(i??"",m).then((e=>e.data))}async fetchImageBitmap(e,t,r,o){const i=this.mapUrl??"",a=this.createExportImageParameters(e,t,r,o);if(!a.layers){const e=document.createElement("canvas");return e.width=t,e.height=r,e}const n=o?.timeExtent?.start,l=o?.timeExtent?.end,p=null!=n&&null!=l?n.getTime()===l.getTime()?(0,_support_wmsUtils_js__WEBPACK_IMPORTED_MODULE_36__.toISOString)(n):`${(0,_support_wmsUtils_js__WEBPACK_IMPORTED_MODULE_36__.toISOString)(n)}/${(0,_support_wmsUtils_js__WEBPACK_IMPORTED_MODULE_36__.toISOString)(l)}`:void 0,m={responseType:"blob",query:this._mixCustomParameters({width:t,height:r,...a,time:p,...this.refreshParameters}),signal:o?.signal},{data:u}=await (0,_request_js__WEBPACK_IMPORTED_MODULE_4__["default"])(i,m);return (0,_support_imageBitmapUtils_js__WEBPACK_IMPORTED_MODULE_34__.createBitmap)(u,i,o?.signal)}fetchFeatureInfo(e,t,r,o,s){const i=(0,_geometry_support_scaleUtils_js__WEBPACK_IMPORTED_MODULE_21__.getScale)({extent:e,width:t}),a=new _support_ExportWMSImageParameters_js__WEBPACK_IMPORTED_MODULE_33__.ExportWMSImageParameters({layer:this,scale:i}),n=(0,_support_wmsUtils_js__WEBPACK_IMPORTED_MODULE_36__.getPopupLayers)(a.visibleSublayers);if(null==this.featureInfoUrl||null==n)return Promise.resolve([]);if(null==this.fetchFeatureInfoFunction&&null==this.featureInfoFormat)return Promise.resolve([]);const l="1.3.0"===this.version?{I:o,J:s}:{x:o,y:s},p={query_layers:n,request:"GetFeatureInfo",info_format:this.featureInfoFormat,feature_count:25,width:t,height:r,...l},m={...this.createExportImageParameters(e,t,r),...p},u=this._mixCustomParameters(m);return null!=this.fetchFeatureInfoFunction?this.fetchFeatureInfoFunction(u):this._defaultFetchFeatureInfoFunction((0,_core_urlUtils_js__WEBPACK_IMPORTED_MODULE_12__.addQueryParameters)(this.featureInfoUrl,u))}findSublayerById(e){return this.allSublayers.find((t=>t.id===e))}findSublayerByName(e){return this.allSublayers.find((t=>t.name===e))}serviceSupportsSpatialReference(e){return (0,_support_arcgisLayerUrl_js__WEBPACK_IMPORTED_MODULE_31__.isWmsServer)(this.url)||null!=this.spatialReferences&&this.spatialReferences.some((t=>{const r=900913===t?_geometry_SpatialReference_js__WEBPACK_IMPORTED_MODULE_20__["default"].WebMercator:new _geometry_SpatialReference_js__WEBPACK_IMPORTED_MODULE_20__["default"]({wkid:t});return (0,_geometry_support_spatialReferenceUtils_js__WEBPACK_IMPORTED_MODULE_22__.equals)(r,e)}))}_defaultFetchFeatureInfoFunction(e){const t=document.createElement("iframe");t.src=(0,_core_urlUtils_js__WEBPACK_IMPORTED_MODULE_12__.addProxy)(e),t.style.border="none",t.style.margin="0",t.style.width="100%",t.setAttribute("sandbox","");const s=new _PopupTemplate_js__WEBPACK_IMPORTED_MODULE_3__["default"]({title:this.title,content:t}),i=new _Graphic_js__WEBPACK_IMPORTED_MODULE_2__["default"]({sourceLayer:this,popupTemplate:s});return Promise.resolve([i])}async _fetchService(e){if(!this.resourceInfo&&this.parsedUrl?.path){const{path:t,query:r}=this.parsedUrl,{data:o}=await (0,_request_js__WEBPACK_IMPORTED_MODULE_4__["default"])(t,{query:{SERVICE:"WMS",REQUEST:"GetCapabilities",...r,...this.customParameters},responseType:"xml",signal:e});this.resourceInfo=(0,_support_wmsUtils_js__WEBPACK_IMPORTED_MODULE_36__.parseCapabilities)(o)}if(this.parsedUrl){const e=new _core_urlUtils_js__WEBPACK_IMPORTED_MODULE_12__.Url(this.parsedUrl.path),{httpsDomains:r}=_config_js__WEBPACK_IMPORTED_MODULE_1__["default"].request;"https"!==e.scheme||e.port&&"443"!==e.port||!e.host||r.includes(e.host)||r.push(e.host)}this.read(this.resourceInfo,{origin:"service"})}_mixCustomParameters(e){if(!this.customLayerParameters&&!this.customParameters)return e;const t={...this.customParameters,...this.customLayerParameters};for(const r in t)e[r.toLowerCase()]=t[r];return e}};function K(e,t){return e.some((e=>{for(const r in e)if((0,_core_accessorSupport_write_js__WEBPACK_IMPORTED_MODULE_18__.willPropertyWrite)(e,r,null,t))return!0;return!1}))}function X(e,t,r){e=e??[];const o=new Map;e.every((e=>null==e.id))&&(e=(0,_core_lang_js__WEBPACK_IMPORTED_MODULE_8__.clone)(e)).forEach(((e,t)=>e.id=t));for(const i of e){const e=new _support_WMSSublayer_js__WEBPACK_IMPORTED_MODULE_35__["default"];e.read(i,t),r&&!r.includes(e.name)&&(e.visible=!1),o.set(e.id,e)}const s=[];for(const a of e){const e=null!=a.id?o.get(a.id):null;if(e)if(null!=a.parentLayerId&&a.parentLayerId>=0){const t=o.get(a.parentLayerId);if(!t)continue;t.sublayers||(t.sublayers=new _core_Collection_js__WEBPACK_IMPORTED_MODULE_5__["default"]),t.sublayers.push(e)}else s.push(e)}return s}(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_13__.property)({readOnly:!0})],Q.prototype,"allSublayers",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_13__.property)({json:{type:Object,write:!0}})],Q.prototype,"customParameters",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_13__.property)({json:{type:Object,write:!0}})],Q.prototype,"customLayerParameters",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_13__.property)({type:String,json:{write:!0}})],Q.prototype,"copyright",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_13__.property)()],Q.prototype,"description",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_13__.property)({readOnly:!0})],Q.prototype,"dimensions",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_13__.property)({json:{type:[[Number]],read:{source:"extent"},write:{target:"extent"},origins:{"web-document":{write:{ignoreOrigin:!0}},"portal-item":{write:{ignoreOrigin:!0}}}}})],Q.prototype,"fullExtent",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_reader_js__WEBPACK_IMPORTED_MODULE_15__.reader)(["web-document","portal-item"],"fullExtent",["extent"])],Q.prototype,"readFullExtentFromItemOrMap",null),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_writer_js__WEBPACK_IMPORTED_MODULE_17__.writer)(["web-document","portal-item"],"fullExtent",{extent:{type:[[Number]]}})],Q.prototype,"writeFullExtent",null),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_13__.property)()],Q.prototype,"fullExtents",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_13__.property)({type:String,json:{write:{ignoreOrigin:!0}}})],Q.prototype,"featureInfoFormat",null),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_13__.property)({type:[String],readOnly:!0})],Q.prototype,"featureInfoFormats",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_13__.property)({type:String,json:{write:{ignoreOrigin:!0}}})],Q.prototype,"featureInfoUrl",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_13__.property)()],Q.prototype,"fetchFeatureInfoFunction",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_13__.property)({type:String,json:{origins:{"web-document":{default:"image/png",type:J.jsonValues,read:{reader:J.read,source:"format"},write:{writer:J.write,target:"format"}}}}})],Q.prototype,"imageFormat",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_reader_js__WEBPACK_IMPORTED_MODULE_15__.reader)("imageFormat",["supportedImageFormatTypes"])],Q.prototype,"readImageFormat",null),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_13__.property)({type:Number,json:{read:{source:"maxHeight"},write:{target:"maxHeight"}}})],Q.prototype,"imageMaxHeight",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_13__.property)({type:Number,json:{read:{source:"maxWidth"},write:{target:"maxWidth"}}})],Q.prototype,"imageMaxWidth",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_13__.property)()],Q.prototype,"imageTransparency",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_13__.property)(_support_commonProperties_js__WEBPACK_IMPORTED_MODULE_32__.legendEnabled)],Q.prototype,"legendEnabled",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_13__.property)({type:["show","hide","hide-children"]})],Q.prototype,"listMode",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_13__.property)({type:String,json:{write:{ignoreOrigin:!0}}})],Q.prototype,"mapUrl",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_13__.property)({type:Boolean,json:{read:!1,write:{enabled:!0,overridePolicy:()=>({enabled:!1})}}})],Q.prototype,"isReference",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_13__.property)({type:["WMS"]})],Q.prototype,"operationalLayerType",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_13__.property)()],Q.prototype,"resourceInfo",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_13__.property)({type:_geometry_SpatialReference_js__WEBPACK_IMPORTED_MODULE_20__["default"],json:{origins:{service:{read:{source:"extent.spatialReference"}}},write:!1}})],Q.prototype,"spatialReference",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_reader_js__WEBPACK_IMPORTED_MODULE_15__.reader)(["web-document","portal-item"],"spatialReference",["spatialReferences"])],Q.prototype,"readSpatialReferenceFromItemOrDocument",null),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_13__.property)({type:[_core_accessorSupport_ensureType_js__WEBPACK_IMPORTED_MODULE_14__.Integer],json:{read:!1,origins:{service:{read:!0},"web-document":{read:!1,write:{ignoreOrigin:!0}},"portal-item":{read:!1,write:{ignoreOrigin:!0}}}}})],Q.prototype,"spatialReferences",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_writer_js__WEBPACK_IMPORTED_MODULE_17__.writer)(["web-document","portal-item"],"spatialReferences")],Q.prototype,"writeSpatialReferences",null),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_13__.property)({type:_core_Collection_js__WEBPACK_IMPORTED_MODULE_5__["default"].ofType(_support_WMSSublayer_js__WEBPACK_IMPORTED_MODULE_35__["default"]),json:{write:{target:"layers",overridePolicy(e,t,r){if(K(this.allSublayers,r))return{ignoreOrigin:!0}}}}})],Q.prototype,"sublayers",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_reader_js__WEBPACK_IMPORTED_MODULE_15__.reader)(["web-document","portal-item"],"sublayers",["layers","visibleLayers"])],Q.prototype,"readSublayersFromItemOrMap",null),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_reader_js__WEBPACK_IMPORTED_MODULE_15__.reader)("service","sublayers",["layers"])],Q.prototype,"readSublayers",null),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_writer_js__WEBPACK_IMPORTED_MODULE_17__.writer)("sublayers",{layers:{type:[_support_WMSSublayer_js__WEBPACK_IMPORTED_MODULE_35__["default"]]},visibleLayers:{type:[String]}})],Q.prototype,"writeSublayers",null),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_13__.property)({json:{read:!1},readOnly:!0,value:"wms"})],Q.prototype,"type",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_13__.property)(_support_commonProperties_js__WEBPACK_IMPORTED_MODULE_32__.url)],Q.prototype,"url",null),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_13__.property)({type:String,json:{write:{ignoreOrigin:!0}}})],Q.prototype,"version",void 0),Q=(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_subclass_js__WEBPACK_IMPORTED_MODULE_16__.subclass)("esri.layers.WMSLayer")],Q);const Y=Q;


/***/ }),

/***/ "./node_modules/@arcgis/core/layers/ogc/crsUtils.js":
/*!**********************************************************!*\
  !*** ./node_modules/@arcgis/core/layers/ogc/crsUtils.js ***!
  \**********************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "isAxesOrderReversedForWkid": () => (/* binding */ o)
/* harmony export */ });
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.27/esri/copyright.txt for details.
*/
const n=[[3819,3819],[3821,3824],[3889,3889],[3906,3906],[4001,4025],[4027,4036],[4039,4047],[4052,4055],[4074,4075],[4080,4081],[4120,4176],[4178,4185],[4188,4216],[4218,4289],[4291,4304],[4306,4319],[4322,4326],[4463,4463],[4470,4470],[4475,4475],[4483,4483],[4490,4490],[4555,4558],[4600,4646],[4657,4765],[4801,4811],[4813,4821],[4823,4824],[4901,4904],[5013,5013],[5132,5132],[5228,5229],[5233,5233],[5246,5246],[5252,5252],[5264,5264],[5324,5340],[5354,5354],[5360,5360],[5365,5365],[5370,5373],[5381,5381],[5393,5393],[5451,5451],[5464,5464],[5467,5467],[5489,5489],[5524,5524],[5527,5527],[5546,5546],[2044,2045],[2081,2083],[2085,2086],[2093,2093],[2096,2098],[2105,2132],[2169,2170],[2176,2180],[2193,2193],[2200,2200],[2206,2212],[2319,2319],[2320,2462],[2523,2549],[2551,2735],[2738,2758],[2935,2941],[2953,2953],[3006,3030],[3034,3035],[3038,3051],[3058,3059],[3068,3068],[3114,3118],[3126,3138],[3150,3151],[3300,3301],[3328,3335],[3346,3346],[3350,3352],[3366,3366],[3389,3390],[3416,3417],[3833,3841],[3844,3850],[3854,3854],[3873,3885],[3907,3910],[4026,4026],[4037,4038],[4417,4417],[4434,4434],[4491,4554],[4839,4839],[5048,5048],[5105,5130],[5253,5259],[5269,5275],[5343,5349],[5479,5482],[5518,5519],[5520,5520],[20004,20032],[20064,20092],[21413,21423],[21473,21483],[21896,21899],[22171,22177],[22181,22187],[22191,22197],[25884,25884],[27205,27232],[27391,27398],[27492,27492],[28402,28432],[28462,28492],[30161,30179],[30800,30800],[31251,31259],[31275,31279],[31281,31290],[31466,31700]];function o(o){return null!=o&&n.some((([n,t])=>o>=n&&o<=t))}


/***/ }),

/***/ "./node_modules/@arcgis/core/layers/support/ExportWMSImageParameters.js":
/*!******************************************************************************!*\
  !*** ./node_modules/@arcgis/core/layers/support/ExportWMSImageParameters.js ***!
  \******************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "ExportWMSImageParameters": () => (/* binding */ l)
/* harmony export */ });
/* harmony import */ var _chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../chunks/tslib.es6.js */ "./node_modules/@arcgis/core/chunks/tslib.es6.js");
/* harmony import */ var _core_Accessor_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../core/Accessor.js */ "./node_modules/@arcgis/core/core/Accessor.js");
/* harmony import */ var _core_HandleOwner_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../core/HandleOwner.js */ "./node_modules/@arcgis/core/core/HandleOwner.js");
/* harmony import */ var _core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../core/accessorSupport/decorators/property.js */ "./node_modules/@arcgis/core/core/accessorSupport/decorators/property.js");
/* harmony import */ var _core_accessorSupport_ensureType_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../core/accessorSupport/ensureType.js */ "./node_modules/@arcgis/core/core/accessorSupport/ensureType.js");
/* harmony import */ var _core_arrayUtils_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../core/arrayUtils.js */ "./node_modules/@arcgis/core/core/arrayUtils.js");
/* harmony import */ var _core_has_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../core/has.js */ "./node_modules/@arcgis/core/core/has.js");
/* harmony import */ var _core_accessorSupport_decorators_subclass_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../../core/accessorSupport/decorators/subclass.js */ "./node_modules/@arcgis/core/core/accessorSupport/decorators/subclass.js");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.27/esri/copyright.txt for details.
*/
const a={visible:"visibleSublayers"};let l=class extends((0,_core_HandleOwner_js__WEBPACK_IMPORTED_MODULE_2__.HandleOwnerMixin)(_core_Accessor_js__WEBPACK_IMPORTED_MODULE_1__["default"])){constructor(e){super(e),this.scale=0}set layer(e){this._get("layer")!==e&&(this._set("layer",e),this.handles.remove("layer"),e&&this.handles.add([e.sublayers.on("change",(()=>this.notifyChange("visibleSublayers"))),e.on("wms-sublayer-update",(e=>this.notifyChange(a[e.propertyName])))],"layer"))}get layers(){return this.visibleSublayers.filter((({name:e})=>e)).map((({name:e})=>e)).join()}get version(){this.commitProperty("layers");const e=this.layer;return e&&e.commitProperty("imageTransparency"),(this._get("version")||0)+1}get visibleSublayers(){const{layer:e,scale:r}=this,s=e?.sublayers,t=[],o=e=>{const{minScale:s,maxScale:a,sublayers:l,visible:i}=e;i&&(0===r||(0===s||r<=s)&&(0===a||r>=a))&&(l?l.forEach(o):t.push(e))};return s?.forEach(o),t}toJSON(){const{layer:e,layers:r}=this,{imageFormat:s,imageTransparency:t,version:o}=e;return{format:s,request:"GetMap",service:"WMS",styles:"",transparent:t?"TRUE":"FALSE",version:o,layers:r}}};(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_3__.property)()],l.prototype,"layer",null),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_3__.property)({readOnly:!0})],l.prototype,"layers",null),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_3__.property)({type:Number})],l.prototype,"scale",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_3__.property)({readOnly:!0})],l.prototype,"version",null),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_3__.property)({readOnly:!0})],l.prototype,"visibleSublayers",null),l=(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_subclass_js__WEBPACK_IMPORTED_MODULE_7__.subclass)("esri.layers.support.ExportWMSImageParameters")],l);


/***/ }),

/***/ "./node_modules/@arcgis/core/layers/support/WMSSublayer.js":
/*!*****************************************************************!*\
  !*** ./node_modules/@arcgis/core/layers/support/WMSSublayer.js ***!
  \*****************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (/* binding */ f)
/* harmony export */ });
/* harmony import */ var _chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../chunks/tslib.es6.js */ "./node_modules/@arcgis/core/chunks/tslib.es6.js");
/* harmony import */ var _core_Collection_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../core/Collection.js */ "./node_modules/@arcgis/core/core/Collection.js");
/* harmony import */ var _core_Identifiable_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../core/Identifiable.js */ "./node_modules/@arcgis/core/core/Identifiable.js");
/* harmony import */ var _core_MultiOriginJSONSupport_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../core/MultiOriginJSONSupport.js */ "./node_modules/@arcgis/core/core/MultiOriginJSONSupport.js");
/* harmony import */ var _core_reactiveUtils_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../core/reactiveUtils.js */ "./node_modules/@arcgis/core/core/reactiveUtils.js");
/* harmony import */ var _core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../core/accessorSupport/decorators/property.js */ "./node_modules/@arcgis/core/core/accessorSupport/decorators/property.js");
/* harmony import */ var _core_accessorSupport_decorators_cast_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../core/accessorSupport/decorators/cast.js */ "./node_modules/@arcgis/core/core/accessorSupport/decorators/cast.js");
/* harmony import */ var _core_arrayUtils_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../../core/arrayUtils.js */ "./node_modules/@arcgis/core/core/arrayUtils.js");
/* harmony import */ var _core_has_js__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../../core/has.js */ "./node_modules/@arcgis/core/core/has.js");
/* harmony import */ var _core_accessorSupport_decorators_reader_js__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../../core/accessorSupport/decorators/reader.js */ "./node_modules/@arcgis/core/core/accessorSupport/decorators/reader.js");
/* harmony import */ var _core_accessorSupport_decorators_subclass_js__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ../../core/accessorSupport/decorators/subclass.js */ "./node_modules/@arcgis/core/core/accessorSupport/decorators/subclass.js");
/* harmony import */ var _core_accessorSupport_ensureType_js__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ../../core/accessorSupport/ensureType.js */ "./node_modules/@arcgis/core/core/accessorSupport/ensureType.js");
/* harmony import */ var _geometry_Extent_js__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ../../geometry/Extent.js */ "./node_modules/@arcgis/core/geometry/Extent.js");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.27/esri/copyright.txt for details.
*/
var h;let c=0,m=h=class extends((0,_core_Identifiable_js__WEBPACK_IMPORTED_MODULE_2__.IdentifiableMixin)(_core_MultiOriginJSONSupport_js__WEBPACK_IMPORTED_MODULE_3__.MultiOriginJSONSupport)){constructor(e){super(e),this.description=null,this.dimensions=null,this.fullExtent=null,this.fullExtents=null,this.legendUrl=null,this.legendEnabled=!0,this.layer=null,this.maxScale=0,this.minScale=0,this.name=null,this.parent=null,this.popupEnabled=!1,this.queryable=!1,this.sublayers=null,this.spatialReferences=null,this.title=null,this.addHandles([(0,_core_reactiveUtils_js__WEBPACK_IMPORTED_MODULE_4__.on)((()=>this.sublayers),"after-add",(({item:e})=>{e.parent=this,e.layer=this.layer}),_core_reactiveUtils_js__WEBPACK_IMPORTED_MODULE_4__.sync),(0,_core_reactiveUtils_js__WEBPACK_IMPORTED_MODULE_4__.on)((()=>this.sublayers),"after-remove",(({item:e})=>{e.layer=e.parent=null}),_core_reactiveUtils_js__WEBPACK_IMPORTED_MODULE_4__.sync),(0,_core_reactiveUtils_js__WEBPACK_IMPORTED_MODULE_4__.watch)((()=>this.sublayers),((e,t)=>{if(t)for(const r of t)r.layer=r.parent=null;if(e)for(const r of e)r.parent=this,r.layer=this.layer}),_core_reactiveUtils_js__WEBPACK_IMPORTED_MODULE_4__.sync),(0,_core_reactiveUtils_js__WEBPACK_IMPORTED_MODULE_4__.watch)((()=>this.layer),(e=>{if(this.sublayers)for(const t of this.sublayers)t.layer=e}),_core_reactiveUtils_js__WEBPACK_IMPORTED_MODULE_4__.sync)])}get id(){const e=this._get("id");return e??c++}set id(e){this._set("id",e)}readLegendUrl(e,t){return t.legendUrl??t.legendURL??null}get effectiveScaleRange(){const{minScale:e,maxScale:t}=this;return{minScale:e,maxScale:t}}castSublayers(e){return (0,_core_accessorSupport_ensureType_js__WEBPACK_IMPORTED_MODULE_11__.ensureType)(_core_Collection_js__WEBPACK_IMPORTED_MODULE_1__["default"].ofType(h),e)}set visible(e){this._setAndNotifyLayer("visible",e)}clone(){const e=new h;return this.hasOwnProperty("description")&&(e.description=this.description),this.hasOwnProperty("fullExtent")&&(e.fullExtent=this.fullExtent.clone()),this.hasOwnProperty("fullExtents")&&(e.fullExtents=this.fullExtents?.map((e=>e.clone()))??null),this.hasOwnProperty("legendUrl")&&(e.legendUrl=this.legendUrl),this.hasOwnProperty("legendEnabled")&&(e.legendEnabled=this.legendEnabled),this.hasOwnProperty("layer")&&(e.layer=this.layer),this.hasOwnProperty("name")&&(e.name=this.name),this.hasOwnProperty("parent")&&(e.parent=this.parent),this.hasOwnProperty("queryable")&&(e.queryable=this.queryable),this.hasOwnProperty("sublayers")&&(e.sublayers=this.sublayers&&this.sublayers.map((e=>e.clone()))),this.hasOwnProperty("spatialReferences")&&(e.spatialReferences=this.spatialReferences?.map((e=>e))),this.hasOwnProperty("visible")&&(e.visible=this.visible),this.hasOwnProperty("title")&&(e.title=this.title),e}_setAndNotifyLayer(e,t){const r=this.layer;this._get(e)!==t&&(this._set(e,t),r&&r.emit("wms-sublayer-update",{propertyName:e,id:this.id}))}};(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_5__.property)()],m.prototype,"description",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_5__.property)({readOnly:!0})],m.prototype,"dimensions",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_5__.property)({type:_geometry_Extent_js__WEBPACK_IMPORTED_MODULE_12__["default"],json:{name:"extent"}})],m.prototype,"fullExtent",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_5__.property)()],m.prototype,"fullExtents",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_5__.property)({type:Number,json:{write:{enabled:!1,overridePolicy:()=>({ignoreOrigin:!0,enabled:!0})}}})],m.prototype,"id",null),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_5__.property)({type:String,json:{name:"legendUrl",write:{ignoreOrigin:!0}}})],m.prototype,"legendUrl",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_reader_js__WEBPACK_IMPORTED_MODULE_9__.reader)("legendUrl",["legendUrl","legendURL"])],m.prototype,"readLegendUrl",null),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_5__.property)({type:Boolean,json:{name:"showLegend",origins:{"web-map":{read:!1,write:!1},"web-scene":{read:!1,write:!1}}}})],m.prototype,"legendEnabled",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_5__.property)()],m.prototype,"layer",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_5__.property)()],m.prototype,"maxScale",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_5__.property)()],m.prototype,"minScale",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_5__.property)({readOnly:!0})],m.prototype,"effectiveScaleRange",null),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_5__.property)({type:String,json:{write:{ignoreOrigin:!0}}})],m.prototype,"name",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_5__.property)()],m.prototype,"parent",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_5__.property)({type:Boolean,json:{read:{source:"showPopup"},write:{ignoreOrigin:!0,target:"showPopup"}}})],m.prototype,"popupEnabled",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_5__.property)({type:Boolean,json:{write:{ignoreOrigin:!0}}})],m.prototype,"queryable",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_5__.property)()],m.prototype,"sublayers",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_cast_js__WEBPACK_IMPORTED_MODULE_6__.cast)("sublayers")],m.prototype,"castSublayers",null),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_5__.property)({type:[Number],json:{read:{source:"spatialReferences"}}})],m.prototype,"spatialReferences",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_5__.property)({type:String,json:{write:{ignoreOrigin:!0}}})],m.prototype,"title",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_5__.property)({type:Boolean,value:!0,json:{read:{source:"defaultVisibility"}}})],m.prototype,"visible",null),m=h=(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_subclass_js__WEBPACK_IMPORTED_MODULE_10__.subclass)("esri.layers.support.WMSSublayer")],m);const f=m;


/***/ }),

/***/ "./node_modules/@arcgis/core/layers/support/imageBitmapUtils.js":
/*!**********************************************************************!*\
  !*** ./node_modules/@arcgis/core/layers/support/imageBitmapUtils.js ***!
  \**********************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "createBitmap": () => (/* binding */ t),
/* harmony export */   "createTileBitmap": () => (/* binding */ o)
/* harmony export */ });
/* harmony import */ var _core_Error_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../core/Error.js */ "./node_modules/@arcgis/core/core/Error.js");
/* harmony import */ var _core_promiseUtils_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../core/promiseUtils.js */ "./node_modules/@arcgis/core/core/promiseUtils.js");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.27/esri/copyright.txt for details.
*/
async function t(t,o,a){let c;try{c=await createImageBitmap(t)}catch(l){throw new _core_Error_js__WEBPACK_IMPORTED_MODULE_0__["default"]("request:server",`Unable to load ${o}`,{url:o,error:l})}return (0,_core_promiseUtils_js__WEBPACK_IMPORTED_MODULE_1__.throwIfAborted)(a),c}async function o(t,o,a,c,l){let n;try{n=await createImageBitmap(t)}catch(i){throw new _core_Error_js__WEBPACK_IMPORTED_MODULE_0__["default"]("request:server",`Unable to load tile ${o}/${a}/${c}`,{error:i,level:o,row:a,col:c})}return (0,_core_promiseUtils_js__WEBPACK_IMPORTED_MODULE_1__.throwIfAborted)(l),n}


/***/ }),

/***/ "./node_modules/@arcgis/core/layers/support/wmsUtils.js":
/*!**************************************************************!*\
  !*** ./node_modules/@arcgis/core/layers/support/wmsUtils.js ***!
  \**************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "fromISODuration": () => (/* binding */ R),
/* harmony export */   "getPopupLayers": () => (/* binding */ a),
/* harmony export */   "isDimensionInterval": () => (/* binding */ E),
/* harmony export */   "isElevationDimension": () => (/* binding */ w),
/* harmony export */   "isGenericDimension": () => (/* binding */ L),
/* harmony export */   "isTimeDimension": () => (/* binding */ F),
/* harmony export */   "normalizeWKID": () => (/* binding */ _),
/* harmony export */   "parseCapabilities": () => (/* binding */ l),
/* harmony export */   "toISOString": () => (/* binding */ T)
/* harmony export */ });
/* harmony import */ var _core_arrayUtils_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../core/arrayUtils.js */ "./node_modules/@arcgis/core/core/arrayUtils.js");
/* harmony import */ var _core_Error_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../core/Error.js */ "./node_modules/@arcgis/core/core/Error.js");
/* harmony import */ var _core_urlUtils_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../core/urlUtils.js */ "./node_modules/@arcgis/core/core/urlUtils.js");
/* harmony import */ var _geometry_Extent_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../geometry/Extent.js */ "./node_modules/@arcgis/core/geometry/Extent.js");
/* harmony import */ var _geometry_SpatialReference_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../geometry/SpatialReference.js */ "./node_modules/@arcgis/core/geometry/SpatialReference.js");
/* harmony import */ var _ogc_crsUtils_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../ogc/crsUtils.js */ "./node_modules/@arcgis/core/layers/ogc/crsUtils.js");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.27/esri/copyright.txt for details.
*/
const o={84:4326,83:4269,27:4267};function l(n){if(!n)return null;const i={idCounter:-1};if("string"==typeof n){n=(new DOMParser).parseFromString(n,"text/xml")}const s=n.documentElement;if("ServiceExceptionReport"===s.nodeName){const e=Array.prototype.slice.call(s.childNodes).map((e=>e.textContent)).join("\r\n");throw new _core_Error_js__WEBPACK_IMPORTED_MODULE_1__["default"]("wmslayer:wms-capabilities-xml-is-not-valid","The server returned errors when the WMS capabilities were requested.",e)}const o=d("Capability",s),l=d("Service",s),a=o&&d("Request",o);if(!o||!l||!a)return null;const m=d("Layer",o);if(!m)return null;const f="WMS_Capabilities"===s.nodeName||"WMT_MS_Capabilities"===s.nodeName?s.getAttribute("version"):"1.3.0",p=h("Title",l,"")||h("Name",l,""),x=h("AccessConstraints",l,""),y=/^none$/i.test(x)?"":x,S=h("Abstract",l,""),E=parseInt(h("MaxWidth",l,"5000"),10),w=parseInt(h("MaxHeight",l,"5000"),10),L=N(a,"GetMap"),M=g(a,"GetMap"),C=b(m,f,i);if(!C)return null;let v,I=0;const R=Array.prototype.slice.call(o.childNodes),U=C.sublayers??[],T=e=>{null!=e&&U.push(e)};R.forEach((e=>{"Layer"===e.nodeName&&(0===I?v=e:1===I?(C.name&&(C.name="",T(b(v,f,i))),T(b(e,f,i))):T(b(e,f,i)),I++)}));let V=C.sublayers,O=C.extent;const _=C.fullExtents??[];if(V||(V=[]),0===V.length&&V.push(C),!O){const e=new _geometry_Extent_js__WEBPACK_IMPORTED_MODULE_3__["default"](V[0].extent);C.extent=e.toJSON(),O=C.extent}const B=C.spatialReferences.length>0?C.spatialReferences:u(C),D=g(a,"GetFeatureInfo"),j=D?N(a,"GetFeatureInfo"):null,k=c(V),q=C.minScale||0,X=C.maxScale||0,G=C.dimensions??[],W=k.reduce(((e,t)=>e.concat(t.dimensions??[])),[]),P=G.concat(W).filter(F);let $=null;if(P.length){const t=P.map((e=>{const{extent:t}=e;return A(t)?t.map((e=>e.getTime())):t?.map((e=>[e.min.getTime(),e.max.getTime()]))})).flat(2).filter(_core_arrayUtils_js__WEBPACK_IMPORTED_MODULE_0__.isSome);$={startTimeField:null,endTimeField:null,trackIdField:void 0,timeExtent:[Math.min(...t),Math.max(...t)]}}return{copyright:y,description:S,dimensions:G,extent:O,fullExtents:_,featureInfoFormats:j,featureInfoUrl:D,mapUrl:M,maxWidth:E,maxHeight:w,maxScale:X,minScale:q,layers:k,spatialReferences:B,supportedImageFormatTypes:L,timeInfo:$,title:p,version:f}}function a(e){const t=e.filter((e=>e.popupEnabled&&e.name&&e.queryable));return t.length?t.map((({name:e})=>e)).join():null}function u(e){if(e.spatialReferences.length>0)return e.spatialReferences;if(e.sublayers)for(const t of e.sublayers){const e=u(t);if(e.length>0)return e}return[]}function c(e){let t=[];for(const n of e)t.push(n),n.sublayers?.length&&(t=t.concat(c(n.sublayers)),delete n.sublayers);return t}function m(e,t,n){return t.getAttribute(e)??n}function f(e,t,n,r){const i=d(e,n);return i?m(t,i,r):r}function d(e,t){for(let n=0;n<t.childNodes.length;n++){const r=t.childNodes[n];if(S(r)&&r.nodeName===e)return r}return null}function p(e,t){if(null==t)return[];const n=[];for(let r=0;r<t.childNodes.length;r++){const i=t.childNodes[r];S(i)&&i.nodeName===e&&n.push(i)}return n}function h(e,t,n){return d(e,t)?.textContent??n}function x(e,t,n){if(!e)return null;const s=parseFloat(e.getAttribute("minx")),o=parseFloat(e.getAttribute("miny")),l=parseFloat(e.getAttribute("maxx")),a=parseFloat(e.getAttribute("maxy"));let u,c,m,f;n?(u=isNaN(o)?-Number.MAX_VALUE:o,c=isNaN(s)?-Number.MAX_VALUE:s,m=isNaN(a)?Number.MAX_VALUE:a,f=isNaN(l)?Number.MAX_VALUE:l):(u=isNaN(s)?-Number.MAX_VALUE:s,c=isNaN(o)?-Number.MAX_VALUE:o,m=isNaN(l)?Number.MAX_VALUE:l,f=isNaN(a)?Number.MAX_VALUE:a);const d=new _geometry_SpatialReference_js__WEBPACK_IMPORTED_MODULE_4__["default"]({wkid:t});return new _geometry_Extent_js__WEBPACK_IMPORTED_MODULE_3__["default"]({xmin:u,ymin:c,xmax:m,ymax:f,spatialReference:d})}function g(e,t){const n=d(t,e);if(n){const e=d("DCPType",n);if(e){const t=d("HTTP",e);if(t){const e=d("Get",t);if(e){let t=f("OnlineResource","xlink:href",e,null);if(t)return t.indexOf("&")===t.length-1&&(t=t.substring(0,t.length-1)),M(t,["service","request"])}}}}return null}function N(t,n){const r=p("Operation",t);if(!r.length){return p("Format",d(n,t)).map((({textContent:e})=>e)).filter(_core_arrayUtils_js__WEBPACK_IMPORTED_MODULE_0__.isSome)}const i=[];for(const e of r)if(e.getAttribute("name")===n){const t=p("Format",e);for(const{textContent:e}of t)null!=e&&i.push(e)}return i}function y(e,t,n){const r=d(t,e);if(!r)return n;const{textContent:i}=r;if(null==i||""===i)return n;const s=Number(i);return isNaN(s)?n:s}function b(e,t,n){if(!e)return null;const l={id:n.idCounter++,fullExtents:[],parentLayerId:null,queryable:"1"===e.getAttribute("queryable"),spatialReferences:[],sublayers:null},a=d("LatLonBoundingBox",e),u=d("EX_GeographicBoundingBox",e);let c=null;a&&(c=x(a,4326)),u&&(c=new _geometry_Extent_js__WEBPACK_IMPORTED_MODULE_3__["default"](0,0,0,0,new _geometry_SpatialReference_js__WEBPACK_IMPORTED_MODULE_4__["default"]({wkid:4326})),c.xmin=parseFloat(h("westBoundLongitude",u,"0")),c.ymin=parseFloat(h("southBoundLatitude",u,"0")),c.xmax=parseFloat(h("eastBoundLongitude",u,"0")),c.ymax=parseFloat(h("northBoundLatitude",u,"0"))),a||u||(c=new _geometry_Extent_js__WEBPACK_IMPORTED_MODULE_3__["default"](-180,-90,180,90,new _geometry_SpatialReference_js__WEBPACK_IMPORTED_MODULE_4__["default"]({wkid:4326}))),l.minScale=y(e,"MaxScaleDenominator",0),l.maxScale=y(e,"MinScaleDenominator",0);const f=["1.0.0","1.1.0","1.1.1"].includes(t)?"SRS":"CRS";return Array.prototype.slice.call(e.childNodes).forEach((e=>{if("Name"===e.nodeName)l.name=e.textContent||"";else if("Title"===e.nodeName)l.title=e.textContent||"";else if("Abstract"===e.nodeName)l.description=e.textContent||"";else if("BoundingBox"===e.nodeName){const n=e.getAttribute(f);if(n&&0===n.indexOf("EPSG:")){const r=parseInt(n.substring(5),10);0===r||isNaN(r)||c||(c="1.3.0"===t?x(e,r,(0,_ogc_crsUtils_js__WEBPACK_IMPORTED_MODULE_5__.isAxesOrderReversedForWkid)(r)):x(e,r))}const r=n&&n.indexOf(":");if(r&&r>-1){let i=parseInt(n.substring(r+1,n.length),10);0===i||isNaN(i)||(i=o[i]??i);const a="1.3.0"===t?x(e,i,(0,_ogc_crsUtils_js__WEBPACK_IMPORTED_MODULE_5__.isAxesOrderReversedForWkid)(i)):x(e,i);a&&l.fullExtents&&l.fullExtents.push(a)}}else if(e.nodeName===f){(e.textContent?.split(" ")??[]).forEach((e=>{const t=e.includes(":")?parseInt(e.split(":")[1],10):parseInt(e,10);if(0!==t&&!isNaN(t)){const e=o[t]??t;l.spatialReferences.includes(e)||l.spatialReferences.push(e)}}))}else if("Style"!==e.nodeName||l.legendUrl){if("Layer"===e.nodeName){const r=b(e,t,n);r&&(r.parentLayerId=l.id,l.sublayers||(l.sublayers=[]),l.sublayers.push(r))}}else{const t=d("LegendURL",e);if(t){const e=d("OnlineResource",t);e&&(l.legendUrl=e.getAttribute("xlink:href"))}}})),l.extent=c?.toJSON(),l.dimensions=p("Dimension",e).filter((e=>e.getAttribute("name")&&e.getAttribute("units")&&e.textContent)).map((e=>{const t=e.getAttribute("name"),n=e.getAttribute("units"),r=e.textContent,i=e.getAttribute("unitSymbol")??void 0,s=e.getAttribute("default")??void 0,o="0"!==m("default",e,"0"),l="0"!==m("nearestValue",e,"0"),a="0"!==m("current",e,"0");if(F({name:t,units:n})){return{name:"time",units:"ISO8601",extent:I(r),default:I(s),multipleValues:o,nearestValue:l,current:a}}if(w({name:t,units:n})){return{name:"elevation",units:n,extent:C(r),unitSymbol:i,default:C(s),multipleValues:o,nearestValue:l}}return{name:t,units:n,extent:v(r),unitSymbol:i,default:v(s),multipleValues:o,nearestValue:l}})),l}function A(e){return Array.isArray(e)&&e.length>0&&e[0]instanceof Date}function S(e){return e.nodeType===Node.ELEMENT_NODE}function E(e){return void 0!==e.min&&void 0!==e.max}function w(e){return/^elevation$/i.test(e.name)&&/^(epsg|crs):\d+$/i.test(e.units)}function L(e){return!F(e)&&!w(e)}function F(e){return/^time$/i.test(e.name)&&/^iso8601$/i.test(e.units)}function M(e,t){const r=[],i=(0,_core_urlUtils_js__WEBPACK_IMPORTED_MODULE_2__.urlToObject)(e);for(const n in i.query)i.query.hasOwnProperty(n)&&(t.includes(n.toLowerCase())||r.push(n+"="+i.query[n]));return i.path+(r.length?"?"+r.join("&"):"")}function C(t){if(!t)return;const n=t.includes("/"),r=t.split(",");return n?r.map((e=>{const t=e.split("/");if(t.length<2)return null;return{min:parseFloat(t[0]),max:parseFloat(t[1]),resolution:t.length>=3&&"0"!==t[2]?parseFloat(t[2]):void 0}})).filter(_core_arrayUtils_js__WEBPACK_IMPORTED_MODULE_0__.isSome):r.map((e=>parseFloat(e)))}function v(t){if(!t)return;const n=t.includes("/"),r=t.split(",");return n?r.map((e=>{const t=e.split("/");if(t.length<2)return null;return{min:t[0],max:t[1],resolution:t.length>=3&&"0"!==t[2]?t[2]:void 0}})).filter(_core_arrayUtils_js__WEBPACK_IMPORTED_MODULE_0__.isSome):r}function I(t){if(!t)return;const n=t.includes("/"),r=t.split(",");return n?r.map((e=>{const t=e.split("/");if(t.length<2)return null;return{min:new Date(t[0]),max:new Date(t[1]),resolution:t.length>=3&&"0"!==t[2]?R(t[2]):void 0}})).filter(_core_arrayUtils_js__WEBPACK_IMPORTED_MODULE_0__.isSome):r.map((e=>new Date(e)))}function R(e){const t=/(?:p(\d+y|\d+(?:.|,)\d+y)?(\d+m|\d+(?:.|,)\d+m)?(\d+d|\d+(?:.|,)\d+d)?)?(?:t(\d+h|\d+(?:.|,)\d+h)?(\d+m|\d+(?:.|,)\d+m)?(\d+s|\d+(?:.|,)\d+s)?)?/i,n=e.match(t);if(!n)return null;return{years:U(n[1]),months:U(n[2]),days:U(n[3]),hours:U(n[4]),minutes:U(n[5]),seconds:U(n[6])}}function U(e){if(!e)return 0;const t=/(?:\d+(?:.|,)\d+|\d+)/,n=e.match(t);if(!n)return 0;const r=n[0].replace(",",".");return Number(r)}function T(e){return e.toISOString().replace(/\.[0-9]{3}/,"")}const V=new Set([102100,3857,102113,900913]),O=new Set([3395,54004]);function _(e,t){let n=e.wkid;return null==t?n:(null!=n&&t.includes(n)||!e.latestWkid||(n=e.latestWkid),null!=n&&V.has(n)?t.find((e=>V.has(e)))||t.find((e=>O.has(e)))||102100:n)}


/***/ })

}]);
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoid2lkZ2V0cy9jaHVua3MvM2VlOGNiNTZlYWY4ZDdjN2YzODVhODQ4MDUxY2YzN2YuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDeVYsb0JBQW9CLHNEQUFDLENBQUMsZUFBZSxrQ0FBa0MsYUFBYSxTQUFTLDBFQUFDLHlCQUF5QixVQUFVLHlCQUF5QixXQUFXLDZEQUE2RCx3Q0FBd0MsUUFBUSwyREFBMkQsMkJBQTJCLHNCQUFzQixXQUFXLHNEQUFDLElBQUksd0JBQXdCLGVBQWUsMENBQTBDLHVCQUF1QixTQUFTLDBCQUEwQixnREFBZ0QsNkJBQTZCLG9DQUFvQyxvRUFBb0UscUNBQXFDLFdBQVcsdURBQUMsRUFBRSxpRkFBQyx5Q0FBeUMsdURBQUMsRUFBRSxpRkFBQyw4Q0FBOEMsdURBQUMsRUFBRSxpRkFBQywrQ0FBK0MsdURBQUMsRUFBRSxpRkFBQyxzQ0FBc0MsVUFBK0I7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FDSmx6QztBQUNBO0FBQ0E7QUFDQTtBQUNvRixXQUFXLGdCQUFnQixnQ0FBZ0MseUVBQUMsd0JBQXdCLHdCQUF3Qiw4REFBQyxLQUFLLGdCQUFnQixVQUFVLHlFQUFDLElBQUksOERBQUMsSUFBSSxjQUFjLFVBQVUsOERBQUMsSUFBSSxnQkFBZ0IsVUFBVSx5RUFBQyxJQUFJLDhEQUFDLElBQUksZ0JBQWdCLGtHQUFrRyxxQ0FBMks7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7QUNKeGtCO0FBQ0E7QUFDQTtBQUNBO0FBQ3FsRSxZQUFZLHFEQUFDLEVBQUUscUZBQXFGLEVBQUUsaUJBQWlCLEVBQUUsY0FBYyxzQkFBc0IsY0FBYyx1QkFBdUIsb0JBQW9CLGtFQUFDLENBQUMsd0VBQUMsQ0FBQyw4RUFBQyxDQUFDLDRFQUFDLENBQUMsOEVBQUMsQ0FBQyxvRUFBQyxDQUFDLHFGQUFDLENBQUMsa0RBQUMsU0FBUyxrQkFBa0Isa0NBQWtDLG9F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aUIsY0FBYyx3Q0FBd0MsRUFBRSxNQUFNLHFFQUFxRSxnQkFBZ0IsYUFBYSxvSkFBZ1ciLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9leGItY2xpZW50Ly4vbm9kZV9tb2R1bGVzL0BhcmNnaXMvY29yZS9jb3JlL0NvbGxlY3Rpb25GbGF0dGVuZXIuanMiLCJ3ZWJwYWNrOi8vZXhiLWNsaWVudC8uL25vZGVfbW9kdWxlcy9AYXJjZ2lzL2NvcmUvZ2VvbWV0cnkvc3VwcG9ydC9zY2FsZVV0aWxzLmpzIiwid2VicGFjazovL2V4Yi1jbGllbnQvLi9ub2RlX21vZHVsZXMvQGFyY2dpcy9jb3JlL2xheWVycy9XTVNMYXllci5qcyIsIndlYnBhY2s6Ly9leGItY2xpZW50Ly4vbm9kZV9tb2R1bGVzL0BhcmNnaXMvY29yZS9sYXllcnMvb2djL2Nyc1V0aWxzLmpzIiwid2VicGFjazovL2V4Yi1jbGllbnQvLi9ub2RlX21vZHVsZXMvQGFyY2dpcy9jb3JlL2xheWVycy9zdXBwb3J0L0V4cG9ydFdNU0ltYWdlUGFyYW1ldGVycy5qcyIsIndlYnBhY2s6Ly9leGItY2xpZW50Ly4vbm9kZV9tb2R1bGVzL0BhcmNnaXMvY29yZS9sYXllcnMvc3VwcG9ydC9XTVNTdWJsYXllci5qcyIsIndlYnBhY2s6Ly9leGItY2xpZW50Ly4vbm9kZV9tb2R1bGVzL0BhcmNnaXMvY29yZS9sYXllcnMvc3VwcG9ydC9pbWFnZUJpdG1hcFV0aWxzLmpzIiwid2VicGFjazovL2V4Yi1jbGllbnQvLi9ub2RlX21vZHVsZXMvQGFyY2dpcy9jb3JlL2xheWVycy9zdXBwb3J0L3dtc1V0aWxzLmpzIl0sInNvdXJjZXNDb250ZW50IjpbIi8qXG5BbGwgbWF0ZXJpYWwgY29weXJpZ2h0IEVTUkksIEFsbCBSaWdodHMgUmVzZXJ2ZWQsIHVubGVzcyBvdGhlcndpc2Ugc3BlY2lmaWVkLlxuU2VlIGh0dHBzOi8vanMuYXJjZ2lzLmNvbS80LjI3L2VzcmkvY29weXJpZ2h0LnR4dCBmb3IgZGV0YWlscy5cbiovXG5pbXBvcnR7XyBhcyB0fWZyb21cIi4uL2NodW5rcy90c2xpYi5lczYuanNcIjtpbXBvcnQgbyBmcm9tXCIuL0NvbGxlY3Rpb24uanNcIjtpbXBvcnRcIi4vRXJyb3IuanNcIjtpbXBvcnRcIi4vTG9nZ2VyLmpzXCI7aW1wb3J0XCIuL2FjY2Vzc29yU3VwcG9ydC93YXRjaC5qc1wiO2ltcG9ydHthdXRvcnVuIGFzIHN9ZnJvbVwiLi9hY2Nlc3NvclN1cHBvcnQvdHJhY2tpbmdVdGlscy5qc1wiO2ltcG9ydHtwcm9wZXJ0eSBhcyBlfWZyb21cIi4vYWNjZXNzb3JTdXBwb3J0L2RlY29yYXRvcnMvcHJvcGVydHkuanNcIjtpbXBvcnR7c3ViY2xhc3MgYXMgcn1mcm9tXCIuL2FjY2Vzc29yU3VwcG9ydC9kZWNvcmF0b3JzL3N1YmNsYXNzLmpzXCI7bGV0IGk9Y2xhc3MgZXh0ZW5kcyBve2NvbnN0cnVjdG9yKHQpe3N1cGVyKHQpLHRoaXMuZ2V0Q29sbGVjdGlvbnM9bnVsbH1pbml0aWFsaXplKCl7dGhpcy5vd24ocygoKCk9PnRoaXMuX3JlZnJlc2goKSkpKX1kZXN0cm95KCl7dGhpcy5nZXRDb2xsZWN0aW9ucz1udWxsfV9yZWZyZXNoKCl7Y29uc3QgdD1udWxsIT10aGlzLmdldENvbGxlY3Rpb25zP3RoaXMuZ2V0Q29sbGVjdGlvbnMoKTpudWxsO2lmKG51bGw9PXQpcmV0dXJuIHZvaWQgdGhpcy5yZW1vdmVBbGwoKTtsZXQgbz0wO2Zvcihjb25zdCBzIG9mIHQpbnVsbCE9cyYmKG89dGhpcy5fcHJvY2Vzc0NvbGxlY3Rpb24obyxzKSk7dGhpcy5zcGxpY2Uobyx0aGlzLmxlbmd0aCl9X2NyZWF0ZU5ld0luc3RhbmNlKHQpe3JldHVybiBuZXcgbyh0KX1fcHJvY2Vzc0NvbGxlY3Rpb24odCxvKXtpZighbylyZXR1cm4gdDtjb25zdCBzPXRoaXMuaXRlbUZpbHRlckZ1bmN0aW9uPz8odD0+ISF0KTtmb3IoY29uc3QgZSBvZiBvKWlmKGUpe2lmKHMoZSkpe2NvbnN0IG89dGhpcy5pbmRleE9mKGUsdCk7bz49MD9vIT09dCYmdGhpcy5yZW9yZGVyKGUsdCk6dGhpcy5hZGQoZSx0KSwrK3R9aWYodGhpcy5nZXRDaGlsZHJlbkZ1bmN0aW9uKXtjb25zdCBvPXRoaXMuZ2V0Q2hpbGRyZW5GdW5jdGlvbihlKTtpZihBcnJheS5pc0FycmF5KG8pKWZvcihjb25zdCBzIG9mIG8pdD10aGlzLl9wcm9jZXNzQ29sbGVjdGlvbih0LHMpO2Vsc2UgdD10aGlzLl9wcm9jZXNzQ29sbGVjdGlvbih0LG8pfX1yZXR1cm4gdH19O3QoW2UoKV0saS5wcm90b3R5cGUsXCJnZXRDb2xsZWN0aW9uc1wiLHZvaWQgMCksdChbZSgpXSxpLnByb3RvdHlwZSxcImdldENoaWxkcmVuRnVuY3Rpb25cIix2b2lkIDApLHQoW2UoKV0saS5wcm90b3R5cGUsXCJpdGVtRmlsdGVyRnVuY3Rpb25cIix2b2lkIDApLGk9dChbcihcImVzcmkuY29yZS5Db2xsZWN0aW9uRmxhdHRlbmVyXCIpXSxpKTtjb25zdCBuPWk7ZXhwb3J0e24gYXMgZGVmYXVsdH07XG4iLCIvKlxuQWxsIG1hdGVyaWFsIGNvcHlyaWdodCBFU1JJLCBBbGwgUmlnaHRzIFJlc2VydmVkLCB1bmxlc3Mgb3RoZXJ3aXNlIHNwZWNpZmllZC5cblNlZSBodHRwczovL2pzLmFyY2dpcy5jb20vNC4yNy9lc3JpL2NvcHlyaWdodC50eHQgZm9yIGRldGFpbHMuXG4qL1xuaW1wb3J0e2dldE1ldGVyc1BlclVuaXRGb3JTUiBhcyB0LGluY2hlc1Blck1ldGVyIGFzIG59ZnJvbVwiLi4vLi4vY29yZS91bml0VXRpbHMuanNcIjtjb25zdCBlPTk2O2Z1bmN0aW9uIGkoaSxyKXtjb25zdCBvPXJ8fGkuZXh0ZW50LGM9aS53aWR0aCxkPXQobyYmby5zcGF0aWFsUmVmZXJlbmNlKTtyZXR1cm4gbyYmYz9vLndpZHRoL2MqZCpuKmU6MH1mdW5jdGlvbiByKGkscil7cmV0dXJuIGkvKHQocikqbiplKX1mdW5jdGlvbiBvKHQpe3JldHVybiB0LyhuKmUpfWZ1bmN0aW9uIGMoaSxyKXtyZXR1cm4gaSoodChyKSpuKmUpfWZ1bmN0aW9uIGQodCxuKXtjb25zdCBlPXQuZXh0ZW50LGk9dC53aWR0aC0odC5wYWRkaW5nP3QucGFkZGluZy5sZWZ0K3QucGFkZGluZy5yaWdodDowKSxvPXIobixlLnNwYXRpYWxSZWZlcmVuY2UpO3JldHVybiBlLmNsb25lKCkuZXhwYW5kKG8qaS9lLndpZHRoKX1leHBvcnR7ZCBhcyBnZXRFeHRlbnRGb3JTY2FsZSxyIGFzIGdldFJlc29sdXRpb25Gb3JTY2FsZSxvIGFzIGdldFJlc29sdXRpb25Jbk1ldGVyc0ZvclNjYWxlLGkgYXMgZ2V0U2NhbGUsYyBhcyBnZXRTY2FsZUZvclJlc29sdXRpb259O1xuIiwiLypcbkFsbCBtYXRlcmlhbCBjb3B5cmlnaHQgRVNSSSwgQWxsIFJpZ2h0cyBSZXNlcnZlZCwgdW5sZXNzIG90aGVyd2lzZSBzcGVjaWZpZWQuXG5TZWUgaHR0cHM6Ly9qcy5hcmNnaXMuY29tLzQuMjcvZXNyaS9jb3B5cmlnaHQudHh0IGZvciBkZXRhaWxzLlxuKi9cbmltcG9ydHtfIGFzIGV9ZnJvbVwiLi4vY2h1bmtzL3RzbGliLmVzNi5qc1wiO2ltcG9ydCB0IGZyb21cIi4uL2NvbmZpZy5qc1wiO2ltcG9ydCByIGZyb21cIi4uL0dyYXBoaWMuanNcIjtpbXBvcnQgbyBmcm9tXCIuLi9Qb3B1cFRlbXBsYXRlLmpzXCI7aW1wb3J0IHMgZnJvbVwiLi4vcmVxdWVzdC5qc1wiO2ltcG9ydCBpIGZyb21cIi4uL2NvcmUvQ29sbGVjdGlvbi5qc1wiO2ltcG9ydCBhIGZyb21cIi4uL2NvcmUvQ29sbGVjdGlvbkZsYXR0ZW5lci5qc1wiO2ltcG9ydHtKU09OTWFwIGFzIG59ZnJvbVwiLi4vY29yZS9qc29uTWFwLmpzXCI7aW1wb3J0e2Nsb25lIGFzIGx9ZnJvbVwiLi4vY29yZS9sYW5nLmpzXCI7aW1wb3J0e011bHRpT3JpZ2luSlNPTk1peGluIGFzIHB9ZnJvbVwiLi4vY29yZS9NdWx0aU9yaWdpbkpTT05TdXBwb3J0LmpzXCI7aW1wb3J0e3Rocm93SWZBYm9ydEVycm9yIGFzIG19ZnJvbVwiLi4vY29yZS9wcm9taXNlVXRpbHMuanNcIjtpbXBvcnR7b24gYXMgdSx3YXRjaCBhcyBjLHN5bmMgYXMgZn1mcm9tXCIuLi9jb3JlL3JlYWN0aXZlVXRpbHMuanNcIjtpbXBvcnR7dXJsVG9PYmplY3QgYXMgeSxhZGRRdWVyeVBhcmFtZXRlcnMgYXMgZCxhZGRQcm94eSBhcyBoLFVybCBhcyBnfWZyb21cIi4uL2NvcmUvdXJsVXRpbHMuanNcIjtpbXBvcnR7cHJvcGVydHkgYXMgYn1mcm9tXCIuLi9jb3JlL2FjY2Vzc29yU3VwcG9ydC9kZWNvcmF0b3JzL3Byb3BlcnR5LmpzXCI7aW1wb3J0e0ludGVnZXIgYXMgd31mcm9tXCIuLi9jb3JlL2FjY2Vzc29yU3VwcG9ydC9lbnN1cmVUeXBlLmpzXCI7aW1wb3J0e3JlYWRlciBhcyB2fWZyb21cIi4uL2NvcmUvYWNjZXNzb3JTdXBwb3J0L2RlY29yYXRvcnMvcmVhZGVyLmpzXCI7aW1wb3J0e3N1YmNsYXNzIGFzIHh9ZnJvbVwiLi4vY29yZS9hY2Nlc3NvclN1cHBvcnQvZGVjb3JhdG9ycy9zdWJjbGFzcy5qc1wiO2ltcG9ydHt3cml0ZXIgYXMgan1mcm9tXCIuLi9jb3JlL2FjY2Vzc29yU3VwcG9ydC9kZWNvcmF0b3JzL3dyaXRlci5qc1wiO2ltcG9ydHt3aWxsUHJvcGVydHlXcml0ZSBhcyBJfWZyb21cIi4uL2NvcmUvYWNjZXNzb3JTdXBwb3J0L3dyaXRlLmpzXCI7aW1wb3J0IFMgZnJvbVwiLi4vZ2VvbWV0cnkvRXh0ZW50LmpzXCI7aW1wb3J0IEYgZnJvbVwiLi4vZ2VvbWV0cnkvU3BhdGlhbFJlZmVyZW5jZS5qc1wiO2ltcG9ydHtnZXRTY2FsZSBhcyBQfWZyb21cIi4uL2dlb21ldHJ5L3N1cHBvcnQvc2NhbGVVdGlscy5qc1wiO2ltcG9ydHtlcXVhbHMgYXMgUn1mcm9tXCIuLi9nZW9tZXRyeS9zdXBwb3J0L3NwYXRpYWxSZWZlcmVuY2VVdGlscy5qc1wiO2ltcG9ydCBFIGZyb21cIi4vTGF5ZXIuanNcIjtpbXBvcnR7QmxlbmRMYXllciBhcyBPfWZyb21cIi4vbWl4aW5zL0JsZW5kTGF5ZXIuanNcIjtpbXBvcnR7T3BlcmF0aW9uYWxMYXllciBhcyBMfWZyb21cIi4vbWl4aW5zL09wZXJhdGlvbmFsTGF5ZXIuanNcIjtpbXBvcnR7UG9ydGFsTGF5ZXIgYXMgVX1mcm9tXCIuL21peGlucy9Qb3J0YWxMYXllci5qc1wiO2ltcG9ydHtSZWZyZXNoYWJsZUxheWVyIGFzIE19ZnJvbVwiLi9taXhpbnMvUmVmcmVzaGFibGVMYXllci5qc1wiO2ltcG9ydHtTY2FsZVJhbmdlTGF5ZXIgYXMgVH1mcm9tXCIuL21peGlucy9TY2FsZVJhbmdlTGF5ZXIuanNcIjtpbXBvcnR7VGVtcG9yYWxMYXllciBhcyBffWZyb21cIi4vbWl4aW5zL1RlbXBvcmFsTGF5ZXIuanNcIjtpbXBvcnR7aXNBeGVzT3JkZXJSZXZlcnNlZEZvcldraWQgYXMgJH1mcm9tXCIuL29nYy9jcnNVdGlscy5qc1wiO2ltcG9ydHtpc1dtc1NlcnZlciBhcyBDfWZyb21cIi4vc3VwcG9ydC9hcmNnaXNMYXllclVybC5qc1wiO2ltcG9ydHtsZWdlbmRFbmFibGVkIGFzIFcsdXJsIGFzIHF9ZnJvbVwiLi9zdXBwb3J0L2NvbW1vblByb3BlcnRpZXMuanNcIjtpbXBvcnR7RXhwb3J0V01TSW1hZ2VQYXJhbWV0ZXJzIGFzIE59ZnJvbVwiLi9zdXBwb3J0L0V4cG9ydFdNU0ltYWdlUGFyYW1ldGVycy5qc1wiO2ltcG9ydHtjcmVhdGVCaXRtYXAgYXMgQn1mcm9tXCIuL3N1cHBvcnQvaW1hZ2VCaXRtYXBVdGlscy5qc1wiO2ltcG9ydCBIIGZyb21cIi4vc3VwcG9ydC9XTVNTdWJsYXllci5qc1wiO2ltcG9ydHtub3JtYWxpemVXS0lEIGFzIGssdG9JU09TdHJpbmcgYXMgRyxnZXRQb3B1cExheWVycyBhcyBBLHBhcnNlQ2FwYWJpbGl0aWVzIGFzIER9ZnJvbVwiLi9zdXBwb3J0L3dtc1V0aWxzLmpzXCI7Y29uc3QgSj1uZXcgbih7Ym1wOlwiaW1hZ2UvYm1wXCIsZ2lmOlwiaW1hZ2UvZ2lmXCIsanBnOlwiaW1hZ2UvanBlZ1wiLHBuZzpcImltYWdlL3BuZ1wiLHN2ZzpcImltYWdlL3N2Zyt4bWxcIn0se2lnbm9yZVVua25vd246ITF9KTtmdW5jdGlvbiBWKGUpe3JldHVyblwidGV4dC9odG1sXCI9PT1lfWZ1bmN0aW9uIHooZSl7cmV0dXJuXCJ0ZXh0L3BsYWluXCI9PT1lfWxldCBRPWNsYXNzIGV4dGVuZHMoTyhfKE0oVChMKFUocChFKSkpKSkpKSl7Y29uc3RydWN0b3IoLi4uZSl7c3VwZXIoLi4uZSksdGhpcy5hbGxTdWJsYXllcnM9bmV3IGEoe2dldENvbGxlY3Rpb25zOigpPT5bdGhpcy5zdWJsYXllcnNdLGdldENoaWxkcmVuRnVuY3Rpb246ZT0+ZS5zdWJsYXllcnN9KSx0aGlzLmN1c3RvbVBhcmFtZXRlcnM9bnVsbCx0aGlzLmN1c3RvbUxheWVyUGFyYW1ldGVycz1udWxsLHRoaXMuY29weXJpZ2h0PW51bGwsdGhpcy5kZXNjcmlwdGlvbj1udWxsLHRoaXMuZGltZW5zaW9ucz1udWxsLHRoaXMuZnVsbEV4dGVudD1udWxsLHRoaXMuZnVsbEV4dGVudHM9bnVsbCx0aGlzLmZlYXR1cmVJbmZvRm9ybWF0cz1udWxsLHRoaXMuZmVhdHVyZUluZm9Vcmw9bnVsbCx0aGlzLmZldGNoRmVhdHVyZUluZm9GdW5jdGlvbj1udWxsLHRoaXMuaW1hZ2VGb3JtYXQ9bnVsbCx0aGlzLmltYWdlTWF4SGVpZ2h0PTIwNDgsdGhpcy5pbWFnZU1heFdpZHRoPTIwNDgsdGhpcy5pbWFnZVRyYW5zcGFyZW5jeT0hMCx0aGlzLmxlZ2VuZEVuYWJsZWQ9ITAsdGhpcy5tYXBVcmw9bnVsbCx0aGlzLmlzUmVmZXJlbmNlPW51bGwsdGhpcy5vcGVyYXRpb25hbExheWVyVHlwZT1cIldNU1wiLHRoaXMuc3BhdGlhbFJlZmVyZW5jZT1udWxsLHRoaXMuc3BhdGlhbFJlZmVyZW5jZXM9bnVsbCx0aGlzLnN1YmxheWVycz1udWxsLHRoaXMudHlwZT1cIndtc1wiLHRoaXMudmVyc2lvbj1udWxsLHRoaXMuYWRkSGFuZGxlcyhbdSgoKCk9PnRoaXMuc3VibGF5ZXJzKSxcImFmdGVyLWFkZFwiLCgoe2l0ZW06ZX0pPT57ZS5wYXJlbnQ9ZS5sYXllcj10aGlzfSksZiksdSgoKCk9PnRoaXMuc3VibGF5ZXJzKSxcImFmdGVyLXJlbW92ZVwiLCgoe2l0ZW06ZX0pPT57ZS5sYXllcj1lLnBhcmVudD1udWxsfSksZiksYygoKCk9PnRoaXMuc3VibGF5ZXJzKSwoKGUsdCk9PntpZih0KWZvcihjb25zdCByIG9mIHQpci5sYXllcj1yLnBhcmVudD1udWxsO2lmKGUpZm9yKGNvbnN0IHIgb2YgZSlyLnBhcmVudD1yLmxheWVyPXRoaXN9KSxmKV0pfW5vcm1hbGl6ZUN0b3JBcmdzKGUsdCl7cmV0dXJuXCJzdHJpbmdcIj09dHlwZW9mIGU/e3VybDplLC4uLnR9OmV9ZGVzdHJveSgpe3RoaXMuYWxsU3VibGF5ZXJzLmRlc3Ryb3koKX1sb2FkKGUpe2NvbnN0IHQ9bnVsbCE9ZT9lLnNpZ25hbDpudWxsO3JldHVybiB0aGlzLmFkZFJlc29sdmluZ1Byb21pc2UodGhpcy5sb2FkRnJvbVBvcnRhbCh7c3VwcG9ydGVkVHlwZXM6W1wiV01TXCJdfSxlKS5jYXRjaChtKS50aGVuKCgoKT0+dGhpcy5fZmV0Y2hTZXJ2aWNlKHQpKSkpLFByb21pc2UucmVzb2x2ZSh0aGlzKX1yZWFkRnVsbEV4dGVudEZyb21JdGVtT3JNYXAoZSx0KXtjb25zdCByPXQuZXh0ZW50O3JldHVybiByP25ldyBTKHt4bWluOnJbMF1bMF0seW1pbjpyWzBdWzFdLHhtYXg6clsxXVswXSx5bWF4OnJbMV1bMV19KTpudWxsfXdyaXRlRnVsbEV4dGVudChlLHQpe3QuZXh0ZW50PVtbZS54bWluLGUueW1pbl0sW2UueG1heCxlLnltYXhdXX1nZXQgZmVhdHVyZUluZm9Gb3JtYXQoKXtyZXR1cm4gbnVsbD09dGhpcy5mZWF0dXJlSW5mb0Zvcm1hdHM/bnVsbDp0aGlzLmZlYXR1cmVJbmZvRm9ybWF0cy5maW5kKFYpPz90aGlzLmZlYXR1cmVJbmZvRm9ybWF0cy5maW5kKHopPz9udWxsfXNldCBmZWF0dXJlSW5mb0Zvcm1hdChlKXtudWxsPT1lPyh0aGlzLnJldmVydChcImZlYXR1cmVJbmZvRm9ybWF0XCIsXCJzZXJ2aWNlXCIpLHRoaXMuX2NsZWFyT3ZlcnJpZGUoXCJmZWF0dXJlSW5mb0Zvcm1hdFwiKSk6KFYoZSl8fHooZSkpJiZ0aGlzLl9vdmVycmlkZShcImZlYXR1cmVJbmZvRm9ybWF0XCIsZSl9cmVhZEltYWdlRm9ybWF0KGUsdCl7Y29uc3Qgcj10LnN1cHBvcnRlZEltYWdlRm9ybWF0VHlwZXM7cmV0dXJuIHImJnIuaW5jbHVkZXMoXCJpbWFnZS9wbmdcIik/XCJpbWFnZS9wbmdcIjpyJiZyWzBdfXJlYWRTcGF0aWFsUmVmZXJlbmNlRnJvbUl0ZW1PckRvY3VtZW50KGUsdCl7cmV0dXJuIG5ldyBGKHQuc3BhdGlhbFJlZmVyZW5jZXNbMF0pfXdyaXRlU3BhdGlhbFJlZmVyZW5jZXMoZSx0KXtjb25zdCByPXRoaXMuc3BhdGlhbFJlZmVyZW5jZT8ud2tpZDtlJiZyPyh0LnNwYXRpYWxSZWZlcmVuY2VzPWUuZmlsdGVyKChlPT5lIT09cikpLHQuc3BhdGlhbFJlZmVyZW5jZXMudW5zaGlmdChyKSk6dC5zcGF0aWFsUmVmZXJlbmNlcz1lfXJlYWRTdWJsYXllcnNGcm9tSXRlbU9yTWFwKGUsdCxyKXtyZXR1cm4gWCh0LmxheWVycyxyLHQudmlzaWJsZUxheWVycyl9cmVhZFN1YmxheWVycyhlLHQscil7cmV0dXJuIFgodC5sYXllcnMscil9d3JpdGVTdWJsYXllcnMoZSx0LHIsbyl7dC5sYXllcnM9W107Y29uc3Qgcz1uZXcgTWFwLGk9ZS5mbGF0dGVuKCgoe3N1YmxheWVyczplfSk9PmU/P1tdKSk7Zm9yKGNvbnN0IGEgb2YgaSlpZihcIm51bWJlclwiPT10eXBlb2YgYS5wYXJlbnQ/LmlkKXtjb25zdCBlPXMuZ2V0KGEucGFyZW50LmlkKTtudWxsIT1lP2UucHVzaChhLmlkKTpzLnNldChhLnBhcmVudC5pZCxbYS5pZF0pfWZvcihjb25zdCBhIG9mIGkpe2NvbnN0IGU9e3N1YmxheWVyOmEsLi4ub30scj1hLndyaXRlKHtwYXJlbnRMYXllcklkOlwibnVtYmVyXCI9PXR5cGVvZiBhLnBhcmVudD8uaWQ/YS5wYXJlbnQuaWQ6LTF9LGUpO2lmKHMuaGFzKGEuaWQpJiYoci5zdWJsYXllcklkcz1zLmdldChhLmlkKSksIWEuc3VibGF5ZXJzJiZhLm5hbWUpe2NvbnN0IHI9YS53cml0ZSh7fSxlKTtkZWxldGUgci5pZCx0LmxheWVycy5wdXNoKHIpfX10LnZpc2libGVMYXllcnM9aS5maWx0ZXIoKCh7dmlzaWJsZTplLHN1YmxheWVyczp0fSk9PmUmJiF0KSkubWFwKCgoe25hbWU6ZX0pPT5lKSkudG9BcnJheSgpfXNldCB1cmwoZSl7aWYoIWUpcmV0dXJuIHZvaWQgdGhpcy5fc2V0KFwidXJsXCIsZSk7Y29uc3R7cGF0aDp0LHF1ZXJ5OnJ9PXkoZSk7Zm9yKGNvbnN0IHMgaW4gcikvXihyZXF1ZXN0fHNlcnZpY2UpJC9pLnRlc3QocykmJmRlbGV0ZSByW3NdO2NvbnN0IG89ZCh0LHI/P3t9KTt0aGlzLl9zZXQoXCJ1cmxcIixvKX1jcmVhdGVFeHBvcnRJbWFnZVBhcmFtZXRlcnMoZSx0LHIsbyl7Y29uc3Qgcz1vPy5waXhlbFJhdGlvPz8xLGk9UCh7ZXh0ZW50OmUsd2lkdGg6dH0pKnMsYT1uZXcgTih7bGF5ZXI6dGhpcyxzY2FsZTppfSkse3htaW46bix5bWluOmwseG1heDpwLHltYXg6bSxzcGF0aWFsUmVmZXJlbmNlOnV9PWUsYz1rKHUsdGhpcy5zcGF0aWFsUmVmZXJlbmNlcyksZj1cIjEuMy4wXCI9PT10aGlzLnZlcnNpb24mJiQoYyk/YCR7bH0sJHtufSwke219LCR7cH1gOmAke259LCR7bH0sJHtwfSwke219YCx5PWEudG9KU09OKCk7cmV0dXJue2Jib3g6ZixbXCIxLjMuMFwiPT09dGhpcy52ZXJzaW9uP1wiY3JzXCI6XCJzcnNcIl06bnVsbD09Y3x8aXNOYU4oYyk/dm9pZCAwOlwiRVBTRzpcIitjLC4uLnl9fWFzeW5jIGZldGNoSW1hZ2UoZSx0LHIsbyl7Y29uc3QgaT10aGlzLm1hcFVybCxhPXRoaXMuY3JlYXRlRXhwb3J0SW1hZ2VQYXJhbWV0ZXJzKGUsdCxyLG8pO2lmKCFhLmxheWVycyl7Y29uc3QgZT1kb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiY2FudmFzXCIpO3JldHVybiBlLndpZHRoPXQsZS5oZWlnaHQ9cixlfWNvbnN0IG49bz8udGltZUV4dGVudD8uc3RhcnQsbD1vPy50aW1lRXh0ZW50Py5lbmQscD1udWxsIT1uJiZudWxsIT1sP24uZ2V0VGltZSgpPT09bC5nZXRUaW1lKCk/RyhuKTpgJHtHKG4pfS8ke0cobCl9YDp2b2lkIDAsbT17cmVzcG9uc2VUeXBlOlwiaW1hZ2VcIixxdWVyeTp0aGlzLl9taXhDdXN0b21QYXJhbWV0ZXJzKHt3aWR0aDp0LGhlaWdodDpyLC4uLmEsdGltZTpwLC4uLnRoaXMucmVmcmVzaFBhcmFtZXRlcnN9KSxzaWduYWw6bz8uc2lnbmFsfTtyZXR1cm4gcyhpPz9cIlwiLG0pLnRoZW4oKGU9PmUuZGF0YSkpfWFzeW5jIGZldGNoSW1hZ2VCaXRtYXAoZSx0LHIsbyl7Y29uc3QgaT10aGlzLm1hcFVybD8/XCJcIixhPXRoaXMuY3JlYXRlRXhwb3J0SW1hZ2VQYXJhbWV0ZXJzKGUsdCxyLG8pO2lmKCFhLmxheWVycyl7Y29uc3QgZT1kb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiY2FudmFzXCIpO3JldHVybiBlLndpZHRoPXQsZS5oZWlnaHQ9cixlfWNvbnN0IG49bz8udGltZUV4dGVudD8uc3RhcnQsbD1vPy50aW1lRXh0ZW50Py5lbmQscD1udWxsIT1uJiZudWxsIT1sP24uZ2V0VGltZSgpPT09bC5nZXRUaW1lKCk/RyhuKTpgJHtHKG4pfS8ke0cobCl9YDp2b2lkIDAsbT17cmVzcG9uc2VUeXBlOlwiYmxvYlwiLHF1ZXJ5OnRoaXMuX21peEN1c3RvbVBhcmFtZXRlcnMoe3dpZHRoOnQsaGVpZ2h0OnIsLi4uYSx0aW1lOnAsLi4udGhpcy5yZWZyZXNoUGFyYW1ldGVyc30pLHNpZ25hbDpvPy5zaWduYWx9LHtkYXRhOnV9PWF3YWl0IHMoaSxtKTtyZXR1cm4gQih1LGksbz8uc2lnbmFsKX1mZXRjaEZlYXR1cmVJbmZvKGUsdCxyLG8scyl7Y29uc3QgaT1QKHtleHRlbnQ6ZSx3aWR0aDp0fSksYT1uZXcgTih7bGF5ZXI6dGhpcyxzY2FsZTppfSksbj1BKGEudmlzaWJsZVN1YmxheWVycyk7aWYobnVsbD09dGhpcy5mZWF0dXJlSW5mb1VybHx8bnVsbD09bilyZXR1cm4gUHJvbWlzZS5yZXNvbHZlKFtdKTtpZihudWxsPT10aGlzLmZldGNoRmVhdHVyZUluZm9GdW5jdGlvbiYmbnVsbD09dGhpcy5mZWF0dXJlSW5mb0Zvcm1hdClyZXR1cm4gUHJvbWlzZS5yZXNvbHZlKFtdKTtjb25zdCBsPVwiMS4zLjBcIj09PXRoaXMudmVyc2lvbj97STpvLEo6c306e3g6byx5OnN9LHA9e3F1ZXJ5X2xheWVyczpuLHJlcXVlc3Q6XCJHZXRGZWF0dXJlSW5mb1wiLGluZm9fZm9ybWF0OnRoaXMuZmVhdHVyZUluZm9Gb3JtYXQsZmVhdHVyZV9jb3VudDoyNSx3aWR0aDp0LGhlaWdodDpyLC4uLmx9LG09ey4uLnRoaXMuY3JlYXRlRXhwb3J0SW1hZ2VQYXJhbWV0ZXJzKGUsdCxyKSwuLi5wfSx1PXRoaXMuX21peEN1c3RvbVBhcmFtZXRlcnMobSk7cmV0dXJuIG51bGwhPXRoaXMuZmV0Y2hGZWF0dXJlSW5mb0Z1bmN0aW9uP3RoaXMuZmV0Y2hGZWF0dXJlSW5mb0Z1bmN0aW9uKHUpOnRoaXMuX2RlZmF1bHRGZXRjaEZlYXR1cmVJbmZvRnVuY3Rpb24oZCh0aGlzLmZlYXR1cmVJbmZvVXJsLHUpKX1maW5kU3VibGF5ZXJCeUlkKGUpe3JldHVybiB0aGlzLmFsbFN1YmxheWVycy5maW5kKCh0PT50LmlkPT09ZSkpfWZpbmRTdWJsYXllckJ5TmFtZShlKXtyZXR1cm4gdGhpcy5hbGxTdWJsYXllcnMuZmluZCgodD0+dC5uYW1lPT09ZSkpfXNlcnZpY2VTdXBwb3J0c1NwYXRpYWxSZWZlcmVuY2UoZSl7cmV0dXJuIEModGhpcy51cmwpfHxudWxsIT10aGlzLnNwYXRpYWxSZWZlcmVuY2VzJiZ0aGlzLnNwYXRpYWxSZWZlcmVuY2VzLnNvbWUoKHQ9Pntjb25zdCByPTkwMDkxMz09PXQ/Ri5XZWJNZXJjYXRvcjpuZXcgRih7d2tpZDp0fSk7cmV0dXJuIFIocixlKX0pKX1fZGVmYXVsdEZldGNoRmVhdHVyZUluZm9GdW5jdGlvbihlKXtjb25zdCB0PWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJpZnJhbWVcIik7dC5zcmM9aChlKSx0LnN0eWxlLmJvcmRlcj1cIm5vbmVcIix0LnN0eWxlLm1hcmdpbj1cIjBcIix0LnN0eWxlLndpZHRoPVwiMTAwJVwiLHQuc2V0QXR0cmlidXRlKFwic2FuZGJveFwiLFwiXCIpO2NvbnN0IHM9bmV3IG8oe3RpdGxlOnRoaXMudGl0bGUsY29udGVudDp0fSksaT1uZXcgcih7c291cmNlTGF5ZXI6dGhpcyxwb3B1cFRlbXBsYXRlOnN9KTtyZXR1cm4gUHJvbWlzZS5yZXNvbHZlKFtpXSl9YXN5bmMgX2ZldGNoU2VydmljZShlKXtpZighdGhpcy5yZXNvdXJjZUluZm8mJnRoaXMucGFyc2VkVXJsPy5wYXRoKXtjb25zdHtwYXRoOnQscXVlcnk6cn09dGhpcy5wYXJzZWRVcmwse2RhdGE6b309YXdhaXQgcyh0LHtxdWVyeTp7U0VSVklDRTpcIldNU1wiLFJFUVVFU1Q6XCJHZXRDYXBhYmlsaXRpZXNcIiwuLi5yLC4uLnRoaXMuY3VzdG9tUGFyYW1ldGVyc30scmVzcG9uc2VUeXBlOlwieG1sXCIsc2lnbmFsOmV9KTt0aGlzLnJlc291cmNlSW5mbz1EKG8pfWlmKHRoaXMucGFyc2VkVXJsKXtjb25zdCBlPW5ldyBnKHRoaXMucGFyc2VkVXJsLnBhdGgpLHtodHRwc0RvbWFpbnM6cn09dC5yZXF1ZXN0O1wiaHR0cHNcIiE9PWUuc2NoZW1lfHxlLnBvcnQmJlwiNDQzXCIhPT1lLnBvcnR8fCFlLmhvc3R8fHIuaW5jbHVkZXMoZS5ob3N0KXx8ci5wdXNoKGUuaG9zdCl9dGhpcy5yZWFkKHRoaXMucmVzb3VyY2VJbmZvLHtvcmlnaW46XCJzZXJ2aWNlXCJ9KX1fbWl4Q3VzdG9tUGFyYW1ldGVycyhlKXtpZighdGhpcy5jdXN0b21MYXllclBhcmFtZXRlcnMmJiF0aGlzLmN1c3RvbVBhcmFtZXRlcnMpcmV0dXJuIGU7Y29uc3QgdD17Li4udGhpcy5jdXN0b21QYXJhbWV0ZXJzLC4uLnRoaXMuY3VzdG9tTGF5ZXJQYXJhbWV0ZXJzfTtmb3IoY29uc3QgciBpbiB0KWVbci50b0xvd2VyQ2FzZSgpXT10W3JdO3JldHVybiBlfX07ZnVuY3Rpb24gSyhlLHQpe3JldHVybiBlLnNvbWUoKGU9Pntmb3IoY29uc3QgciBpbiBlKWlmKEkoZSxyLG51bGwsdCkpcmV0dXJuITA7cmV0dXJuITF9KSl9ZnVuY3Rpb24gWChlLHQscil7ZT1lPz9bXTtjb25zdCBvPW5ldyBNYXA7ZS5ldmVyeSgoZT0+bnVsbD09ZS5pZCkpJiYoZT1sKGUpKS5mb3JFYWNoKCgoZSx0KT0+ZS5pZD10KSk7Zm9yKGNvbnN0IGkgb2YgZSl7Y29uc3QgZT1uZXcgSDtlLnJlYWQoaSx0KSxyJiYhci5pbmNsdWRlcyhlLm5hbWUpJiYoZS52aXNpYmxlPSExKSxvLnNldChlLmlkLGUpfWNvbnN0IHM9W107Zm9yKGNvbnN0IGEgb2YgZSl7Y29uc3QgZT1udWxsIT1hLmlkP28uZ2V0KGEuaWQpOm51bGw7aWYoZSlpZihudWxsIT1hLnBhcmVudExheWVySWQmJmEucGFyZW50TGF5ZXJJZD49MCl7Y29uc3QgdD1vLmdldChhLnBhcmVudExheWVySWQpO2lmKCF0KWNvbnRpbnVlO3Quc3VibGF5ZXJzfHwodC5zdWJsYXllcnM9bmV3IGkpLHQuc3VibGF5ZXJzLnB1c2goZSl9ZWxzZSBzLnB1c2goZSl9cmV0dXJuIHN9ZShbYih7cmVhZE9ubHk6ITB9KV0sUS5wcm90b3R5cGUsXCJhbGxTdWJsYXllcnNcIix2b2lkIDApLGUoW2Ioe2pzb246e3R5cGU6T2JqZWN0LHdyaXRlOiEwfX0pXSxRLnByb3RvdHlwZSxcImN1c3RvbVBhcmFtZXRlcnNcIix2b2lkIDApLGUoW2Ioe2pzb246e3R5cGU6T2JqZWN0LHdyaXRlOiEwfX0pXSxRLnByb3RvdHlwZSxcImN1c3RvbUxheWVyUGFyYW1ldGVyc1wiLHZvaWQgMCksZShbYih7dHlwZTpTdHJpbmcsanNvbjp7d3JpdGU6ITB9fSldLFEucHJvdG90eXBlLFwiY29weXJpZ2h0XCIsdm9pZCAwKSxlKFtiKCldLFEucHJvdG90eXBlLFwiZGVzY3JpcHRpb25cIix2b2lkIDApLGUoW2Ioe3JlYWRPbmx5OiEwfSldLFEucHJvdG90eXBlLFwiZGltZW5zaW9uc1wiLHZvaWQgMCksZShbYih7anNvbjp7dHlwZTpbW051bWJlcl1dLHJlYWQ6e3NvdXJjZTpcImV4dGVudFwifSx3cml0ZTp7dGFyZ2V0OlwiZXh0ZW50XCJ9LG9yaWdpbnM6e1wid2ViLWRvY3VtZW50XCI6e3dyaXRlOntpZ25vcmVPcmlnaW46ITB9fSxcInBvcnRhbC1pdGVtXCI6e3dyaXRlOntpZ25vcmVPcmlnaW46ITB9fX19fSldLFEucHJvdG90eXBlLFwiZnVsbEV4dGVudFwiLHZvaWQgMCksZShbdihbXCJ3ZWItZG9jdW1lbnRcIixcInBvcnRhbC1pdGVtXCJdLFwiZnVsbEV4dGVudFwiLFtcImV4dGVudFwiXSldLFEucHJvdG90eXBlLFwicmVhZEZ1bGxFeHRlbnRGcm9tSXRlbU9yTWFwXCIsbnVsbCksZShbaihbXCJ3ZWItZG9jdW1lbnRcIixcInBvcnRhbC1pdGVtXCJdLFwiZnVsbEV4dGVudFwiLHtleHRlbnQ6e3R5cGU6W1tOdW1iZXJdXX19KV0sUS5wcm90b3R5cGUsXCJ3cml0ZUZ1bGxFeHRlbnRcIixudWxsKSxlKFtiKCldLFEucHJvdG90eXBlLFwiZnVsbEV4dGVudHNcIix2b2lkIDApLGUoW2Ioe3R5cGU6U3RyaW5nLGpzb246e3dyaXRlOntpZ25vcmVPcmlnaW46ITB9fX0pXSxRLnByb3RvdHlwZSxcImZlYXR1cmVJbmZvRm9ybWF0XCIsbnVsbCksZShbYih7dHlwZTpbU3RyaW5nXSxyZWFkT25seTohMH0pXSxRLnByb3RvdHlwZSxcImZlYXR1cmVJbmZvRm9ybWF0c1wiLHZvaWQgMCksZShbYih7dHlwZTpTdHJpbmcsanNvbjp7d3JpdGU6e2lnbm9yZU9yaWdpbjohMH19fSldLFEucHJvdG90eXBlLFwiZmVhdHVyZUluZm9VcmxcIix2b2lkIDApLGUoW2IoKV0sUS5wcm90b3R5cGUsXCJmZXRjaEZlYXR1cmVJbmZvRnVuY3Rpb25cIix2b2lkIDApLGUoW2Ioe3R5cGU6U3RyaW5nLGpzb246e29yaWdpbnM6e1wid2ViLWRvY3VtZW50XCI6e2RlZmF1bHQ6XCJpbWFnZS9wbmdcIix0eXBlOkouanNvblZhbHVlcyxyZWFkOntyZWFkZXI6Si5yZWFkLHNvdXJjZTpcImZvcm1hdFwifSx3cml0ZTp7d3JpdGVyOkoud3JpdGUsdGFyZ2V0OlwiZm9ybWF0XCJ9fX19fSldLFEucHJvdG90eXBlLFwiaW1hZ2VGb3JtYXRcIix2b2lkIDApLGUoW3YoXCJpbWFnZUZvcm1hdFwiLFtcInN1cHBvcnRlZEltYWdlRm9ybWF0VHlwZXNcIl0pXSxRLnByb3RvdHlwZSxcInJlYWRJbWFnZUZvcm1hdFwiLG51bGwpLGUoW2Ioe3R5cGU6TnVtYmVyLGpzb246e3JlYWQ6e3NvdXJjZTpcIm1heEhlaWdodFwifSx3cml0ZTp7dGFyZ2V0OlwibWF4SGVpZ2h0XCJ9fX0pXSxRLnByb3RvdHlwZSxcImltYWdlTWF4SGVpZ2h0XCIsdm9pZCAwKSxlKFtiKHt0eXBlOk51bWJlcixqc29uOntyZWFkOntzb3VyY2U6XCJtYXhXaWR0aFwifSx3cml0ZTp7dGFyZ2V0OlwibWF4V2lkdGhcIn19fSldLFEucHJvdG90eXBlLFwiaW1hZ2VNYXhXaWR0aFwiLHZvaWQgMCksZShbYigpXSxRLnByb3RvdHlwZSxcImltYWdlVHJhbnNwYXJlbmN5XCIsdm9pZCAwKSxlKFtiKFcpXSxRLnByb3RvdHlwZSxcImxlZ2VuZEVuYWJsZWRcIix2b2lkIDApLGUoW2Ioe3R5cGU6W1wic2hvd1wiLFwiaGlkZVwiLFwiaGlkZS1jaGlsZHJlblwiXX0pXSxRLnByb3RvdHlwZSxcImxpc3RNb2RlXCIsdm9pZCAwKSxlKFtiKHt0eXBlOlN0cmluZyxqc29uOnt3cml0ZTp7aWdub3JlT3JpZ2luOiEwfX19KV0sUS5wcm90b3R5cGUsXCJtYXBVcmxcIix2b2lkIDApLGUoW2Ioe3R5cGU6Qm9vbGVhbixqc29uOntyZWFkOiExLHdyaXRlOntlbmFibGVkOiEwLG92ZXJyaWRlUG9saWN5OigpPT4oe2VuYWJsZWQ6ITF9KX19fSldLFEucHJvdG90eXBlLFwiaXNSZWZlcmVuY2VcIix2b2lkIDApLGUoW2Ioe3R5cGU6W1wiV01TXCJdfSldLFEucHJvdG90eXBlLFwib3BlcmF0aW9uYWxMYXllclR5cGVcIix2b2lkIDApLGUoW2IoKV0sUS5wcm90b3R5cGUsXCJyZXNvdXJjZUluZm9cIix2b2lkIDApLGUoW2Ioe3R5cGU6Rixqc29uOntvcmlnaW5zOntzZXJ2aWNlOntyZWFkOntzb3VyY2U6XCJleHRlbnQuc3BhdGlhbFJlZmVyZW5jZVwifX19LHdyaXRlOiExfX0pXSxRLnByb3RvdHlwZSxcInNwYXRpYWxSZWZlcmVuY2VcIix2b2lkIDApLGUoW3YoW1wid2ViLWRvY3VtZW50XCIsXCJwb3J0YWwtaXRlbVwiXSxcInNwYXRpYWxSZWZlcmVuY2VcIixbXCJzcGF0aWFsUmVmZXJlbmNlc1wiXSldLFEucHJvdG90eXBlLFwicmVhZFNwYXRpYWxSZWZlcmVuY2VGcm9tSXRlbU9yRG9jdW1lbnRcIixudWxsKSxlKFtiKHt0eXBlOlt3XSxqc29uOntyZWFkOiExLG9yaWdpbnM6e3NlcnZpY2U6e3JlYWQ6ITB9LFwid2ViLWRvY3VtZW50XCI6e3JlYWQ6ITEsd3JpdGU6e2lnbm9yZU9yaWdpbjohMH19LFwicG9ydGFsLWl0ZW1cIjp7cmVhZDohMSx3cml0ZTp7aWdub3JlT3JpZ2luOiEwfX19fX0pXSxRLnByb3RvdHlwZSxcInNwYXRpYWxSZWZlcmVuY2VzXCIsdm9pZCAwKSxlKFtqKFtcIndlYi1kb2N1bWVudFwiLFwicG9ydGFsLWl0ZW1cIl0sXCJzcGF0aWFsUmVmZXJlbmNlc1wiKV0sUS5wcm90b3R5cGUsXCJ3cml0ZVNwYXRpYWxSZWZlcmVuY2VzXCIsbnVsbCksZShbYih7dHlwZTppLm9mVHlwZShIKSxqc29uOnt3cml0ZTp7dGFyZ2V0OlwibGF5ZXJzXCIsb3ZlcnJpZGVQb2xpY3koZSx0LHIpe2lmKEsodGhpcy5hbGxTdWJsYXllcnMscikpcmV0dXJue2lnbm9yZU9yaWdpbjohMH19fX19KV0sUS5wcm90b3R5cGUsXCJzdWJsYXllcnNcIix2b2lkIDApLGUoW3YoW1wid2ViLWRvY3VtZW50XCIsXCJwb3J0YWwtaXRlbVwiXSxcInN1YmxheWVyc1wiLFtcImxheWVyc1wiLFwidmlzaWJsZUxheWVyc1wiXSldLFEucHJvdG90eXBlLFwicmVhZFN1YmxheWVyc0Zyb21JdGVtT3JNYXBcIixudWxsKSxlKFt2KFwic2VydmljZVwiLFwic3VibGF5ZXJzXCIsW1wibGF5ZXJzXCJdKV0sUS5wcm90b3R5cGUsXCJyZWFkU3VibGF5ZXJzXCIsbnVsbCksZShbaihcInN1YmxheWVyc1wiLHtsYXllcnM6e3R5cGU6W0hdfSx2aXNpYmxlTGF5ZXJzOnt0eXBlOltTdHJpbmddfX0pXSxRLnByb3RvdHlwZSxcIndyaXRlU3VibGF5ZXJzXCIsbnVsbCksZShbYih7anNvbjp7cmVhZDohMX0scmVhZE9ubHk6ITAsdmFsdWU6XCJ3bXNcIn0pXSxRLnByb3RvdHlwZSxcInR5cGVcIix2b2lkIDApLGUoW2IocSldLFEucHJvdG90eXBlLFwidXJsXCIsbnVsbCksZShbYih7dHlwZTpTdHJpbmcsanNvbjp7d3JpdGU6e2lnbm9yZU9yaWdpbjohMH19fSldLFEucHJvdG90eXBlLFwidmVyc2lvblwiLHZvaWQgMCksUT1lKFt4KFwiZXNyaS5sYXllcnMuV01TTGF5ZXJcIildLFEpO2NvbnN0IFk9UTtleHBvcnR7WSBhcyBkZWZhdWx0fTtcbiIsIi8qXG5BbGwgbWF0ZXJpYWwgY29weXJpZ2h0IEVTUkksIEFsbCBSaWdodHMgUmVzZXJ2ZWQsIHVubGVzcyBvdGhlcndpc2Ugc3BlY2lmaWVkLlxuU2VlIGh0dHBzOi8vanMuYXJjZ2lzLmNvbS80LjI3L2VzcmkvY29weXJpZ2h0LnR4dCBmb3IgZGV0YWlscy5cbiovXG5jb25zdCBuPVtbMzgxOSwzODE5XSxbMzgyMSwzODI0XSxbMzg4OSwzODg5XSxbMzkwNiwzOTA2XSxbNDAwMSw0MDI1XSxbNDAyNyw0MDM2XSxbNDAzOSw0MDQ3XSxbNDA1Miw0MDU1XSxbNDA3NCw0MDc1XSxbNDA4MCw0MDgxXSxbNDEyMCw0MTc2XSxbNDE3OCw0MTg1XSxbNDE4OCw0MjE2XSxbNDIxOCw0Mjg5XSxbNDI5MSw0MzA0XSxbNDMwNiw0MzE5XSxbNDMyMiw0MzI2XSxbNDQ2Myw0NDYzXSxbNDQ3MCw0NDcwXSxbNDQ3NSw0NDc1XSxbNDQ4Myw0NDgzXSxbNDQ5MCw0NDkwXSxbNDU1NSw0NTU4XSxbNDYwMCw0NjQ2XSxbNDY1Nyw0NzY1XSxbNDgwMSw0ODExXSxbNDgxMyw0ODIxXSxbNDgyMyw0ODI0XSxbNDkwMSw0OTA0XSxbNTAxMyw1MDEzXSxbNTEzMiw1MTMyXSxbNTIyOCw1MjI5XSxbNTIzMyw1MjMzXSxbNTI0Niw1MjQ2XSxbNTI1Miw1MjUyXSxbNTI2NCw1MjY0XSxbNTMyNCw1MzQwXSxbNTM1NCw1MzU0XSxbNTM2MCw1MzYwXSxbNTM2NSw1MzY1XSxbNTM3MCw1MzczXSxbNTM4MSw1MzgxXSxbNTM5Myw1MzkzXSxbNTQ1MSw1NDUxXSxbNTQ2NCw1NDY0XSxbNTQ2Nyw1NDY3XSxbNTQ4OSw1NDg5XSxbNTUyNCw1NTI0XSxbNTUyNyw1NTI3XSxbNTU0Niw1NTQ2XSxbMjA0NCwyMDQ1XSxbMjA4MSwyMDgzXSxbMjA4NSwyMDg2XSxbMjA5MywyMDkzXSxbMjA5NiwyMDk4XSxbMjEwNSwyMTMyXSxbMjE2OSwyMTcwXSxbMjE3NiwyMTgwXSxbMjE5MywyMTkzXSxbMjIwMCwyMjAwXSxbMjIwNiwyMjEyXSxbMjMxOSwyMzE5XSxbMjMyMCwyNDYyXSxbMjUyMywyNTQ5XSxbMjU1MSwyNzM1XSxbMjczOCwyNzU4XSxbMjkzNSwyOTQxXSxbMjk1MywyOTUzXSxbMzAwNiwzMDMwXSxbMzAzNCwzMDM1XSxbMzAzOCwzMDUxXSxbMzA1OCwzMDU5XSxbMzA2OCwzMDY4XSxbMzExNCwzMTE4XSxbMzEyNiwzMTM4XSxbMzE1MCwzMTUxXSxbMzMwMCwzMzAxXSxbMzMyOCwzMzM1XSxbMzM0NiwzMzQ2XSxbMzM1MCwzMzUyXSxbMzM2NiwzMzY2XSxbMzM4OSwzMzkwXSxbMzQxNiwzNDE3XSxbMzgzMywzODQxXSxbMzg0NCwzODUwXSxbMzg1NCwzODU0XSxbMzg3MywzODg1XSxbMzkwNywzOTEwXSxbNDAyNiw0MDI2XSxbNDAzNyw0MDM4XSxbNDQxNyw0NDE3XSxbNDQzNCw0NDM0XSxbNDQ5MSw0NTU0XSxbNDgzOSw0ODM5XSxbNTA0OCw1MDQ4XSxbNTEwNSw1MTMwXSxbNTI1Myw1MjU5XSxbNTI2OSw1Mjc1XSxbNTM0Myw1MzQ5XSxbNTQ3OSw1NDgyXSxbNTUxOCw1NTE5XSxbNTUyMCw1NTIwXSxbMjAwMDQsMjAwMzJdLFsyMDA2NCwyMDA5Ml0sWzIxNDEzLDIxNDIzXSxbMjE0NzMsMjE0ODNdLFsyMTg5NiwyMTg5OV0sWzIyMTcxLDIyMTc3XSxbMjIxODEsMjIxODddLFsyMjE5MSwyMjE5N10sWzI1ODg0LDI1ODg0XSxbMjcyMDUsMjcyMzJdLFsyNzM5MSwyNzM5OF0sWzI3NDkyLDI3NDkyXSxbMjg0MDIsMjg0MzJdLFsyODQ2MiwyODQ5Ml0sWzMwMTYxLDMwMTc5XSxbMzA4MDAsMzA4MDBdLFszMTI1MSwzMTI1OV0sWzMxMjc1LDMxMjc5XSxbMzEyODEsMzEyOTBdLFszMTQ2NiwzMTcwMF1dO2Z1bmN0aW9uIG8obyl7cmV0dXJuIG51bGwhPW8mJm4uc29tZSgoKFtuLHRdKT0+bz49biYmbzw9dCkpfWV4cG9ydHtvIGFzIGlzQXhlc09yZGVyUmV2ZXJzZWRGb3JXa2lkfTtcbiIsIi8qXG5BbGwgbWF0ZXJpYWwgY29weXJpZ2h0IEVTUkksIEFsbCBSaWdodHMgUmVzZXJ2ZWQsIHVubGVzcyBvdGhlcndpc2Ugc3BlY2lmaWVkLlxuU2VlIGh0dHBzOi8vanMuYXJjZ2lzLmNvbS80LjI3L2VzcmkvY29weXJpZ2h0LnR4dCBmb3IgZGV0YWlscy5cbiovXG5pbXBvcnR7XyBhcyBlfWZyb21cIi4uLy4uL2NodW5rcy90c2xpYi5lczYuanNcIjtpbXBvcnQgciBmcm9tXCIuLi8uLi9jb3JlL0FjY2Vzc29yLmpzXCI7aW1wb3J0e0hhbmRsZU93bmVyTWl4aW4gYXMgc31mcm9tXCIuLi8uLi9jb3JlL0hhbmRsZU93bmVyLmpzXCI7aW1wb3J0e3Byb3BlcnR5IGFzIHR9ZnJvbVwiLi4vLi4vY29yZS9hY2Nlc3NvclN1cHBvcnQvZGVjb3JhdG9ycy9wcm9wZXJ0eS5qc1wiO2ltcG9ydFwiLi4vLi4vY29yZS9hY2Nlc3NvclN1cHBvcnQvZW5zdXJlVHlwZS5qc1wiO2ltcG9ydFwiLi4vLi4vY29yZS9hcnJheVV0aWxzLmpzXCI7aW1wb3J0XCIuLi8uLi9jb3JlL2hhcy5qc1wiO2ltcG9ydHtzdWJjbGFzcyBhcyBvfWZyb21cIi4uLy4uL2NvcmUvYWNjZXNzb3JTdXBwb3J0L2RlY29yYXRvcnMvc3ViY2xhc3MuanNcIjtjb25zdCBhPXt2aXNpYmxlOlwidmlzaWJsZVN1YmxheWVyc1wifTtsZXQgbD1jbGFzcyBleHRlbmRzKHMocikpe2NvbnN0cnVjdG9yKGUpe3N1cGVyKGUpLHRoaXMuc2NhbGU9MH1zZXQgbGF5ZXIoZSl7dGhpcy5fZ2V0KFwibGF5ZXJcIikhPT1lJiYodGhpcy5fc2V0KFwibGF5ZXJcIixlKSx0aGlzLmhhbmRsZXMucmVtb3ZlKFwibGF5ZXJcIiksZSYmdGhpcy5oYW5kbGVzLmFkZChbZS5zdWJsYXllcnMub24oXCJjaGFuZ2VcIiwoKCk9PnRoaXMubm90aWZ5Q2hhbmdlKFwidmlzaWJsZVN1YmxheWVyc1wiKSkpLGUub24oXCJ3bXMtc3VibGF5ZXItdXBkYXRlXCIsKGU9PnRoaXMubm90aWZ5Q2hhbmdlKGFbZS5wcm9wZXJ0eU5hbWVdKSkpXSxcImxheWVyXCIpKX1nZXQgbGF5ZXJzKCl7cmV0dXJuIHRoaXMudmlzaWJsZVN1YmxheWVycy5maWx0ZXIoKCh7bmFtZTplfSk9PmUpKS5tYXAoKCh7bmFtZTplfSk9PmUpKS5qb2luKCl9Z2V0IHZlcnNpb24oKXt0aGlzLmNvbW1pdFByb3BlcnR5KFwibGF5ZXJzXCIpO2NvbnN0IGU9dGhpcy5sYXllcjtyZXR1cm4gZSYmZS5jb21taXRQcm9wZXJ0eShcImltYWdlVHJhbnNwYXJlbmN5XCIpLCh0aGlzLl9nZXQoXCJ2ZXJzaW9uXCIpfHwwKSsxfWdldCB2aXNpYmxlU3VibGF5ZXJzKCl7Y29uc3R7bGF5ZXI6ZSxzY2FsZTpyfT10aGlzLHM9ZT8uc3VibGF5ZXJzLHQ9W10sbz1lPT57Y29uc3R7bWluU2NhbGU6cyxtYXhTY2FsZTphLHN1YmxheWVyczpsLHZpc2libGU6aX09ZTtpJiYoMD09PXJ8fCgwPT09c3x8cjw9cykmJigwPT09YXx8cj49YSkpJiYobD9sLmZvckVhY2gobyk6dC5wdXNoKGUpKX07cmV0dXJuIHM/LmZvckVhY2gobyksdH10b0pTT04oKXtjb25zdHtsYXllcjplLGxheWVyczpyfT10aGlzLHtpbWFnZUZvcm1hdDpzLGltYWdlVHJhbnNwYXJlbmN5OnQsdmVyc2lvbjpvfT1lO3JldHVybntmb3JtYXQ6cyxyZXF1ZXN0OlwiR2V0TWFwXCIsc2VydmljZTpcIldNU1wiLHN0eWxlczpcIlwiLHRyYW5zcGFyZW50OnQ/XCJUUlVFXCI6XCJGQUxTRVwiLHZlcnNpb246byxsYXllcnM6cn19fTtlKFt0KCldLGwucHJvdG90eXBlLFwibGF5ZXJcIixudWxsKSxlKFt0KHtyZWFkT25seTohMH0pXSxsLnByb3RvdHlwZSxcImxheWVyc1wiLG51bGwpLGUoW3Qoe3R5cGU6TnVtYmVyfSldLGwucHJvdG90eXBlLFwic2NhbGVcIix2b2lkIDApLGUoW3Qoe3JlYWRPbmx5OiEwfSldLGwucHJvdG90eXBlLFwidmVyc2lvblwiLG51bGwpLGUoW3Qoe3JlYWRPbmx5OiEwfSldLGwucHJvdG90eXBlLFwidmlzaWJsZVN1YmxheWVyc1wiLG51bGwpLGw9ZShbbyhcImVzcmkubGF5ZXJzLnN1cHBvcnQuRXhwb3J0V01TSW1hZ2VQYXJhbWV0ZXJzXCIpXSxsKTtleHBvcnR7bCBhcyBFeHBvcnRXTVNJbWFnZVBhcmFtZXRlcnN9O1xuIiwiLypcbkFsbCBtYXRlcmlhbCBjb3B5cmlnaHQgRVNSSSwgQWxsIFJpZ2h0cyBSZXNlcnZlZCwgdW5sZXNzIG90aGVyd2lzZSBzcGVjaWZpZWQuXG5TZWUgaHR0cHM6Ly9qcy5hcmNnaXMuY29tLzQuMjcvZXNyaS9jb3B5cmlnaHQudHh0IGZvciBkZXRhaWxzLlxuKi9cbmltcG9ydHtfIGFzIGV9ZnJvbVwiLi4vLi4vY2h1bmtzL3RzbGliLmVzNi5qc1wiO2ltcG9ydCB0IGZyb21cIi4uLy4uL2NvcmUvQ29sbGVjdGlvbi5qc1wiO2ltcG9ydHtJZGVudGlmaWFibGVNaXhpbiBhcyByfWZyb21cIi4uLy4uL2NvcmUvSWRlbnRpZmlhYmxlLmpzXCI7aW1wb3J0e011bHRpT3JpZ2luSlNPTlN1cHBvcnQgYXMgc31mcm9tXCIuLi8uLi9jb3JlL011bHRpT3JpZ2luSlNPTlN1cHBvcnQuanNcIjtpbXBvcnR7b24gYXMgbyx3YXRjaCBhcyBpLHN5bmMgYXMgbH1mcm9tXCIuLi8uLi9jb3JlL3JlYWN0aXZlVXRpbHMuanNcIjtpbXBvcnR7cHJvcGVydHkgYXMgbn1mcm9tXCIuLi8uLi9jb3JlL2FjY2Vzc29yU3VwcG9ydC9kZWNvcmF0b3JzL3Byb3BlcnR5LmpzXCI7aW1wb3J0e2Nhc3QgYXMgYX1mcm9tXCIuLi8uLi9jb3JlL2FjY2Vzc29yU3VwcG9ydC9kZWNvcmF0b3JzL2Nhc3QuanNcIjtpbXBvcnRcIi4uLy4uL2NvcmUvYXJyYXlVdGlscy5qc1wiO2ltcG9ydFwiLi4vLi4vY29yZS9oYXMuanNcIjtpbXBvcnR7cmVhZGVyIGFzIHB9ZnJvbVwiLi4vLi4vY29yZS9hY2Nlc3NvclN1cHBvcnQvZGVjb3JhdG9ycy9yZWFkZXIuanNcIjtpbXBvcnR7c3ViY2xhc3MgYXMgeX1mcm9tXCIuLi8uLi9jb3JlL2FjY2Vzc29yU3VwcG9ydC9kZWNvcmF0b3JzL3N1YmNsYXNzLmpzXCI7aW1wb3J0e2Vuc3VyZVR5cGUgYXMgZH1mcm9tXCIuLi8uLi9jb3JlL2FjY2Vzc29yU3VwcG9ydC9lbnN1cmVUeXBlLmpzXCI7aW1wb3J0IHUgZnJvbVwiLi4vLi4vZ2VvbWV0cnkvRXh0ZW50LmpzXCI7dmFyIGg7bGV0IGM9MCxtPWg9Y2xhc3MgZXh0ZW5kcyhyKHMpKXtjb25zdHJ1Y3RvcihlKXtzdXBlcihlKSx0aGlzLmRlc2NyaXB0aW9uPW51bGwsdGhpcy5kaW1lbnNpb25zPW51bGwsdGhpcy5mdWxsRXh0ZW50PW51bGwsdGhpcy5mdWxsRXh0ZW50cz1udWxsLHRoaXMubGVnZW5kVXJsPW51bGwsdGhpcy5sZWdlbmRFbmFibGVkPSEwLHRoaXMubGF5ZXI9bnVsbCx0aGlzLm1heFNjYWxlPTAsdGhpcy5taW5TY2FsZT0wLHRoaXMubmFtZT1udWxsLHRoaXMucGFyZW50PW51bGwsdGhpcy5wb3B1cEVuYWJsZWQ9ITEsdGhpcy5xdWVyeWFibGU9ITEsdGhpcy5zdWJsYXllcnM9bnVsbCx0aGlzLnNwYXRpYWxSZWZlcmVuY2VzPW51bGwsdGhpcy50aXRsZT1udWxsLHRoaXMuYWRkSGFuZGxlcyhbbygoKCk9PnRoaXMuc3VibGF5ZXJzKSxcImFmdGVyLWFkZFwiLCgoe2l0ZW06ZX0pPT57ZS5wYXJlbnQ9dGhpcyxlLmxheWVyPXRoaXMubGF5ZXJ9KSxsKSxvKCgoKT0+dGhpcy5zdWJsYXllcnMpLFwiYWZ0ZXItcmVtb3ZlXCIsKCh7aXRlbTplfSk9PntlLmxheWVyPWUucGFyZW50PW51bGx9KSxsKSxpKCgoKT0+dGhpcy5zdWJsYXllcnMpLCgoZSx0KT0+e2lmKHQpZm9yKGNvbnN0IHIgb2YgdClyLmxheWVyPXIucGFyZW50PW51bGw7aWYoZSlmb3IoY29uc3QgciBvZiBlKXIucGFyZW50PXRoaXMsci5sYXllcj10aGlzLmxheWVyfSksbCksaSgoKCk9PnRoaXMubGF5ZXIpLChlPT57aWYodGhpcy5zdWJsYXllcnMpZm9yKGNvbnN0IHQgb2YgdGhpcy5zdWJsYXllcnMpdC5sYXllcj1lfSksbCldKX1nZXQgaWQoKXtjb25zdCBlPXRoaXMuX2dldChcImlkXCIpO3JldHVybiBlPz9jKyt9c2V0IGlkKGUpe3RoaXMuX3NldChcImlkXCIsZSl9cmVhZExlZ2VuZFVybChlLHQpe3JldHVybiB0LmxlZ2VuZFVybD8/dC5sZWdlbmRVUkw/P251bGx9Z2V0IGVmZmVjdGl2ZVNjYWxlUmFuZ2UoKXtjb25zdHttaW5TY2FsZTplLG1heFNjYWxlOnR9PXRoaXM7cmV0dXJue21pblNjYWxlOmUsbWF4U2NhbGU6dH19Y2FzdFN1YmxheWVycyhlKXtyZXR1cm4gZCh0Lm9mVHlwZShoKSxlKX1zZXQgdmlzaWJsZShlKXt0aGlzLl9zZXRBbmROb3RpZnlMYXllcihcInZpc2libGVcIixlKX1jbG9uZSgpe2NvbnN0IGU9bmV3IGg7cmV0dXJuIHRoaXMuaGFzT3duUHJvcGVydHkoXCJkZXNjcmlwdGlvblwiKSYmKGUuZGVzY3JpcHRpb249dGhpcy5kZXNjcmlwdGlvbiksdGhpcy5oYXNPd25Qcm9wZXJ0eShcImZ1bGxFeHRlbnRcIikmJihlLmZ1bGxFeHRlbnQ9dGhpcy5mdWxsRXh0ZW50LmNsb25lKCkpLHRoaXMuaGFzT3duUHJvcGVydHkoXCJmdWxsRXh0ZW50c1wiKSYmKGUuZnVsbEV4dGVudHM9dGhpcy5mdWxsRXh0ZW50cz8ubWFwKChlPT5lLmNsb25lKCkpKT8/bnVsbCksdGhpcy5oYXNPd25Qcm9wZXJ0eShcImxlZ2VuZFVybFwiKSYmKGUubGVnZW5kVXJsPXRoaXMubGVnZW5kVXJsKSx0aGlzLmhhc093blByb3BlcnR5KFwibGVnZW5kRW5hYmxlZFwiKSYmKGUubGVnZW5kRW5hYmxlZD10aGlzLmxlZ2VuZEVuYWJsZWQpLHRoaXMuaGFzT3duUHJvcGVydHkoXCJsYXllclwiKSYmKGUubGF5ZXI9dGhpcy5sYXllciksdGhpcy5oYXNPd25Qcm9wZXJ0eShcIm5hbWVcIikmJihlLm5hbWU9dGhpcy5uYW1lKSx0aGlzLmhhc093blByb3BlcnR5KFwicGFyZW50XCIpJiYoZS5wYXJlbnQ9dGhpcy5wYXJlbnQpLHRoaXMuaGFzT3duUHJvcGVydHkoXCJxdWVyeWFibGVcIikmJihlLnF1ZXJ5YWJsZT10aGlzLnF1ZXJ5YWJsZSksdGhpcy5oYXNPd25Qcm9wZXJ0eShcInN1YmxheWVyc1wiKSYmKGUuc3VibGF5ZXJzPXRoaXMuc3VibGF5ZXJzJiZ0aGlzLnN1YmxheWVycy5tYXAoKGU9PmUuY2xvbmUoKSkpKSx0aGlzLmhhc093blByb3BlcnR5KFwic3BhdGlhbFJlZmVyZW5jZXNcIikmJihlLnNwYXRpYWxSZWZlcmVuY2VzPXRoaXMuc3BhdGlhbFJlZmVyZW5jZXM/Lm1hcCgoZT0+ZSkpKSx0aGlzLmhhc093blByb3BlcnR5KFwidmlzaWJsZVwiKSYmKGUudmlzaWJsZT10aGlzLnZpc2libGUpLHRoaXMuaGFzT3duUHJvcGVydHkoXCJ0aXRsZVwiKSYmKGUudGl0bGU9dGhpcy50aXRsZSksZX1fc2V0QW5kTm90aWZ5TGF5ZXIoZSx0KXtjb25zdCByPXRoaXMubGF5ZXI7dGhpcy5fZ2V0KGUpIT09dCYmKHRoaXMuX3NldChlLHQpLHImJnIuZW1pdChcIndtcy1zdWJsYXllci11cGRhdGVcIix7cHJvcGVydHlOYW1lOmUsaWQ6dGhpcy5pZH0pKX19O2UoW24oKV0sbS5wcm90b3R5cGUsXCJkZXNjcmlwdGlvblwiLHZvaWQgMCksZShbbih7cmVhZE9ubHk6ITB9KV0sbS5wcm90b3R5cGUsXCJkaW1lbnNpb25zXCIsdm9pZCAwKSxlKFtuKHt0eXBlOnUsanNvbjp7bmFtZTpcImV4dGVudFwifX0pXSxtLnByb3RvdHlwZSxcImZ1bGxFeHRlbnRcIix2b2lkIDApLGUoW24oKV0sbS5wcm90b3R5cGUsXCJmdWxsRXh0ZW50c1wiLHZvaWQgMCksZShbbih7dHlwZTpOdW1iZXIsanNvbjp7d3JpdGU6e2VuYWJsZWQ6ITEsb3ZlcnJpZGVQb2xpY3k6KCk9Pih7aWdub3JlT3JpZ2luOiEwLGVuYWJsZWQ6ITB9KX19fSldLG0ucHJvdG90eXBlLFwiaWRcIixudWxsKSxlKFtuKHt0eXBlOlN0cmluZyxqc29uOntuYW1lOlwibGVnZW5kVXJsXCIsd3JpdGU6e2lnbm9yZU9yaWdpbjohMH19fSldLG0ucHJvdG90eXBlLFwibGVnZW5kVXJsXCIsdm9pZCAwKSxlKFtwKFwibGVnZW5kVXJsXCIsW1wibGVnZW5kVXJsXCIsXCJsZWdlbmRVUkxcIl0pXSxtLnByb3RvdHlwZSxcInJlYWRMZWdlbmRVcmxcIixudWxsKSxlKFtuKHt0eXBlOkJvb2xlYW4sanNvbjp7bmFtZTpcInNob3dMZWdlbmRcIixvcmlnaW5zOntcIndlYi1tYXBcIjp7cmVhZDohMSx3cml0ZTohMX0sXCJ3ZWItc2NlbmVcIjp7cmVhZDohMSx3cml0ZTohMX19fX0pXSxtLnByb3RvdHlwZSxcImxlZ2VuZEVuYWJsZWRcIix2b2lkIDApLGUoW24oKV0sbS5wcm90b3R5cGUsXCJsYXllclwiLHZvaWQgMCksZShbbigpXSxtLnByb3RvdHlwZSxcIm1heFNjYWxlXCIsdm9pZCAwKSxlKFtuKCldLG0ucHJvdG90eXBlLFwibWluU2NhbGVcIix2b2lkIDApLGUoW24oe3JlYWRPbmx5OiEwfSldLG0ucHJvdG90eXBlLFwiZWZmZWN0aXZlU2NhbGVSYW5nZVwiLG51bGwpLGUoW24oe3R5cGU6U3RyaW5nLGpzb246e3dyaXRlOntpZ25vcmVPcmlnaW46ITB9fX0pXSxtLnByb3RvdHlwZSxcIm5hbWVcIix2b2lkIDApLGUoW24oKV0sbS5wcm90b3R5cGUsXCJwYXJlbnRcIix2b2lkIDApLGUoW24oe3R5cGU6Qm9vbGVhbixqc29uOntyZWFkOntzb3VyY2U6XCJzaG93UG9wdXBcIn0sd3JpdGU6e2lnbm9yZU9yaWdpbjohMCx0YXJnZXQ6XCJzaG93UG9wdXBcIn19fSldLG0ucHJvdG90eXBlLFwicG9wdXBFbmFibGVkXCIsdm9pZCAwKSxlKFtuKHt0eXBlOkJvb2xlYW4sanNvbjp7d3JpdGU6e2lnbm9yZU9yaWdpbjohMH19fSldLG0ucHJvdG90eXBlLFwicXVlcnlhYmxlXCIsdm9pZCAwKSxlKFtuKCldLG0ucHJvdG90eXBlLFwic3VibGF5ZXJzXCIsdm9pZCAwKSxlKFthKFwic3VibGF5ZXJzXCIpXSxtLnByb3RvdHlwZSxcImNhc3RTdWJsYXllcnNcIixudWxsKSxlKFtuKHt0eXBlOltOdW1iZXJdLGpzb246e3JlYWQ6e3NvdXJjZTpcInNwYXRpYWxSZWZlcmVuY2VzXCJ9fX0pXSxtLnByb3RvdHlwZSxcInNwYXRpYWxSZWZlcmVuY2VzXCIsdm9pZCAwKSxlKFtuKHt0eXBlOlN0cmluZyxqc29uOnt3cml0ZTp7aWdub3JlT3JpZ2luOiEwfX19KV0sbS5wcm90b3R5cGUsXCJ0aXRsZVwiLHZvaWQgMCksZShbbih7dHlwZTpCb29sZWFuLHZhbHVlOiEwLGpzb246e3JlYWQ6e3NvdXJjZTpcImRlZmF1bHRWaXNpYmlsaXR5XCJ9fX0pXSxtLnByb3RvdHlwZSxcInZpc2libGVcIixudWxsKSxtPWg9ZShbeShcImVzcmkubGF5ZXJzLnN1cHBvcnQuV01TU3VibGF5ZXJcIildLG0pO2NvbnN0IGY9bTtleHBvcnR7ZiBhcyBkZWZhdWx0fTtcbiIsIi8qXG5BbGwgbWF0ZXJpYWwgY29weXJpZ2h0IEVTUkksIEFsbCBSaWdodHMgUmVzZXJ2ZWQsIHVubGVzcyBvdGhlcndpc2Ugc3BlY2lmaWVkLlxuU2VlIGh0dHBzOi8vanMuYXJjZ2lzLmNvbS80LjI3L2VzcmkvY29weXJpZ2h0LnR4dCBmb3IgZGV0YWlscy5cbiovXG5pbXBvcnQgciBmcm9tXCIuLi8uLi9jb3JlL0Vycm9yLmpzXCI7aW1wb3J0e3Rocm93SWZBYm9ydGVkIGFzIGV9ZnJvbVwiLi4vLi4vY29yZS9wcm9taXNlVXRpbHMuanNcIjthc3luYyBmdW5jdGlvbiB0KHQsbyxhKXtsZXQgYzt0cnl7Yz1hd2FpdCBjcmVhdGVJbWFnZUJpdG1hcCh0KX1jYXRjaChsKXt0aHJvdyBuZXcgcihcInJlcXVlc3Q6c2VydmVyXCIsYFVuYWJsZSB0byBsb2FkICR7b31gLHt1cmw6byxlcnJvcjpsfSl9cmV0dXJuIGUoYSksY31hc3luYyBmdW5jdGlvbiBvKHQsbyxhLGMsbCl7bGV0IG47dHJ5e249YXdhaXQgY3JlYXRlSW1hZ2VCaXRtYXAodCl9Y2F0Y2goaSl7dGhyb3cgbmV3IHIoXCJyZXF1ZXN0OnNlcnZlclwiLGBVbmFibGUgdG8gbG9hZCB0aWxlICR7b30vJHthfS8ke2N9YCx7ZXJyb3I6aSxsZXZlbDpvLHJvdzphLGNvbDpjfSl9cmV0dXJuIGUobCksbn1leHBvcnR7dCBhcyBjcmVhdGVCaXRtYXAsbyBhcyBjcmVhdGVUaWxlQml0bWFwfTtcbiIsIi8qXG5BbGwgbWF0ZXJpYWwgY29weXJpZ2h0IEVTUkksIEFsbCBSaWdodHMgUmVzZXJ2ZWQsIHVubGVzcyBvdGhlcndpc2Ugc3BlY2lmaWVkLlxuU2VlIGh0dHBzOi8vanMuYXJjZ2lzLmNvbS80LjI3L2VzcmkvY29weXJpZ2h0LnR4dCBmb3IgZGV0YWlscy5cbiovXG5pbXBvcnR7aXNTb21lIGFzIGV9ZnJvbVwiLi4vLi4vY29yZS9hcnJheVV0aWxzLmpzXCI7aW1wb3J0IHQgZnJvbVwiLi4vLi4vY29yZS9FcnJvci5qc1wiO2ltcG9ydHt1cmxUb09iamVjdCBhcyBufWZyb21cIi4uLy4uL2NvcmUvdXJsVXRpbHMuanNcIjtpbXBvcnQgciBmcm9tXCIuLi8uLi9nZW9tZXRyeS9FeHRlbnQuanNcIjtpbXBvcnQgaSBmcm9tXCIuLi8uLi9nZW9tZXRyeS9TcGF0aWFsUmVmZXJlbmNlLmpzXCI7aW1wb3J0e2lzQXhlc09yZGVyUmV2ZXJzZWRGb3JXa2lkIGFzIHN9ZnJvbVwiLi4vb2djL2Nyc1V0aWxzLmpzXCI7Y29uc3Qgbz17ODQ6NDMyNiw4Mzo0MjY5LDI3OjQyNjd9O2Z1bmN0aW9uIGwobil7aWYoIW4pcmV0dXJuIG51bGw7Y29uc3QgaT17aWRDb3VudGVyOi0xfTtpZihcInN0cmluZ1wiPT10eXBlb2Ygbil7bj0obmV3IERPTVBhcnNlcikucGFyc2VGcm9tU3RyaW5nKG4sXCJ0ZXh0L3htbFwiKX1jb25zdCBzPW4uZG9jdW1lbnRFbGVtZW50O2lmKFwiU2VydmljZUV4Y2VwdGlvblJlcG9ydFwiPT09cy5ub2RlTmFtZSl7Y29uc3QgZT1BcnJheS5wcm90b3R5cGUuc2xpY2UuY2FsbChzLmNoaWxkTm9kZXMpLm1hcCgoZT0+ZS50ZXh0Q29udGVudCkpLmpvaW4oXCJcXHJcXG5cIik7dGhyb3cgbmV3IHQoXCJ3bXNsYXllcjp3bXMtY2FwYWJpbGl0aWVzLXhtbC1pcy1ub3QtdmFsaWRcIixcIlRoZSBzZXJ2ZXIgcmV0dXJuZWQgZXJyb3JzIHdoZW4gdGhlIFdNUyBjYXBhYmlsaXRpZXMgd2VyZSByZXF1ZXN0ZWQuXCIsZSl9Y29uc3Qgbz1kKFwiQ2FwYWJpbGl0eVwiLHMpLGw9ZChcIlNlcnZpY2VcIixzKSxhPW8mJmQoXCJSZXF1ZXN0XCIsbyk7aWYoIW98fCFsfHwhYSlyZXR1cm4gbnVsbDtjb25zdCBtPWQoXCJMYXllclwiLG8pO2lmKCFtKXJldHVybiBudWxsO2NvbnN0IGY9XCJXTVNfQ2FwYWJpbGl0aWVzXCI9PT1zLm5vZGVOYW1lfHxcIldNVF9NU19DYXBhYmlsaXRpZXNcIj09PXMubm9kZU5hbWU/cy5nZXRBdHRyaWJ1dGUoXCJ2ZXJzaW9uXCIpOlwiMS4zLjBcIixwPWgoXCJUaXRsZVwiLGwsXCJcIil8fGgoXCJOYW1lXCIsbCxcIlwiKSx4PWgoXCJBY2Nlc3NDb25zdHJhaW50c1wiLGwsXCJcIikseT0vXm5vbmUkL2kudGVzdCh4KT9cIlwiOngsUz1oKFwiQWJzdHJhY3RcIixsLFwiXCIpLEU9cGFyc2VJbnQoaChcIk1heFdpZHRoXCIsbCxcIjUwMDBcIiksMTApLHc9cGFyc2VJbnQoaChcIk1heEhlaWdodFwiLGwsXCI1MDAwXCIpLDEwKSxMPU4oYSxcIkdldE1hcFwiKSxNPWcoYSxcIkdldE1hcFwiKSxDPWIobSxmLGkpO2lmKCFDKXJldHVybiBudWxsO2xldCB2LEk9MDtjb25zdCBSPUFycmF5LnByb3RvdHlwZS5zbGljZS5jYWxsKG8uY2hpbGROb2RlcyksVT1DLnN1YmxheWVycz8/W10sVD1lPT57bnVsbCE9ZSYmVS5wdXNoKGUpfTtSLmZvckVhY2goKGU9PntcIkxheWVyXCI9PT1lLm5vZGVOYW1lJiYoMD09PUk/dj1lOjE9PT1JPyhDLm5hbWUmJihDLm5hbWU9XCJcIixUKGIodixmLGkpKSksVChiKGUsZixpKSkpOlQoYihlLGYsaSkpLEkrKyl9KSk7bGV0IFY9Qy5zdWJsYXllcnMsTz1DLmV4dGVudDtjb25zdCBfPUMuZnVsbEV4dGVudHM/P1tdO2lmKFZ8fChWPVtdKSwwPT09Vi5sZW5ndGgmJlYucHVzaChDKSwhTyl7Y29uc3QgZT1uZXcgcihWWzBdLmV4dGVudCk7Qy5leHRlbnQ9ZS50b0pTT04oKSxPPUMuZXh0ZW50fWNvbnN0IEI9Qy5zcGF0aWFsUmVmZXJlbmNlcy5sZW5ndGg+MD9DLnNwYXRpYWxSZWZlcmVuY2VzOnUoQyksRD1nKGEsXCJHZXRGZWF0dXJlSW5mb1wiKSxqPUQ/TihhLFwiR2V0RmVhdHVyZUluZm9cIik6bnVsbCxrPWMoVikscT1DLm1pblNjYWxlfHwwLFg9Qy5tYXhTY2FsZXx8MCxHPUMuZGltZW5zaW9ucz8/W10sVz1rLnJlZHVjZSgoKGUsdCk9PmUuY29uY2F0KHQuZGltZW5zaW9ucz8/W10pKSxbXSksUD1HLmNvbmNhdChXKS5maWx0ZXIoRik7bGV0ICQ9bnVsbDtpZihQLmxlbmd0aCl7Y29uc3QgdD1QLm1hcCgoZT0+e2NvbnN0e2V4dGVudDp0fT1lO3JldHVybiBBKHQpP3QubWFwKChlPT5lLmdldFRpbWUoKSkpOnQ/Lm1hcCgoZT0+W2UubWluLmdldFRpbWUoKSxlLm1heC5nZXRUaW1lKCldKSl9KSkuZmxhdCgyKS5maWx0ZXIoZSk7JD17c3RhcnRUaW1lRmllbGQ6bnVsbCxlbmRUaW1lRmllbGQ6bnVsbCx0cmFja0lkRmllbGQ6dm9pZCAwLHRpbWVFeHRlbnQ6W01hdGgubWluKC4uLnQpLE1hdGgubWF4KC4uLnQpXX19cmV0dXJue2NvcHlyaWdodDp5LGRlc2NyaXB0aW9uOlMsZGltZW5zaW9uczpHLGV4dGVudDpPLGZ1bGxFeHRlbnRzOl8sZmVhdHVyZUluZm9Gb3JtYXRzOmosZmVhdHVyZUluZm9Vcmw6RCxtYXBVcmw6TSxtYXhXaWR0aDpFLG1heEhlaWdodDp3LG1heFNjYWxlOlgsbWluU2NhbGU6cSxsYXllcnM6ayxzcGF0aWFsUmVmZXJlbmNlczpCLHN1cHBvcnRlZEltYWdlRm9ybWF0VHlwZXM6TCx0aW1lSW5mbzokLHRpdGxlOnAsdmVyc2lvbjpmfX1mdW5jdGlvbiBhKGUpe2NvbnN0IHQ9ZS5maWx0ZXIoKGU9PmUucG9wdXBFbmFibGVkJiZlLm5hbWUmJmUucXVlcnlhYmxlKSk7cmV0dXJuIHQubGVuZ3RoP3QubWFwKCgoe25hbWU6ZX0pPT5lKSkuam9pbigpOm51bGx9ZnVuY3Rpb24gdShlKXtpZihlLnNwYXRpYWxSZWZlcmVuY2VzLmxlbmd0aD4wKXJldHVybiBlLnNwYXRpYWxSZWZlcmVuY2VzO2lmKGUuc3VibGF5ZXJzKWZvcihjb25zdCB0IG9mIGUuc3VibGF5ZXJzKXtjb25zdCBlPXUodCk7aWYoZS5sZW5ndGg+MClyZXR1cm4gZX1yZXR1cm5bXX1mdW5jdGlvbiBjKGUpe2xldCB0PVtdO2Zvcihjb25zdCBuIG9mIGUpdC5wdXNoKG4pLG4uc3VibGF5ZXJzPy5sZW5ndGgmJih0PXQuY29uY2F0KGMobi5zdWJsYXllcnMpKSxkZWxldGUgbi5zdWJsYXllcnMpO3JldHVybiB0fWZ1bmN0aW9uIG0oZSx0LG4pe3JldHVybiB0LmdldEF0dHJpYnV0ZShlKT8/bn1mdW5jdGlvbiBmKGUsdCxuLHIpe2NvbnN0IGk9ZChlLG4pO3JldHVybiBpP20odCxpLHIpOnJ9ZnVuY3Rpb24gZChlLHQpe2ZvcihsZXQgbj0wO248dC5jaGlsZE5vZGVzLmxlbmd0aDtuKyspe2NvbnN0IHI9dC5jaGlsZE5vZGVzW25dO2lmKFMocikmJnIubm9kZU5hbWU9PT1lKXJldHVybiByfXJldHVybiBudWxsfWZ1bmN0aW9uIHAoZSx0KXtpZihudWxsPT10KXJldHVybltdO2NvbnN0IG49W107Zm9yKGxldCByPTA7cjx0LmNoaWxkTm9kZXMubGVuZ3RoO3IrKyl7Y29uc3QgaT10LmNoaWxkTm9kZXNbcl07UyhpKSYmaS5ub2RlTmFtZT09PWUmJm4ucHVzaChpKX1yZXR1cm4gbn1mdW5jdGlvbiBoKGUsdCxuKXtyZXR1cm4gZChlLHQpPy50ZXh0Q29udGVudD8/bn1mdW5jdGlvbiB4KGUsdCxuKXtpZighZSlyZXR1cm4gbnVsbDtjb25zdCBzPXBhcnNlRmxvYXQoZS5nZXRBdHRyaWJ1dGUoXCJtaW54XCIpKSxvPXBhcnNlRmxvYXQoZS5nZXRBdHRyaWJ1dGUoXCJtaW55XCIpKSxsPXBhcnNlRmxvYXQoZS5nZXRBdHRyaWJ1dGUoXCJtYXh4XCIpKSxhPXBhcnNlRmxvYXQoZS5nZXRBdHRyaWJ1dGUoXCJtYXh5XCIpKTtsZXQgdSxjLG0sZjtuPyh1PWlzTmFOKG8pPy1OdW1iZXIuTUFYX1ZBTFVFOm8sYz1pc05hTihzKT8tTnVtYmVyLk1BWF9WQUxVRTpzLG09aXNOYU4oYSk/TnVtYmVyLk1BWF9WQUxVRTphLGY9aXNOYU4obCk/TnVtYmVyLk1BWF9WQUxVRTpsKToodT1pc05hTihzKT8tTnVtYmVyLk1BWF9WQUxVRTpzLGM9aXNOYU4obyk/LU51bWJlci5NQVhfVkFMVUU6byxtPWlzTmFOKGwpP051bWJlci5NQVhfVkFMVUU6bCxmPWlzTmFOKGEpP051bWJlci5NQVhfVkFMVUU6YSk7Y29uc3QgZD1uZXcgaSh7d2tpZDp0fSk7cmV0dXJuIG5ldyByKHt4bWluOnUseW1pbjpjLHhtYXg6bSx5bWF4OmYsc3BhdGlhbFJlZmVyZW5jZTpkfSl9ZnVuY3Rpb24gZyhlLHQpe2NvbnN0IG49ZCh0LGUpO2lmKG4pe2NvbnN0IGU9ZChcIkRDUFR5cGVcIixuKTtpZihlKXtjb25zdCB0PWQoXCJIVFRQXCIsZSk7aWYodCl7Y29uc3QgZT1kKFwiR2V0XCIsdCk7aWYoZSl7bGV0IHQ9ZihcIk9ubGluZVJlc291cmNlXCIsXCJ4bGluazpocmVmXCIsZSxudWxsKTtpZih0KXJldHVybiB0LmluZGV4T2YoXCImXCIpPT09dC5sZW5ndGgtMSYmKHQ9dC5zdWJzdHJpbmcoMCx0Lmxlbmd0aC0xKSksTSh0LFtcInNlcnZpY2VcIixcInJlcXVlc3RcIl0pfX19fXJldHVybiBudWxsfWZ1bmN0aW9uIE4odCxuKXtjb25zdCByPXAoXCJPcGVyYXRpb25cIix0KTtpZighci5sZW5ndGgpe3JldHVybiBwKFwiRm9ybWF0XCIsZChuLHQpKS5tYXAoKCh7dGV4dENvbnRlbnQ6ZX0pPT5lKSkuZmlsdGVyKGUpfWNvbnN0IGk9W107Zm9yKGNvbnN0IGUgb2YgcilpZihlLmdldEF0dHJpYnV0ZShcIm5hbWVcIik9PT1uKXtjb25zdCB0PXAoXCJGb3JtYXRcIixlKTtmb3IoY29uc3R7dGV4dENvbnRlbnQ6ZX1vZiB0KW51bGwhPWUmJmkucHVzaChlKX1yZXR1cm4gaX1mdW5jdGlvbiB5KGUsdCxuKXtjb25zdCByPWQodCxlKTtpZighcilyZXR1cm4gbjtjb25zdHt0ZXh0Q29udGVudDppfT1yO2lmKG51bGw9PWl8fFwiXCI9PT1pKXJldHVybiBuO2NvbnN0IHM9TnVtYmVyKGkpO3JldHVybiBpc05hTihzKT9uOnN9ZnVuY3Rpb24gYihlLHQsbil7aWYoIWUpcmV0dXJuIG51bGw7Y29uc3QgbD17aWQ6bi5pZENvdW50ZXIrKyxmdWxsRXh0ZW50czpbXSxwYXJlbnRMYXllcklkOm51bGwscXVlcnlhYmxlOlwiMVwiPT09ZS5nZXRBdHRyaWJ1dGUoXCJxdWVyeWFibGVcIiksc3BhdGlhbFJlZmVyZW5jZXM6W10sc3VibGF5ZXJzOm51bGx9LGE9ZChcIkxhdExvbkJvdW5kaW5nQm94XCIsZSksdT1kKFwiRVhfR2VvZ3JhcGhpY0JvdW5kaW5nQm94XCIsZSk7bGV0IGM9bnVsbDthJiYoYz14KGEsNDMyNikpLHUmJihjPW5ldyByKDAsMCwwLDAsbmV3IGkoe3draWQ6NDMyNn0pKSxjLnhtaW49cGFyc2VGbG9hdChoKFwid2VzdEJvdW5kTG9uZ2l0dWRlXCIsdSxcIjBcIikpLGMueW1pbj1wYXJzZUZsb2F0KGgoXCJzb3V0aEJvdW5kTGF0aXR1ZGVcIix1LFwiMFwiKSksYy54bWF4PXBhcnNlRmxvYXQoaChcImVhc3RCb3VuZExvbmdpdHVkZVwiLHUsXCIwXCIpKSxjLnltYXg9cGFyc2VGbG9hdChoKFwibm9ydGhCb3VuZExhdGl0dWRlXCIsdSxcIjBcIikpKSxhfHx1fHwoYz1uZXcgcigtMTgwLC05MCwxODAsOTAsbmV3IGkoe3draWQ6NDMyNn0pKSksbC5taW5TY2FsZT15KGUsXCJNYXhTY2FsZURlbm9taW5hdG9yXCIsMCksbC5tYXhTY2FsZT15KGUsXCJNaW5TY2FsZURlbm9taW5hdG9yXCIsMCk7Y29uc3QgZj1bXCIxLjAuMFwiLFwiMS4xLjBcIixcIjEuMS4xXCJdLmluY2x1ZGVzKHQpP1wiU1JTXCI6XCJDUlNcIjtyZXR1cm4gQXJyYXkucHJvdG90eXBlLnNsaWNlLmNhbGwoZS5jaGlsZE5vZGVzKS5mb3JFYWNoKChlPT57aWYoXCJOYW1lXCI9PT1lLm5vZGVOYW1lKWwubmFtZT1lLnRleHRDb250ZW50fHxcIlwiO2Vsc2UgaWYoXCJUaXRsZVwiPT09ZS5ub2RlTmFtZSlsLnRpdGxlPWUudGV4dENvbnRlbnR8fFwiXCI7ZWxzZSBpZihcIkFic3RyYWN0XCI9PT1lLm5vZGVOYW1lKWwuZGVzY3JpcHRpb249ZS50ZXh0Q29udGVudHx8XCJcIjtlbHNlIGlmKFwiQm91bmRpbmdCb3hcIj09PWUubm9kZU5hbWUpe2NvbnN0IG49ZS5nZXRBdHRyaWJ1dGUoZik7aWYobiYmMD09PW4uaW5kZXhPZihcIkVQU0c6XCIpKXtjb25zdCByPXBhcnNlSW50KG4uc3Vic3RyaW5nKDUpLDEwKTswPT09cnx8aXNOYU4ocil8fGN8fChjPVwiMS4zLjBcIj09PXQ/eChlLHIscyhyKSk6eChlLHIpKX1jb25zdCByPW4mJm4uaW5kZXhPZihcIjpcIik7aWYociYmcj4tMSl7bGV0IGk9cGFyc2VJbnQobi5zdWJzdHJpbmcocisxLG4ubGVuZ3RoKSwxMCk7MD09PWl8fGlzTmFOKGkpfHwoaT1vW2ldPz9pKTtjb25zdCBhPVwiMS4zLjBcIj09PXQ/eChlLGkscyhpKSk6eChlLGkpO2EmJmwuZnVsbEV4dGVudHMmJmwuZnVsbEV4dGVudHMucHVzaChhKX19ZWxzZSBpZihlLm5vZGVOYW1lPT09Zil7KGUudGV4dENvbnRlbnQ/LnNwbGl0KFwiIFwiKT8/W10pLmZvckVhY2goKGU9Pntjb25zdCB0PWUuaW5jbHVkZXMoXCI6XCIpP3BhcnNlSW50KGUuc3BsaXQoXCI6XCIpWzFdLDEwKTpwYXJzZUludChlLDEwKTtpZigwIT09dCYmIWlzTmFOKHQpKXtjb25zdCBlPW9bdF0/P3Q7bC5zcGF0aWFsUmVmZXJlbmNlcy5pbmNsdWRlcyhlKXx8bC5zcGF0aWFsUmVmZXJlbmNlcy5wdXNoKGUpfX0pKX1lbHNlIGlmKFwiU3R5bGVcIiE9PWUubm9kZU5hbWV8fGwubGVnZW5kVXJsKXtpZihcIkxheWVyXCI9PT1lLm5vZGVOYW1lKXtjb25zdCByPWIoZSx0LG4pO3ImJihyLnBhcmVudExheWVySWQ9bC5pZCxsLnN1YmxheWVyc3x8KGwuc3VibGF5ZXJzPVtdKSxsLnN1YmxheWVycy5wdXNoKHIpKX19ZWxzZXtjb25zdCB0PWQoXCJMZWdlbmRVUkxcIixlKTtpZih0KXtjb25zdCBlPWQoXCJPbmxpbmVSZXNvdXJjZVwiLHQpO2UmJihsLmxlZ2VuZFVybD1lLmdldEF0dHJpYnV0ZShcInhsaW5rOmhyZWZcIikpfX19KSksbC5leHRlbnQ9Yz8udG9KU09OKCksbC5kaW1lbnNpb25zPXAoXCJEaW1lbnNpb25cIixlKS5maWx0ZXIoKGU9PmUuZ2V0QXR0cmlidXRlKFwibmFtZVwiKSYmZS5nZXRBdHRyaWJ1dGUoXCJ1bml0c1wiKSYmZS50ZXh0Q29udGVudCkpLm1hcCgoZT0+e2NvbnN0IHQ9ZS5nZXRBdHRyaWJ1dGUoXCJuYW1lXCIpLG49ZS5nZXRBdHRyaWJ1dGUoXCJ1bml0c1wiKSxyPWUudGV4dENvbnRlbnQsaT1lLmdldEF0dHJpYnV0ZShcInVuaXRTeW1ib2xcIik/P3ZvaWQgMCxzPWUuZ2V0QXR0cmlidXRlKFwiZGVmYXVsdFwiKT8/dm9pZCAwLG89XCIwXCIhPT1tKFwiZGVmYXVsdFwiLGUsXCIwXCIpLGw9XCIwXCIhPT1tKFwibmVhcmVzdFZhbHVlXCIsZSxcIjBcIiksYT1cIjBcIiE9PW0oXCJjdXJyZW50XCIsZSxcIjBcIik7aWYoRih7bmFtZTp0LHVuaXRzOm59KSl7cmV0dXJue25hbWU6XCJ0aW1lXCIsdW5pdHM6XCJJU084NjAxXCIsZXh0ZW50OkkociksZGVmYXVsdDpJKHMpLG11bHRpcGxlVmFsdWVzOm8sbmVhcmVzdFZhbHVlOmwsY3VycmVudDphfX1pZih3KHtuYW1lOnQsdW5pdHM6bn0pKXtyZXR1cm57bmFtZTpcImVsZXZhdGlvblwiLHVuaXRzOm4sZXh0ZW50OkMociksdW5pdFN5bWJvbDppLGRlZmF1bHQ6QyhzKSxtdWx0aXBsZVZhbHVlczpvLG5lYXJlc3RWYWx1ZTpsfX1yZXR1cm57bmFtZTp0LHVuaXRzOm4sZXh0ZW50OnYociksdW5pdFN5bWJvbDppLGRlZmF1bHQ6dihzKSxtdWx0aXBsZVZhbHVlczpvLG5lYXJlc3RWYWx1ZTpsfX0pKSxsfWZ1bmN0aW9uIEEoZSl7cmV0dXJuIEFycmF5LmlzQXJyYXkoZSkmJmUubGVuZ3RoPjAmJmVbMF1pbnN0YW5jZW9mIERhdGV9ZnVuY3Rpb24gUyhlKXtyZXR1cm4gZS5ub2RlVHlwZT09PU5vZGUuRUxFTUVOVF9OT0RFfWZ1bmN0aW9uIEUoZSl7cmV0dXJuIHZvaWQgMCE9PWUubWluJiZ2b2lkIDAhPT1lLm1heH1mdW5jdGlvbiB3KGUpe3JldHVybi9eZWxldmF0aW9uJC9pLnRlc3QoZS5uYW1lKSYmL14oZXBzZ3xjcnMpOlxcZCskL2kudGVzdChlLnVuaXRzKX1mdW5jdGlvbiBMKGUpe3JldHVybiFGKGUpJiYhdyhlKX1mdW5jdGlvbiBGKGUpe3JldHVybi9edGltZSQvaS50ZXN0KGUubmFtZSkmJi9eaXNvODYwMSQvaS50ZXN0KGUudW5pdHMpfWZ1bmN0aW9uIE0oZSx0KXtjb25zdCByPVtdLGk9bihlKTtmb3IoY29uc3QgbiBpbiBpLnF1ZXJ5KWkucXVlcnkuaGFzT3duUHJvcGVydHkobikmJih0LmluY2x1ZGVzKG4udG9Mb3dlckNhc2UoKSl8fHIucHVzaChuK1wiPVwiK2kucXVlcnlbbl0pKTtyZXR1cm4gaS5wYXRoKyhyLmxlbmd0aD9cIj9cIityLmpvaW4oXCImXCIpOlwiXCIpfWZ1bmN0aW9uIEModCl7aWYoIXQpcmV0dXJuO2NvbnN0IG49dC5pbmNsdWRlcyhcIi9cIikscj10LnNwbGl0KFwiLFwiKTtyZXR1cm4gbj9yLm1hcCgoZT0+e2NvbnN0IHQ9ZS5zcGxpdChcIi9cIik7aWYodC5sZW5ndGg8MilyZXR1cm4gbnVsbDtyZXR1cm57bWluOnBhcnNlRmxvYXQodFswXSksbWF4OnBhcnNlRmxvYXQodFsxXSkscmVzb2x1dGlvbjp0Lmxlbmd0aD49MyYmXCIwXCIhPT10WzJdP3BhcnNlRmxvYXQodFsyXSk6dm9pZCAwfX0pKS5maWx0ZXIoZSk6ci5tYXAoKGU9PnBhcnNlRmxvYXQoZSkpKX1mdW5jdGlvbiB2KHQpe2lmKCF0KXJldHVybjtjb25zdCBuPXQuaW5jbHVkZXMoXCIvXCIpLHI9dC5zcGxpdChcIixcIik7cmV0dXJuIG4/ci5tYXAoKGU9Pntjb25zdCB0PWUuc3BsaXQoXCIvXCIpO2lmKHQubGVuZ3RoPDIpcmV0dXJuIG51bGw7cmV0dXJue21pbjp0WzBdLG1heDp0WzFdLHJlc29sdXRpb246dC5sZW5ndGg+PTMmJlwiMFwiIT09dFsyXT90WzJdOnZvaWQgMH19KSkuZmlsdGVyKGUpOnJ9ZnVuY3Rpb24gSSh0KXtpZighdClyZXR1cm47Y29uc3Qgbj10LmluY2x1ZGVzKFwiL1wiKSxyPXQuc3BsaXQoXCIsXCIpO3JldHVybiBuP3IubWFwKChlPT57Y29uc3QgdD1lLnNwbGl0KFwiL1wiKTtpZih0Lmxlbmd0aDwyKXJldHVybiBudWxsO3JldHVybnttaW46bmV3IERhdGUodFswXSksbWF4Om5ldyBEYXRlKHRbMV0pLHJlc29sdXRpb246dC5sZW5ndGg+PTMmJlwiMFwiIT09dFsyXT9SKHRbMl0pOnZvaWQgMH19KSkuZmlsdGVyKGUpOnIubWFwKChlPT5uZXcgRGF0ZShlKSkpfWZ1bmN0aW9uIFIoZSl7Y29uc3QgdD0vKD86cChcXGQreXxcXGQrKD86LnwsKVxcZCt5KT8oXFxkK218XFxkKyg/Oi58LClcXGQrbSk/KFxcZCtkfFxcZCsoPzoufCwpXFxkK2QpPyk/KD86dChcXGQraHxcXGQrKD86LnwsKVxcZCtoKT8oXFxkK218XFxkKyg/Oi58LClcXGQrbSk/KFxcZCtzfFxcZCsoPzoufCwpXFxkK3MpPyk/L2ksbj1lLm1hdGNoKHQpO2lmKCFuKXJldHVybiBudWxsO3JldHVybnt5ZWFyczpVKG5bMV0pLG1vbnRoczpVKG5bMl0pLGRheXM6VShuWzNdKSxob3VyczpVKG5bNF0pLG1pbnV0ZXM6VShuWzVdKSxzZWNvbmRzOlUobls2XSl9fWZ1bmN0aW9uIFUoZSl7aWYoIWUpcmV0dXJuIDA7Y29uc3QgdD0vKD86XFxkKyg/Oi58LClcXGQrfFxcZCspLyxuPWUubWF0Y2godCk7aWYoIW4pcmV0dXJuIDA7Y29uc3Qgcj1uWzBdLnJlcGxhY2UoXCIsXCIsXCIuXCIpO3JldHVybiBOdW1iZXIocil9ZnVuY3Rpb24gVChlKXtyZXR1cm4gZS50b0lTT1N0cmluZygpLnJlcGxhY2UoL1xcLlswLTldezN9LyxcIlwiKX1jb25zdCBWPW5ldyBTZXQoWzEwMjEwMCwzODU3LDEwMjExMyw5MDA5MTNdKSxPPW5ldyBTZXQoWzMzOTUsNTQwMDRdKTtmdW5jdGlvbiBfKGUsdCl7bGV0IG49ZS53a2lkO3JldHVybiBudWxsPT10P246KG51bGwhPW4mJnQuaW5jbHVkZXMobil8fCFlLmxhdGVzdFdraWR8fChuPWUubGF0ZXN0V2tpZCksbnVsbCE9biYmVi5oYXMobik/dC5maW5kKChlPT5WLmhhcyhlKSkpfHx0LmZpbmQoKGU9Pk8uaGFzKGUpKSl8fDEwMjEwMDpuKX1leHBvcnR7UiBhcyBmcm9tSVNPRHVyYXRpb24sYSBhcyBnZXRQb3B1cExheWVycyxFIGFzIGlzRGltZW5zaW9uSW50ZXJ2YWwsdyBhcyBpc0VsZXZhdGlvbkRpbWVuc2lvbixMIGFzIGlzR2VuZXJpY0RpbWVuc2lvbixGIGFzIGlzVGltZURpbWVuc2lvbixfIGFzIG5vcm1hbGl6ZVdLSUQsbCBhcyBwYXJzZUNhcGFiaWxpdGllcyxUIGFzIHRvSVNPU3RyaW5nfTtcbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==