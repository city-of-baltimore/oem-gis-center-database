"use strict";
(self["webpackChunkexb_client"] = self["webpackChunkexb_client"] || []).push([["vendors-node_modules_arcgis_core_portal_support_portalLayers_js"],{

/***/ "./node_modules/@arcgis/core/layers/support/fetchService.js":
/*!******************************************************************!*\
  !*** ./node_modules/@arcgis/core/layers/support/fetchService.js ***!
  \******************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "fetchFeatureService": () => (/* binding */ r)
/* harmony export */ });
/* harmony import */ var _support_requestPresets_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../support/requestPresets.js */ "./node_modules/@arcgis/core/support/requestPresets.js");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.27/esri/copyright.txt for details.
*/
async function r(r,s){const a=await (0,_support_requestPresets_js__WEBPACK_IMPORTED_MODULE_0__.fetchArcGISServiceJSON)(r,s);a.layers=a.layers.filter(t);const n={serviceJSON:a};if((a.currentVersion??0)<10.5)return n;const i=await (0,_support_requestPresets_js__WEBPACK_IMPORTED_MODULE_0__.fetchArcGISServiceJSON)(r+"/layers",s);return n.layersJSON={layers:i.layers.filter(t),tables:i.tables},n}function t(e){return!e.type||"Feature Layer"===e.type}


/***/ }),

/***/ "./node_modules/@arcgis/core/layers/support/lazyLayerLoader.js":
/*!*********************************************************************!*\
  !*** ./node_modules/@arcgis/core/layers/support/lazyLayerLoader.js ***!
  \*********************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "layerLookupMap": () => (/* binding */ a)
/* harmony export */ });
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.27/esri/copyright.txt for details.
*/
const a={BingMapsLayer:async()=>(await __webpack_require__.e(/*! import() */ "vendors-node_modules_arcgis_core_layers_BingMapsLayer_js").then(__webpack_require__.bind(__webpack_require__, /*! ../BingMapsLayer.js */ "./node_modules/@arcgis/core/layers/BingMapsLayer.js"))).default,BuildingSceneLayer:async()=>(await Promise.all(/*! import() */[__webpack_require__.e("vendors-node_modules_arcgis_core_layers_mixins_SceneService_js"), __webpack_require__.e("vendors-node_modules_arcgis_core_chunks_sphere_js"), __webpack_require__.e("vendors-node_modules_arcgis_core_chunks_mat3_js-node_modules_arcgis_core_chunks_quat_js-node_-52a19e"), __webpack_require__.e("vendors-node_modules_arcgis_core_chunks_quatf32_js-node_modules_arcgis_core_chunks_vec3f32_js-31fd6e"), __webpack_require__.e("vendors-node_modules_arcgis_core_layers_support_FetchAssociatedFeatureLayer_js-node_modules_a-e4d7e6"), __webpack_require__.e("vendors-node_modules_arcgis_core_layers_BuildingSceneLayer_js")]).then(__webpack_require__.bind(__webpack_require__, /*! ../BuildingSceneLayer.js */ "./node_modules/@arcgis/core/layers/BuildingSceneLayer.js"))).default,CSVLayer:async()=>(await __webpack_require__.e(/*! import() */ "vendors-node_modules_arcgis_core_layers_CSVLayer_js").then(__webpack_require__.bind(__webpack_require__, /*! ../CSVLayer.js */ "./node_modules/@arcgis/core/layers/CSVLayer.js"))).default,DimensionLayer:async()=>(await __webpack_require__.e(/*! import() */ "vendors-node_modules_arcgis_core_layers_DimensionLayer_js").then(__webpack_require__.bind(__webpack_require__, /*! ../DimensionLayer.js */ "./node_modules/@arcgis/core/layers/DimensionLayer.js"))).default,ElevationLayer:async()=>(await Promise.all(/*! import() */[__webpack_require__.e("vendors-node_modules_arcgis_core_layers_support_TileInfo_js-node_modules_arcgis_core_layers_s-320776"), __webpack_require__.e("vendors-node_modules_arcgis_core_layers_ElevationLayer_js")]).then(__webpack_require__.bind(__webpack_require__, /*! ../ElevationLayer.js */ "./node_modules/@arcgis/core/layers/ElevationLayer.js"))).default,FeatureLayer:async()=>(await Promise.resolve(/*! import() */).then(__webpack_require__.bind(__webpack_require__, /*! ../FeatureLayer.js */ "./node_modules/@arcgis/core/layers/FeatureLayer.js"))).default,GeoJSONLayer:async()=>(await __webpack_require__.e(/*! import() */ "vendors-node_modules_arcgis_core_layers_GeoJSONLayer_js").then(__webpack_require__.bind(__webpack_require__, /*! ../GeoJSONLayer.js */ "./node_modules/@arcgis/core/layers/GeoJSONLayer.js"))).default,GeoRSSLayer:async()=>(await __webpack_require__.e(/*! import() */ "node_modules_arcgis_core_layers_GeoRSSLayer_js").then(__webpack_require__.bind(__webpack_require__, /*! ../GeoRSSLayer.js */ "./node_modules/@arcgis/core/layers/GeoRSSLayer.js"))).default,GroupLayer:async()=>(await __webpack_require__.e(/*! import() */ "vendors-node_modules_arcgis_core_layers_GroupLayer_js").then(__webpack_require__.bind(__webpack_require__, /*! ../GroupLayer.js */ "./node_modules/@arcgis/core/layers/GroupLayer.js"))).default,ImageryLayer:async()=>(await Promise.all(/*! import() */[__webpack_require__.e("vendors-node_modules_arcgis_core_layers_graphics_featureConversionUtils_js"), __webpack_require__.e("vendors-node_modules_arcgis_core_rest_query_operations_pbfQueryUtils_js"), __webpack_require__.e("vendors-node_modules_arcgis_core_rest_query_operations_query_js"), __webpack_require__.e("vendors-node_modules_arcgis_core_layers_support_rasterFormats_RasterCodec_js-node_modules_arc-8bf7d2"), __webpack_require__.e("vendors-node_modules_arcgis_core_layers_support_MultidimensionalSubset_js-node_modules_arcgis-ed9caa"), __webpack_require__.e("vendors-node_modules_arcgis_core_layers_ImageryLayer_js")]).then(__webpack_require__.bind(__webpack_require__, /*! ../ImageryLayer.js */ "./node_modules/@arcgis/core/layers/ImageryLayer.js"))).default,ImageryTileLayer:async()=>(await Promise.all(/*! import() */[__webpack_require__.e("vendors-node_modules_arcgis_core_layers_support_TileInfo_js-node_modules_arcgis_core_layers_s-320776"), __webpack_require__.e("vendors-node_modules_arcgis_core_layers_support_rasterFormats_RasterCodec_js-node_modules_arc-8bf7d2"), __webpack_require__.e("vendors-node_modules_arcgis_core_layers_support_rasterFunctions_rasterFunctionHelper_js-node_-ff8628"), __webpack_require__.e("vendors-node_modules_arcgis_core_layers_support_MultidimensionalSubset_js-node_modules_arcgis-ed9caa"), __webpack_require__.e("vendors-node_modules_arcgis_core_geometry_support_normalizeUtils_js-node_modules_arcgis_core_-9af883")]).then(__webpack_require__.bind(__webpack_require__, /*! ../ImageryTileLayer.js */ "./node_modules/@arcgis/core/layers/ImageryTileLayer.js"))).default,IntegratedMeshLayer:async()=>(await Promise.all(/*! import() */[__webpack_require__.e("vendors-node_modules_arcgis_core_layers_mixins_SceneService_js"), __webpack_require__.e("vendors-node_modules_arcgis_core_layers_IntegratedMeshLayer_js")]).then(__webpack_require__.bind(__webpack_require__, /*! ../IntegratedMeshLayer.js */ "./node_modules/@arcgis/core/layers/IntegratedMeshLayer.js"))).default,KMLLayer:async()=>(await __webpack_require__.e(/*! import() */ "vendors-node_modules_arcgis_core_layers_KMLLayer_js").then(__webpack_require__.bind(__webpack_require__, /*! ../KMLLayer.js */ "./node_modules/@arcgis/core/layers/KMLLayer.js"))).default,LineOfSightLayer:async()=>(await __webpack_require__.e(/*! import() */ "vendors-node_modules_arcgis_core_layers_LineOfSightLayer_js").then(__webpack_require__.bind(__webpack_require__, /*! ../LineOfSightLayer.js */ "./node_modules/@arcgis/core/layers/LineOfSightLayer.js"))).default,LinkChartLayer:async()=>(await Promise.all(/*! import() */[__webpack_require__.e("vendors-node_modules_arcgis_core_layers_graphics_featureConversionUtils_js"), __webpack_require__.e("vendors-node_modules_arcgis_core_core_sql_WhereClause_js"), __webpack_require__.e("vendors-node_modules_arcgis_core_geometry_support_quantizationUtils_js-node_modules_arcgis_co-a9e48e"), __webpack_require__.e("vendors-node_modules_arcgis_core_arcade_executionError_js-node_modules_arcgis_core_chunks_qui-9a815a"), __webpack_require__.e("vendors-node_modules_arcgis_core_layers_graphics_data_FeatureStore_js"), __webpack_require__.e("vendors-node_modules_arcgis_core_geometry_support_normalizeUtils_js-node_modules_arcgis_core_-db1691")]).then(__webpack_require__.bind(__webpack_require__, /*! ../LinkChartLayer.js */ "./node_modules/@arcgis/core/layers/LinkChartLayer.js"))).default,MapImageLayer:async()=>(await Promise.all(/*! import() */[__webpack_require__.e("vendors-node_modules_arcgis_core_layers_graphics_featureConversionUtils_js"), __webpack_require__.e("vendors-node_modules_arcgis_core_rest_query_operations_pbfQueryUtils_js"), __webpack_require__.e("vendors-node_modules_arcgis_core_rest_query_operations_query_js"), __webpack_require__.e("vendors-node_modules_arcgis_core_layers_graphics_sources_support_QueryTask_js"), __webpack_require__.e("vendors-node_modules_arcgis_core_core_loadAll_js-node_modules_arcgis_core_layers_mixins_ArcGI-5ea93f"), __webpack_require__.e("vendors-node_modules_arcgis_core_layers_MapImageLayer_js")]).then(__webpack_require__.bind(__webpack_require__, /*! ../MapImageLayer.js */ "./node_modules/@arcgis/core/layers/MapImageLayer.js"))).default,MapNotesLayer:async()=>(await __webpack_require__.e(/*! import() */ "vendors-node_modules_arcgis_core_layers_MapNotesLayer_js").then(__webpack_require__.bind(__webpack_require__, /*! ../MapNotesLayer.js */ "./node_modules/@arcgis/core/layers/MapNotesLayer.js"))).default,MediaLayer:async()=>(await __webpack_require__.e(/*! import() */ "vendors-node_modules_arcgis_core_layers_MediaLayer_js").then(__webpack_require__.bind(__webpack_require__, /*! ../MediaLayer.js */ "./node_modules/@arcgis/core/layers/MediaLayer.js"))).default,OGCFeatureLayer:async()=>(await Promise.all(/*! import() */[__webpack_require__.e("vendors-node_modules_arcgis_core_layers_graphics_featureConversionUtils_js"), __webpack_require__.e("vendors-node_modules_arcgis_core_layers_ogc_ogcFeatureUtils_js"), __webpack_require__.e("vendors-node_modules_arcgis_core_layers_OGCFeatureLayer_js-node_modules_arcgis_core_layers_gr-964736")]).then(__webpack_require__.bind(__webpack_require__, /*! ../OGCFeatureLayer.js */ "./node_modules/@arcgis/core/layers/OGCFeatureLayer.js"))).default,OpenStreetMapLayer:async()=>(await Promise.all(/*! import() */[__webpack_require__.e("vendors-node_modules_arcgis_core_layers_WebTileLayer_js"), __webpack_require__.e("node_modules_arcgis_core_layers_OpenStreetMapLayer_js")]).then(__webpack_require__.bind(__webpack_require__, /*! ../OpenStreetMapLayer.js */ "./node_modules/@arcgis/core/layers/OpenStreetMapLayer.js"))).default,OrientedImageryLayer:async()=>(await __webpack_require__.e(/*! import() */ "node_modules_arcgis_core_layers_OrientedImageryLayer_js").then(__webpack_require__.bind(__webpack_require__, /*! ../OrientedImageryLayer.js */ "./node_modules/@arcgis/core/layers/OrientedImageryLayer.js"))).default,PointCloudLayer:async()=>(await Promise.all(/*! import() */[__webpack_require__.e("vendors-node_modules_arcgis_core_layers_mixins_SceneService_js"), __webpack_require__.e("vendors-node_modules_arcgis_core_renderers_PointCloudClassBreaksRenderer_js-node_modules_arcg-18c8ae"), __webpack_require__.e("vendors-node_modules_arcgis_core_layers_PointCloudLayer_js")]).then(__webpack_require__.bind(__webpack_require__, /*! ../PointCloudLayer.js */ "./node_modules/@arcgis/core/layers/PointCloudLayer.js"))).default,RouteLayer:async()=>(await __webpack_require__.e(/*! import() */ "vendors-node_modules_arcgis_core_layers_RouteLayer_js").then(__webpack_require__.bind(__webpack_require__, /*! ../RouteLayer.js */ "./node_modules/@arcgis/core/layers/RouteLayer.js"))).default,SceneLayer:async()=>(await Promise.all(/*! import() */[__webpack_require__.e("vendors-node_modules_arcgis_core_layers_mixins_SceneService_js"), __webpack_require__.e("vendors-node_modules_arcgis_core_chunks_sphere_js"), __webpack_require__.e("vendors-node_modules_arcgis_core_chunks_mat3_js-node_modules_arcgis_core_chunks_quat_js-node_-52a19e"), __webpack_require__.e("vendors-node_modules_arcgis_core_chunks_quatf32_js-node_modules_arcgis_core_chunks_vec3f32_js-31fd6e"), __webpack_require__.e("vendors-node_modules_arcgis_core_layers_support_FetchAssociatedFeatureLayer_js-node_modules_a-e4d7e6"), __webpack_require__.e("vendors-node_modules_arcgis_core_layers_SceneLayer_js")]).then(__webpack_require__.bind(__webpack_require__, /*! ../SceneLayer.js */ "./node_modules/@arcgis/core/layers/SceneLayer.js"))).default,StreamLayer:async()=>(await __webpack_require__.e(/*! import() */ "vendors-node_modules_arcgis_core_layers_StreamLayer_js").then(__webpack_require__.bind(__webpack_require__, /*! ../StreamLayer.js */ "./node_modules/@arcgis/core/layers/StreamLayer.js"))).default,SubtypeGroupLayer:async()=>(await __webpack_require__.e(/*! import() */ "vendors-node_modules_arcgis_core_layers_SubtypeGroupLayer_js").then(__webpack_require__.bind(__webpack_require__, /*! ../SubtypeGroupLayer.js */ "./node_modules/@arcgis/core/layers/SubtypeGroupLayer.js"))).default,TileLayer:async()=>(await Promise.all(/*! import() */[__webpack_require__.e("vendors-node_modules_arcgis_core_layers_graphics_featureConversionUtils_js"), __webpack_require__.e("vendors-node_modules_arcgis_core_rest_query_operations_pbfQueryUtils_js"), __webpack_require__.e("vendors-node_modules_arcgis_core_rest_query_operations_query_js"), __webpack_require__.e("vendors-node_modules_arcgis_core_layers_support_TileInfo_js-node_modules_arcgis_core_layers_s-320776"), __webpack_require__.e("vendors-node_modules_arcgis_core_layers_graphics_sources_support_QueryTask_js"), __webpack_require__.e("vendors-node_modules_arcgis_core_core_loadAll_js-node_modules_arcgis_core_layers_mixins_ArcGI-5ea93f"), __webpack_require__.e("vendors-node_modules_arcgis_core_layers_TileLayer_js")]).then(__webpack_require__.bind(__webpack_require__, /*! ../TileLayer.js */ "./node_modules/@arcgis/core/layers/TileLayer.js"))).default,UnknownLayer:async()=>(await __webpack_require__.e(/*! import() */ "node_modules_arcgis_core_layers_UnknownLayer_js").then(__webpack_require__.bind(__webpack_require__, /*! ../UnknownLayer.js */ "./node_modules/@arcgis/core/layers/UnknownLayer.js"))).default,UnsupportedLayer:async()=>(await __webpack_require__.e(/*! import() */ "node_modules_arcgis_core_layers_UnsupportedLayer_js").then(__webpack_require__.bind(__webpack_require__, /*! ../UnsupportedLayer.js */ "./node_modules/@arcgis/core/layers/UnsupportedLayer.js"))).default,VectorTileLayer:async()=>(await Promise.all(/*! import() */[__webpack_require__.e("vendors-node_modules_arcgis_core_views_webgl_enums_js"), __webpack_require__.e("vendors-node_modules_arcgis_core_layers_support_TileInfo_js-node_modules_arcgis_core_layers_s-320776"), __webpack_require__.e("vendors-node_modules_arcgis_core_symbols_cim_enums_js-node_modules_arcgis_core_views_2d_engin-269ab4"), __webpack_require__.e("vendors-node_modules_arcgis_core_geometry_support_TileClipper_js-node_modules_arcgis_core_vie-6140ae"), __webpack_require__.e("vendors-node_modules_arcgis_core_views_2d_engine_vectorTiles_style_StyleRepository_js"), __webpack_require__.e("vendors-node_modules_arcgis_core_layers_VectorTileLayer_js")]).then(__webpack_require__.bind(__webpack_require__, /*! ../VectorTileLayer.js */ "./node_modules/@arcgis/core/layers/VectorTileLayer.js"))).default,VoxelLayer:async()=>(await Promise.all(/*! import() */[__webpack_require__.e("vendors-node_modules_arcgis_core_layers_mixins_SceneService_js"), __webpack_require__.e("vendors-node_modules_arcgis_core_layers_VoxelLayer_js")]).then(__webpack_require__.bind(__webpack_require__, /*! ../VoxelLayer.js */ "./node_modules/@arcgis/core/layers/VoxelLayer.js"))).default,WFSLayer:async()=>(await Promise.all(/*! import() */[__webpack_require__.e("vendors-node_modules_arcgis_core_layers_ogc_wfsUtils_js"), __webpack_require__.e("vendors-node_modules_arcgis_core_layers_WFSLayer_js-node_modules_arcgis_core_layers_graphics_-8e4a35")]).then(__webpack_require__.bind(__webpack_require__, /*! ../WFSLayer.js */ "./node_modules/@arcgis/core/layers/WFSLayer.js"))).default,WMSLayer:async()=>(await __webpack_require__.e(/*! import() */ "vendors-node_modules_arcgis_core_layers_WMSLayer_js").then(__webpack_require__.bind(__webpack_require__, /*! ../WMSLayer.js */ "./node_modules/@arcgis/core/layers/WMSLayer.js"))).default,WMTSLayer:async()=>(await Promise.all(/*! import() */[__webpack_require__.e("vendors-node_modules_arcgis_core_layers_WebTileLayer_js"), __webpack_require__.e("vendors-node_modules_arcgis_core_layers_WMTSLayer_js")]).then(__webpack_require__.bind(__webpack_require__, /*! ../WMTSLayer.js */ "./node_modules/@arcgis/core/layers/WMTSLayer.js"))).default,WebTileLayer:async()=>(await __webpack_require__.e(/*! import() */ "vendors-node_modules_arcgis_core_layers_WebTileLayer_js").then(__webpack_require__.bind(__webpack_require__, /*! ../WebTileLayer.js */ "./node_modules/@arcgis/core/layers/WebTileLayer.js"))).default};


/***/ }),

/***/ "./node_modules/@arcgis/core/portal/support/jsonContext.js":
/*!*****************************************************************!*\
  !*** ./node_modules/@arcgis/core/portal/support/jsonContext.js ***!
  \*****************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "createForItemRead": () => (/* binding */ e),
/* harmony export */   "createForItemWrite": () => (/* binding */ o)
/* harmony export */ });
/* harmony import */ var _core_urlUtils_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../core/urlUtils.js */ "./node_modules/@arcgis/core/core/urlUtils.js");
/* harmony import */ var _Portal_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../Portal.js */ "./node_modules/@arcgis/core/portal/Portal.js");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.27/esri/copyright.txt for details.
*/
function e(e){return{origin:"portal-item",url:(0,_core_urlUtils_js__WEBPACK_IMPORTED_MODULE_0__.urlToObject)(e.itemUrl),portal:e.portal||_Portal_js__WEBPACK_IMPORTED_MODULE_1__["default"].getDefault(),portalItem:e,readResourcePaths:[]}}function o(e){return{origin:"portal-item",messages:[],writtenProperties:[],url:e.itemUrl?(0,_core_urlUtils_js__WEBPACK_IMPORTED_MODULE_0__.urlToObject)(e.itemUrl):null,portal:e.portal||_Portal_js__WEBPACK_IMPORTED_MODULE_1__["default"].getDefault(),portalItem:e}}


/***/ }),

/***/ "./node_modules/@arcgis/core/portal/support/layersLoader.js":
/*!******************************************************************!*\
  !*** ./node_modules/@arcgis/core/portal/support/layersLoader.js ***!
  \******************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "getFirstLayerOrTableId": () => (/* binding */ I),
/* harmony export */   "getNumLayersAndTables": () => (/* binding */ v),
/* harmony export */   "getSubtypeGroupLayerIds": () => (/* binding */ j),
/* harmony export */   "load": () => (/* binding */ p),
/* harmony export */   "preprocessFSItemData": () => (/* binding */ w)
/* harmony export */ });
/* harmony import */ var _core_Error_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../core/Error.js */ "./node_modules/@arcgis/core/core/Error.js");
/* harmony import */ var _layers_Layer_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../layers/Layer.js */ "./node_modules/@arcgis/core/layers/Layer.js");
/* harmony import */ var _layers_support_arcgisLayerUrl_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../layers/support/arcgisLayerUrl.js */ "./node_modules/@arcgis/core/layers/support/arcgisLayerUrl.js");
/* harmony import */ var _layers_support_fetchService_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../layers/support/fetchService.js */ "./node_modules/@arcgis/core/layers/support/fetchService.js");
/* harmony import */ var _Portal_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../Portal.js */ "./node_modules/@arcgis/core/portal/Portal.js");
/* harmony import */ var _PortalItem_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../PortalItem.js */ "./node_modules/@arcgis/core/portal/PortalItem.js");
/* harmony import */ var _jsonContext_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./jsonContext.js */ "./node_modules/@arcgis/core/portal/support/jsonContext.js");
/* harmony import */ var _portalItemUtils_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ./portalItemUtils.js */ "./node_modules/@arcgis/core/portal/support/portalItemUtils.js");
/* harmony import */ var _renderers_support_styleUtils_js__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../../renderers/support/styleUtils.js */ "./node_modules/@arcgis/core/renderers/support/styleUtils.js");
/* harmony import */ var _support_requestPresets_js__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../../support/requestPresets.js */ "./node_modules/@arcgis/core/support/requestPresets.js");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.27/esri/copyright.txt for details.
*/
async function p(e,t){const r=e.instance.portalItem;if(r&&r.id)return await r.load(t),c(e),y(e,t)}function c(t){const r=t.instance.portalItem;if(!r?.type||!t.supportedTypes.includes(r.type))throw new _core_Error_js__WEBPACK_IMPORTED_MODULE_0__["default"]("portal:invalid-layer-item-type","Invalid layer item type '${type}', expected '${expectedType}'",{type:r?.type,expectedType:t.supportedTypes.join(", ")})}async function y(e,t){const r=e.instance,a=r.portalItem;if(!a)return;const{url:n,title:o}=a,s=(0,_jsonContext_js__WEBPACK_IMPORTED_MODULE_6__.createForItemRead)(a);if("group"===r.type)return r.read({title:o},s),f(r,e);n&&r.read({url:n},s);const u=await h(e,t);return u&&r.read(u,s),r.resourceReferences={portalItem:a,paths:s.readResourcePaths??[]},"subtype-group"!==r.type&&r.read({title:o},s),(0,_renderers_support_styleUtils_js__WEBPACK_IMPORTED_MODULE_8__.loadStyleRenderer)(r,s)}async function f(t,r){let a;const{portalItem:n}=t;if(!n)return;const o=n.type,l=r.layerModuleTypeMap,i=(0,_portalItemUtils_js__WEBPACK_IMPORTED_MODULE_7__.hasTypeKeyword)(n,"Oriented Imagery Layer")??!1;switch(o){case"Feature Service":a=i?l.OrientedImageryLayer:l.FeatureLayer;break;case"Stream Service":a=l.StreamLayer;break;case"Scene Service":a=l.SceneLayer;break;case"Feature Collection":a=l.FeatureLayer;break;default:throw new _core_Error_js__WEBPACK_IMPORTED_MODULE_0__["default"]("portal:unsupported-item-type-as-group",`The item type '${o}' is not supported as a 'IGroupLayer'`)}let[u,p]=await Promise.all([a(),h(r)]),c=()=>u;if("Feature Service"===o){p=n.url?await w(p,n.url):{};if(j(p).length){const e=l.SubtypeGroupLayer,t=await e();c=e=>"SubtypeGroupLayer"===e.layerType?t:u}return b(t,c,p,await P(n.url))}return v(p)>0?b(t,c,p):d(t,c)}async function d(e,t){const{portalItem:r}=e;if(!r?.url)return;const a=await (0,_support_requestPresets_js__WEBPACK_IMPORTED_MODULE_9__.fetchArcGISServiceJSON)(r.url);a&&b(e,t,{layers:a.layers?.map(m),tables:a.tables?.map(m)})}function m(e){return{id:e.id,name:e.name}}function b(e,t,r,a){let n=r.layers||[];const o=r.tables||[];if("Feature Collection"===e.portalItem?.type&&(n.forEach((e=>{"Table"===e?.layerDefinition?.type&&o.push(e)})),n=n.filter((e=>"Table"!==e?.layerDefinition?.type))),"coverage"in r){const t=T(r);t&&e.add(t)}n.reverse().forEach((n=>{const o=a?.(n);if(o||!a){const a=g(e,t(n),r,n,o);e.add(a)}})),o.reverse().forEach((n=>{const o=a?.(n);if(o||!a){const a=g(e,t(n),r,n,o);e.tables.add(a)}}))}function g(e,t,r,a,o){const l=e.portalItem,s=new t({portalItem:l.clone(),layerId:a.id});if("sourceJSON"in s&&(s.sourceJSON=o),"subtype-group"!==s.type&&(s.sublayerTitleMode="service-name"),"Feature Collection"===l.type){const e={origin:"portal-item",portal:l.portal||_Portal_js__WEBPACK_IMPORTED_MODULE_4__["default"].getDefault()};s.read(a,e);const t=r.showLegend;null!=t&&s.read({showLegend:t},e)}return s}async function h(e,t){if(!1===e.supportsData)return;const r=e.instance,a=r.portalItem;if(!a)return;let n=null;try{n=await a.fetchData("json",t)}catch(o){}if(S(r)){let e=null,t=!0;if(n&&v(n)>0){if(null==r.layerId){const e=j(n);r.layerId="subtype-group"===r.type?e?.[0]:I(n)}e=L(n,r),e&&(1===v(n)&&(t=!1),null!=n.showLegend&&(e.showLegend=n.showLegend))}return t&&"sublayerTitleMode"in r&&"service-name"!==r.sublayerTitleMode&&(r.sublayerTitleMode="item-title-and-service-name"),e}return n}async function w(e,t){if(null==e?.layers||null==e?.tables){const r=await (0,_support_requestPresets_js__WEBPACK_IMPORTED_MODULE_9__.fetchArcGISServiceJSON)(t);(e=e||{}).layers=e.layers||r?.layers,e.tables=e.tables||r?.tables}return e}function I(e){const t=e.layers;if(t&&t.length)return t[0].id;const r=e.tables;return r&&r.length?r[0].id:null}function L(e,t){const{layerId:r}=t,a=e.layers?.find((e=>e.id===r))||e.tables?.find((e=>e.id===r));return a&&F(a,t)?a:null}function v(e){return(e?.layers?.length??0)+(e?.tables?.length??0)}function S(e){return"stream"!==e.type&&"oriented-imagery"!==e.type&&"layerId"in e}function T(a){const{coverage:n}=a;if(!n)return null;const l=new URL(n);if(n.toLowerCase().includes("item.html")){const e=l.searchParams.get("id"),r=l.origin;return _layers_Layer_js__WEBPACK_IMPORTED_MODULE_1__["default"].fromPortalItem({portalItem:new _PortalItem_js__WEBPACK_IMPORTED_MODULE_5__["default"]({id:e,url:r})})}if((0,_layers_support_arcgisLayerUrl_js__WEBPACK_IMPORTED_MODULE_2__.isArcGISUrl)(n))return _layers_Layer_js__WEBPACK_IMPORTED_MODULE_1__["default"].fromArcGISServerUrl({url:n});throw new _core_Error_js__WEBPACK_IMPORTED_MODULE_0__["default"]("portal:oriented-imagery-layer-coverage","the provided coverage url couldn't be loaded as a layer")}function j(e){const t=[];return e?.layers?.forEach((e=>{"SubtypeGroupLayer"===e.layerType&&t.push(e.id)})),t}function F(e,t){return!("feature"===t.type&&"layerType"in e&&"SubtypeGroupLayer"===e.layerType||"subtype-group"===t.type&&!("layerType"in e))}async function P(e){const{layersJSON:t}=await (0,_layers_support_fetchService_js__WEBPACK_IMPORTED_MODULE_3__.fetchFeatureService)(e);if(!t)return null;const r=[...t.layers,...t.tables];return e=>r.find((t=>t.id===e.id))}


/***/ }),

/***/ "./node_modules/@arcgis/core/portal/support/portalLayers.js":
/*!******************************************************************!*\
  !*** ./node_modules/@arcgis/core/portal/support/portalLayers.js ***!
  \******************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "fromItem": () => (/* binding */ l),
/* harmony export */   "selectLayerClassPath": () => (/* binding */ m)
/* harmony export */ });
/* harmony import */ var _core_Error_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../core/Error.js */ "./node_modules/@arcgis/core/core/Error.js");
/* harmony import */ var _layers_support_layerUtils_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../layers/support/layerUtils.js */ "./node_modules/@arcgis/core/layers/support/layerUtils.js");
/* harmony import */ var _layers_support_lazyLayerLoader_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../layers/support/lazyLayerLoader.js */ "./node_modules/@arcgis/core/layers/support/lazyLayerLoader.js");
/* harmony import */ var _PortalItem_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../PortalItem.js */ "./node_modules/@arcgis/core/portal/PortalItem.js");
/* harmony import */ var _layersLoader_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./layersLoader.js */ "./node_modules/@arcgis/core/portal/support/layersLoader.js");
/* harmony import */ var _portalItemUtils_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./portalItemUtils.js */ "./node_modules/@arcgis/core/portal/support/portalItemUtils.js");
/* harmony import */ var _support_requestPresets_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../support/requestPresets.js */ "./node_modules/@arcgis/core/support/requestPresets.js");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.27/esri/copyright.txt for details.
*/
async function l(e){!e.portalItem||e.portalItem instanceof _PortalItem_js__WEBPACK_IMPORTED_MODULE_3__["default"]||(e={...e,portalItem:new _PortalItem_js__WEBPACK_IMPORTED_MODULE_3__["default"](e.portalItem)});const r=await y(e.portalItem);return new(0,r.constructor)({portalItem:e.portalItem,...r.properties})}async function y(e){await e.load();return p(await m(e))}async function m(r){switch(r.type){case"Map Service":return f(r);case"Feature Service":return L(r);case"Feature Collection":return w(r);case"Scene Service":return N(r);case"Image Service":return d(r);case"Stream Service":return S();case"Vector Tile Service":return I();case"GeoJson":return g();case"CSV":return T();case"KML":return j();case"WFS":return v();case"WMTS":return F();case"WMS":return M();case"Feed":return G();default:throw new _core_Error_js__WEBPACK_IMPORTED_MODULE_0__["default"]("portal:unknown-item-type","Unknown item type '${type}'",{type:r.type})}}async function p(e){const r=e.className,t=_layers_support_lazyLayerLoader_js__WEBPACK_IMPORTED_MODULE_2__.layerLookupMap[r];return{constructor:await t(),properties:e.properties}}async function f(e){return await b(e)?{className:"TileLayer"}:{className:"MapImageLayer"}}async function L(e){if((0,_portalItemUtils_js__WEBPACK_IMPORTED_MODULE_5__.hasTypeKeyword)(e,"Oriented Imagery Layer"))return h(e);const r=await C(e);if("object"==typeof r){const e={};return null!=r.id&&(e.layerId=r.id),{className:r.className||"FeatureLayer",properties:e}}return{className:"GroupLayer"}}async function N(e){const a=await C(e);if("object"==typeof a){const t={};let n;if(null!=a.id?(t.layerId=a.id,n=`${e.url}/layers/${a.id}`):n=e.url,e.typeKeywords?.length)for(const a of Object.keys(_layers_support_layerUtils_js__WEBPACK_IMPORTED_MODULE_1__.sceneServiceLayerTypeToClassName))if(e.typeKeywords.includes(a))return{className:_layers_support_layerUtils_js__WEBPACK_IMPORTED_MODULE_1__.sceneServiceLayerTypeToClassName[a]};const s=await (0,_support_requestPresets_js__WEBPACK_IMPORTED_MODULE_6__.fetchArcGISServiceJSON)(n);return{className:_layers_support_layerUtils_js__WEBPACK_IMPORTED_MODULE_1__.sceneServiceLayerTypeToClassName[s?.layerType]||"SceneLayer",properties:t}}if(!1===a){const r=await (0,_support_requestPresets_js__WEBPACK_IMPORTED_MODULE_6__.fetchArcGISServiceJSON)(e.url);return"Voxel"===r?.layerType?{className:"VoxelLayer"}:{className:"GroupLayer"}}return{className:"GroupLayer"}}async function w(e){await e.load();const r=(0,_portalItemUtils_js__WEBPACK_IMPORTED_MODULE_5__.hasTypeKeyword)(e,"Map Notes"),a=(0,_portalItemUtils_js__WEBPACK_IMPORTED_MODULE_5__.hasTypeKeyword)(e,"Markup");if(r||a)return{className:"MapNotesLayer"};if((0,_portalItemUtils_js__WEBPACK_IMPORTED_MODULE_5__.hasTypeKeyword)(e,"Route Layer"))return{className:"RouteLayer"};const t=await e.fetchData();return 1===(0,_layersLoader_js__WEBPACK_IMPORTED_MODULE_4__.getNumLayersAndTables)(t)?{className:"FeatureLayer"}:{className:"GroupLayer"}}async function d(e){await e.load();const r=e.typeKeywords?.map((e=>e.toLowerCase()))??[];if(r.includes("elevation 3d layer"))return{className:"ElevationLayer"};if(r.includes("tiled imagery"))return{className:"ImageryTileLayer"};const a=await e.fetchData(),t=a?.layerType;if("ArcGISTiledImageServiceLayer"===t)return{className:"ImageryTileLayer"};if("ArcGISImageServiceLayer"===t)return{className:"ImageryLayer"};const n=await (0,_support_requestPresets_js__WEBPACK_IMPORTED_MODULE_6__.fetchArcGISServiceJSON)(e.url),s=n.cacheType?.toLowerCase(),c=n.capabilities?.toLowerCase().includes("tilesonly");return"map"===s||c?{className:"ImageryTileLayer"}:{className:"ImageryLayer"}}function S(){return{className:"StreamLayer"}}function I(){return{className:"VectorTileLayer"}}function g(){return{className:"GeoJSONLayer"}}function T(){return{className:"CSVLayer"}}function j(){return{className:"KMLLayer"}}function v(){return{className:"WFSLayer"}}function M(){return{className:"WMSLayer"}}function F(){return{className:"WMTSLayer"}}function G(){return{className:"StreamLayer"}}async function h(e){await e.load();return{className:"OrientedImageryLayer",properties:await e.fetchData()}}async function b(e){return(await (0,_support_requestPresets_js__WEBPACK_IMPORTED_MODULE_6__.fetchArcGISServiceJSON)(e.url)).tileInfo}async function C(e){const r=e.url;if(!r||/\/\d+$/.test(r))return{};await e.load();const a=await e.fetchData();if("Feature Service"===e.type){const e=V(await (0,_layersLoader_js__WEBPACK_IMPORTED_MODULE_4__.preprocessFSItemData)(a,r));if("object"==typeof e){const r=(0,_layersLoader_js__WEBPACK_IMPORTED_MODULE_4__.getSubtypeGroupLayerIds)(a);e.className=null!=e.id&&r.includes(e.id)?"SubtypeGroupLayer":"FeatureLayer"}return e}if((0,_layersLoader_js__WEBPACK_IMPORTED_MODULE_4__.getNumLayersAndTables)(a)>0)return V(a);return V(await (0,_support_requestPresets_js__WEBPACK_IMPORTED_MODULE_6__.fetchArcGISServiceJSON)(r))}function V(e){return 1===(0,_layersLoader_js__WEBPACK_IMPORTED_MODULE_4__.getNumLayersAndTables)(e)&&{id:(0,_layersLoader_js__WEBPACK_IMPORTED_MODULE_4__.getFirstLayerOrTableId)(e)}}


/***/ }),

/***/ "./node_modules/@arcgis/core/support/requestPresets.js":
/*!*************************************************************!*\
  !*** ./node_modules/@arcgis/core/support/requestPresets.js ***!
  \*************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "fetchArcGISServiceJSON": () => (/* binding */ t)
/* harmony export */ });
/* harmony import */ var _request_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../request.js */ "./node_modules/@arcgis/core/request.js");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.27/esri/copyright.txt for details.
*/
async function t(t,o){const{data:r}=await (0,_request_js__WEBPACK_IMPORTED_MODULE_0__["default"])(t,{responseType:"json",query:{f:"json",...o?.customParameters,token:o?.apiKey}});return r}


/***/ })

}]);
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoid2lkZ2V0cy9jaHVua3MvNThmNDhhMmRkN2EwMWJkZDlkM2M0MGViYTgyZGI0NzcuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUN5RSxzQkFBc0IsY0FBYyxrRkFBQyxNQUFNLDRCQUE0QixTQUFTLGVBQWUsdUNBQXVDLGNBQWMsa0ZBQUMsZ0JBQWdCLHFCQUFxQiwwQ0FBMEMsR0FBRyxjQUFjLHdDQUF5RTs7Ozs7Ozs7Ozs7Ozs7O0FDSnZZO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUyw4QkFBOEIsdU9BQTZCLDZDQUE2QyxzeUJBQWtDLG1DQUFtQyx3TkFBd0IseUNBQXlDLDBPQUE4Qix5Q0FBeUMsdVhBQThCLHVDQUF1QyxvS0FBNEIsdUNBQXVDLG9PQUE0QixzQ0FBc0MseU5BQTJCLHFDQUFxQyw4TkFBMEIsdUNBQXVDLGl4QkFBNEIsMkNBQTJDLG15QkFBZ0MsOENBQThDLGdXQUFtQyxtQ0FBbUMsd05BQXdCLDJDQUEyQyxnUEFBZ0MseUNBQXlDLHl6QkFBOEIsd0NBQXdDLDZ2QkFBNkIsd0NBQXdDLHVPQUE2QixxQ0FBcUMsOE5BQTBCLDBDQUEwQyxtZUFBK0IsNkNBQTZDLDhVQUFrQywrQ0FBK0Msb1BBQW9DLDBDQUEwQyxtZEFBK0IscUNBQXFDLDhOQUEwQixxQ0FBcUMsOHdCQUEwQixzQ0FBc0MsaU9BQTJCLDRDQUE0QyxtUEFBaUMsb0NBQW9DLGczQkFBeUIsdUNBQXVDLDROQUE0QiwyQ0FBMkMsd09BQWdDLDBDQUEwQyx3ekJBQStCLHFDQUFxQyxxVUFBMEIsbUNBQW1DLHlXQUF3QixtQ0FBbUMsd05BQXdCLG9DQUFvQywyVEFBeUIsdUNBQXVDLG9PQUE0QixXQUF1Qzs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FDSnY0RTtBQUNBO0FBQ0E7QUFDQTtBQUNpRixjQUFjLE9BQU8seUJBQXlCLDhEQUFDLDZCQUE2Qiw2REFBWSxzQ0FBc0MsY0FBYyxPQUFPLG9FQUFvRSw4REFBQyxrQ0FBa0MsNkRBQVksaUJBQXdF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Y0FBYyxrRkFBQyxRQUFRLDhCQUE4Qix1QkFBdUIsRUFBRSx3QkFBd0IsT0FBTyx3QkFBd0Isb0JBQW9CLGVBQWUsUUFBUSxtRUFBQyxrQkFBa0IsbUVBQUMsYUFBYSxlQUFlLDJCQUEyQixHQUFHLG1FQUFDLHlCQUF5Qix3QkFBd0IsNEJBQTRCLFdBQVcsdUVBQUMsS0FBSyx5QkFBeUIsRUFBRSx3QkFBd0Isb0JBQW9CLGVBQWUsc0RBQXNELDJDQUEyQyw0QkFBNEIsc0NBQXNDLDhCQUE4QiwyQ0FBMkMsNkNBQTZDLDhCQUE4Qix3Q0FBd0MsMEJBQTBCLGNBQWMsa0ZBQUMsMkZBQTJGLG9CQUFvQiw2QkFBNkIsRUFBRSwwQkFBMEIsYUFBYSxPQUFPLHlCQUF5QixhQUFhLE9BQU8sNkJBQTZCLGFBQWEsT0FBTywwQkFBMEIsYUFBYSxPQUFPLHNCQUFzQixhQUFhLE9BQU8sc0JBQXNCLGFBQWEsT0FBTyxzQkFBc0IsYUFBYSxPQUFPLHNCQUFzQixhQUFhLE9BQU8sdUJBQXVCLGFBQWEsT0FBTyx5QkFBeUIsb0JBQW9CLGVBQWUsT0FBTyxpRUFBaUUsb0JBQW9CLGFBQWEsa0ZBQUMsa0JBQWtCLG9CQUFvQixjQUFjLGlDQUFpQyxlQUFlLDRCQUE0QiwrQkFBK0IsZ0JBQWdCLHNFQUFDLE9BQU8sdUJBQXVCLFFBQVEseUVBQUMsSUFBSSw0RUFBNEUsU0FBUyxHQUFHLHVFQUFDLGtCQUFrQixlQUFlLGtGQUFDLEtBQUssY0FBYyxXQUFXLHVFQUFDLE1BQU0sR0FBRyx3RUFBQyxLQUFxRDs7Ozs7Ozs7Ozs7Ozs7OztBQ0oxNkg7QUFDQTtBQUNBO0FBQ0E7QUFDNkIsc0JBQXNCLE1BQU0sT0FBTyxPQUFPLHVEQUFDLElBQUksMkJBQTJCLGlEQUFpRCxFQUFFLFNBQTZDIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vZXhiLWNsaWVudC8uL25vZGVfbW9kdWxlcy9AYXJjZ2lzL2NvcmUvbGF5ZXJzL3N1cHBvcnQvZmV0Y2hTZXJ2aWNlLmpzIiwid2VicGFjazovL2V4Yi1jbGllbnQvLi9ub2RlX21vZHVsZXMvQGFyY2dpcy9jb3JlL2xheWVycy9zdXBwb3J0L2xhenlMYXllckxvYWRlci5qcyIsIndlYnBhY2s6Ly9leGItY2xpZW50Ly4vbm9kZV9tb2R1bGVzL0BhcmNnaXMvY29yZS9wb3J0YWwvc3VwcG9ydC9qc29uQ29udGV4dC5qcyIsIndlYnBhY2s6Ly9leGItY2xpZW50Ly4vbm9kZV9tb2R1bGVzL0BhcmNnaXMvY29yZS9wb3J0YWwvc3VwcG9ydC9sYXllcnNMb2FkZXIuanMiLCJ3ZWJwYWNrOi8vZXhiLWNsaWVudC8uL25vZGVfbW9kdWxlcy9AYXJjZ2lzL2NvcmUvcG9ydGFsL3N1cHBvcnQvcG9ydGFsTGF5ZXJzLmpzIiwid2VicGFjazovL2V4Yi1jbGllbnQvLi9ub2RlX21vZHVsZXMvQGFyY2dpcy9jb3JlL3N1cHBvcnQvcmVxdWVzdFByZXNldHMuanMiXSwic291cmNlc0NvbnRlbnQiOlsiLypcbkFsbCBtYXRlcmlhbCBjb3B5cmlnaHQgRVNSSSwgQWxsIFJpZ2h0cyBSZXNlcnZlZCwgdW5sZXNzIG90aGVyd2lzZSBzcGVjaWZpZWQuXG5TZWUgaHR0cHM6Ly9qcy5hcmNnaXMuY29tLzQuMjcvZXNyaS9jb3B5cmlnaHQudHh0IGZvciBkZXRhaWxzLlxuKi9cbmltcG9ydHtmZXRjaEFyY0dJU1NlcnZpY2VKU09OIGFzIGV9ZnJvbVwiLi4vLi4vc3VwcG9ydC9yZXF1ZXN0UHJlc2V0cy5qc1wiO2FzeW5jIGZ1bmN0aW9uIHIocixzKXtjb25zdCBhPWF3YWl0IGUocixzKTthLmxheWVycz1hLmxheWVycy5maWx0ZXIodCk7Y29uc3Qgbj17c2VydmljZUpTT046YX07aWYoKGEuY3VycmVudFZlcnNpb24/PzApPDEwLjUpcmV0dXJuIG47Y29uc3QgaT1hd2FpdCBlKHIrXCIvbGF5ZXJzXCIscyk7cmV0dXJuIG4ubGF5ZXJzSlNPTj17bGF5ZXJzOmkubGF5ZXJzLmZpbHRlcih0KSx0YWJsZXM6aS50YWJsZXN9LG59ZnVuY3Rpb24gdChlKXtyZXR1cm4hZS50eXBlfHxcIkZlYXR1cmUgTGF5ZXJcIj09PWUudHlwZX1leHBvcnR7ciBhcyBmZXRjaEZlYXR1cmVTZXJ2aWNlfTtcbiIsIi8qXG5BbGwgbWF0ZXJpYWwgY29weXJpZ2h0IEVTUkksIEFsbCBSaWdodHMgUmVzZXJ2ZWQsIHVubGVzcyBvdGhlcndpc2Ugc3BlY2lmaWVkLlxuU2VlIGh0dHBzOi8vanMuYXJjZ2lzLmNvbS80LjI3L2VzcmkvY29weXJpZ2h0LnR4dCBmb3IgZGV0YWlscy5cbiovXG5jb25zdCBhPXtCaW5nTWFwc0xheWVyOmFzeW5jKCk9Pihhd2FpdCBpbXBvcnQoXCIuLi9CaW5nTWFwc0xheWVyLmpzXCIpKS5kZWZhdWx0LEJ1aWxkaW5nU2NlbmVMYXllcjphc3luYygpPT4oYXdhaXQgaW1wb3J0KFwiLi4vQnVpbGRpbmdTY2VuZUxheWVyLmpzXCIpKS5kZWZhdWx0LENTVkxheWVyOmFzeW5jKCk9Pihhd2FpdCBpbXBvcnQoXCIuLi9DU1ZMYXllci5qc1wiKSkuZGVmYXVsdCxEaW1lbnNpb25MYXllcjphc3luYygpPT4oYXdhaXQgaW1wb3J0KFwiLi4vRGltZW5zaW9uTGF5ZXIuanNcIikpLmRlZmF1bHQsRWxldmF0aW9uTGF5ZXI6YXN5bmMoKT0+KGF3YWl0IGltcG9ydChcIi4uL0VsZXZhdGlvbkxheWVyLmpzXCIpKS5kZWZhdWx0LEZlYXR1cmVMYXllcjphc3luYygpPT4oYXdhaXQgaW1wb3J0KFwiLi4vRmVhdHVyZUxheWVyLmpzXCIpKS5kZWZhdWx0LEdlb0pTT05MYXllcjphc3luYygpPT4oYXdhaXQgaW1wb3J0KFwiLi4vR2VvSlNPTkxheWVyLmpzXCIpKS5kZWZhdWx0LEdlb1JTU0xheWVyOmFzeW5jKCk9Pihhd2FpdCBpbXBvcnQoXCIuLi9HZW9SU1NMYXllci5qc1wiKSkuZGVmYXVsdCxHcm91cExheWVyOmFzeW5jKCk9Pihhd2FpdCBpbXBvcnQoXCIuLi9Hcm91cExheWVyLmpzXCIpKS5kZWZhdWx0LEltYWdlcnlMYXllcjphc3luYygpPT4oYXdhaXQgaW1wb3J0KFwiLi4vSW1hZ2VyeUxheWVyLmpzXCIpKS5kZWZhdWx0LEltYWdlcnlUaWxlTGF5ZXI6YXN5bmMoKT0+KGF3YWl0IGltcG9ydChcIi4uL0ltYWdlcnlUaWxlTGF5ZXIuanNcIikpLmRlZmF1bHQsSW50ZWdyYXRlZE1lc2hMYXllcjphc3luYygpPT4oYXdhaXQgaW1wb3J0KFwiLi4vSW50ZWdyYXRlZE1lc2hMYXllci5qc1wiKSkuZGVmYXVsdCxLTUxMYXllcjphc3luYygpPT4oYXdhaXQgaW1wb3J0KFwiLi4vS01MTGF5ZXIuanNcIikpLmRlZmF1bHQsTGluZU9mU2lnaHRMYXllcjphc3luYygpPT4oYXdhaXQgaW1wb3J0KFwiLi4vTGluZU9mU2lnaHRMYXllci5qc1wiKSkuZGVmYXVsdCxMaW5rQ2hhcnRMYXllcjphc3luYygpPT4oYXdhaXQgaW1wb3J0KFwiLi4vTGlua0NoYXJ0TGF5ZXIuanNcIikpLmRlZmF1bHQsTWFwSW1hZ2VMYXllcjphc3luYygpPT4oYXdhaXQgaW1wb3J0KFwiLi4vTWFwSW1hZ2VMYXllci5qc1wiKSkuZGVmYXVsdCxNYXBOb3Rlc0xheWVyOmFzeW5jKCk9Pihhd2FpdCBpbXBvcnQoXCIuLi9NYXBOb3Rlc0xheWVyLmpzXCIpKS5kZWZhdWx0LE1lZGlhTGF5ZXI6YXN5bmMoKT0+KGF3YWl0IGltcG9ydChcIi4uL01lZGlhTGF5ZXIuanNcIikpLmRlZmF1bHQsT0dDRmVhdHVyZUxheWVyOmFzeW5jKCk9Pihhd2FpdCBpbXBvcnQoXCIuLi9PR0NGZWF0dXJlTGF5ZXIuanNcIikpLmRlZmF1bHQsT3BlblN0cmVldE1hcExheWVyOmFzeW5jKCk9Pihhd2FpdCBpbXBvcnQoXCIuLi9PcGVuU3RyZWV0TWFwTGF5ZXIuanNcIikpLmRlZmF1bHQsT3JpZW50ZWRJbWFnZXJ5TGF5ZXI6YXN5bmMoKT0+KGF3YWl0IGltcG9ydChcIi4uL09yaWVudGVkSW1hZ2VyeUxheWVyLmpzXCIpKS5kZWZhdWx0LFBvaW50Q2xvdWRMYXllcjphc3luYygpPT4oYXdhaXQgaW1wb3J0KFwiLi4vUG9pbnRDbG91ZExheWVyLmpzXCIpKS5kZWZhdWx0LFJvdXRlTGF5ZXI6YXN5bmMoKT0+KGF3YWl0IGltcG9ydChcIi4uL1JvdXRlTGF5ZXIuanNcIikpLmRlZmF1bHQsU2NlbmVMYXllcjphc3luYygpPT4oYXdhaXQgaW1wb3J0KFwiLi4vU2NlbmVMYXllci5qc1wiKSkuZGVmYXVsdCxTdHJlYW1MYXllcjphc3luYygpPT4oYXdhaXQgaW1wb3J0KFwiLi4vU3RyZWFtTGF5ZXIuanNcIikpLmRlZmF1bHQsU3VidHlwZUdyb3VwTGF5ZXI6YXN5bmMoKT0+KGF3YWl0IGltcG9ydChcIi4uL1N1YnR5cGVHcm91cExheWVyLmpzXCIpKS5kZWZhdWx0LFRpbGVMYXllcjphc3luYygpPT4oYXdhaXQgaW1wb3J0KFwiLi4vVGlsZUxheWVyLmpzXCIpKS5kZWZhdWx0LFVua25vd25MYXllcjphc3luYygpPT4oYXdhaXQgaW1wb3J0KFwiLi4vVW5rbm93bkxheWVyLmpzXCIpKS5kZWZhdWx0LFVuc3VwcG9ydGVkTGF5ZXI6YXN5bmMoKT0+KGF3YWl0IGltcG9ydChcIi4uL1Vuc3VwcG9ydGVkTGF5ZXIuanNcIikpLmRlZmF1bHQsVmVjdG9yVGlsZUxheWVyOmFzeW5jKCk9Pihhd2FpdCBpbXBvcnQoXCIuLi9WZWN0b3JUaWxlTGF5ZXIuanNcIikpLmRlZmF1bHQsVm94ZWxMYXllcjphc3luYygpPT4oYXdhaXQgaW1wb3J0KFwiLi4vVm94ZWxMYXllci5qc1wiKSkuZGVmYXVsdCxXRlNMYXllcjphc3luYygpPT4oYXdhaXQgaW1wb3J0KFwiLi4vV0ZTTGF5ZXIuanNcIikpLmRlZmF1bHQsV01TTGF5ZXI6YXN5bmMoKT0+KGF3YWl0IGltcG9ydChcIi4uL1dNU0xheWVyLmpzXCIpKS5kZWZhdWx0LFdNVFNMYXllcjphc3luYygpPT4oYXdhaXQgaW1wb3J0KFwiLi4vV01UU0xheWVyLmpzXCIpKS5kZWZhdWx0LFdlYlRpbGVMYXllcjphc3luYygpPT4oYXdhaXQgaW1wb3J0KFwiLi4vV2ViVGlsZUxheWVyLmpzXCIpKS5kZWZhdWx0fTtleHBvcnR7YSBhcyBsYXllckxvb2t1cE1hcH07XG4iLCIvKlxuQWxsIG1hdGVyaWFsIGNvcHlyaWdodCBFU1JJLCBBbGwgUmlnaHRzIFJlc2VydmVkLCB1bmxlc3Mgb3RoZXJ3aXNlIHNwZWNpZmllZC5cblNlZSBodHRwczovL2pzLmFyY2dpcy5jb20vNC4yNy9lc3JpL2NvcHlyaWdodC50eHQgZm9yIGRldGFpbHMuXG4qL1xuaW1wb3J0e3VybFRvT2JqZWN0IGFzIHJ9ZnJvbVwiLi4vLi4vY29yZS91cmxVdGlscy5qc1wiO2ltcG9ydCB0IGZyb21cIi4uL1BvcnRhbC5qc1wiO2Z1bmN0aW9uIGUoZSl7cmV0dXJue29yaWdpbjpcInBvcnRhbC1pdGVtXCIsdXJsOnIoZS5pdGVtVXJsKSxwb3J0YWw6ZS5wb3J0YWx8fHQuZ2V0RGVmYXVsdCgpLHBvcnRhbEl0ZW06ZSxyZWFkUmVzb3VyY2VQYXRoczpbXX19ZnVuY3Rpb24gbyhlKXtyZXR1cm57b3JpZ2luOlwicG9ydGFsLWl0ZW1cIixtZXNzYWdlczpbXSx3cml0dGVuUHJvcGVydGllczpbXSx1cmw6ZS5pdGVtVXJsP3IoZS5pdGVtVXJsKTpudWxsLHBvcnRhbDplLnBvcnRhbHx8dC5nZXREZWZhdWx0KCkscG9ydGFsSXRlbTplfX1leHBvcnR7ZSBhcyBjcmVhdGVGb3JJdGVtUmVhZCxvIGFzIGNyZWF0ZUZvckl0ZW1Xcml0ZX07XG4iLCIvKlxuQWxsIG1hdGVyaWFsIGNvcHlyaWdodCBFU1JJLCBBbGwgUmlnaHRzIFJlc2VydmVkLCB1bmxlc3Mgb3RoZXJ3aXNlIHNwZWNpZmllZC5cblNlZSBodHRwczovL2pzLmFyY2dpcy5jb20vNC4yNy9lc3JpL2NvcHlyaWdodC50eHQgZm9yIGRldGFpbHMuXG4qL1xuaW1wb3J0IGUgZnJvbVwiLi4vLi4vY29yZS9FcnJvci5qc1wiO2ltcG9ydCB0IGZyb21cIi4uLy4uL2xheWVycy9MYXllci5qc1wiO2ltcG9ydHtpc0FyY0dJU1VybCBhcyByfWZyb21cIi4uLy4uL2xheWVycy9zdXBwb3J0L2FyY2dpc0xheWVyVXJsLmpzXCI7aW1wb3J0e2ZldGNoRmVhdHVyZVNlcnZpY2UgYXMgYX1mcm9tXCIuLi8uLi9sYXllcnMvc3VwcG9ydC9mZXRjaFNlcnZpY2UuanNcIjtpbXBvcnQgbiBmcm9tXCIuLi9Qb3J0YWwuanNcIjtpbXBvcnQgbyBmcm9tXCIuLi9Qb3J0YWxJdGVtLmpzXCI7aW1wb3J0e2NyZWF0ZUZvckl0ZW1SZWFkIGFzIGx9ZnJvbVwiLi9qc29uQ29udGV4dC5qc1wiO2ltcG9ydHtoYXNUeXBlS2V5d29yZCBhcyBzfWZyb21cIi4vcG9ydGFsSXRlbVV0aWxzLmpzXCI7aW1wb3J0e2xvYWRTdHlsZVJlbmRlcmVyIGFzIGl9ZnJvbVwiLi4vLi4vcmVuZGVyZXJzL3N1cHBvcnQvc3R5bGVVdGlscy5qc1wiO2ltcG9ydHtmZXRjaEFyY0dJU1NlcnZpY2VKU09OIGFzIHV9ZnJvbVwiLi4vLi4vc3VwcG9ydC9yZXF1ZXN0UHJlc2V0cy5qc1wiO2FzeW5jIGZ1bmN0aW9uIHAoZSx0KXtjb25zdCByPWUuaW5zdGFuY2UucG9ydGFsSXRlbTtpZihyJiZyLmlkKXJldHVybiBhd2FpdCByLmxvYWQodCksYyhlKSx5KGUsdCl9ZnVuY3Rpb24gYyh0KXtjb25zdCByPXQuaW5zdGFuY2UucG9ydGFsSXRlbTtpZighcj8udHlwZXx8IXQuc3VwcG9ydGVkVHlwZXMuaW5jbHVkZXMoci50eXBlKSl0aHJvdyBuZXcgZShcInBvcnRhbDppbnZhbGlkLWxheWVyLWl0ZW0tdHlwZVwiLFwiSW52YWxpZCBsYXllciBpdGVtIHR5cGUgJyR7dHlwZX0nLCBleHBlY3RlZCAnJHtleHBlY3RlZFR5cGV9J1wiLHt0eXBlOnI/LnR5cGUsZXhwZWN0ZWRUeXBlOnQuc3VwcG9ydGVkVHlwZXMuam9pbihcIiwgXCIpfSl9YXN5bmMgZnVuY3Rpb24geShlLHQpe2NvbnN0IHI9ZS5pbnN0YW5jZSxhPXIucG9ydGFsSXRlbTtpZighYSlyZXR1cm47Y29uc3R7dXJsOm4sdGl0bGU6b309YSxzPWwoYSk7aWYoXCJncm91cFwiPT09ci50eXBlKXJldHVybiByLnJlYWQoe3RpdGxlOm99LHMpLGYocixlKTtuJiZyLnJlYWQoe3VybDpufSxzKTtjb25zdCB1PWF3YWl0IGgoZSx0KTtyZXR1cm4gdSYmci5yZWFkKHUscyksci5yZXNvdXJjZVJlZmVyZW5jZXM9e3BvcnRhbEl0ZW06YSxwYXRoczpzLnJlYWRSZXNvdXJjZVBhdGhzPz9bXX0sXCJzdWJ0eXBlLWdyb3VwXCIhPT1yLnR5cGUmJnIucmVhZCh7dGl0bGU6b30scyksaShyLHMpfWFzeW5jIGZ1bmN0aW9uIGYodCxyKXtsZXQgYTtjb25zdHtwb3J0YWxJdGVtOm59PXQ7aWYoIW4pcmV0dXJuO2NvbnN0IG89bi50eXBlLGw9ci5sYXllck1vZHVsZVR5cGVNYXAsaT1zKG4sXCJPcmllbnRlZCBJbWFnZXJ5IExheWVyXCIpPz8hMTtzd2l0Y2gobyl7Y2FzZVwiRmVhdHVyZSBTZXJ2aWNlXCI6YT1pP2wuT3JpZW50ZWRJbWFnZXJ5TGF5ZXI6bC5GZWF0dXJlTGF5ZXI7YnJlYWs7Y2FzZVwiU3RyZWFtIFNlcnZpY2VcIjphPWwuU3RyZWFtTGF5ZXI7YnJlYWs7Y2FzZVwiU2NlbmUgU2VydmljZVwiOmE9bC5TY2VuZUxheWVyO2JyZWFrO2Nhc2VcIkZlYXR1cmUgQ29sbGVjdGlvblwiOmE9bC5GZWF0dXJlTGF5ZXI7YnJlYWs7ZGVmYXVsdDp0aHJvdyBuZXcgZShcInBvcnRhbDp1bnN1cHBvcnRlZC1pdGVtLXR5cGUtYXMtZ3JvdXBcIixgVGhlIGl0ZW0gdHlwZSAnJHtvfScgaXMgbm90IHN1cHBvcnRlZCBhcyBhICdJR3JvdXBMYXllcidgKX1sZXRbdSxwXT1hd2FpdCBQcm9taXNlLmFsbChbYSgpLGgocildKSxjPSgpPT51O2lmKFwiRmVhdHVyZSBTZXJ2aWNlXCI9PT1vKXtwPW4udXJsP2F3YWl0IHcocCxuLnVybCk6e307aWYoaihwKS5sZW5ndGgpe2NvbnN0IGU9bC5TdWJ0eXBlR3JvdXBMYXllcix0PWF3YWl0IGUoKTtjPWU9PlwiU3VidHlwZUdyb3VwTGF5ZXJcIj09PWUubGF5ZXJUeXBlP3Q6dX1yZXR1cm4gYih0LGMscCxhd2FpdCBQKG4udXJsKSl9cmV0dXJuIHYocCk+MD9iKHQsYyxwKTpkKHQsYyl9YXN5bmMgZnVuY3Rpb24gZChlLHQpe2NvbnN0e3BvcnRhbEl0ZW06cn09ZTtpZighcj8udXJsKXJldHVybjtjb25zdCBhPWF3YWl0IHUoci51cmwpO2EmJmIoZSx0LHtsYXllcnM6YS5sYXllcnM/Lm1hcChtKSx0YWJsZXM6YS50YWJsZXM/Lm1hcChtKX0pfWZ1bmN0aW9uIG0oZSl7cmV0dXJue2lkOmUuaWQsbmFtZTplLm5hbWV9fWZ1bmN0aW9uIGIoZSx0LHIsYSl7bGV0IG49ci5sYXllcnN8fFtdO2NvbnN0IG89ci50YWJsZXN8fFtdO2lmKFwiRmVhdHVyZSBDb2xsZWN0aW9uXCI9PT1lLnBvcnRhbEl0ZW0/LnR5cGUmJihuLmZvckVhY2goKGU9PntcIlRhYmxlXCI9PT1lPy5sYXllckRlZmluaXRpb24/LnR5cGUmJm8ucHVzaChlKX0pKSxuPW4uZmlsdGVyKChlPT5cIlRhYmxlXCIhPT1lPy5sYXllckRlZmluaXRpb24/LnR5cGUpKSksXCJjb3ZlcmFnZVwiaW4gcil7Y29uc3QgdD1UKHIpO3QmJmUuYWRkKHQpfW4ucmV2ZXJzZSgpLmZvckVhY2goKG49Pntjb25zdCBvPWE/LihuKTtpZihvfHwhYSl7Y29uc3QgYT1nKGUsdChuKSxyLG4sbyk7ZS5hZGQoYSl9fSkpLG8ucmV2ZXJzZSgpLmZvckVhY2goKG49Pntjb25zdCBvPWE/LihuKTtpZihvfHwhYSl7Y29uc3QgYT1nKGUsdChuKSxyLG4sbyk7ZS50YWJsZXMuYWRkKGEpfX0pKX1mdW5jdGlvbiBnKGUsdCxyLGEsbyl7Y29uc3QgbD1lLnBvcnRhbEl0ZW0scz1uZXcgdCh7cG9ydGFsSXRlbTpsLmNsb25lKCksbGF5ZXJJZDphLmlkfSk7aWYoXCJzb3VyY2VKU09OXCJpbiBzJiYocy5zb3VyY2VKU09OPW8pLFwic3VidHlwZS1ncm91cFwiIT09cy50eXBlJiYocy5zdWJsYXllclRpdGxlTW9kZT1cInNlcnZpY2UtbmFtZVwiKSxcIkZlYXR1cmUgQ29sbGVjdGlvblwiPT09bC50eXBlKXtjb25zdCBlPXtvcmlnaW46XCJwb3J0YWwtaXRlbVwiLHBvcnRhbDpsLnBvcnRhbHx8bi5nZXREZWZhdWx0KCl9O3MucmVhZChhLGUpO2NvbnN0IHQ9ci5zaG93TGVnZW5kO251bGwhPXQmJnMucmVhZCh7c2hvd0xlZ2VuZDp0fSxlKX1yZXR1cm4gc31hc3luYyBmdW5jdGlvbiBoKGUsdCl7aWYoITE9PT1lLnN1cHBvcnRzRGF0YSlyZXR1cm47Y29uc3Qgcj1lLmluc3RhbmNlLGE9ci5wb3J0YWxJdGVtO2lmKCFhKXJldHVybjtsZXQgbj1udWxsO3RyeXtuPWF3YWl0IGEuZmV0Y2hEYXRhKFwianNvblwiLHQpfWNhdGNoKG8pe31pZihTKHIpKXtsZXQgZT1udWxsLHQ9ITA7aWYobiYmdihuKT4wKXtpZihudWxsPT1yLmxheWVySWQpe2NvbnN0IGU9aihuKTtyLmxheWVySWQ9XCJzdWJ0eXBlLWdyb3VwXCI9PT1yLnR5cGU/ZT8uWzBdOkkobil9ZT1MKG4sciksZSYmKDE9PT12KG4pJiYodD0hMSksbnVsbCE9bi5zaG93TGVnZW5kJiYoZS5zaG93TGVnZW5kPW4uc2hvd0xlZ2VuZCkpfXJldHVybiB0JiZcInN1YmxheWVyVGl0bGVNb2RlXCJpbiByJiZcInNlcnZpY2UtbmFtZVwiIT09ci5zdWJsYXllclRpdGxlTW9kZSYmKHIuc3VibGF5ZXJUaXRsZU1vZGU9XCJpdGVtLXRpdGxlLWFuZC1zZXJ2aWNlLW5hbWVcIiksZX1yZXR1cm4gbn1hc3luYyBmdW5jdGlvbiB3KGUsdCl7aWYobnVsbD09ZT8ubGF5ZXJzfHxudWxsPT1lPy50YWJsZXMpe2NvbnN0IHI9YXdhaXQgdSh0KTsoZT1lfHx7fSkubGF5ZXJzPWUubGF5ZXJzfHxyPy5sYXllcnMsZS50YWJsZXM9ZS50YWJsZXN8fHI/LnRhYmxlc31yZXR1cm4gZX1mdW5jdGlvbiBJKGUpe2NvbnN0IHQ9ZS5sYXllcnM7aWYodCYmdC5sZW5ndGgpcmV0dXJuIHRbMF0uaWQ7Y29uc3Qgcj1lLnRhYmxlcztyZXR1cm4gciYmci5sZW5ndGg/clswXS5pZDpudWxsfWZ1bmN0aW9uIEwoZSx0KXtjb25zdHtsYXllcklkOnJ9PXQsYT1lLmxheWVycz8uZmluZCgoZT0+ZS5pZD09PXIpKXx8ZS50YWJsZXM/LmZpbmQoKGU9PmUuaWQ9PT1yKSk7cmV0dXJuIGEmJkYoYSx0KT9hOm51bGx9ZnVuY3Rpb24gdihlKXtyZXR1cm4oZT8ubGF5ZXJzPy5sZW5ndGg/PzApKyhlPy50YWJsZXM/Lmxlbmd0aD8/MCl9ZnVuY3Rpb24gUyhlKXtyZXR1cm5cInN0cmVhbVwiIT09ZS50eXBlJiZcIm9yaWVudGVkLWltYWdlcnlcIiE9PWUudHlwZSYmXCJsYXllcklkXCJpbiBlfWZ1bmN0aW9uIFQoYSl7Y29uc3R7Y292ZXJhZ2U6bn09YTtpZighbilyZXR1cm4gbnVsbDtjb25zdCBsPW5ldyBVUkwobik7aWYobi50b0xvd2VyQ2FzZSgpLmluY2x1ZGVzKFwiaXRlbS5odG1sXCIpKXtjb25zdCBlPWwuc2VhcmNoUGFyYW1zLmdldChcImlkXCIpLHI9bC5vcmlnaW47cmV0dXJuIHQuZnJvbVBvcnRhbEl0ZW0oe3BvcnRhbEl0ZW06bmV3IG8oe2lkOmUsdXJsOnJ9KX0pfWlmKHIobikpcmV0dXJuIHQuZnJvbUFyY0dJU1NlcnZlclVybCh7dXJsOm59KTt0aHJvdyBuZXcgZShcInBvcnRhbDpvcmllbnRlZC1pbWFnZXJ5LWxheWVyLWNvdmVyYWdlXCIsXCJ0aGUgcHJvdmlkZWQgY292ZXJhZ2UgdXJsIGNvdWxkbid0IGJlIGxvYWRlZCBhcyBhIGxheWVyXCIpfWZ1bmN0aW9uIGooZSl7Y29uc3QgdD1bXTtyZXR1cm4gZT8ubGF5ZXJzPy5mb3JFYWNoKChlPT57XCJTdWJ0eXBlR3JvdXBMYXllclwiPT09ZS5sYXllclR5cGUmJnQucHVzaChlLmlkKX0pKSx0fWZ1bmN0aW9uIEYoZSx0KXtyZXR1cm4hKFwiZmVhdHVyZVwiPT09dC50eXBlJiZcImxheWVyVHlwZVwiaW4gZSYmXCJTdWJ0eXBlR3JvdXBMYXllclwiPT09ZS5sYXllclR5cGV8fFwic3VidHlwZS1ncm91cFwiPT09dC50eXBlJiYhKFwibGF5ZXJUeXBlXCJpbiBlKSl9YXN5bmMgZnVuY3Rpb24gUChlKXtjb25zdHtsYXllcnNKU09OOnR9PWF3YWl0IGEoZSk7aWYoIXQpcmV0dXJuIG51bGw7Y29uc3Qgcj1bLi4udC5sYXllcnMsLi4udC50YWJsZXNdO3JldHVybiBlPT5yLmZpbmQoKHQ9PnQuaWQ9PT1lLmlkKSl9ZXhwb3J0e0kgYXMgZ2V0Rmlyc3RMYXllck9yVGFibGVJZCx2IGFzIGdldE51bUxheWVyc0FuZFRhYmxlcyxqIGFzIGdldFN1YnR5cGVHcm91cExheWVySWRzLHAgYXMgbG9hZCx3IGFzIHByZXByb2Nlc3NGU0l0ZW1EYXRhfTtcbiIsIi8qXG5BbGwgbWF0ZXJpYWwgY29weXJpZ2h0IEVTUkksIEFsbCBSaWdodHMgUmVzZXJ2ZWQsIHVubGVzcyBvdGhlcndpc2Ugc3BlY2lmaWVkLlxuU2VlIGh0dHBzOi8vanMuYXJjZ2lzLmNvbS80LjI3L2VzcmkvY29weXJpZ2h0LnR4dCBmb3IgZGV0YWlscy5cbiovXG5pbXBvcnQgZSBmcm9tXCIuLi8uLi9jb3JlL0Vycm9yLmpzXCI7aW1wb3J0e3NjZW5lU2VydmljZUxheWVyVHlwZVRvQ2xhc3NOYW1lIGFzIHJ9ZnJvbVwiLi4vLi4vbGF5ZXJzL3N1cHBvcnQvbGF5ZXJVdGlscy5qc1wiO2ltcG9ydHtsYXllckxvb2t1cE1hcCBhcyBhfWZyb21cIi4uLy4uL2xheWVycy9zdXBwb3J0L2xhenlMYXllckxvYWRlci5qc1wiO2ltcG9ydCB0IGZyb21cIi4uL1BvcnRhbEl0ZW0uanNcIjtpbXBvcnR7Z2V0TnVtTGF5ZXJzQW5kVGFibGVzIGFzIG4scHJlcHJvY2Vzc0ZTSXRlbURhdGEgYXMgcyxnZXRTdWJ0eXBlR3JvdXBMYXllcklkcyBhcyBjLGdldEZpcnN0TGF5ZXJPclRhYmxlSWQgYXMgb31mcm9tXCIuL2xheWVyc0xvYWRlci5qc1wiO2ltcG9ydHtoYXNUeXBlS2V5d29yZCBhcyBpfWZyb21cIi4vcG9ydGFsSXRlbVV0aWxzLmpzXCI7aW1wb3J0e2ZldGNoQXJjR0lTU2VydmljZUpTT04gYXMgdX1mcm9tXCIuLi8uLi9zdXBwb3J0L3JlcXVlc3RQcmVzZXRzLmpzXCI7YXN5bmMgZnVuY3Rpb24gbChlKXshZS5wb3J0YWxJdGVtfHxlLnBvcnRhbEl0ZW0gaW5zdGFuY2VvZiB0fHwoZT17Li4uZSxwb3J0YWxJdGVtOm5ldyB0KGUucG9ydGFsSXRlbSl9KTtjb25zdCByPWF3YWl0IHkoZS5wb3J0YWxJdGVtKTtyZXR1cm4gbmV3KDAsci5jb25zdHJ1Y3Rvcikoe3BvcnRhbEl0ZW06ZS5wb3J0YWxJdGVtLC4uLnIucHJvcGVydGllc30pfWFzeW5jIGZ1bmN0aW9uIHkoZSl7YXdhaXQgZS5sb2FkKCk7cmV0dXJuIHAoYXdhaXQgbShlKSl9YXN5bmMgZnVuY3Rpb24gbShyKXtzd2l0Y2goci50eXBlKXtjYXNlXCJNYXAgU2VydmljZVwiOnJldHVybiBmKHIpO2Nhc2VcIkZlYXR1cmUgU2VydmljZVwiOnJldHVybiBMKHIpO2Nhc2VcIkZlYXR1cmUgQ29sbGVjdGlvblwiOnJldHVybiB3KHIpO2Nhc2VcIlNjZW5lIFNlcnZpY2VcIjpyZXR1cm4gTihyKTtjYXNlXCJJbWFnZSBTZXJ2aWNlXCI6cmV0dXJuIGQocik7Y2FzZVwiU3RyZWFtIFNlcnZpY2VcIjpyZXR1cm4gUygpO2Nhc2VcIlZlY3RvciBUaWxlIFNlcnZpY2VcIjpyZXR1cm4gSSgpO2Nhc2VcIkdlb0pzb25cIjpyZXR1cm4gZygpO2Nhc2VcIkNTVlwiOnJldHVybiBUKCk7Y2FzZVwiS01MXCI6cmV0dXJuIGooKTtjYXNlXCJXRlNcIjpyZXR1cm4gdigpO2Nhc2VcIldNVFNcIjpyZXR1cm4gRigpO2Nhc2VcIldNU1wiOnJldHVybiBNKCk7Y2FzZVwiRmVlZFwiOnJldHVybiBHKCk7ZGVmYXVsdDp0aHJvdyBuZXcgZShcInBvcnRhbDp1bmtub3duLWl0ZW0tdHlwZVwiLFwiVW5rbm93biBpdGVtIHR5cGUgJyR7dHlwZX0nXCIse3R5cGU6ci50eXBlfSl9fWFzeW5jIGZ1bmN0aW9uIHAoZSl7Y29uc3Qgcj1lLmNsYXNzTmFtZSx0PWFbcl07cmV0dXJue2NvbnN0cnVjdG9yOmF3YWl0IHQoKSxwcm9wZXJ0aWVzOmUucHJvcGVydGllc319YXN5bmMgZnVuY3Rpb24gZihlKXtyZXR1cm4gYXdhaXQgYihlKT97Y2xhc3NOYW1lOlwiVGlsZUxheWVyXCJ9OntjbGFzc05hbWU6XCJNYXBJbWFnZUxheWVyXCJ9fWFzeW5jIGZ1bmN0aW9uIEwoZSl7aWYoaShlLFwiT3JpZW50ZWQgSW1hZ2VyeSBMYXllclwiKSlyZXR1cm4gaChlKTtjb25zdCByPWF3YWl0IEMoZSk7aWYoXCJvYmplY3RcIj09dHlwZW9mIHIpe2NvbnN0IGU9e307cmV0dXJuIG51bGwhPXIuaWQmJihlLmxheWVySWQ9ci5pZCkse2NsYXNzTmFtZTpyLmNsYXNzTmFtZXx8XCJGZWF0dXJlTGF5ZXJcIixwcm9wZXJ0aWVzOmV9fXJldHVybntjbGFzc05hbWU6XCJHcm91cExheWVyXCJ9fWFzeW5jIGZ1bmN0aW9uIE4oZSl7Y29uc3QgYT1hd2FpdCBDKGUpO2lmKFwib2JqZWN0XCI9PXR5cGVvZiBhKXtjb25zdCB0PXt9O2xldCBuO2lmKG51bGwhPWEuaWQ/KHQubGF5ZXJJZD1hLmlkLG49YCR7ZS51cmx9L2xheWVycy8ke2EuaWR9YCk6bj1lLnVybCxlLnR5cGVLZXl3b3Jkcz8ubGVuZ3RoKWZvcihjb25zdCBhIG9mIE9iamVjdC5rZXlzKHIpKWlmKGUudHlwZUtleXdvcmRzLmluY2x1ZGVzKGEpKXJldHVybntjbGFzc05hbWU6clthXX07Y29uc3Qgcz1hd2FpdCB1KG4pO3JldHVybntjbGFzc05hbWU6cltzPy5sYXllclR5cGVdfHxcIlNjZW5lTGF5ZXJcIixwcm9wZXJ0aWVzOnR9fWlmKCExPT09YSl7Y29uc3Qgcj1hd2FpdCB1KGUudXJsKTtyZXR1cm5cIlZveGVsXCI9PT1yPy5sYXllclR5cGU/e2NsYXNzTmFtZTpcIlZveGVsTGF5ZXJcIn06e2NsYXNzTmFtZTpcIkdyb3VwTGF5ZXJcIn19cmV0dXJue2NsYXNzTmFtZTpcIkdyb3VwTGF5ZXJcIn19YXN5bmMgZnVuY3Rpb24gdyhlKXthd2FpdCBlLmxvYWQoKTtjb25zdCByPWkoZSxcIk1hcCBOb3Rlc1wiKSxhPWkoZSxcIk1hcmt1cFwiKTtpZihyfHxhKXJldHVybntjbGFzc05hbWU6XCJNYXBOb3Rlc0xheWVyXCJ9O2lmKGkoZSxcIlJvdXRlIExheWVyXCIpKXJldHVybntjbGFzc05hbWU6XCJSb3V0ZUxheWVyXCJ9O2NvbnN0IHQ9YXdhaXQgZS5mZXRjaERhdGEoKTtyZXR1cm4gMT09PW4odCk/e2NsYXNzTmFtZTpcIkZlYXR1cmVMYXllclwifTp7Y2xhc3NOYW1lOlwiR3JvdXBMYXllclwifX1hc3luYyBmdW5jdGlvbiBkKGUpe2F3YWl0IGUubG9hZCgpO2NvbnN0IHI9ZS50eXBlS2V5d29yZHM/Lm1hcCgoZT0+ZS50b0xvd2VyQ2FzZSgpKSk/P1tdO2lmKHIuaW5jbHVkZXMoXCJlbGV2YXRpb24gM2QgbGF5ZXJcIikpcmV0dXJue2NsYXNzTmFtZTpcIkVsZXZhdGlvbkxheWVyXCJ9O2lmKHIuaW5jbHVkZXMoXCJ0aWxlZCBpbWFnZXJ5XCIpKXJldHVybntjbGFzc05hbWU6XCJJbWFnZXJ5VGlsZUxheWVyXCJ9O2NvbnN0IGE9YXdhaXQgZS5mZXRjaERhdGEoKSx0PWE/LmxheWVyVHlwZTtpZihcIkFyY0dJU1RpbGVkSW1hZ2VTZXJ2aWNlTGF5ZXJcIj09PXQpcmV0dXJue2NsYXNzTmFtZTpcIkltYWdlcnlUaWxlTGF5ZXJcIn07aWYoXCJBcmNHSVNJbWFnZVNlcnZpY2VMYXllclwiPT09dClyZXR1cm57Y2xhc3NOYW1lOlwiSW1hZ2VyeUxheWVyXCJ9O2NvbnN0IG49YXdhaXQgdShlLnVybCkscz1uLmNhY2hlVHlwZT8udG9Mb3dlckNhc2UoKSxjPW4uY2FwYWJpbGl0aWVzPy50b0xvd2VyQ2FzZSgpLmluY2x1ZGVzKFwidGlsZXNvbmx5XCIpO3JldHVyblwibWFwXCI9PT1zfHxjP3tjbGFzc05hbWU6XCJJbWFnZXJ5VGlsZUxheWVyXCJ9OntjbGFzc05hbWU6XCJJbWFnZXJ5TGF5ZXJcIn19ZnVuY3Rpb24gUygpe3JldHVybntjbGFzc05hbWU6XCJTdHJlYW1MYXllclwifX1mdW5jdGlvbiBJKCl7cmV0dXJue2NsYXNzTmFtZTpcIlZlY3RvclRpbGVMYXllclwifX1mdW5jdGlvbiBnKCl7cmV0dXJue2NsYXNzTmFtZTpcIkdlb0pTT05MYXllclwifX1mdW5jdGlvbiBUKCl7cmV0dXJue2NsYXNzTmFtZTpcIkNTVkxheWVyXCJ9fWZ1bmN0aW9uIGooKXtyZXR1cm57Y2xhc3NOYW1lOlwiS01MTGF5ZXJcIn19ZnVuY3Rpb24gdigpe3JldHVybntjbGFzc05hbWU6XCJXRlNMYXllclwifX1mdW5jdGlvbiBNKCl7cmV0dXJue2NsYXNzTmFtZTpcIldNU0xheWVyXCJ9fWZ1bmN0aW9uIEYoKXtyZXR1cm57Y2xhc3NOYW1lOlwiV01UU0xheWVyXCJ9fWZ1bmN0aW9uIEcoKXtyZXR1cm57Y2xhc3NOYW1lOlwiU3RyZWFtTGF5ZXJcIn19YXN5bmMgZnVuY3Rpb24gaChlKXthd2FpdCBlLmxvYWQoKTtyZXR1cm57Y2xhc3NOYW1lOlwiT3JpZW50ZWRJbWFnZXJ5TGF5ZXJcIixwcm9wZXJ0aWVzOmF3YWl0IGUuZmV0Y2hEYXRhKCl9fWFzeW5jIGZ1bmN0aW9uIGIoZSl7cmV0dXJuKGF3YWl0IHUoZS51cmwpKS50aWxlSW5mb31hc3luYyBmdW5jdGlvbiBDKGUpe2NvbnN0IHI9ZS51cmw7aWYoIXJ8fC9cXC9cXGQrJC8udGVzdChyKSlyZXR1cm57fTthd2FpdCBlLmxvYWQoKTtjb25zdCBhPWF3YWl0IGUuZmV0Y2hEYXRhKCk7aWYoXCJGZWF0dXJlIFNlcnZpY2VcIj09PWUudHlwZSl7Y29uc3QgZT1WKGF3YWl0IHMoYSxyKSk7aWYoXCJvYmplY3RcIj09dHlwZW9mIGUpe2NvbnN0IHI9YyhhKTtlLmNsYXNzTmFtZT1udWxsIT1lLmlkJiZyLmluY2x1ZGVzKGUuaWQpP1wiU3VidHlwZUdyb3VwTGF5ZXJcIjpcIkZlYXR1cmVMYXllclwifXJldHVybiBlfWlmKG4oYSk+MClyZXR1cm4gVihhKTtyZXR1cm4gVihhd2FpdCB1KHIpKX1mdW5jdGlvbiBWKGUpe3JldHVybiAxPT09bihlKSYme2lkOm8oZSl9fWV4cG9ydHtsIGFzIGZyb21JdGVtLG0gYXMgc2VsZWN0TGF5ZXJDbGFzc1BhdGh9O1xuIiwiLypcbkFsbCBtYXRlcmlhbCBjb3B5cmlnaHQgRVNSSSwgQWxsIFJpZ2h0cyBSZXNlcnZlZCwgdW5sZXNzIG90aGVyd2lzZSBzcGVjaWZpZWQuXG5TZWUgaHR0cHM6Ly9qcy5hcmNnaXMuY29tLzQuMjcvZXNyaS9jb3B5cmlnaHQudHh0IGZvciBkZXRhaWxzLlxuKi9cbmltcG9ydCBlIGZyb21cIi4uL3JlcXVlc3QuanNcIjthc3luYyBmdW5jdGlvbiB0KHQsbyl7Y29uc3R7ZGF0YTpyfT1hd2FpdCBlKHQse3Jlc3BvbnNlVHlwZTpcImpzb25cIixxdWVyeTp7ZjpcImpzb25cIiwuLi5vPy5jdXN0b21QYXJhbWV0ZXJzLHRva2VuOm8/LmFwaUtleX19KTtyZXR1cm4gcn1leHBvcnR7dCBhcyBmZXRjaEFyY0dJU1NlcnZpY2VKU09OfTtcbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==