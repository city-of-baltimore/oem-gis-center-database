"use strict";
(self["webpackChunkexb_client"] = self["webpackChunkexb_client"] || []).push([["vendors-node_modules_arcgis_core_views_2d_layers_features_Pipeline_js"],{

/***/ "./node_modules/@arcgis/core/arcade/ArcadeDate.js":
/*!********************************************************!*\
  !*** ./node_modules/@arcgis/core/arcade/ArcadeDate.js ***!
  \********************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "ArcadeDate": () => (/* binding */ c),
/* harmony export */   "ArcadeDateError": () => (/* binding */ d),
/* harmony export */   "ArcadeDateErrorCodes": () => (/* binding */ o),
/* harmony export */   "ArcadeDateErrorMessages": () => (/* binding */ a),
/* harmony export */   "UnknownTimeZone": () => (/* binding */ i),
/* harmony export */   "createDateTimeZone": () => (/* binding */ u)
/* harmony export */ });
/* harmony import */ var _executionError_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./executionError.js */ "./node_modules/@arcgis/core/arcade/executionError.js");
/* harmony import */ var luxon__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! luxon */ "./node_modules/luxon/src/luxon.js");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.27/esri/copyright.txt for details.
*/
class i{}var o;i.instance=new luxon__WEBPACK_IMPORTED_MODULE_1__.IANAZone("Etc/UTC"),function(e){e.TimeZoneNotRecognised="TimeZoneNotRecognised"}(o||(o={}));const a={[o.TimeZoneNotRecognised]:"Timezone identifier has not been recognised."};class d extends Error{constructor(t,n){super((0,_executionError_js__WEBPACK_IMPORTED_MODULE_0__.doSubstitutions)(a[t],n)),this.declaredRootClass="esri.arcade.arcadedate.dateerror",Error.captureStackTrace&&Error.captureStackTrace(this,d)}}class c{constructor(e){this._date=e,this.declaredRootClass="esri.arcade.arcadedate"}static fromParts(e=0,t=1,r=1,s=0,i=0,o=0,a=0,d){if(isNaN(e)||isNaN(t)||isNaN(r)||isNaN(s)||isNaN(i)||isNaN(o)||isNaN(a))return null;let m=0;const h=luxon__WEBPACK_IMPORTED_MODULE_1__.DateTime.local(e,t).daysInMonth;r<1&&(m=r-1,r=1),r>h&&(m=r-h,r=h);let l=0;t>12?(l=t-12,t=12):t<1&&(l=t-1,t=1);let f=0;i>59?(f=i-59,i=59):i<0&&(f=i,i=0);let w=0;o>59?(w=o-59,o=59):o<0&&(w=o,o=0);let T=0;a>999?(T=a-999,a=999):a<0&&(T=a,a=0);let y=luxon__WEBPACK_IMPORTED_MODULE_1__.DateTime.fromObject({day:r,year:e,month:t,hour:s,minute:i,second:o,millisecond:a},{zone:u(d)});return 0!==l&&(y=y.plus({months:l})),0!==m&&(y=y.plus({days:m})),0!==f&&(y=y.plus({minutes:f})),0!==w&&(y=y.plus({seconds:w})),0!==T&&(y=y.plus({milliseconds:T})),new c(y)}static get systemTimeZoneCanonicalName(){return Intl.DateTimeFormat().resolvedOptions().timeZone??"system"}static arcadeDateAndZoneToArcadeDate(e,t){const n=u(t);return e.isUnknownTimeZone||n===i.instance?c.fromParts(e.year,e.monthJS+1,e.day,e.hour,e.minute,e.second,e.millisecond,n):new c(e._date.setZone(t))}static dateJSToArcadeDate(e){return new c(luxon__WEBPACK_IMPORTED_MODULE_1__.DateTime.fromJSDate(e,{zone:"system"}))}static dateJSAndZoneToArcadeDate(e,t="system"){return new c(luxon__WEBPACK_IMPORTED_MODULE_1__.DateTime.fromJSDate(e,{zone:t}))}static unknownEpochToArcadeDate(e){return new c(luxon__WEBPACK_IMPORTED_MODULE_1__.DateTime.fromMillis(e,{zone:i.instance}))}static unknownDateJSToArcadeDate(e){return new c(luxon__WEBPACK_IMPORTED_MODULE_1__.DateTime.fromMillis(e.getTime(),{zone:i.instance}))}static epochToArcadeDate(e,t="system"){return new c(luxon__WEBPACK_IMPORTED_MODULE_1__.DateTime.fromMillis(e,{zone:t}))}static dateTimeToArcadeDate(e){return new c(e)}clone(){return new c(this._date)}changeTimeZone(e){const t=u(e);return c.dateTimeToArcadeDate(this._date.setZone(t))}static dateTimeAndZoneToArcadeDate(e,t){const n=u(t);return e.zone===i.instance||n===i.instance?c.fromParts(e.year,e.month,e.day,e.hour,e.minute,e.second,e.millisecond,n):new c(e.setZone(n))}static nowToArcadeDate(e){return new c(luxon__WEBPACK_IMPORTED_MODULE_1__.DateTime.fromJSDate(new Date,{zone:e}))}static nowUTCToArcadeDate(){return new c(luxon__WEBPACK_IMPORTED_MODULE_1__.DateTime.utc())}get isSystem(){return"system"===this.timeZone||this.timeZone===c.systemTimeZoneCanonicalName}equals(e){return this.isSystem&&e.isSystem?this.toNumber()===e.toNumber():this.isUnknownTimeZone===e.isUnknownTimeZone&&this._date.equals(e._date)}get isUnknownTimeZone(){return this._date.zone===i.instance}get isValid(){return this._date.isValid}get hour(){return this._date.hour}get second(){return this._date.second}get day(){return this._date.day}get dayOfWeekISO(){return this._date.weekday}get dayOfWeekJS(){let e=this._date.weekday;return e>6&&(e=0),e}get millisecond(){return this._date.millisecond}get monthISO(){return this._date.month}get weekISO(){return this._date.weekNumber}get yearISO(){return this._date.weekYear}get monthJS(){return this._date.month-1}get year(){return this._date.year}get minute(){return this._date.minute}get zone(){return this._date.zone}get timeZoneOffset(){return this.isUnknownTimeZone?0:this._date.offset}get timeZone(){if(this.isUnknownTimeZone)return"unknown";if("system"===this._date.zone.type)return"system";const e=this.zone;return"fixed"===e.type?0===e.fixed?"utc":e.formatOffset(0,"short"):e.name}stringify(){return JSON.stringify(this.toJSDate())}plus(e){return new c(this._date.plus(e))}diff(e,t="milliseconds"){return this._date.diff(e._date,t)[t]}toISOString(e){return e?this._date.toISO({suppressMilliseconds:!0,includeOffset:!this.isUnknownTimeZone}):this._date.toISO({includeOffset:!this.isUnknownTimeZone})}toFormat(e,t){return this._date.toFormat(e,t)}toJSDate(){return this._date.toJSDate()}toSQLString(){return"timestamp '"+this._date.toFormat("yyyy-LL-dd HH:mm:ss")+"'"}toDateTime(){return this._date}toNumber(){return this._date.toMillis()}getTime(){return this._date.toMillis()}toUTC(){return new c(this._date.toUTC())}toLocal(){return new c(this._date.toLocal())}toString(){return this.toISOString(!0)}}function u(e){if(e instanceof luxon__WEBPACK_IMPORTED_MODULE_1__.Zone)return e;if("system"===e.toLowerCase())return"system";if("utc"===e.toLowerCase())return"utc";if("unknown"===e.toLowerCase())return i.instance;if(/^[\+\-]?[0-9]{1,2}([:][0-9]{2})?$/.test(e)){const t=luxon__WEBPACK_IMPORTED_MODULE_1__.FixedOffsetZone.parseSpecifier("UTC"+(e.startsWith("+")||e.startsWith("-")?"":"+")+e);if(t)return t}const n=luxon__WEBPACK_IMPORTED_MODULE_1__.IANAZone.create(e);if(!n.isValid)throw new d(o.TimeZoneNotRecognised);return n}


/***/ }),

/***/ "./node_modules/@arcgis/core/arcade/arcadeTimeUtils.js":
/*!*************************************************************!*\
  !*** ./node_modules/@arcgis/core/arcade/arcadeTimeUtils.js ***!
  \*************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "DateTimeReferenceFieldIndex": () => (/* binding */ T),
/* harmony export */   "convertTimeReference": () => (/* binding */ m),
/* harmony export */   "convertToIANA": () => (/* binding */ c)
/* harmony export */ });
/* harmony import */ var _ArcadeDate_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./ArcadeDate.js */ "./node_modules/@arcgis/core/arcade/ArcadeDate.js");
/* harmony import */ var _layers_support_FieldsIndex_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../layers/support/FieldsIndex.js */ "./node_modules/@arcgis/core/layers/support/FieldsIndex.js");
/* harmony import */ var _time_TimeReference_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../time/TimeReference.js */ "./node_modules/@arcgis/core/time/TimeReference.js");
/* harmony import */ var luxon__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! luxon */ "./node_modules/luxon/src/luxon.js");
/* harmony import */ var _time_timeReferenceUtils_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../time/timeReferenceUtils.js */ "./node_modules/@arcgis/core/time/timeReferenceUtils.js");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.27/esri/copyright.txt for details.
*/
function l(e){return e instanceof _time_TimeReference_js__WEBPACK_IMPORTED_MODULE_2__["default"]}function m(n){if(!n)return null;if(l(n)&&(n=c(n.toJSON())),n instanceof luxon__WEBPACK_IMPORTED_MODULE_3__.Zone)return n;if("unknown"===n.toLowerCase())return _ArcadeDate_js__WEBPACK_IMPORTED_MODULE_0__.UnknownTimeZone.instance;if("system"===n.toLowerCase())return luxon__WEBPACK_IMPORTED_MODULE_3__.SystemZone.instance;if("utc"===n.toLowerCase())return luxon__WEBPACK_IMPORTED_MODULE_3__.FixedOffsetZone.utcInstance;if(/^[\+\-]?[0-9]{1,2}([:][0-9]{2})?$/.test(n)){const e=luxon__WEBPACK_IMPORTED_MODULE_3__.FixedOffsetZone.parseSpecifier("UTC"+(n.startsWith("+")||n.startsWith("-")?"":"+")+n);if(e)return e}const a=luxon__WEBPACK_IMPORTED_MODULE_3__.IANAZone.create(n);if(!a.isValid)throw new _ArcadeDate_js__WEBPACK_IMPORTED_MODULE_0__.ArcadeDateError(_ArcadeDate_js__WEBPACK_IMPORTED_MODULE_0__.ArcadeDateErrorCodes.TimeZoneNotRecognised);return a}function c(e){return e?.timeZoneIANA?e?.timeZoneIANA:e?.timeZone?(0,_time_timeReferenceUtils_js__WEBPACK_IMPORTED_MODULE_4__.convertLegacyTimeZone)(e,""):""}class T{constructor(){this.dateTimeReferenceMetaData=null,this._fieldTimeZoneIndex={},this._fieldIndex=null,this._ianaPreferred=null,this._ianaTimeInfo=null,this._ianaEditFields=null,this._ianaLayerDateFields=null}static create(e,t){const i=new T;return i.dateTimeReferenceMetaData=t,i._fieldIndex=e instanceof _layers_support_FieldsIndex_js__WEBPACK_IMPORTED_MODULE_1__["default"]?e:new _layers_support_FieldsIndex_js__WEBPACK_IMPORTED_MODULE_1__["default"](e),i}static createFromLayer(e){if(!e)return null;if(!e.fieldsIndex)return!e.declaredClass&&e.fields?T.create(e.fields,e):null;const t=new T;return t._fieldIndex=e.fieldsIndex,t.dateTimeReferenceMetaData={timeInfo:e?.timeInfo?.toJSON()??null,editFieldsInfo:e?.editFieldsInfo?.toJSON()??null,dateFieldsTimeReference:e?.dateFieldsTimeReference?.toJSON()??null,preferredTimeReference:e?.preferredTimeReference?.toJSON()??null,datesInUnknownTimezone:!0===e?.datesInUnknownTimezone},t}fieldTimeZone(e){const t=this._fieldIndex?.get(e);if(!t)return null;if("date"!==t.type&&"esriFieldTypeDate"!==t.type)return null;const i=this._fieldTimeZoneIndex[t.name];if(void 0!==i)return i;const n=[{field:this.dateTimeReferenceMetaData?.editFieldsInfo?.creationDateField,timeReference:this.dateTimeReferenceMetaData?.editFieldsInfo?.dateFieldsTimeReference,isunknown:!0===this.dateTimeReferenceMetaData?.datesInUnknownTimezone},{field:this.dateTimeReferenceMetaData?.editFieldsInfo?.editDateField,timeReference:this.dateTimeReferenceMetaData?.editFieldsInfo?.dateFieldsTimeReference,isunknown:!0===this.dateTimeReferenceMetaData?.datesInUnknownTimezone},{field:this.dateTimeReferenceMetaData?.timeInfo?.startTimeField,timeReference:this.dateTimeReferenceMetaData?.timeInfo?.timeReference,isunknown:!0===this.dateTimeReferenceMetaData?.datesInUnknownTimezone},{field:this.dateTimeReferenceMetaData?.timeInfo?.endTimeField,timeReference:this.dateTimeReferenceMetaData?.timeInfo?.timeReference,isunknown:!0===this.dateTimeReferenceMetaData?.datesInUnknownTimezone}];for(const r of n)if(r.field===t.name){const e=this.convertToIANA(r.timeReference,r.isunknown);return this._fieldTimeZoneIndex[t.name]=e,e}const a=this.convertToIANA(this.dateTimeReferenceMetaData?.dateFieldsTimeReference,this.dateTimeReferenceMetaData?.datesInUnknownTimezone);return this._fieldTimeZoneIndex[t.name]=a,a}convertToIANA(e,t){return t?"unknown":c(e)}get layerPreferredTimeZone(){if(null!==this._ianaPreferred)return this._ianaPreferred;this._ianaPreferred="";const e=this.dateTimeReferenceMetaData?.preferredTimeReference;return this._ianaPreferred=this.convertToIANA(e,!0===this.dateTimeReferenceMetaData?.datesInUnknownTimezone),this._ianaPreferred}get layerTimeInfoTimeZone(){if(null!==this._ianaTimeInfo)return this._ianaTimeInfo;this._ianaTimeInfo="";const e=this.dateTimeReferenceMetaData?.timeInfo?.timeReference;return this._ianaTimeInfo=this.convertToIANA(e,!1),this._ianaTimeInfo}get layerEditFieldsTimeZone(){if(null!==this._ianaEditFields)return this._ianaEditFields;this._ianaEditFields="";const e=this.dateTimeReferenceMetaData?.editFieldsInfo?.dateFieldsTimeReference;return this._ianaEditFields=this.convertToIANA(e,this.dateTimeReferenceMetaData?.datesInUnknownTimezone),this._ianaEditFields}get layerDateFieldsTimeZone(){if(null!==this._ianaLayerDateFields)return this._ianaLayerDateFields;this._ianaLayerDateFields="";const e=this.dateTimeReferenceMetaData?.dateFieldsTimeReference;return this._ianaLayerDateFields=this.convertToIANA(e,!0===this.dateTimeReferenceMetaData?.datesInUnknownTimezone),this._ianaLayerDateFields}}


/***/ }),

/***/ "./node_modules/@arcgis/core/chunks/rbush.js":
/*!***************************************************!*\
  !*** ./node_modules/@arcgis/core/chunks/rbush.js ***!
  \***************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "r": () => (/* binding */ i)
/* harmony export */ });
/* harmony import */ var _quickselect_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./quickselect.js */ "./node_modules/@arcgis/core/chunks/quickselect.js");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.27/esri/copyright.txt for details.
*/
function i(t,n){if(!(this instanceof i))return new i(t,n);this._maxEntries=Math.max(4,t||9),this._minEntries=Math.max(2,Math.ceil(.4*this._maxEntries)),n&&("function"==typeof n?this.toBBox=n:this._initFormat(n)),this.clear()}function n(t,i,n){if(!n)return i.indexOf(t);for(var h=0;h<i.length;h++)if(n(t,i[h]))return h;return-1}function h(t,i){a(t,0,t.children.length,i,t)}function a(t,i,n,h,a){a||(a=x(null)),a.minX=1/0,a.minY=1/0,a.maxX=-1/0,a.maxY=-1/0;for(var e,o=i;o<n;o++)e=t.children[o],r(a,t.leaf?h(e):e);return a}function r(t,i){return t.minX=Math.min(t.minX,i.minX),t.minY=Math.min(t.minY,i.minY),t.maxX=Math.max(t.maxX,i.maxX),t.maxY=Math.max(t.maxY,i.maxY),t}function e(t,i){return t.minX-i.minX}function o(t,i){return t.minY-i.minY}function s(t){return(t.maxX-t.minX)*(t.maxY-t.minY)}function l(t){return t.maxX-t.minX+(t.maxY-t.minY)}function m(t,i){return(Math.max(i.maxX,t.maxX)-Math.min(i.minX,t.minX))*(Math.max(i.maxY,t.maxY)-Math.min(i.minY,t.minY))}function c(t,i){var n=Math.max(t.minX,i.minX),h=Math.max(t.minY,i.minY),a=Math.min(t.maxX,i.maxX),r=Math.min(t.maxY,i.maxY);return Math.max(0,a-n)*Math.max(0,r-h)}function u(t,i){return t.minX<=i.minX&&t.minY<=i.minY&&i.maxX<=t.maxX&&i.maxY<=t.maxY}function f(t,i){return i.minX<=t.maxX&&i.minY<=t.maxY&&i.maxX>=t.minX&&i.maxY>=t.minY}function x(t){return{children:t,height:1,leaf:!0,minX:1/0,minY:1/0,maxX:-1/0,maxY:-1/0}}function d(i,n,h,a,r){for(var e,o=[n,h];o.length;)(h=o.pop())-(n=o.pop())<=a||(e=n+Math.ceil((h-n)/a/2)*a,(0,_quickselect_js__WEBPACK_IMPORTED_MODULE_0__.q)(i,e,n,h,r),o.push(n,e,e,h))}i.prototype={all:function(){return this._all(this.data,[])},search:function(t){var i=this.data,n=[],h=this.toBBox;if(!f(t,i))return n;for(var a,r,e,o,s=[];i;){for(a=0,r=i.children.length;a<r;a++)e=i.children[a],f(t,o=i.leaf?h(e):e)&&(i.leaf?n.push(e):u(t,o)?this._all(e,n):s.push(e));i=s.pop()}return n},collides:function(t){var i=this.data,n=this.toBBox;if(!f(t,i))return!1;for(var h,a,r,e,o=[];i;){for(h=0,a=i.children.length;h<a;h++)if(r=i.children[h],f(t,e=i.leaf?n(r):r)){if(i.leaf||u(t,e))return!0;o.push(r)}i=o.pop()}return!1},load:function(t){if(!t||!t.length)return this;if(t.length<this._minEntries){for(var i=0,n=t.length;i<n;i++)this.insert(t[i]);return this}var h=this._build(t.slice(),0,t.length-1,0);if(this.data.children.length)if(this.data.height===h.height)this._splitRoot(this.data,h);else{if(this.data.height<h.height){var a=this.data;this.data=h,h=a}this._insert(h,this.data.height-h.height-1,!0)}else this.data=h;return this},insert:function(t){return t&&this._insert(t,this.data.height-1),this},clear:function(){return this.data=x([]),this},remove:function(t,i){if(!t)return this;for(var h,a,r,e,o=this.data,s=this.toBBox(t),l=[],m=[];o||l.length;){if(o||(o=l.pop(),a=l[l.length-1],h=m.pop(),e=!0),o.leaf&&-1!==(r=n(t,o.children,i)))return o.children.splice(r,1),l.push(o),this._condense(l),this;e||o.leaf||!u(o,s)?a?(h++,o=a.children[h],e=!1):o=null:(l.push(o),m.push(h),h=0,a=o,o=o.children[0])}return this},toBBox:function(t){return t},compareMinX:e,compareMinY:o,toJSON:function(){return this.data},fromJSON:function(t){return this.data=t,this},_all:function(t,i){for(var n=[];t;)t.leaf?i.push.apply(i,t.children):n.push.apply(n,t.children),t=n.pop();return i},_build:function(t,i,n,a){var r,e=n-i+1,o=this._maxEntries;if(e<=o)return h(r=x(t.slice(i,n+1)),this.toBBox),r;a||(a=Math.ceil(Math.log(e)/Math.log(o)),o=Math.ceil(e/Math.pow(o,a-1))),(r=x([])).leaf=!1,r.height=a;var s,l,m,c,u=Math.ceil(e/o),f=u*Math.ceil(Math.sqrt(o));for(d(t,i,n,f,this.compareMinX),s=i;s<=n;s+=f)for(d(t,s,m=Math.min(s+f-1,n),u,this.compareMinY),l=s;l<=m;l+=u)c=Math.min(l+u-1,m),r.children.push(this._build(t,l,c,a-1));return h(r,this.toBBox),r},_chooseSubtree:function(t,i,n,h){for(var a,r,e,o,l,c,u,f;h.push(i),!i.leaf&&h.length-1!==n;){for(u=f=1/0,a=0,r=i.children.length;a<r;a++)l=s(e=i.children[a]),(c=m(t,e)-l)<f?(f=c,u=l<u?l:u,o=e):c===f&&l<u&&(u=l,o=e);i=o||i.children[0]}return i},_insert:function(t,i,n){var h=this.toBBox,a=n?t:h(t),e=[],o=this._chooseSubtree(a,this.data,i,e);for(o.children.push(t),r(o,a);i>=0&&e[i].children.length>this._maxEntries;)this._split(e,i),i--;this._adjustParentBBoxes(a,e,i)},_split:function(t,i){var n=t[i],a=n.children.length,r=this._minEntries;this._chooseSplitAxis(n,r,a);var e=this._chooseSplitIndex(n,r,a),o=x(n.children.splice(e,n.children.length-e));o.height=n.height,o.leaf=n.leaf,h(n,this.toBBox),h(o,this.toBBox),i?t[i-1].children.push(o):this._splitRoot(n,o)},_splitRoot:function(t,i){this.data=x([t,i]),this.data.height=t.height+1,this.data.leaf=!1,h(this.data,this.toBBox)},_chooseSplitIndex:function(t,i,n){var h,r,e,o,l,m,u,f;for(m=u=1/0,h=i;h<=n-i;h++)o=c(r=a(t,0,h,this.toBBox),e=a(t,h,n,this.toBBox)),l=s(r)+s(e),o<m?(m=o,f=h,u=l<u?l:u):o===m&&l<u&&(u=l,f=h);return f},_chooseSplitAxis:function(t,i,n){var h=t.leaf?this.compareMinX:e,a=t.leaf?this.compareMinY:o;this._allDistMargin(t,i,n,h)<this._allDistMargin(t,i,n,a)&&t.children.sort(h)},_allDistMargin:function(t,i,n,h){t.children.sort(h);var e,o,s=this.toBBox,m=a(t,0,i,s),c=a(t,n-i,n,s),u=l(m)+l(c);for(e=i;e<n-i;e++)o=t.children[e],r(m,t.leaf?s(o):o),u+=l(m);for(e=n-i-1;e>=i;e--)o=t.children[e],r(c,t.leaf?s(o):o),u+=l(c);return u},_adjustParentBBoxes:function(t,i,n){for(var h=n;h>=0;h--)r(i[h],t)},_condense:function(t){for(var i,n=t.length-1;n>=0;n--)0===t[n].children.length?n>0?(i=t[n-1].children).splice(i.indexOf(t[n]),1):this.clear():h(t[n],this.toBBox)},_initFormat:function(t){var i=["return a"," - b",";"];this.compareMinX=new Function("a","b",i.join(t[0])),this.compareMinY=new Function("a","b",i.join(t[1])),this.toBBox=new Function("a","return {minX: a"+t[0]+", minY: a"+t[1]+", maxX: a"+t[2]+", maxY: a"+t[3]+"};")}};


/***/ }),

/***/ "./node_modules/@arcgis/core/core/CircularArray.js":
/*!*********************************************************!*\
  !*** ./node_modules/@arcgis/core/core/CircularArray.js ***!
  \*********************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (/* binding */ t)
/* harmony export */ });
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.27/esri/copyright.txt for details.
*/
class t{constructor(t){this.size=0,this._start=0,this.maxSize=t,this._buffer=new Array(t)}get entries(){return this._buffer}enqueue(t){if(this.size===this.maxSize){const s=this._buffer[this._start];return this._buffer[this._start]=t,this._start=(this._start+1)%this.maxSize,s}return this._buffer[(this._start+this.size++)%this.maxSize]=t,null}dequeue(){if(0===this.size)return null;const t=this._buffer[this._start];return this._buffer[this._start]=null,this.size--,this._start=(this._start+1)%this.maxSize,t}peek(){return 0===this.size?null:this._buffer[this._start]}find(t){if(0===this.size)return null;for(const s of this._buffer)if(null!=s&&t(s))return s;return null}clear(t){let s=this.dequeue();for(;null!=s;)t&&t(s),s=this.dequeue()}}


/***/ }),

/***/ "./node_modules/@arcgis/core/geohash/GeohashTree.js":
/*!**********************************************************!*\
  !*** ./node_modules/@arcgis/core/geohash/GeohashTree.js ***!
  \**********************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "GeohashNode": () => (/* binding */ c),
/* harmony export */   "GeohashTree": () => (/* binding */ h)
/* harmony export */ });
/* harmony import */ var _core_CircularArray_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../core/CircularArray.js */ "./node_modules/@arcgis/core/core/CircularArray.js");
/* harmony import */ var _geohashUtils_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./geohashUtils.js */ "./node_modules/@arcgis/core/geohash/geohashUtils.js");
/* harmony import */ var _geometry_SpatialReference_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../geometry/SpatialReference.js */ "./node_modules/@arcgis/core/geometry/SpatialReference.js");
/* harmony import */ var _layers_graphics_featureConversionUtils_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../layers/graphics/featureConversionUtils.js */ "./node_modules/@arcgis/core/layers/graphics/featureConversionUtils.js");
/* harmony import */ var _layers_graphics_OptimizedGeometry_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../layers/graphics/OptimizedGeometry.js */ "./node_modules/@arcgis/core/layers/graphics/OptimizedGeometry.js");
/* harmony import */ var _layers_graphics_data_projectionSupport_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../layers/graphics/data/projectionSupport.js */ "./node_modules/@arcgis/core/layers/graphics/data/projectionSupport.js");
/* harmony import */ var _views_2d_layers_features_support_FeatureSetReaderJSON_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../views/2d/layers/features/support/FeatureSetReaderJSON.js */ "./node_modules/@arcgis/core/views/2d/layers/features/support/FeatureSetReaderJSON.js");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.27/esri/copyright.txt for details.
*/
class h{constructor(e=[],s,i=8096){this.onRelease=t=>{},this._nodes=0,this._root=new c(this,0,0,0),this._statisticFields=e,this._pool=i?new _core_CircularArray_js__WEBPACK_IMPORTED_MODULE_0__["default"](8096):null,this._serviceInfo=s}destroy(){this.clear()}_acquire(t,e,s){this._nodes++;let i=null;return null!=this._pool&&(i=this._pool.dequeue()),null!=i?i.realloc(t,e,s):i=new c(this,t,e,s),i}_release(t){this.onRelease(t),this._nodes--,null!=this._pool&&this._pool.enqueue(t)}get count(){return this._root.count}get size(){return this._nodes}get poolSize(){return this._pool?.size??0}get depth(){let t=0;return this.forEach((e=>t=Math.max(t,e.depth))),t}dropLevels(t){this.forEach((e=>{if(e.depth>=t)for(let t=0;t<e.children.length;t++){const s=e.children[t];s&&this._release(s)}})),this.forEach((e=>{if(e.depth>=t)for(let t=0;t<e.children.length;t++)e.children[t]=null}))}clear(){this.forEach((t=>this._release(t))),this._root=new c(this,0,0,0)}insert(t,e,s=0){const i=_views_2d_layers_features_support_FeatureSetReaderJSON_js__WEBPACK_IMPORTED_MODULE_6__.FeatureSetReaderJSON.fromOptimizedFeatures([t],this._serviceInfo).getCursor();i.next();const n=i.readGeometry();if(!n)return;const[o,a]=n.coords,r=t.geohashX,h=t.geohashY;this.insertCursor(i,t.displayId,o,a,r,h,e,s)}insertCursor(t,e,s,i,n,o,a,r=0){let l=this._root,h=0,c=0,u=0;for(;null!==l;){if(l.depth>=r&&(l.count+=1,l.xTotal+=s,l.yTotal+=i,l.xGeohashTotal+=n,l.yGeohashTotal+=o,l.referenceId=e,this._updateStatisticsCursor(t,l,1)),h>=a)return void l.add(e);const d=Math.ceil((h+1)/2),f=Math.floor((h+1)/2),x=1-h%2,m=30-(3*d+2*f),g=30-(2*d+3*f),y=(n&7*x+3*(1-x)<<m)>>m,p=(o&3*x+7*(1-x)<<g)>>g,_=y+p*(8*x+4*(1-x));c=c<<3*x+2*(1-x)|y,u=u<<2*x+3*(1-x)|p,null==l.children[_]&&(l.children[_]=this._acquire(c,u,h+1)),h+=1,l=l.children[_]}}remove(t,e){const s=_views_2d_layers_features_support_FeatureSetReaderJSON_js__WEBPACK_IMPORTED_MODULE_6__.FeatureSetReaderJSON.fromOptimizedFeatures([t],this._serviceInfo).getCursor();s.next();const i=s.readGeometry();if(!i)return;const[n,o]=i.coords,a=t.geohashX,r=t.geohashY;this.removeCursor(s,n,o,a,r,e)}removeCursor(t,e,s,i,n,o){let a=this._root,r=0;for(;null!==a;){if(a.count-=1,a.xTotal-=e,a.yTotal-=s,a.xGeohashTotal-=i,a.yGeohashTotal-=n,this._updateStatisticsCursor(t,a,-1),r>=o)return void a.remove(t.getDisplayId());const l=Math.ceil((r+1)/2),h=Math.floor((r+1)/2),c=1-r%2,u=30-(3*l+2*h),d=30-(2*l+3*h),f=((i&7*c+3*(1-c)<<u)>>u)+((n&3*c+7*(1-c)<<d)>>d)*(8*c+4*(1-c)),x=a.children[f];1===x?.count&&(this._release(x),a.children[f]=null),r+=1,a=x}}forEach(t){let e=this._root;for(;null!==e;){const s=this._linkChildren(e)||e.next;t(e),e=s}}find(t,e,s){return this._root.find(t,e,s,0,0,0)}findIf(t){let e=null;return this.forEach((s=>{t(s)&&(e=s)})),e}findAllIf(t){const e=[];return this.forEach((s=>{t(s)&&e.push(s)})),e}findSingleOccupancyNode(t,e,s,i,n){let o=this._root;for(;null!==o;){const a=o.depth,r=o.xNode,l=o.yNode,h=1-a%2,c=o.xGeohashTotal/o.count,u=o.yGeohashTotal/o.count;if(1===o.count&&t<c&&c<=s&&e<u&&u<=i)return o;if(a>=n){o=o.next;continue}const d=Math.ceil((a+1)/2),f=Math.floor((a+1)/2),x=30-(3*d+2*f),m=30-(2*d+3*f),g=~((1<<x)-1),y=~((1<<m)-1),p=(t&g)>>x,_=(e&y)>>m,v=(s&g)>>x,M=(i&y)>>m,T=r<<3*h+2*(1-h),b=l<<2*h+3*(1-h),k=T+8*h+4*(1-h),N=b+4*h+8*(1-h),I=Math.max(T,p),C=Math.max(b,_),G=Math.min(k,v),L=Math.min(N,M);let S=null,w=null;for(let t=C;t<=L;t++)for(let e=I;e<=G;e++){const s=e-T+(t-b)*(8*h+4*(1-h)),i=o.children[s];i&&(S||(S=i,S.next=o.next),w&&(w.next=i),w=i,i.next=o.next)}o=S||o.next}return null}getRegionDisplayIds(t){let e=this._root;const{bounds:s,geohashBounds:i,level:n}=t,[o,a,r,l]=s,h=[];for(;null!==e;){const t=e.depth,s=e.xNode,c=e.yNode;if(t>=n){const t=e.xTotal/e.count,s=e.yTotal/e.count;t>=o&&t<=r&&s>=a&&s<=l&&e.displayIds.forEach((t=>h.push(t))),e=e.next;continue}const u=Math.ceil((t+1)/2),d=Math.floor((t+1)/2),f=1-t%2,x=30-(3*u+2*d),m=30-(2*u+3*d),g=~((1<<x)-1),y=~((1<<m)-1),p=(i.xLL&g)>>x,_=(i.yLL&y)>>m,v=(i.xTR&g)>>x,M=(i.yTR&y)>>m,T=s<<3*f+2*(1-f),b=c<<2*f+3*(1-f),k=T+8*f+4*(1-f),N=b+4*f+8*(1-f),I=Math.max(T,p),C=Math.max(b,_),G=Math.min(k,v),L=Math.min(N,M);let S=null,w=null;for(let i=C;i<=L;i++)for(let t=I;t<=G;t++){const s=t-T+(i-b)*(8*f+4*(1-f)),n=e.children[s];n&&(S||(S=n,S.next=e.next),w&&(w.next=n),w=n,n.next=e.next)}e=S||e.next}return h}getRegionStatistics(t){let e=this._root,s=0,i=0,n=0;const o={},{bounds:a,geohashBounds:r,level:l}=t,[h,c,u,d]=a;let f=0;for(;null!==e;){const t=e.depth,a=e.xNode,x=e.yNode;if(t>=l){const t=e.xTotal/e.count,a=e.yTotal/e.count;t>h&&t<=u&&a>c&&a<=d&&(s+=e.count,i+=e.xTotal,n+=e.yTotal,1===e.count&&(f=e.referenceId),this._aggregateStatistics(o,e.statistics)),e=e.next;continue}const m=Math.ceil((t+1)/2),g=Math.floor((t+1)/2),y=1-t%2,p=30-(3*m+2*g),_=30-(2*m+3*g),v=~((1<<p)-1),M=~((1<<_)-1),T=(r.xLL&v)>>p,b=(r.yLL&M)>>_,k=(r.xTR&v)>>p,N=(r.yTR&M)>>_,I=a<<3*y+2*(1-y),C=x<<2*y+3*(1-y),G=I+8*y+4*(1-y),L=C+4*y+8*(1-y),S=Math.max(I,T),w=Math.max(C,b),R=Math.min(G,k),F=Math.min(L,N);let z=null,j=null;for(let r=w;r<=F;r++)for(let t=S;t<=R;t++){const a=t-I+(r-C)*(8*y+4*(1-y)),l=e.children[a];if(l){if(r!==w&&r!==F&&t!==S&&t!==R){const t=l.xTotal/l.count,e=l.yTotal/l.count;t>h&&t<=u&&e>c&&e<=d&&(s+=l.count,i+=l.xTotal,n+=l.yTotal,1===l.count&&(f=l.referenceId),this._aggregateStatistics(o,l.statistics));continue}z||(z=l,z.next=e.next),j&&(j.next=l),j=l,l.next=e.next}}e=z||e.next}return{count:s,attributes:this.normalizeStatistics(o,s),xTotal:i,yTotal:n,referenceId:f}}getBins(t){const e=[],{geohashBounds:s,level:i}=t;let n=this._root;for(;null!==n;){const t=n.depth,o=n.xNode,a=n.yNode;if(t>=i){e.push(n),n=n.next;continue}const r=Math.ceil((t+1)/2),l=Math.floor((t+1)/2),h=1-t%2,c=30-(3*r+2*l),u=30-(2*r+3*l),d=~((1<<c)-1),f=~((1<<u)-1),x=(s.xLL&d)>>c,m=(s.yLL&f)>>u,g=(s.xTR&d)>>c,y=(s.yTR&f)>>u,p=o<<3*h+2*(1-h),_=a<<2*h+3*(1-h),v=p+8*h+4*(1-h),M=_+4*h+8*(1-h),T=Math.max(p,x),b=Math.max(_,m),k=Math.min(v,g),N=Math.min(M,y);let I=null,C=null;for(let e=b;e<=N;e++)for(let t=T;t<=k;t++){const s=t-p+(e-_)*(8*h+4*(1-h)),i=n.children[s];i&&(I||(I=i,I.next=n.next),C&&(C.next=i),C=i,i.next=n.next)}n=I||n.next}return e}_linkChildren(t){let e=null,s=null;for(let i=0;i<=t.children.length;i++){const n=t.children[i];n&&(e||(e=n,e.next=t.next),s&&(s.next=n),s=n,n.next=t.next)}return e}_updateStatisticsCursor(t,e,s){for(const i of this._statisticFields){const n=i.name,o=i.inField?t.readAttribute(i.inField):t.getComputedNumericAtIndex(i.inFieldIndex);switch(i.statisticType){case"min":{if(isNaN(o))break;if(!e.statistics[n]){e.statistics[n]={value:o};break}const t=e.statistics[n].value;e.statistics[n].value=Math.min(t,o);break}case"max":{if(isNaN(o))break;if(!e.statistics[n]){e.statistics[n]={value:o};break}const t=e.statistics[n].value;e.statistics[n].value=Math.max(t,o);break}case"count":break;case"sum":case"avg":{e.statistics[n]||(e.statistics[n]={value:0,nanCount:0});const t=e.statistics[n].value,i=e.statistics[n].nanCount??0;null==o||isNaN(o)?e.statistics[n].nanCount=i+s:e.statistics[n].value=t+s*o;break}case"avg_angle":{e.statistics[n]||(e.statistics[n]={x:0,y:0,nanCount:0});const t=e.statistics[n].x,i=e.statistics[n].y,a=e.statistics[n].nanCount??0,r=Math.PI/180;null==o||isNaN(o)?e.statistics[n].nanCount=a+s:(e.statistics[n].x=t+s*Math.cos(o*r),e.statistics[n].y=i+s*Math.sin(o*r));break}case"mode":{e.statistics[n]||(e.statistics[n]={});const t=e.statistics[n][o]||0;e.statistics[n][o]=t+s;break}}}}_aggregateStatistics(t,e){for(const s of this._statisticFields){const i=s.name;switch(s.statisticType){case"min":{if(!t[i]){t[i]={value:e[i].value};break}const s=t[i].value;t[i].value=Math.min(s,e[i].value);break}case"max":{if(!t[i]){t[i]={value:e[i].value};break}const s=t[i].value;t[i].value=Math.max(s,e[i].value);break}case"count":break;case"sum":case"avg":case"avg_angle":case"mode":t[i]||(t[i]={});for(const s in e[i]){const n=t[i][s]||0;t[i][s]=n+e[i][s]}}}}normalizeStatistics(t,e){const s={};for(const i of this._statisticFields){const n=i.name;switch(i.statisticType){case"min":case"max":{const i=t[n];if(!e||!i)break;s[n]=i.value;break}case"count":if(!e)break;s[n]=e;break;case"sum":{if(!e)break;const{value:i,nanCount:o}=t[n];if(!(e-o))break;s[n]=i;break}case"avg":{if(!e)break;const{value:i,nanCount:o}=t[n];if(!(e-o))break;s[n]=i/(e-o);break}case"avg_angle":{if(!e)break;const{x:i,y:o,nanCount:a}=t[n];if(!(e-a))break;const r=i/(e-a),l=o/(e-a),h=180/Math.PI,c=Math.atan2(l,r)*h;s[n]=c;break}case"mode":{const e=t[n];let i=0,o=0,a=null;for(const t in e){const s=e[t];s===i?o+=1:s>i&&(i=s,o=1,a=t)}s[n]="null"===a||o>1?null:a;break}}}return s}}class c{constructor(t,e,s,i){this.count=0,this.xTotal=0,this.yTotal=0,this.statistics={},this.displayId=0,this.referenceId=0,this.displayIds=new Set,this.next=null,this.depth=0,this.xNode=0,this.yNode=0,this.xGeohashTotal=0,this.yGeohashTotal=0,this._tree=t,this.children=new Array(32);for(let n=0;n<this.children.length;n++)this.children[n]=null;this.xNode=e,this.yNode=s,this.depth=i}realloc(t,e,s){for(let i=0;i<this.children.length;i++)this.children[i]=null;return this.xNode=t,this.yNode=e,this.depth=s,this.next=null,this.xGeohashTotal=0,this.yGeohashTotal=0,this.displayId=0,this.referenceId=0,this.xTotal=0,this.yTotal=0,this.count=0,this.statistics={},this.displayIds.clear(),this}get id(){return`${this.xNode}.${this.yNode}`}add(t){this.displayIds.add(t)}remove(t){this.displayIds.delete(t)}getAttributes(){const t=this._tree.normalizeStatistics(this.statistics,this.count);return t.referenceId=null,t.aggregateId=this.id,t.aggregateCount=this.count,t}getGeometry(t,e){const o=this.getLngLatBounds(),[l,h,c,u]=o,d=(0,_layers_graphics_data_projectionSupport_js__WEBPACK_IMPORTED_MODULE_5__.project)({rings:[[[l,h],[l,u],[c,u],[c,h],[l,h]]]},_geometry_SpatialReference_js__WEBPACK_IMPORTED_MODULE_2__["default"].WGS84,t),f=(0,_layers_graphics_featureConversionUtils_js__WEBPACK_IMPORTED_MODULE_3__.convertFromPolygon)(new _layers_graphics_OptimizedGeometry_js__WEBPACK_IMPORTED_MODULE_4__["default"],d,!1,!1);if(null!=e){return (0,_layers_graphics_featureConversionUtils_js__WEBPACK_IMPORTED_MODULE_3__.quantizeOptimizedGeometry)(new _layers_graphics_OptimizedGeometry_js__WEBPACK_IMPORTED_MODULE_4__["default"],f,!1,!1,"esriGeometryPolygon",e,!1,!1)}return f}getGeometryCentroid(t,e){const i=this.getLngLatBounds(),[l,h,c,u]=i,d=(0,_layers_graphics_data_projectionSupport_js__WEBPACK_IMPORTED_MODULE_5__.project)({x:(l+c)/2,y:(h+u)/2},_geometry_SpatialReference_js__WEBPACK_IMPORTED_MODULE_2__["default"].WGS84,t),f=(0,_layers_graphics_featureConversionUtils_js__WEBPACK_IMPORTED_MODULE_3__.convertFromPoint)(new _layers_graphics_OptimizedGeometry_js__WEBPACK_IMPORTED_MODULE_4__["default"],d);if(null!=e){return (0,_layers_graphics_featureConversionUtils_js__WEBPACK_IMPORTED_MODULE_3__.quantizeOptimizedGeometry)(new _layers_graphics_OptimizedGeometry_js__WEBPACK_IMPORTED_MODULE_4__["default"],f,!1,!1,"esriGeometryPoint",e,!1,!1)}return f}getLngLatBounds(){const t=this.depth,s=Math.ceil(t/2),i=Math.floor(t/2),n=30-(3*s+2*i),o=30-(2*s+3*i),a=this.xNode<<n,r=this.yNode<<o;return (0,_geohashUtils_js__WEBPACK_IMPORTED_MODULE_1__.decodeGeohashXY)({geohashX:a,geohashY:r},this.depth)}find(t,e,s,i,n,o){if(i>=s)return this;const a=1-i%2,r=3*a+2*(1-a),l=2*a+3*(1-a),h=30-n-r,c=30-o-l,u=((t&7*a+3*(1-a)<<h)>>h)+((e&3*a+7*(1-a)<<c)>>c)*(8*a+4*(1-a)),d=this.children[u];return null==d?null:d.find(t,e,s,i+1,n+r,o+l)}}


/***/ }),

/***/ "./node_modules/@arcgis/core/geohash/geohashUtils.js":
/*!***********************************************************!*\
  !*** ./node_modules/@arcgis/core/geohash/geohashUtils.js ***!
  \***********************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "convertGeohash32ToXY": () => (/* binding */ C),
/* harmony export */   "decodeBase32Char": () => (/* binding */ a),
/* harmony export */   "decodeGeohash": () => (/* binding */ y),
/* harmony export */   "decodeGeohashXY": () => (/* binding */ X),
/* harmony export */   "encodeBase32Char": () => (/* binding */ g),
/* harmony export */   "encodeGeohash": () => (/* binding */ p),
/* harmony export */   "getRelativeGeohash": () => (/* binding */ k),
/* harmony export */   "setGeohashBuf": () => (/* binding */ b),
/* harmony export */   "setGeohashXY": () => (/* binding */ Y),
/* harmony export */   "unpackXBits": () => (/* binding */ F),
/* harmony export */   "unpackYBits": () => (/* binding */ j)
/* harmony export */ });
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.27/esri/copyright.txt for details.
*/
const t=16,n=8,o=4,e=2,r=1,c=new Float64Array(2),f=new Float64Array(2),l=-90,u=90,h=-180,s=180,i="0123456789bcdefghjkmnpqrstuvwxyz";function a(t){return t<=57?t-48:t<=104?t-88:t<=107?t-89:t<=110?t-90:t-91}function g(t){return i[t]}function A(t){return(t[0]+t[1])/2}function d(t,n,o){return t[0]=n,t[1]=o,t}function M(t,n){const o=A(t),e=n,r=!n;t[0]=r*t[0]+e*o,t[1]=r*o+e*t[1]}function w(t,n){const o=n>A(t);return M(t,o),o}function y(i,g){const w=d(c,l,u),y=d(f,h,s);for(let c=0;c<g.length;c++){const f=a(g.charCodeAt(c));c%2==0?(M(y,!!(t&f)),M(y,!!(o&f)),M(y,!!(r&f)),M(w,!!(n&f)),M(w,!!(e&f))):(M(w,!!(t&f)),M(w,!!(o&f)),M(w,!!(r&f)),M(y,!!(n&f)),M(y,!!(e&f)))}return i[0]=A(w),i[1]=A(y),i}function C(t,n){let o=0,e=0,r=30,c=30;for(let f=0;f<n.length;f++){const t=a(n.charCodeAt(f)),l=f%2==0;r-=l?3:2,c-=l?2:3,o|=F(t,l)<<r,e|=j(t,l)<<c}return{geohashX:o,geohashY:e}}function X(t,n){let o=-90,e=90,r=-180,c=180;for(let f=0;f<n;f++){const n=Math.ceil((f+1)/2),l=Math.floor((f+1)/2),u=1-f%2,h=30-(3*n+2*l),s=30-(2*n+3*l),i=3*u+2*(1-u),a=2*u+3*(1-u),g=3*u+7*(1-u)<<s,A=(7*u+3*(1-u)<<h&t.geohashX)>>h,d=(g&t.geohashY)>>s;for(let t=i-1;t>=0;t--){const n=(r+c)/2,o=A&1<<t?1:0;r=(1-o)*r+o*n,c=(1-o)*n+o*c}for(let t=a-1;t>=0;t--){const n=(o+e)/2,r=d&1<<t?1:0;o=(1-r)*o+r*n,e=(1-r)*n+r*e}}return[r,o,c,e]}function Y(t,n,o,e){e%2&&(e+=1);let r=0,c=0,f=-90,l=90,u=-180,h=180;for(let s=0;s<e/2;s++){for(let t=0;t<5;t++){const n=(u+h)/2,e=o>n?1:0;r|=e<<29-(t+5*s),u=(1-e)*u+e*n,h=(1-e)*n+e*h}for(let t=0;t<5;t++){const o=(f+l)/2,e=n>o?1:0;c|=e<<29-(t+5*s),f=(1-e)*f+e*o,l=(1-e)*o+e*l}}t.geohashX=r,t.geohashY=c}function b(t,n,o,e,r){r%2&&(r+=1);let c=0,f=0,l=-90,u=90,h=-180,s=180;for(let i=0;i<r/2;i++){for(let t=0;t<5;t++){const n=(h+s)/2,o=e>n?1:0;c|=o<<29-(t+5*i),h=(1-o)*h+o*n,s=(1-o)*n+o*s}for(let t=0;t<5;t++){const n=(l+u)/2,e=o>n?1:0;f|=e<<29-(t+5*i),l=(1-e)*l+e*n,u=(1-e)*n+e*u}}t[2*n]=c,t[2*n+1]=f}function p(t,n,o){let e="";const r=d(c,-90,90),l=d(f,-180,180);for(let c=0;c<o;c++){let o=0;!(c%2)?(o|=w(l,n)<<4,o|=w(r,t)<<3,o|=w(l,n)<<2,o|=w(r,t)<<1,o|=w(l,n)<<0):(o|=w(r,t)<<4,o|=w(l,n)<<3,o|=w(r,t)<<2,o|=w(l,n)<<1,o|=w(r,t)<<0),e+=g(o)}return e}function x(t,n,c){return c?t&r|(n&r)<<1|(t&e)<<1|(n&e)<<2|(t&o)<<2:n&r|(t&r)<<1|(n&e)<<1|(t&e)<<2|(n&o)<<2}function F(c,f){return f?r&c|(o&c)>>1|(t&c)>>2:(e&c)>>1|(n&c)>>2}function j(c,f){return f?(e&c)>>1|(n&c)>>2:r&c|(o&c)>>1|(t&c)>>2}function k(c,f,l){const u=!((c.length-1)%2),h=c.substring(0,c.length-1),s=a(c.charCodeAt(c.length-1));let i=0,A=0,d=0,M=0;u?(i=8,A=4,d=r&s|(o&s)>>1|(t&s)>>2,M=(e&s)>>1|(n&s)>>2):(i=4,A=8,M=r&s|(o&s)>>1|(t&s)>>2,d=(e&s)>>1|(n&s)>>2);const w=d+f,y=M+l,C=Math.floor(w/i),X=Math.floor(y/A),Y=g(x(w-C*i,y-X*A,u));return c.length>1&&(C||X)?k(h,C,X)+Y:h+Y}


/***/ }),

/***/ "./node_modules/@arcgis/core/layers/graphics/data/StreamFeatureManager.js":
/*!********************************************************************************!*\
  !*** ./node_modules/@arcgis/core/layers/graphics/data/StreamFeatureManager.js ***!
  \********************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "DEFAULT_STREAM_ID_FIELD": () => (/* binding */ s),
/* harmony export */   "ESRI_TIMESTAMP": () => (/* binding */ i),
/* harmony export */   "StreamFeatureManager": () => (/* binding */ o)
/* harmony export */ });
/* harmony import */ var _core_CircularArray_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../core/CircularArray.js */ "./node_modules/@arcgis/core/core/CircularArray.js");
/* harmony import */ var _core_mathUtils_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../core/mathUtils.js */ "./node_modules/@arcgis/core/core/mathUtils.js");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.27/esri/copyright.txt for details.
*/
const s="__esri_stream_id__",i="__esri_timestamp__",r=1e3;class o{constructor(t,e,i,r,o=128){this._trackIdToObservations=new Map,this._idCounter=0,this._lastPurge=performance.now(),this._addOrUpdated=new Map,this._removed=[],this._maxAge=0,this._timeInfo=i,this._purgeOptions=r,this.store=t,this.objectIdField=e,this.purgeInterval=o,this._useGeneratedIds=this.objectIdField===s}removeById(t){this._removed.push(t)}removeByTrackId(t){const e=this._trackIdToObservations.get(t);if(e)for(const s of e.entries)this._removed.push(s)}add(s){if(this._useGeneratedIds){const t=this._nextId();s.attributes[this.objectIdField]=t,s.objectId=t}else s.objectId=s.attributes[this.objectIdField];const i=s.objectId;if(this._addOrUpdated.set(i,s),this._maxAge=Math.max(this._maxAge,s.attributes[this._timeInfo.startTimeField]),!this._timeInfo.trackIdField)return null==this._trackIdLessObservations&&(this._trackIdLessObservations=new _core_CircularArray_js__WEBPACK_IMPORTED_MODULE_0__["default"](1e5)),void this._trackIdLessObservations.enqueue(i);const o=s.attributes[this._timeInfo.trackIdField];if(!this._trackIdToObservations.has(o)){const s=null!=this._purgeOptions&&null!=this._purgeOptions.maxObservations?this._purgeOptions.maxObservations:r,i=(0,_core_mathUtils_js__WEBPACK_IMPORTED_MODULE_1__.clamp)(s,0,r);this._trackIdToObservations.set(o,new _core_CircularArray_js__WEBPACK_IMPORTED_MODULE_0__["default"](i))}const d=this._trackIdToObservations.get(o),a=d?.enqueue(i);null!=a&&(this._addOrUpdated.has(a)?this._addOrUpdated.delete(a):this._removed.push(a))}checkForUpdates(){const t=this._getToAdd(),e=this._getToRemove(),s=performance.now();s-this._lastPurge>=this.purgeInterval&&(this._purge(s),this._lastPurge=s);const r=[];if(null!=e)for(const i of e){const t=this.store.removeById(i);null!=t&&r.push(t)}const o=[];if(null!=t){const r=new Set(e??[]);for(const e of t)r.has(e.objectId)||(e.attributes[i]=s,this.store.add(e),o.push(e))}(o.length||r?.length)&&this.store.update(o,r)}_getToAdd(){if(!this._addOrUpdated.size)return null;const t=new Array(this._addOrUpdated.size);let e=0;return this._addOrUpdated.forEach((s=>t[e++]=s)),this._addOrUpdated.clear(),t}_getToRemove(){const t=this._removed;return this._removed.length?(this._removed=[],t):null}_nextId(){const t=this._idCounter;return this._idCounter=(this._idCounter+1)%4294967294+1,t}_purge(t){const e=this._purgeOptions;null!=e&&(this._purgeSomeByDisplayCount(e),this._purgeByAge(e),this._purgeByAgeReceived(t,e),this._purgeTracks())}_purgeSomeByDisplayCount(t){if(!t.displayCount)return;let e=this.store.size;if(e>t.displayCount){if(this._timeInfo.trackIdField)for(const s of this._trackIdToObservations.values())if(e>t.displayCount&&s.size){const t=s.dequeue();this._removed.push(t),e--}if(null!=this._trackIdLessObservations){let s=e-t.displayCount;for(;s-- >0;){const t=this._trackIdLessObservations.dequeue();null!=t&&this._removed.push(t)}}}}_purgeByAge(t){const e=this._timeInfo?.startTimeField;if(!t.age||!e)return;const s=60*t.age*1e3,i=this._maxAge-s;this.store.forEach((t=>{t.attributes[e]<i&&this._removed.push(t.objectId)}))}_purgeByAgeReceived(t,e){if(!e.ageReceived)return;const s=t-60*e.ageReceived*1e3;this.store.forEach((t=>{t.attributes[i]<s&&this._removed.push(t.objectId)}))}_purgeTracks(){this._trackIdToObservations.forEach(((t,e)=>{0===t.size&&this._trackIdToObservations.delete(e)}))}}


/***/ }),

/***/ "./node_modules/@arcgis/core/layers/support/LOD.js":
/*!*********************************************************!*\
  !*** ./node_modules/@arcgis/core/layers/support/LOD.js ***!
  \*********************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (/* binding */ p)
/* harmony export */ });
/* harmony import */ var _chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../chunks/tslib.es6.js */ "./node_modules/@arcgis/core/chunks/tslib.es6.js");
/* harmony import */ var _core_JSONSupport_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../core/JSONSupport.js */ "./node_modules/@arcgis/core/core/JSONSupport.js");
/* harmony import */ var _core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../core/accessorSupport/decorators/property.js */ "./node_modules/@arcgis/core/core/accessorSupport/decorators/property.js");
/* harmony import */ var _core_accessorSupport_ensureType_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../core/accessorSupport/ensureType.js */ "./node_modules/@arcgis/core/core/accessorSupport/ensureType.js");
/* harmony import */ var _core_arrayUtils_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../core/arrayUtils.js */ "./node_modules/@arcgis/core/core/arrayUtils.js");
/* harmony import */ var _core_has_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../core/has.js */ "./node_modules/@arcgis/core/core/has.js");
/* harmony import */ var _core_accessorSupport_decorators_subclass_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../core/accessorSupport/decorators/subclass.js */ "./node_modules/@arcgis/core/core/accessorSupport/decorators/subclass.js");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.27/esri/copyright.txt for details.
*/
var i;let l=i=class extends _core_JSONSupport_js__WEBPACK_IMPORTED_MODULE_1__.JSONSupport{constructor(e){super(e),this.cols=null,this.level=0,this.levelValue=null,this.origin=null,this.resolution=0,this.rows=null,this.scale=0}clone(){return new i({cols:this.cols,level:this.level,levelValue:this.levelValue,resolution:this.resolution,rows:this.rows,scale:this.scale})}};(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_2__.property)({json:{write:!0,origins:{"web-document":{read:!1,write:!1},"portal-item":{read:!1,write:!1}}}})],l.prototype,"cols",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_2__.property)({type:_core_accessorSupport_ensureType_js__WEBPACK_IMPORTED_MODULE_3__.Integer,json:{write:!0}})],l.prototype,"level",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_2__.property)({type:String,json:{write:!0}})],l.prototype,"levelValue",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_2__.property)({json:{write:!0,origins:{"web-document":{read:!1,write:!1},"portal-item":{read:!1,write:!1}}}})],l.prototype,"origin",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_2__.property)({type:Number,json:{write:!0}})],l.prototype,"resolution",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_2__.property)({json:{write:!0,origins:{"web-document":{read:!1,write:!1},"portal-item":{read:!1,write:!1}}}})],l.prototype,"rows",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_2__.property)({type:Number,json:{write:!0}})],l.prototype,"scale",void 0),l=i=(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_subclass_js__WEBPACK_IMPORTED_MODULE_6__.subclass)("esri.layers.support.LOD")],l);const p=l;


/***/ }),

/***/ "./node_modules/@arcgis/core/layers/support/TileInfo.js":
/*!**************************************************************!*\
  !*** ./node_modules/@arcgis/core/layers/support/TileInfo.js ***!
  \**************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (/* binding */ j)
/* harmony export */ });
/* harmony import */ var _chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../chunks/tslib.es6.js */ "./node_modules/@arcgis/core/chunks/tslib.es6.js");
/* harmony import */ var _core_jsonMap_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../core/jsonMap.js */ "./node_modules/@arcgis/core/core/jsonMap.js");
/* harmony import */ var _core_JSONSupport_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../core/JSONSupport.js */ "./node_modules/@arcgis/core/core/JSONSupport.js");
/* harmony import */ var _core_unitUtils_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../core/unitUtils.js */ "./node_modules/@arcgis/core/core/unitUtils.js");
/* harmony import */ var _core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../core/accessorSupport/decorators/property.js */ "./node_modules/@arcgis/core/core/accessorSupport/decorators/property.js");
/* harmony import */ var _core_accessorSupport_ensureType_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../core/accessorSupport/ensureType.js */ "./node_modules/@arcgis/core/core/accessorSupport/ensureType.js");
/* harmony import */ var _core_arrayUtils_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../core/arrayUtils.js */ "./node_modules/@arcgis/core/core/arrayUtils.js");
/* harmony import */ var _core_has_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../../core/has.js */ "./node_modules/@arcgis/core/core/has.js");
/* harmony import */ var _core_accessorSupport_decorators_reader_js__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../../core/accessorSupport/decorators/reader.js */ "./node_modules/@arcgis/core/core/accessorSupport/decorators/reader.js");
/* harmony import */ var _core_accessorSupport_decorators_subclass_js__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../../core/accessorSupport/decorators/subclass.js */ "./node_modules/@arcgis/core/core/accessorSupport/decorators/subclass.js");
/* harmony import */ var _core_accessorSupport_decorators_writer_js__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ../../core/accessorSupport/decorators/writer.js */ "./node_modules/@arcgis/core/core/accessorSupport/decorators/writer.js");
/* harmony import */ var _geometry_Point_js__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ../../geometry/Point.js */ "./node_modules/@arcgis/core/geometry/Point.js");
/* harmony import */ var _geometry_SpatialReference_js__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ../../geometry/SpatialReference.js */ "./node_modules/@arcgis/core/geometry/SpatialReference.js");
/* harmony import */ var _geometry_support_aaBoundingRect_js__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! ../../geometry/support/aaBoundingRect.js */ "./node_modules/@arcgis/core/geometry/support/aaBoundingRect.js");
/* harmony import */ var _geometry_support_spatialReferenceUtils_js__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! ../../geometry/support/spatialReferenceUtils.js */ "./node_modules/@arcgis/core/geometry/support/spatialReferenceUtils.js");
/* harmony import */ var _geometry_support_webMercatorUtils_js__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! ../../geometry/support/webMercatorUtils.js */ "./node_modules/@arcgis/core/geometry/support/webMercatorUtils.js");
/* harmony import */ var _LOD_js__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(/*! ./LOD.js */ "./node_modules/@arcgis/core/layers/support/LOD.js");
/* harmony import */ var _TileKey_js__WEBPACK_IMPORTED_MODULE_17__ = __webpack_require__(/*! ./TileKey.js */ "./node_modules/@arcgis/core/layers/support/TileKey.js");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.27/esri/copyright.txt for details.
*/
var w;const x=new _core_jsonMap_js__WEBPACK_IMPORTED_MODULE_1__.JSONMap({PNG:"png",PNG8:"png8",PNG24:"png24",PNG32:"png32",JPEG:"jpg",JPG:"jpg",DIB:"dib",TIFF:"tiff",EMF:"emf",PS:"ps",PDF:"pdf",GIF:"gif",SVG:"svg",SVGZ:"svgz",Mixed:"mixed",MIXED:"mixed",LERC:"lerc",LERC2D:"lerc2d",RAW:"raw",pbf:"pbf"});let O=w=class extends _core_JSONSupport_js__WEBPACK_IMPORTED_MODULE_2__.JSONSupport{static create(e={}){const{resolutionFactor:t=1,scales:o,size:s=256,spatialReference:i=_geometry_SpatialReference_js__WEBPACK_IMPORTED_MODULE_12__["default"].WebMercator,numLODs:l=24}=e;if(!(0,_geometry_support_spatialReferenceUtils_js__WEBPACK_IMPORTED_MODULE_14__.isValid)(i)){const e=[];if(o)for(let t=0;t<o.length;t++){const r=o[t];e.push(new _LOD_js__WEBPACK_IMPORTED_MODULE_16__["default"]({level:t,scale:r,resolution:r}))}else{let t=5e-4;for(let o=l-1;o>=0;o--)e.unshift(new _LOD_js__WEBPACK_IMPORTED_MODULE_16__["default"]({level:o,scale:t,resolution:t})),t*=2}return new w({dpi:96,lods:e,origin:new _geometry_Point_js__WEBPACK_IMPORTED_MODULE_11__["default"](0,0,i),size:[s,s],spatialReference:i})}const n=(0,_geometry_support_spatialReferenceUtils_js__WEBPACK_IMPORTED_MODULE_14__.getInfo)(i),a=e.origin?new _geometry_Point_js__WEBPACK_IMPORTED_MODULE_11__["default"]({x:e.origin.x,y:e.origin.y,spatialReference:i}):new _geometry_Point_js__WEBPACK_IMPORTED_MODULE_11__["default"](n?{x:n.origin[0],y:n.origin[1],spatialReference:i}:{x:0,y:0,spatialReference:i}),u=96,d=1/((0,_core_unitUtils_js__WEBPACK_IMPORTED_MODULE_3__.getMetersPerUnitForSR)(i)*39.37*u),g=[];if(o)for(let r=0;r<o.length;r++){const e=o[r],t=e*d;g.push(new _LOD_js__WEBPACK_IMPORTED_MODULE_16__["default"]({level:r,scale:e,resolution:t}))}else{let e=(0,_geometry_support_spatialReferenceUtils_js__WEBPACK_IMPORTED_MODULE_14__.isGeographic)(i)?512/s*591657527.5917094:256/s*591657527.591555;const o=Math.ceil(l/t);g.push(new _LOD_js__WEBPACK_IMPORTED_MODULE_16__["default"]({level:0,scale:e,resolution:e*d}));for(let r=1;r<o;r++){const o=e/2**t,s=o*d;g.push(new _LOD_js__WEBPACK_IMPORTED_MODULE_16__["default"]({level:r,scale:o,resolution:s})),e=o}}return new w({dpi:u,lods:g,origin:a,size:[s,s],spatialReference:i})}constructor(e){super(e),this.dpi=96,this.format=null,this.origin=null,this.size=null,this.spatialReference=null}get isWrappable(){const{spatialReference:e,origin:t}=this;if(e&&t){const o=(0,_geometry_support_spatialReferenceUtils_js__WEBPACK_IMPORTED_MODULE_14__.getInfo)(e);return e.isWrappable&&!!o&&Math.abs(o.origin[0]-t.x)<=o.dx}return!1}readOrigin(e,t){return _geometry_Point_js__WEBPACK_IMPORTED_MODULE_11__["default"].fromJSON({spatialReference:t.spatialReference,...e})}set lods(e){let t=0,o=0;const r=[],s=this._levelToLOD={};e&&(t=-1/0,o=1/0,e.forEach((e=>{r.push(e.scale),t=e.scale>t?e.scale:t,o=e.scale<o?e.scale:o,s[e.level]=e}))),this._set("scales",r),this._set("lods",e),this._initializeUpsampleLevels()}readSize(e,t){return[t.cols,t.rows]}writeSize(e,t){t.cols=e[0],t.rows=e[1]}zoomToScale(e){const t=this.scales;if(e<=0)return t[0];if(e>=t.length-1)return t[t.length-1];const o=Math.floor(e),r=o+1;return t[o]/(t[o]/t[r])**(e-o)}scaleToZoom(e){const t=this.scales,o=t.length-1;let r=0;for(;r<o;r++){const o=t[r],s=t[r+1];if(o<=e)return r;if(s===e)return r+1;if(o>e&&s<e)return r+Math.log(o/e)/Math.log(o/s)}return r}snapScale(e,t=.95){const o=this.scaleToZoom(e);return o%Math.floor(o)>=t?this.zoomToScale(Math.ceil(o)):this.zoomToScale(Math.floor(o))}tileAt(e,t,o,r){const s=this.lodAt(e);if(!s)return null;let i,l;if("number"==typeof t)i=t,l=o;else if((0,_geometry_support_spatialReferenceUtils_js__WEBPACK_IMPORTED_MODULE_14__.equals)(t.spatialReference,this.spatialReference))i=t.x,l=t.y,r=o;else{const e=(0,_geometry_support_webMercatorUtils_js__WEBPACK_IMPORTED_MODULE_15__.project)(t,this.spatialReference);if(null==e)return null;i=e.x,l=e.y,r=o}const n=s.resolution*this.size[0],a=s.resolution*this.size[1];return r||(r=new _TileKey_js__WEBPACK_IMPORTED_MODULE_17__.TileKey(null,0,0,0,(0,_geometry_support_aaBoundingRect_js__WEBPACK_IMPORTED_MODULE_13__.create)())),r.level=e,r.row=Math.floor((this.origin.y-l)/a+.001),r.col=Math.floor((i-this.origin.x)/n+.001),this.updateTileInfo(r),r}updateTileInfo(e,t=w.ExtrapolateOptions.NONE){let o=this.lodAt(e.level);if(!o&&t===w.ExtrapolateOptions.POWER_OF_TWO){const t=this.lods[this.lods.length-1];t.level<e.level&&(o=t)}if(!o)return;const r=e.level-o.level,s=o.resolution*this.size[0]/2**r,i=o.resolution*this.size[1]/2**r;e.id=`${e.level}/${e.row}/${e.col}`,e.extent||(e.extent=(0,_geometry_support_aaBoundingRect_js__WEBPACK_IMPORTED_MODULE_13__.create)()),e.extent[0]=this.origin.x+e.col*s,e.extent[1]=this.origin.y-(e.row+1)*i,e.extent[2]=e.extent[0]+s,e.extent[3]=e.extent[1]+i}upsampleTile(e){const t=this._upsampleLevels[e.level];return!(!t||-1===t.parentLevel)&&(e.level=t.parentLevel,e.row=Math.floor(e.row/t.factor+.001),e.col=Math.floor(e.col/t.factor+.001),this.updateTileInfo(e),!0)}getTileBounds(e,t){const o=this.lodAt(t.level);if(null==o)return null;const{resolution:r}=o,s=r*this.size[0],i=r*this.size[1];return e[0]=this.origin.x+t.col*s,e[1]=this.origin.y-(t.row+1)*i,e[2]=e[0]+s,e[3]=e[1]+i,e}lodAt(e){return this._levelToLOD?.[e]??null}clone(){return w.fromJSON(this.write({}))}getOrCreateCompatible(e,t){if(256===this.size[0]&&256===this.size[1])return 256===e?this:null;const o=[],r=this.lods.length;for(let s=0;s<r;s++){const e=this.lods[s],r=e.resolution*t;o.push(new _LOD_js__WEBPACK_IMPORTED_MODULE_16__["default"]({level:e.level,scale:e.scale,resolution:r}))}return new w({size:[e,e],dpi:this.dpi,format:this.format,compressionQuality:this.compressionQuality,origin:this.origin,spatialReference:this.spatialReference,lods:o})}_initializeUpsampleLevels(){const e=this.lods;this._upsampleLevels=[];let t=null;for(let o=0;o<e.length;o++){const r=e[o];this._upsampleLevels[r.level]={parentLevel:t?t.level:-1,factor:t?t.resolution/r.resolution:0},t=r}}};(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_4__.property)({type:Number,json:{write:!0}})],O.prototype,"compressionQuality",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_4__.property)({type:Number,json:{write:!0}})],O.prototype,"dpi",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_4__.property)({type:String,json:{read:x.read,write:x.write,origins:{"web-scene":{read:!1,write:!1}}}})],O.prototype,"format",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_4__.property)({readOnly:!0})],O.prototype,"isWrappable",null),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_4__.property)({type:_geometry_Point_js__WEBPACK_IMPORTED_MODULE_11__["default"],json:{write:!0}})],O.prototype,"origin",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_reader_js__WEBPACK_IMPORTED_MODULE_8__.reader)("origin")],O.prototype,"readOrigin",null),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_4__.property)({type:[_LOD_js__WEBPACK_IMPORTED_MODULE_16__["default"]],value:null,json:{write:!0}})],O.prototype,"lods",null),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_4__.property)({readOnly:!0})],O.prototype,"scales",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_4__.property)({cast:e=>Array.isArray(e)?e:"number"==typeof e?[e,e]:[256,256]})],O.prototype,"size",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_reader_js__WEBPACK_IMPORTED_MODULE_8__.reader)("size",["rows","cols"])],O.prototype,"readSize",null),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_writer_js__WEBPACK_IMPORTED_MODULE_10__.writer)("size",{cols:{type:_core_accessorSupport_ensureType_js__WEBPACK_IMPORTED_MODULE_5__.Integer},rows:{type:_core_accessorSupport_ensureType_js__WEBPACK_IMPORTED_MODULE_5__.Integer}})],O.prototype,"writeSize",null),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_4__.property)({type:_geometry_SpatialReference_js__WEBPACK_IMPORTED_MODULE_12__["default"],json:{write:!0}})],O.prototype,"spatialReference",void 0),O=w=(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_subclass_js__WEBPACK_IMPORTED_MODULE_9__.subclass)("esri.layers.support.TileInfo")],O),function(e){var t;(t=e.ExtrapolateOptions||(e.ExtrapolateOptions={}))[t.NONE=0]="NONE",t[t.POWER_OF_TWO=1]="POWER_OF_TWO"}(O||(O={}));const j=O;


/***/ }),

/***/ "./node_modules/@arcgis/core/layers/support/TileKey.js":
/*!*************************************************************!*\
  !*** ./node_modules/@arcgis/core/layers/support/TileKey.js ***!
  \*************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "TileKey": () => (/* binding */ t)
/* harmony export */ });
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.27/esri/copyright.txt for details.
*/
class t{constructor(t,s,i,o,e=void 0){this.id=t,this.level=s,this.row=i,this.col=o,this.extent=e}}


/***/ }),

/***/ "./node_modules/@arcgis/core/views/2d/arcade/callExpressionWithCursor.js":
/*!*******************************************************************************!*\
  !*** ./node_modules/@arcgis/core/views/2d/arcade/callExpressionWithCursor.js ***!
  \*******************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (/* binding */ r)
/* harmony export */ });
/* harmony import */ var _core_Logger_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../core/Logger.js */ "./node_modules/@arcgis/core/core/Logger.js");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.27/esri/copyright.txt for details.
*/
function r(r,a,t){if(null==r)return null;const u=a.readArcadeFeature();try{return r.evaluate({...t,$feature:u},r.services)}catch(n){return _core_Logger_js__WEBPACK_IMPORTED_MODULE_0__["default"].getLogger("esri.views.2d.support.arcadeOnDemand").warn("Feature arcade evaluation failed:",n),null}}


/***/ }),

/***/ "./node_modules/@arcgis/core/views/2d/engine/webgl/DisplayId.js":
/*!**********************************************************************!*\
  !*** ./node_modules/@arcgis/core/views/2d/engine/webgl/DisplayId.js ***!
  \**********************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "AGGREGATE_VALID_FILTERS_MASK": () => (/* binding */ r),
/* harmony export */   "DISPLAY_ID_TEXEL_MASK": () => (/* binding */ n),
/* harmony export */   "DISPLAY_ID_TYPE_AGGREGATE": () => (/* binding */ c),
/* harmony export */   "DISPLAY_ID_TYPE_FEATURE": () => (/* binding */ u),
/* harmony export */   "DISPLAY_ID_TYPE_MASK": () => (/* binding */ t),
/* harmony export */   "NONAGGREGATE_VALID_FILTERS_MASK": () => (/* binding */ o),
/* harmony export */   "createDisplayId": () => (/* binding */ s),
/* harmony export */   "getDisplayIdFilterMask": () => (/* binding */ i),
/* harmony export */   "getDisplayIdTexel": () => (/* binding */ f),
/* harmony export */   "getDisplayIdType": () => (/* binding */ e),
/* harmony export */   "isAggregateId": () => (/* binding */ p)
/* harmony export */ });
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.27/esri/copyright.txt for details.
*/
const n=8388607,t=8388608,r=254,o=255,u=0,c=1,e=n=>(n&t)>>>23,f=t=>t&n,i=n=>e(n)===c?r:o;function p(n){return e(n)===c}function s(n,r){return((r?t:0)|n)>>>0}


/***/ }),

/***/ "./node_modules/@arcgis/core/views/2d/engine/webgl/Utils.js":
/*!******************************************************************!*\
  !*** ./node_modules/@arcgis/core/views/2d/engine/webgl/Utils.js ***!
  \******************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "C_VBO_INFO": () => (/* binding */ Y),
/* harmony export */   "allocateTypedArrayBuffer": () => (/* binding */ x),
/* harmony export */   "allocateTypedArrayBufferwithData": () => (/* binding */ P),
/* harmony export */   "charCodes": () => (/* binding */ pe),
/* harmony export */   "copyMeshData": () => (/* binding */ j),
/* harmony export */   "createGeometryData": () => (/* binding */ H),
/* harmony export */   "createProgramDescriptor": () => (/* binding */ ee),
/* harmony export */   "forEachGeometryType": () => (/* binding */ te),
/* harmony export */   "getBytes": () => (/* binding */ q),
/* harmony export */   "getCapType": () => (/* binding */ k),
/* harmony export */   "getJoinType": () => (/* binding */ G),
/* harmony export */   "getNamedBuffers": () => (/* binding */ b),
/* harmony export */   "getPMSResourceSize": () => (/* binding */ de),
/* harmony export */   "getPixelArrayCtor": () => (/* binding */ W),
/* harmony export */   "getPixelBytes": () => (/* binding */ K),
/* harmony export */   "getStrides": () => (/* binding */ R),
/* harmony export */   "getUrl": () => (/* binding */ se),
/* harmony export */   "getVVType": () => (/* binding */ V),
/* harmony export */   "is3D": () => (/* binding */ ue),
/* harmony export */   "isDefined": () => (/* binding */ z),
/* harmony export */   "isGIF": () => (/* binding */ ie),
/* harmony export */   "isGIFDataUri": () => (/* binding */ ae),
/* harmony export */   "isImageResource": () => (/* binding */ re),
/* harmony export */   "isMarkerPlacementInsidePolygon": () => (/* binding */ Ie),
/* harmony export */   "isNumber": () => (/* binding */ $),
/* harmony export */   "isPNG": () => (/* binding */ oe),
/* harmony export */   "isPNGDataUri": () => (/* binding */ ce),
/* harmony export */   "isSVGImage": () => (/* binding */ me),
/* harmony export */   "isSVGResource": () => (/* binding */ ne),
/* harmony export */   "isSimple": () => (/* binding */ le),
/* harmony export */   "isValidSVG": () => (/* binding */ ye),
/* harmony export */   "shouldRepeat": () => (/* binding */ fe),
/* harmony export */   "strideToPackingFactor": () => (/* binding */ F)
/* harmony export */ });
/* harmony import */ var _core_Error_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../../core/Error.js */ "./node_modules/@arcgis/core/core/Error.js");
/* harmony import */ var _core_Logger_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../../core/Logger.js */ "./node_modules/@arcgis/core/core/Logger.js");
/* harmony import */ var _symbols_cim_enums_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../../symbols/cim/enums.js */ "./node_modules/@arcgis/core/symbols/cim/enums.js");
/* harmony import */ var _enums_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./enums.js */ "./node_modules/@arcgis/core/views/2d/engine/webgl/enums.js");
/* harmony import */ var _webgl_enums_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../../webgl/enums.js */ "./node_modules/@arcgis/core/views/webgl/enums.js");
/* harmony import */ var _webgl_VertexElementDescriptor_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../../webgl/VertexElementDescriptor.js */ "./node_modules/@arcgis/core/views/webgl/VertexElementDescriptor.js");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.27/esri/copyright.txt for details.
*/
const m=_core_Logger_js__WEBPACK_IMPORTED_MODULE_1__["default"].getLogger("esri.views.2d.engine.webgl.Utils"),f="geometry",d=[{name:f,strideInBytes:12}],p=[{name:f,strideInBytes:36}],y=[{name:f,strideInBytes:24}],I=[{name:f,strideInBytes:12}],g=[{name:f,strideInBytes:40}],S=[{name:f,strideInBytes:36}],T=[{name:f,strideInBytes:36}];function w(e){const t={};for(const n of e)t[n.name]=n.strideInBytes;return t}const E=w([{name:f,strideInBytes:36}]),h=w(d),L=w(p),N=w(y),D=w(I),A=w(g),M=w(S),U=w(T);function R(e,t){switch(e){case _enums_js__WEBPACK_IMPORTED_MODULE_3__.WGLGeometryType.MARKER:return t===_enums_js__WEBPACK_IMPORTED_MODULE_3__.WGLSymbologyType.HEATMAP?h:E;case _enums_js__WEBPACK_IMPORTED_MODULE_3__.WGLGeometryType.FILL:switch(t){case _enums_js__WEBPACK_IMPORTED_MODULE_3__.WGLSymbologyType.DOT_DENSITY:return D;case _enums_js__WEBPACK_IMPORTED_MODULE_3__.WGLSymbologyType.SIMPLE:case _enums_js__WEBPACK_IMPORTED_MODULE_3__.WGLSymbologyType.OUTLINE_FILL_SIMPLE:return N;default:return L}case _enums_js__WEBPACK_IMPORTED_MODULE_3__.WGLGeometryType.LINE:return A;case _enums_js__WEBPACK_IMPORTED_MODULE_3__.WGLGeometryType.TEXT:return M;case _enums_js__WEBPACK_IMPORTED_MODULE_3__.WGLGeometryType.LABEL:return U}}const _=[f],v=[f],B=[f],O=[f],C=[f];function b(e){switch(e){case _enums_js__WEBPACK_IMPORTED_MODULE_3__.WGLGeometryType.MARKER:return _;case _enums_js__WEBPACK_IMPORTED_MODULE_3__.WGLGeometryType.FILL:return v;case _enums_js__WEBPACK_IMPORTED_MODULE_3__.WGLGeometryType.LINE:return B;case _enums_js__WEBPACK_IMPORTED_MODULE_3__.WGLGeometryType.TEXT:return O;case _enums_js__WEBPACK_IMPORTED_MODULE_3__.WGLGeometryType.LABEL:return C}}function F(e){switch(e%4){case 0:case 2:return 4;case 1:case 3:return 1}}function x(e,t){switch(t%4){case 0:case 2:return new Uint32Array(Math.floor(e*t/4));case 1:case 3:return new Uint8Array(e*t)}}function P(e,t){switch(t%4){case 0:case 2:return new Uint32Array(e);case 1:case 3:return new Uint8Array(e)}}function z(e){return null!=e}function $(e){return"number"==typeof e}function k(t){switch(t){case"butt":return _symbols_cim_enums_js__WEBPACK_IMPORTED_MODULE_2__.CapType.BUTT;case"round":return _symbols_cim_enums_js__WEBPACK_IMPORTED_MODULE_2__.CapType.ROUND;case"square":return _symbols_cim_enums_js__WEBPACK_IMPORTED_MODULE_2__.CapType.SQUARE;default:return m.error(new _core_Error_js__WEBPACK_IMPORTED_MODULE_0__["default"]("mapview-invalid-type",`Cap type ${t} is not a valid option. Defaulting to round`)),_symbols_cim_enums_js__WEBPACK_IMPORTED_MODULE_2__.CapType.ROUND}}function G(t){switch(t){case"miter":return _symbols_cim_enums_js__WEBPACK_IMPORTED_MODULE_2__.JoinType.MITER;case"bevel":return _symbols_cim_enums_js__WEBPACK_IMPORTED_MODULE_2__.JoinType.BEVEL;case"round":return _symbols_cim_enums_js__WEBPACK_IMPORTED_MODULE_2__.JoinType.ROUND;default:return m.error(new _core_Error_js__WEBPACK_IMPORTED_MODULE_0__["default"]("mapview-invalid-type",`Join type ${t} is not a valid option. Defaulting to round`)),_symbols_cim_enums_js__WEBPACK_IMPORTED_MODULE_2__.JoinType.ROUND}}function V(e){switch(e){case"opacity":return _enums_js__WEBPACK_IMPORTED_MODULE_3__.VVType.OPACITY;case"color":return _enums_js__WEBPACK_IMPORTED_MODULE_3__.VVType.COLOR;case"rotation":return _enums_js__WEBPACK_IMPORTED_MODULE_3__.VVType.ROTATION;case"size":return _enums_js__WEBPACK_IMPORTED_MODULE_3__.VVType.SIZE;default:return m.error(`Cannot interpret unknown vv: ${e}`),null}}function j(e,t,n,r,s,a,i){for(const c in a){const t=a[c].stride,r=F(t),i=a[c].data,o=n[c].data;if(null==i||null==o)continue;const u=t*s.vertexCount/r,l=t*e/r,m=t*s.vertexFrom/r;for(let e=0;e<u;++e)o[e+l]=i[e+m]}if(null!=i&&null!=r){const n=s.indexCount;for(let a=0;a<n;++a)r[a+t]=i[a+s.indexFrom]-s.vertexFrom+e}}const Y={[f]:_webgl_enums_js__WEBPACK_IMPORTED_MODULE_4__.Usage.STATIC_DRAW};function H(e,t){const n=[];for(let r=0;r<5;++r){const s=b(r),a={};for(const e of s)a[e]={data:t(r,e)};n.push({data:e(r),buffers:a})}return n}function q(e){switch(e){case _webgl_enums_js__WEBPACK_IMPORTED_MODULE_4__.DataType.BYTE:case _webgl_enums_js__WEBPACK_IMPORTED_MODULE_4__.DataType.UNSIGNED_BYTE:return 1;case _webgl_enums_js__WEBPACK_IMPORTED_MODULE_4__.DataType.SHORT:case _webgl_enums_js__WEBPACK_IMPORTED_MODULE_4__.DataType.UNSIGNED_SHORT:return 2;case _webgl_enums_js__WEBPACK_IMPORTED_MODULE_4__.DataType.FLOAT:case _webgl_enums_js__WEBPACK_IMPORTED_MODULE_4__.DataType.INT:case _webgl_enums_js__WEBPACK_IMPORTED_MODULE_4__.DataType.UNSIGNED_INT:return 4}}function K(t){switch(t){case _webgl_enums_js__WEBPACK_IMPORTED_MODULE_4__.PixelType.UNSIGNED_BYTE:return 1;case _webgl_enums_js__WEBPACK_IMPORTED_MODULE_4__.PixelType.UNSIGNED_SHORT_4_4_4_4:return 2;case _webgl_enums_js__WEBPACK_IMPORTED_MODULE_4__.PixelType.FLOAT:return 4;default:return void m.error(new _core_Error_js__WEBPACK_IMPORTED_MODULE_0__["default"]("webgl-utils",`Unable to handle type ${t}`))}}function W(t){switch(t){case _webgl_enums_js__WEBPACK_IMPORTED_MODULE_4__.PixelType.UNSIGNED_BYTE:return Uint8Array;case _webgl_enums_js__WEBPACK_IMPORTED_MODULE_4__.PixelType.UNSIGNED_SHORT_4_4_4_4:return Uint16Array;case _webgl_enums_js__WEBPACK_IMPORTED_MODULE_4__.PixelType.FLOAT:return Float32Array;default:return void m.error(new _core_Error_js__WEBPACK_IMPORTED_MODULE_0__["default"]("webgl-utils",`Unable to handle type ${t}`))}}function X(e){const t={};for(const n in e){const r=e[n];let s=0;t[n]=r.map((e=>{const t=new _webgl_VertexElementDescriptor_js__WEBPACK_IMPORTED_MODULE_5__.VertexElementDescriptor(e.name,e.count,e.type,s,0,e.normalized||!1);return s+=e.count*q(e.type),t})),t[n]?.forEach((e=>e.stride=s))}return t}const J=e=>{const t=new Map;for(const n in e)for(const r of e[n])t.set(r.name,r.location);return t},Q=e=>{const t={};for(const n in e){const r=e[n];t[n]=r?.length?r[0].stride:0}return t},Z=new Map,ee=(e,t)=>{if(!Z.has(e)){const n=X(t),r={strides:Q(n),bufferLayouts:n,attributes:J(t)};Z.set(e,r)}return Z.get(e)};function te(e){e(_enums_js__WEBPACK_IMPORTED_MODULE_3__.WGLGeometryType.FILL),e(_enums_js__WEBPACK_IMPORTED_MODULE_3__.WGLGeometryType.LINE),e(_enums_js__WEBPACK_IMPORTED_MODULE_3__.WGLGeometryType.MARKER),e(_enums_js__WEBPACK_IMPORTED_MODULE_3__.WGLGeometryType.TEXT),e(_enums_js__WEBPACK_IMPORTED_MODULE_3__.WGLGeometryType.LABEL)}const ne=e=>"path"in e&&ye(e.path),re=e=>"url"in e&&e.url||"imageData"in e&&e.imageData,se=e=>"imageData"in e&&e.imageData&&"contentType"in e&&e.contentType?`data:${e.contentType};base64,${e.imageData}`:"url"in e?e.url:null,ae=e=>null!=e&&e.startsWith("data:image/gif"),ie=e=>"url"in e&&e.url&&(e.url.includes(".gif")||ae(e.url))||"contentType"in e&&"image/gif"===e.contentType||"imageData"in e&&ae(e.imageData),ce=e=>null!=e&&e.startsWith("data:image/png"),oe=e=>"url"in e&&e.url&&(e.url.includes(".png")||ce(e.url))||"contentType"in e&&"image/png"===e.contentType||"imageData"in e&&ce(e.imageData),ue=e=>e.type&&e.type.toLowerCase().includes("3d");function le(e){switch(e.type){case"line":{const t=e;return"CIMSolidStroke"===t.cim.type&&!t.dashTemplate}case"fill":return"CIMSolidFill"===e.cim.type;case"esriSFS":return"esriSFSSolid"===e.style||"esriSFSNull"===e.style;case"esriSLS":return"esriSLSSolid"===e.style||"esriSLSNull"===e.style;default:return!1}}const me=e=>e.includes("data:image/svg+xml");function fe(e){switch("cim"in e?e.cim.type:e.type){case"esriSMS":case"esriPMS":case"CIMPointSymbol":return!1;case"CIMVectorMarker":case"CIMCharacterMarker":case"CIMPictureMarker":return Ie(e);default:return!0}}function de(e){const t="maxVVSize"in e&&e.maxVVSize,n="width"in e&&e.width||"size"in e&&e.size||0;return t||n}function pe(e){const t=[];for(let n=0;n<e.length;n++)t.push(e.charCodeAt(n));return t}const ye=e=>!!e&&(e=e.trim(),!!(/^[mzlhvcsqta]\s*[-+.0-9][^mlhvzcsqta]+/i.test(e)&&/[\dz]$/i.test(e)&&e.length>4)),Ie=e=>"fill"===e.type&&"CIMMarkerPlacementInsidePolygon"===e?.cim?.markerPlacement?.type;


/***/ }),

/***/ "./node_modules/@arcgis/core/views/2d/engine/webgl/color.js":
/*!******************************************************************!*\
  !*** ./node_modules/@arcgis/core/views/2d/engine/webgl/color.js ***!
  \******************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "premultiplyAlpha": () => (/* binding */ r),
/* harmony export */   "premultiplyAlphaRGBA": () => (/* binding */ t),
/* harmony export */   "premultiplyAlphaRGBAArray": () => (/* binding */ o),
/* harmony export */   "writeColor": () => (/* binding */ u)
/* harmony export */ });
/* harmony import */ var _number_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./number.js */ "./node_modules/@arcgis/core/views/2d/engine/webgl/number.js");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.27/esri/copyright.txt for details.
*/
function r(n,r=0,t=!1){const o=n[r+3];return n[r]*=o,n[r+1]*=o,n[r+2]*=o,t||(n[r+3]*=255),n}function t(r){if(!r)return 0;const{r:t,g:o,b:u,a:i}=r;return (0,_number_js__WEBPACK_IMPORTED_MODULE_0__.i8888to32)(t*i,o*i,u*i,255*i)}function o(r){if(!r)return 0;const[t,o,u,i]=r;return (0,_number_js__WEBPACK_IMPORTED_MODULE_0__.i8888to32)(t*(i/255),o*(i/255),u*(i/255),i)}function u(n,r,t=0){if(null==r)return n[t]=0,n[t+1]=0,n[t+2]=0,void(n[t+3]=0);const{r:o,g:u,b:i,a:c}=r;n[t]=o*c/255,n[t+1]=u*c/255,n[t+2]=i*c/255,n[t+3]=c}


/***/ }),

/***/ "./node_modules/@arcgis/core/views/2d/engine/webgl/enums.js":
/*!******************************************************************!*\
  !*** ./node_modules/@arcgis/core/views/2d/engine/webgl/enums.js ***!
  \******************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "MosaicType": () => (/* binding */ _),
/* harmony export */   "VVType": () => (/* binding */ I),
/* harmony export */   "WGLDrawPhase": () => (/* binding */ T),
/* harmony export */   "WGLGeometryType": () => (/* binding */ E),
/* harmony export */   "WGLSymbologyType": () => (/* binding */ S),
/* harmony export */   "WGLVVFlag": () => (/* binding */ L),
/* harmony export */   "WGLVVTarget": () => (/* binding */ A)
/* harmony export */ });
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.27/esri/copyright.txt for details.
*/
var E,T,I,L,A,_,S;!function(E){E[E.FILL=0]="FILL",E[E.LINE=1]="LINE",E[E.MARKER=2]="MARKER",E[E.TEXT=3]="TEXT",E[E.LABEL=4]="LABEL"}(E||(E={})),function(E){E[E.NONE=0]="NONE",E[E.MAP=1]="MAP",E[E.LABEL=2]="LABEL",E[E.LABEL_ALPHA=4]="LABEL_ALPHA",E[E.HITTEST=8]="HITTEST",E[E.HIGHLIGHT=16]="HIGHLIGHT",E[E.CLIP=32]="CLIP",E[E.DEBUG=64]="DEBUG",E[E.NUM_DRAW_PHASES=9]="NUM_DRAW_PHASES"}(T||(T={})),function(E){E[E.SIZE=0]="SIZE",E[E.COLOR=1]="COLOR",E[E.OPACITY=2]="OPACITY",E[E.ROTATION=3]="ROTATION"}(I||(I={})),function(E){E[E.NONE=0]="NONE",E[E.OPACITY=1]="OPACITY",E[E.COLOR=2]="COLOR",E[E.ROTATION=4]="ROTATION",E[E.SIZE_MINMAX_VALUE=8]="SIZE_MINMAX_VALUE",E[E.SIZE_SCALE_STOPS=16]="SIZE_SCALE_STOPS",E[E.SIZE_FIELD_STOPS=32]="SIZE_FIELD_STOPS",E[E.SIZE_UNIT_VALUE=64]="SIZE_UNIT_VALUE"}(L||(L={})),function(E){E[E.MINMAX_TARGETS_OUTLINE=128]="MINMAX_TARGETS_OUTLINE",E[E.SCALE_TARGETS_OUTLINE=256]="SCALE_TARGETS_OUTLINE",E[E.FIELD_TARGETS_OUTLINE=512]="FIELD_TARGETS_OUTLINE",E[E.UNIT_TARGETS_OUTLINE=1024]="UNIT_TARGETS_OUTLINE"}(A||(A={})),function(E){E[E.SPRITE=0]="SPRITE",E[E.GLYPH=1]="GLYPH"}(_||(_={})),function(E){E[E.DEFAULT=0]="DEFAULT",E[E.SIMPLE=1]="SIMPLE",E[E.DOT_DENSITY=2]="DOT_DENSITY",E[E.OUTLINE_FILL=3]="OUTLINE_FILL",E[E.OUTLINE_FILL_SIMPLE=4]="OUTLINE_FILL_SIMPLE",E[E.HEATMAP=5]="HEATMAP",E[E.PIE_CHART=6]="PIE_CHART"}(S||(S={}));


/***/ }),

/***/ "./node_modules/@arcgis/core/views/2d/engine/webgl/number.js":
/*!*******************************************************************!*\
  !*** ./node_modules/@arcgis/core/views/2d/engine/webgl/number.js ***!
  \*******************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "i16": () => (/* binding */ e),
/* harmony export */   "i1616to32": () => (/* binding */ w),
/* harmony export */   "i32": () => (/* binding */ o),
/* harmony export */   "i8": () => (/* binding */ u),
/* harmony export */   "i8816to32": () => (/* binding */ y),
/* harmony export */   "i8888to32": () => (/* binding */ x),
/* harmony export */   "numTo32": () => (/* binding */ A),
/* harmony export */   "toFloat32": () => (/* binding */ h),
/* harmony export */   "toUint32": () => (/* binding */ a),
/* harmony export */   "u16": () => (/* binding */ i),
/* harmony export */   "u32": () => (/* binding */ c),
/* harmony export */   "u32to4Xu8": () => (/* binding */ M),
/* harmony export */   "u4u4to8": () => (/* binding */ m),
/* harmony export */   "u8": () => (/* binding */ f)
/* harmony export */ });
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.27/esri/copyright.txt for details.
*/
const n=new Float32Array(1),r=new Uint32Array(n.buffer);function t(n,r,t){return Math.round(Math.max(Math.min(n,t),r))}function u(n){return t(n,-128,127)}function e(n){return t(n,-32768,32767)}function o(n){return t(n,-2147483648,2147483647)}function f(n){return t(n,0,255)}function i(n){return t(n,0,65535)}function c(n){return t(n,0,4294967295)}function a(t){return n[0]=t,r[0]}function h(t){return r[0]=t,n[0]}function M(n){return[255&n,(65280&n)>>>8,(16711680&n)>>>16,(4278190080&n)>>>24]}function m(n,r){return 15&n|(15&r)<<4}function w(n,r){return 65535&n|r<<16}function x(n,r,t,u){return 255&n|(255&r)<<8|(255&t)<<16|u<<24}function y(n,r,t){return 255&n|(255&r)<<8|t<<16}function A(n){return 0|n}


/***/ }),

/***/ "./node_modules/@arcgis/core/views/2d/engine/webgl/util/debug.js":
/*!***********************************************************************!*\
  !*** ./node_modules/@arcgis/core/views/2d/engine/webgl/util/debug.js ***!
  \***********************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "DEBUG_ATTR_UPDATES": () => (/* binding */ l),
/* harmony export */   "createDebugLogger": () => (/* binding */ n)
/* harmony export */ });
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.27/esri/copyright.txt for details.
*/
const n=(n,l)=>n&&((...n)=>l.warn("DEBUG:",...n))||(()=>null),l=!1;


/***/ }),

/***/ "./node_modules/@arcgis/core/views/2d/engine/webgl/visualVariablesUtils.js":
/*!*********************************************************************************!*\
  !*** ./node_modules/@arcgis/core/views/2d/engine/webgl/visualVariablesUtils.js ***!
  \*********************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "getTypeOfSizeVisualVariable": () => (/* binding */ l)
/* harmony export */ });
/* harmony import */ var _core_Error_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../../core/Error.js */ "./node_modules/@arcgis/core/core/Error.js");
/* harmony import */ var _core_Logger_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../../core/Logger.js */ "./node_modules/@arcgis/core/core/Logger.js");
/* harmony import */ var _enums_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./enums.js */ "./node_modules/@arcgis/core/views/2d/engine/webgl/enums.js");
/* harmony import */ var _Utils_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./Utils.js */ "./node_modules/@arcgis/core/views/2d/engine/webgl/Utils.js");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.27/esri/copyright.txt for details.
*/
function l(l){return (0,_Utils_js__WEBPACK_IMPORTED_MODULE_3__.isNumber)(l.minDataValue)&&(0,_Utils_js__WEBPACK_IMPORTED_MODULE_3__.isNumber)(l.maxDataValue)&&null!=l.minSize&&null!=l.maxSize?_enums_js__WEBPACK_IMPORTED_MODULE_2__.WGLVVFlag.SIZE_MINMAX_VALUE:(l.expression&&"view.scale"===l.expression||l.valueExpression&&"$view.scale"===l.valueExpression)&&Array.isArray(l.stops)?_enums_js__WEBPACK_IMPORTED_MODULE_2__.WGLVVFlag.SIZE_SCALE_STOPS:(null!=l.field||l.expression&&"view.scale"!==l.expression||l.valueExpression&&"$view.scale"!==l.valueExpression)&&(Array.isArray(l.stops)||"levels"in l&&l.levels)?_enums_js__WEBPACK_IMPORTED_MODULE_2__.WGLVVFlag.SIZE_FIELD_STOPS:(null!=l.field||l.expression&&"view.scale"!==l.expression||l.valueExpression&&"$view.scale"!==l.valueExpression)&&null!=l.valueUnit?_enums_js__WEBPACK_IMPORTED_MODULE_2__.WGLVVFlag.SIZE_UNIT_VALUE:(_core_Logger_js__WEBPACK_IMPORTED_MODULE_1__["default"].getLogger("esri.views.2d.engine.webgl").error(new _core_Error_js__WEBPACK_IMPORTED_MODULE_0__["default"]("mapview-bad-type","Found invalid size VisualVariable",l)),_enums_js__WEBPACK_IMPORTED_MODULE_2__.WGLVVFlag.NONE)}


/***/ }),

/***/ "./node_modules/@arcgis/core/views/2d/layers/features/FeatureStore2D.js":
/*!******************************************************************************!*\
  !*** ./node_modules/@arcgis/core/views/2d/layers/features/FeatureStore2D.js ***!
  \******************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "FeatureStore2D": () => (/* binding */ u),
/* harmony export */   "featureAdapter": () => (/* binding */ I)
/* harmony export */ });
/* harmony import */ var _core_CircularArray_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../../core/CircularArray.js */ "./node_modules/@arcgis/core/core/CircularArray.js");
/* harmony import */ var _core_Evented_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../../core/Evented.js */ "./node_modules/@arcgis/core/core/Evented.js");
/* harmony import */ var _core_has_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../../core/has.js */ "./node_modules/@arcgis/core/core/has.js");
/* harmony import */ var _chunks_rbush_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../../../chunks/rbush.js */ "./node_modules/@arcgis/core/chunks/rbush.js");
/* harmony import */ var _geometry_support_aaBoundingBox_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../../../geometry/support/aaBoundingBox.js */ "./node_modules/@arcgis/core/geometry/support/aaBoundingBox.js");
/* harmony import */ var _Store2D_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./Store2D.js */ "./node_modules/@arcgis/core/views/2d/layers/features/Store2D.js");
/* harmony import */ var _support_FeatureSetReaderPBFIndirect_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./support/FeatureSetReaderPBFIndirect.js */ "./node_modules/@arcgis/core/views/2d/layers/features/support/FeatureSetReaderPBFIndirect.js");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.27/esri/copyright.txt for details.
*/
const o=(0,_geometry_support_aaBoundingBox_js__WEBPACK_IMPORTED_MODULE_4__.create)();function d(t,e){return t<<16|e}function h(t){return(4294901760&t)>>>16}function c(t){return 65535&t}const I={getObjectId:t=>t.getObjectId(),getAttributes:t=>t.readAttributes(),getAttribute:(t,e)=>t.readAttribute(e),cloneWithGeometry:(t,e)=>t,getGeometry:t=>t.readHydratedGeometry(),getCentroid:(t,e)=>t.readCentroid()};class u extends _Store2D_js__WEBPACK_IMPORTED_MODULE_5__.Store2D{constructor(a,r,n){super(a,r),this.featureAdapter=I,this.events=new _core_Evented_js__WEBPACK_IMPORTED_MODULE_1__["default"],this._featureSetsByInstance=new Map,this._objectIdToDisplayId=new Map,this._spatialIndexInvalid=!0,this._indexSearchCache=new _core_CircularArray_js__WEBPACK_IMPORTED_MODULE_0__["default"](50),this._index=(0,_chunks_rbush_js__WEBPACK_IMPORTED_MODULE_3__.r)(9,(t=>({minX:this._storage.getXMin(t),minY:this._storage.getYMin(t),maxX:this._storage.getXMax(t),maxY:this._storage.getYMax(t)}))),this.mode=n}get storeStatistics(){let t=0,e=0,s=0;return this.forEach((a=>{const r=a.readGeometry();r&&(e+=r.isPoint?1:r.lengths.reduce(((t,e)=>t+e),0),s+=r.isPoint?1:r.lengths.length,t+=1)})),{featureCount:t,vertexCount:e,ringCount:s}}hasInstance(t){return this._featureSetsByInstance.has(t)}onTileData(t,e){if(null==e.addOrUpdate)return e;if(e.addOrUpdate.attachStorage(this._storage),"snapshot"===this.mode){const s=e.addOrUpdate.getCursor();for(;s.next();){const e=s.getDisplayId();this.setComputedAttributes(this._storage,s,e,t.scale)}return e}this._featureSetsByInstance.set(e.addOrUpdate.instance,e.addOrUpdate);const s=e.addOrUpdate.getCursor();for(;s.next();)this._insertFeature(s,t.scale);return this._spatialIndexInvalid=!0,this.events.emit("changed"),e}search(t){this._rebuildIndex();const e=t.id,s=this._indexSearchCache.find((t=>t.tileId===e));if(null!=s)return s.readers;const a=new Map,r=this._searchIndex(t.bounds),n=[];for(const i of r){const t=this._storage.getInstanceId(i),e=h(t),s=c(t);a.has(e)||a.set(e,[]);a.get(e).push(s)}return a.forEach(((t,e)=>{const s=this._featureSetsByInstance.get(e);n.push(_support_FeatureSetReaderPBFIndirect_js__WEBPACK_IMPORTED_MODULE_6__.FeatureSetReaderIndirect.from(s,t))})),this._indexSearchCache.enqueue({tileId:e,readers:n}),n}insert(t){const e=t.getCursor(),s=this._storage;for(;e.next();){const t=d(e.instance,e.getIndex()),a=e.getObjectId(),r=this._objectIdToDisplayId.get(a)??this._storage.createDisplayId();e.setDisplayId(r),s.setInstanceId(r,t),this._objectIdToDisplayId.set(a,r)}this._featureSetsByInstance.set(t.instance,t),this._spatialIndexInvalid=!0}remove(t){const e=this._objectIdToDisplayId.get(t);if(!e)return;const s=this._storage.getInstanceId(e),a=c(s),r=h(s),n=this._featureSetsByInstance.get(r);this._objectIdToDisplayId.delete(t),this._storage.releaseDisplayId(e),n.removeAtIndex(a),n.isEmpty&&this._featureSetsByInstance.delete(r),this._spatialIndexInvalid=!0}forEach(t){this._objectIdToDisplayId.forEach((e=>{const s=this._storage.getInstanceId(e),a=this._lookupFeature(s);t(a)}))}forEachUnsafe(t){this._objectIdToDisplayId.forEach((e=>{const s=this._storage.getInstanceId(e),a=h(s),r=c(s),n=this._getFeatureSet(a);n.setIndex(r),t(n)}))}forEachInBounds(t,e){const s=this._searchIndex(t);for(const a of s){e(this.lookupFeatureByDisplayId(a,this._storage))}}forEachBounds(t,e){this._rebuildIndex();for(const s of t){if(!s.readGeometry())continue;const t=s.getDisplayId();(0,_geometry_support_aaBoundingBox_js__WEBPACK_IMPORTED_MODULE_4__.fromRectValues)(o,this._storage.getXMin(t),this._storage.getYMin(t),this._storage.getXMax(t),this._storage.getYMax(t)),e(o)}}sweepFeatures(t,e,s){this._spatialIndexInvalid=!0,this._objectIdToDisplayId.forEach(((a,r)=>{t.has(a)||(e.releaseDisplayId(a),s&&s.unsetAttributeData(a),this._objectIdToDisplayId.delete(r))})),this.events.emit("changed")}sweepFeatureSets(t){this._spatialIndexInvalid=!0,this._featureSetsByInstance.forEach(((e,s)=>{t.has(s)||this._featureSetsByInstance.delete(s)}))}lookupObjectId(t,e){const s=this.lookupFeatureByDisplayId(t,e);return null==s?null:s.getObjectId()}lookupDisplayId(t){return this._objectIdToDisplayId.get(t)}lookupFeatureByDisplayId(t,e){const s=e.getInstanceId(t);return this._lookupFeature(s)}lookupByDisplayIdUnsafe(t){const e=this._storage.getInstanceId(t),s=h(e),a=c(e),r=this._getFeatureSet(s);return r?(r.setIndex(a),r):null}_insertFeature(t,e){const s=this._storage,a=t.getObjectId(),r=d(t.instance,t.getIndex());s.getInstanceId(t.getDisplayId());let n=this._objectIdToDisplayId.get(a);n||(n=s.createDisplayId(),this._objectIdToDisplayId.set(a,n),this._spatialIndexInvalid=!0),t.setDisplayId(n),s.setInstanceId(n,r),this.setComputedAttributes(s,t,n,e)}_searchIndex(t){this._rebuildIndex();const e={minX:t[0],minY:t[1],maxX:t[2],maxY:t[3]};return this._index.search(e)}_rebuildIndex(){if(!this._spatialIndexInvalid)return;const t=[];"snapshot"===this.mode?this._featureSetsByInstance.forEach((e=>{const s=e.getCursor();for(;s.next();){const e=s.getDisplayId();this._storage.setBounds(e,s)&&t.push(e)}})):this._objectIdToDisplayId.forEach((e=>{const s=this._storage.getInstanceId(e);this._storage.setBounds(e,this._lookupFeature(s))&&t.push(e)})),this._index.clear(),this._index.load(t),this._indexSearchCache.clear(),this._spatialIndexInvalid=!1}_lookupFeature(t){const e=h(t),s=this._getFeatureSet(e);if(!s)return;const a=s.getCursor(),r=c(t);return a.setIndex(r),a}_getFeatureSet(t){return this._featureSetsByInstance.get(t)}}


/***/ }),

/***/ "./node_modules/@arcgis/core/views/2d/layers/features/Pipeline.js":
/*!************************************************************************!*\
  !*** ./node_modules/@arcgis/core/views/2d/layers/features/Pipeline.js ***!
  \************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (/* binding */ u)
/* harmony export */ });
/* harmony import */ var _chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../../chunks/tslib.es6.js */ "./node_modules/@arcgis/core/chunks/tslib.es6.js");
/* harmony import */ var _core_HandleOwner_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../../core/HandleOwner.js */ "./node_modules/@arcgis/core/core/HandleOwner.js");
/* harmony import */ var _core_has_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../../core/has.js */ "./node_modules/@arcgis/core/core/has.js");
/* harmony import */ var _core_reactiveUtils_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../../../core/reactiveUtils.js */ "./node_modules/@arcgis/core/core/reactiveUtils.js");
/* harmony import */ var _core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../../../core/accessorSupport/decorators/property.js */ "./node_modules/@arcgis/core/core/accessorSupport/decorators/property.js");
/* harmony import */ var _core_accessorSupport_ensureType_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../../../core/accessorSupport/ensureType.js */ "./node_modules/@arcgis/core/core/accessorSupport/ensureType.js");
/* harmony import */ var _core_arrayUtils_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../../../core/arrayUtils.js */ "./node_modules/@arcgis/core/core/arrayUtils.js");
/* harmony import */ var _core_accessorSupport_decorators_subclass_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../../../../core/accessorSupport/decorators/subclass.js */ "./node_modules/@arcgis/core/core/accessorSupport/decorators/subclass.js");
/* harmony import */ var _geometry_support_spatialReferenceUtils_js__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../../../../geometry/support/spatialReferenceUtils.js */ "./node_modules/@arcgis/core/geometry/support/spatialReferenceUtils.js");
/* harmony import */ var _layers_support_TileInfo_js__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../../../../layers/support/TileInfo.js */ "./node_modules/@arcgis/core/layers/support/TileInfo.js");
/* harmony import */ var _processors_js__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ./processors.js */ "./node_modules/@arcgis/core/views/2d/layers/features/processors.js");
/* harmony import */ var _controllers_FeatureController2D_js__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ./controllers/FeatureController2D.js */ "./node_modules/@arcgis/core/views/2d/layers/features/controllers/FeatureController2D.js");
/* harmony import */ var _support_TileStore_js__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ./support/TileStore.js */ "./node_modules/@arcgis/core/views/2d/layers/features/support/TileStore.js");
/* harmony import */ var _support_UpdateToken_js__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! ./support/UpdateToken.js */ "./node_modules/@arcgis/core/views/2d/layers/features/support/UpdateToken.js");
/* harmony import */ var _tiling_TileInfoView_js__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! ../../tiling/TileInfoView.js */ "./node_modules/@arcgis/core/views/2d/tiling/TileInfoView.js");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.27/esri/copyright.txt for details.
*/
let d=class extends _core_HandleOwner_js__WEBPACK_IMPORTED_MODULE_1__.HandleOwner{constructor(){super(...arguments),this.controller=null,this.processor=null,this.remoteClient=null,this.tileStore=null,this.service=null,this.viewState=null,this._paused=!1,this._pendingTileUpdates=[]}initialize(){this.handles.add((0,_core_reactiveUtils_js__WEBPACK_IMPORTED_MODULE_3__.watch)((()=>this.updating),(e=>{this.remoteClient.invoke("setUpdating",e).catch((e=>{}))})))}destroy(){this.stop(),this.controller?.destroy(),this.processor?.destroy(),this.controller=this.processor=this.tileStore=this.remoteClient=null}get updating(){return!this.controller||this.controller.updating}stop(){this._paused=!0,Array.isArray(this.service?.source)&&(this.service.source.forEach((e=>e.close())),this.service.source.length=0),this.tileStore?.updateTiles({added:[],removed:this.tileStore.tiles.map((e=>e.id))}),this.tileStore?.destroy(),this.tileStore=null,this._pendingTileUpdates.length=0}async startup({service:e,config:t,tileInfo:r,tiles:s}){if(this._paused=!0,Array.isArray(this.service?.source)&&(this.service.source.forEach((e=>e.close())),this.service.source.length=0),this.service=e,!this.tileStore||!(0,_geometry_support_spatialReferenceUtils_js__WEBPACK_IMPORTED_MODULE_8__.equals)(this.tileStore.tileScheme.spatialReference,r.spatialReference)){const e=new _tiling_TileInfoView_js__WEBPACK_IMPORTED_MODULE_14__["default"](_layers_support_TileInfo_js__WEBPACK_IMPORTED_MODULE_9__["default"].fromJSON(r));s.added.length=s.removed.length=0,this.tileStore?.updateTiles({added:[],removed:this.tileStore.tiles.map((e=>e.id))}),this.tileStore?.destroy(),this.tileStore=new _support_TileStore_js__WEBPACK_IMPORTED_MODULE_12__["default"](e),this._pendingTileUpdates.length=0}for(await this._createProcessorAndController(t),await this.update({config:t}),this.controller.resume(),this.tileStore.clear(),this.tileStore.updateTiles(s),this._paused=!1;this._pendingTileUpdates.length;)this.tileStore.updateTiles(this._pendingTileUpdates.pop())}async updateTiles(e){this._paused?this._pendingTileUpdates.push(e):this.tileStore?.updateTiles(e)}async update({config:e}){const t=_support_UpdateToken_js__WEBPACK_IMPORTED_MODULE_13__.UpdateToken.empty();return await Promise.all([this.processor.update(t,e),this.controller.update(t,e)]),t.toJSON()}async applyUpdate(e){return this.controller.applyUpdate(_support_UpdateToken_js__WEBPACK_IMPORTED_MODULE_13__.UpdateToken.create(e))}async _createProcessorAndController(e){await Promise.all([this._handleControllerConfig(e),this._handleProcessorConfig(e)]),this.controller.processor=this.processor}async _handleControllerConfig(e){return this._createController(this.service,e)}async _handleProcessorConfig(e){return this._createProcessor(this.service,e)}async _createController(e,t){this.controller&&this.controller.destroy();const{tileStore:r,remoteClient:s}=this,o=new _controllers_FeatureController2D_js__WEBPACK_IMPORTED_MODULE_11__["default"]({service:e,tileStore:r,remoteClient:s});return this.controller=o,o}async _createProcessor(e,t){const r=t.schema.processors[0].type,s=(await (0,_processors_js__WEBPACK_IMPORTED_MODULE_10__.loadProcessorModule)(r)).default,{remoteClient:o,tileStore:i}=this,l=new s({service:e,config:t,tileStore:i,remoteClient:o});return this.processor&&this.processor.destroy(),this.processor=l,l}};(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_4__.property)()],d.prototype,"controller",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_4__.property)()],d.prototype,"processor",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_4__.property)()],d.prototype,"updating",null),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_4__.property)()],d.prototype,"viewState",void 0),d=(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_subclass_js__WEBPACK_IMPORTED_MODULE_7__.subclass)("esri.views.2d.layers.features.Pipeline")],d);const u=d;


/***/ }),

/***/ "./node_modules/@arcgis/core/views/2d/layers/features/Store2D.js":
/*!***********************************************************************!*\
  !*** ./node_modules/@arcgis/core/views/2d/layers/features/Store2D.js ***!
  \***********************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "Store2D": () => (/* binding */ a)
/* harmony export */ });
/* harmony import */ var _core_has_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../../core/has.js */ "./node_modules/@arcgis/core/core/has.js");
/* harmony import */ var _core_accessorSupport_diffUtils_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../../core/accessorSupport/diffUtils.js */ "./node_modules/@arcgis/core/core/accessorSupport/diffUtils.js");
/* harmony import */ var _support_arcadeOnDemand_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../../support/arcadeOnDemand.js */ "./node_modules/@arcgis/core/support/arcadeOnDemand.js");
/* harmony import */ var _arcade_callExpressionWithCursor_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../arcade/callExpressionWithCursor.js */ "./node_modules/@arcgis/core/views/2d/arcade/callExpressionWithCursor.js");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.27/esri/copyright.txt for details.
*/
class a{constructor(e,s){this._canCacheExpressionValue=!1,this._sourceInfo=e,this._storage=s,this._bitsets={computed:s.getBitset(s.createBitset())}}get storage(){return this._storage}invalidate(){this._bitsets.computed.clear()}async updateSchema(t,i){const a=(0,_core_accessorSupport_diffUtils_js__WEBPACK_IMPORTED_MODULE_1__.diff)(this._schema,i);if(this._schema=i,!i||null==a||!(0,_core_accessorSupport_diffUtils_js__WEBPACK_IMPORTED_MODULE_1__.hasDiff)(a,"attributes"))return;(0,_core_has_js__WEBPACK_IMPORTED_MODULE_0__["default"])("esri-2d-update-debug")&&console.debug("Applying Update - Store:",a),this._bitsets.computed.clear(),t.targets[i.name]=!0;const r=i.attributes,o=[],c=[];for(const e in r){const s=r[e];switch(s.type){case"field":break;case"expression":o.push(this._createArcadeComputedField(s));break;case"label-expression":o.push(this._createLabelArcadeComputedField(s));break;case"statistic":c.push(s)}}this._computedFields=await Promise.all(o),this._canCacheExpressionValue=!this._computedFields.some((e=>"expression"===e.type&&null!=e.expression&&e.expression.referencesScale())),this._statisticFields=c}setComputedAttributes(e,s,t,i){const a=this._bitsets.computed;if(!this._canCacheExpressionValue||!a.has(t)){a.set(t);for(const a of this._computedFields){const r=this._evaluateField(s,a,i);switch(a.resultType){case"numeric":e.setComputedNumericAtIndex(t,a.fieldIndex,r);break;case"string":e.setComputedStringAtIndex(t,a.fieldIndex,r)}}}}async _createArcadeComputedField(e){const s=this._sourceInfo.spatialReference,i=this._sourceInfo.fieldsIndex;return{...e,expression:await (0,_support_arcadeOnDemand_js__WEBPACK_IMPORTED_MODULE_2__.createRendererExpression)(e.valueExpression,s,i)}}async _createLabelArcadeComputedField(e){const s=this._sourceInfo.spatialReference,t=this._sourceInfo.fieldsIndex,{createLabelFunction:i}=await __webpack_require__.e(/*! import() */ "node_modules_arcgis_core_layers_support_labelFormatUtils_js").then(__webpack_require__.bind(__webpack_require__, /*! ../../../../layers/support/labelFormatUtils.js */ "./node_modules/@arcgis/core/layers/support/labelFormatUtils.js")),a=await i(e.label,t,s);return{...e,builder:a}}_evaluateField(e,s,t){switch(s.type){case"label-expression":{const t=e.readArcadeFeature();return s.builder.evaluate(t)||""}case"expression":{const{expression:a}=s;return (0,_arcade_callExpressionWithCursor_js__WEBPACK_IMPORTED_MODULE_3__["default"])(a,e,{$view:{scale:t}})}}}}


/***/ }),

/***/ "./node_modules/@arcgis/core/views/2d/layers/features/controllers/FeatureController2D.js":
/*!***********************************************************************************************!*\
  !*** ./node_modules/@arcgis/core/views/2d/layers/features/controllers/FeatureController2D.js ***!
  \***********************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (/* binding */ R)
/* harmony export */ });
/* harmony import */ var _chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../../../chunks/tslib.es6.js */ "./node_modules/@arcgis/core/chunks/tslib.es6.js");
/* harmony import */ var _core_arrayUtils_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../../../core/arrayUtils.js */ "./node_modules/@arcgis/core/core/arrayUtils.js");
/* harmony import */ var _core_HandleOwner_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../../../core/HandleOwner.js */ "./node_modules/@arcgis/core/core/HandleOwner.js");
/* harmony import */ var _core_has_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../../../../core/has.js */ "./node_modules/@arcgis/core/core/has.js");
/* harmony import */ var _core_maybe_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../../../../core/maybe.js */ "./node_modules/@arcgis/core/core/maybe.js");
/* harmony import */ var _core_promiseUtils_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../../../../core/promiseUtils.js */ "./node_modules/@arcgis/core/core/promiseUtils.js");
/* harmony import */ var _core_reactiveUtils_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../../../../core/reactiveUtils.js */ "./node_modules/@arcgis/core/core/reactiveUtils.js");
/* harmony import */ var _core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../../../../../core/accessorSupport/decorators/property.js */ "./node_modules/@arcgis/core/core/accessorSupport/decorators/property.js");
/* harmony import */ var _core_accessorSupport_ensureType_js__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../../../../../core/accessorSupport/ensureType.js */ "./node_modules/@arcgis/core/core/accessorSupport/ensureType.js");
/* harmony import */ var _core_accessorSupport_decorators_subclass_js__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../../../../../core/accessorSupport/decorators/subclass.js */ "./node_modules/@arcgis/core/core/accessorSupport/decorators/subclass.js");
/* harmony import */ var _layers_graphics_featureConversionUtils_js__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ../../../../../layers/graphics/featureConversionUtils.js */ "./node_modules/@arcgis/core/layers/graphics/featureConversionUtils.js");
/* harmony import */ var _layers_graphics_data_QueryEngine_js__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ../../../../../layers/graphics/data/QueryEngine.js */ "./node_modules/@arcgis/core/layers/graphics/data/QueryEngine.js");
/* harmony import */ var _layers_support_FieldsIndex_js__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ../../../../../layers/support/FieldsIndex.js */ "./node_modules/@arcgis/core/layers/support/FieldsIndex.js");
/* harmony import */ var _FeatureStore2D_js__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! ../FeatureStore2D.js */ "./node_modules/@arcgis/core/views/2d/layers/features/FeatureStore2D.js");
/* harmony import */ var _sources_createSource_js__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! ../sources/createSource.js */ "./node_modules/@arcgis/core/views/2d/layers/features/sources/createSource.js");
/* harmony import */ var _support_AttributeStore_js__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! ../support/AttributeStore.js */ "./node_modules/@arcgis/core/views/2d/layers/features/support/AttributeStore.js");
/* harmony import */ var _support_BinStore_js__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(/*! ../support/BinStore.js */ "./node_modules/@arcgis/core/views/2d/layers/features/support/BinStore.js");
/* harmony import */ var _support_ClusterStore_js__WEBPACK_IMPORTED_MODULE_17__ = __webpack_require__(/*! ../support/ClusterStore.js */ "./node_modules/@arcgis/core/views/2d/layers/features/support/ClusterStore.js");
/* harmony import */ var _support_ComputedAttributeStorage_js__WEBPACK_IMPORTED_MODULE_18__ = __webpack_require__(/*! ../support/ComputedAttributeStorage.js */ "./node_modules/@arcgis/core/views/2d/layers/features/support/ComputedAttributeStorage.js");
/* harmony import */ var _support_FeatureSetReaderJSON_js__WEBPACK_IMPORTED_MODULE_19__ = __webpack_require__(/*! ../support/FeatureSetReaderJSON.js */ "./node_modules/@arcgis/core/views/2d/layers/features/support/FeatureSetReaderJSON.js");
/* harmony import */ var _support_UpdateToken_js__WEBPACK_IMPORTED_MODULE_20__ = __webpack_require__(/*! ../support/UpdateToken.js */ "./node_modules/@arcgis/core/views/2d/layers/features/support/UpdateToken.js");
/* harmony import */ var _support_QueueProcessor_js__WEBPACK_IMPORTED_MODULE_21__ = __webpack_require__(/*! ../../../../support/QueueProcessor.js */ "./node_modules/@arcgis/core/views/support/QueueProcessor.js");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.27/esri/copyright.txt for details.
*/
const E=5e3,w="tileRenderer.featuresView.attributeView.initialize",T="tileRenderer.featuresView.attributeView.requestUpdate",j="tileRenderer.featuresView.requestRender";function k(e){return"worker:port-closed"===e.name}function A(e){if(!(0,_core_promiseUtils_js__WEBPACK_IMPORTED_MODULE_5__.isAbortError)(e)&&!k(e))throw e}function x(e){return"feature"===e.type&&"snapshot"===e.mode}let U=class extends _core_HandleOwner_js__WEBPACK_IMPORTED_MODULE_2__.HandleOwner{constructor(){super(...arguments),this._storage=new _support_ComputedAttributeStorage_js__WEBPACK_IMPORTED_MODULE_18__.ComputedAttributeStorage,this._markedIdsBufId=this._storage.createBitset(),this._lastCleanup=performance.now(),this._cleanupNeeded=!1,this._invalidated=!1,this._tileToResolver=new Map,this._didEdit=!1,this._updateVersion=1,this.tileStore=null,this.config=null,this.processor=null,this.remoteClient=null,this.service=null}initialize(){this._initStores(),this._initSource(),this._updateQueue=new _support_QueueProcessor_js__WEBPACK_IMPORTED_MODULE_21__.QueueProcessor({concurrency:"stream"===this._source.type?1:4,process:(e,t)=>this._onTileMessage(e,{signal:t})}),this.addHandles([this.tileStore.on("update",this.onTileUpdate.bind(this)),(0,_core_reactiveUtils_js__WEBPACK_IMPORTED_MODULE_6__.when)((()=>!this.updating),(()=>this.onIdle()))])}_initSource(){const e=this.tileStore.tileScheme,t=()=>this._updateQueue&&this._updateQueue.length<50,r=(e,t)=>(this._invalidated=!0,this._patchTile(e,t));this._source=(0,_sources_createSource_js__WEBPACK_IMPORTED_MODULE_14__.createSource)(this.service,this.spatialReference,e,r,t,this.featureStore),this._proxyEvents()}_setStreamClientProperty(e,t){this.remoteClient.invoke("setProperty",{propertyName:e,value:t}).catch(A)}_proxyEvents(){if("stream"===this._source.type){const e=this._source.events,t=this._source;this.addHandles([(0,_core_reactiveUtils_js__WEBPACK_IMPORTED_MODULE_6__.watch)((()=>t.connectionStatus),(e=>this._setStreamClientProperty("pipelineConnectionStatus",e)),{initial:!0}),(0,_core_reactiveUtils_js__WEBPACK_IMPORTED_MODULE_6__.watch)((()=>t.errorString),(e=>this._setStreamClientProperty("pipelineErrorString",e)),{initial:!0}),e.on("data-received",(e=>this.remoteClient.invoke("emitEvent",{name:"data-received",event:{attributes:e.attributes,centroid:e.centroid,geometry:e.geometry}}).catch(A))),e.on("message-received",(e=>this.remoteClient.invoke("emitEvent",{name:"message-received",event:e}).catch(A))),e.on("updateRate",(e=>this.remoteClient.invoke("emitEvent",{name:"update-rate",event:{...e}}).catch(A)))])}}_initAttributeStore(e){this.attributeStore||(this.attributeStore=new _support_AttributeStore_js__WEBPACK_IMPORTED_MODULE_15__["default"]({type:"remote",initialize:(e,t)=>(0,_core_promiseUtils_js__WEBPACK_IMPORTED_MODULE_5__.ignoreAbortErrors)(this.remoteClient.invoke(w,e,{signal:t}).catch(A)),update:(e,t)=>(0,_core_promiseUtils_js__WEBPACK_IMPORTED_MODULE_5__.ignoreAbortErrors)(this.remoteClient.invoke(T,e,{signal:t}).catch(A)),render:e=>(0,_core_promiseUtils_js__WEBPACK_IMPORTED_MODULE_5__.ignoreAbortErrors)(this.remoteClient.invoke(j,void 0,{signal:e}).catch(A))},e))}_initStores(){const e="snapshot"===this.service.type?"snapshot":"on-demand",t={geometryInfo:{geometryType:this.service.geometryType,hasM:!1,hasZ:!1},spatialReference:this.spatialReference,fieldsIndex:this.fieldsIndex,fields:this.service.fields};this.featureStore=new _FeatureStore2D_js__WEBPACK_IMPORTED_MODULE_13__.FeatureStore2D(t,this._storage,e)}_initQueryEngine(e){const t=this;this.featureQueryEngine?.destroy(),this.featureQueryEngine=new _layers_graphics_data_QueryEngine_js__WEBPACK_IMPORTED_MODULE_11__.QueryEngine({definitionExpression:e.schema.source.definitionExpression??void 0,fields:this.service.fields,geometryType:this.service.geometryType,objectIdField:this.service.objectIdField,hasM:!1,hasZ:!1,spatialReference:this.spatialReference.toJSON(),cacheSpatialQueries:!0,featureStore:this.featureStore,aggregateAdapter:{getFeatureObjectIds(e){if(null==t.aggregateStore)return[];return t.aggregateStore.getFeatureDisplayIdsForAggregate(e).map((e=>t.getObjectId(e)))}},timeInfo:this.service.timeInfo})}_initAggregateQueryEngine(e,t){if(this.aggregateQueryEngine?.destroy(),null==e)return;const r=t.targets.aggregate.params.fields.slice();this.aggregateQueryEngine=new _layers_graphics_data_QueryEngine_js__WEBPACK_IMPORTED_MODULE_11__.QueryEngine({definitionExpression:void 0,fields:r,geometryType:e.geometryInfo.geometryType,objectIdField:e.objectIdField,hasM:e.geometryInfo.hasM,hasZ:e.geometryInfo.hasZ,spatialReference:this.spatialReference.toJSON(),cacheSpatialQueries:!1,featureStore:e,aggregateAdapter:{getFeatureObjectIds:e=>[]}})}destroy(){this._updateQueue.destroy(),this._source.destroy(),this.featureQueryEngine?.destroy(),this.aggregateQueryEngine?.destroy(),this.attributeStore?.destroy();for(const e of this.tileStore.tiles)this._source.unsubscribe(e);clearInterval(this._checkUpdating)}get fieldsIndex(){return new _layers_support_FieldsIndex_js__WEBPACK_IMPORTED_MODULE_12__["default"](this.service.fields)}get spatialReference(){return this.tileStore.tileScheme.spatialReference}get updating(){return this.isUpdating()}isUpdating(){const e=this._source.updatingHandles.updating,t=!this.attributeStore||this.attributeStore.updatingHandles.updating,r=e||t||this.updatingHandles.updating;if((0,_core_has_js__WEBPACK_IMPORTED_MODULE_3__["default"])("esri-2d-log-updating")){let s=`Updating FeatureController2D: ${r}\n`;s+=`  -> updatingSource ${e}\n`;for(const e of this._source.subscriptions)s+=`     ${e.tile.id} ${e.isDone}\n`;s+=`  -> updatingAttributeStore ${t}\n`,s+=`  -> updatingHandles ${this.updatingHandles.updating} (queue: ${this._updateQueue.length})\n`,console.log(s)}return r}updateCustomParameters(e){"stream"===this._source.type&&this._source.updateCustomParameters(e)}enableEvent(e){this._source.enableEvent(e.name,e.value)}pause(){this._updateQueue.pause(),this._updateQueue.clear()}resume(){this._updateQueue.resume()}pauseStream(){"stream"===this._source.type&&this._source.pauseStream()}resumeStream(){"stream"===this._source.type&&this._source.resumeStream()}sendMessageToSocket(e){"stream"===this._source.type&&this._source.sendMessageToSocket(e)}sendMessageToClient(e){"stream"===this._source.type&&this._source.sendMessageToClient(e)}_initAggregateStore(e){const t=e.schema.targets?.aggregate?.type,r=(0,_core_maybe_js__WEBPACK_IMPORTED_MODULE_4__.applySome)(this.config,(e=>e.schema.targets?.aggregate?.type));if(r!==t&&(null!=this.aggregateStore&&(this.removeHandles("valueRangesChanged"),this.aggregateStore.destroy(),this.aggregateStore=null),t)){switch(t){case"cluster":{const e={geometryInfo:{geometryType:"esriGeometryPoint",hasM:!1,hasZ:!1},spatialReference:this.spatialReference,fieldsIndex:this.fieldsIndex,fields:this.service.fields};this.aggregateStore=new _support_ClusterStore_js__WEBPACK_IMPORTED_MODULE_17__.ClusterStore(e,this.spatialReference,this._storage,this.service),this.addHandles(this.aggregateStore.events.on("valueRangesChanged",(e=>{this.remoteClient.invoke("emitEvent",{name:"valueRangesChanged",event:{valueRanges:e.valueRanges}}).catch(A)})),"valueRangesChanged");break}case"bin":{const e={geometryInfo:{geometryType:"esriGeometryPolygon",hasM:!1,hasZ:!1},spatialReference:this.spatialReference,fieldsIndex:this.fieldsIndex,fields:this.service.fields};this.aggregateStore=new _support_BinStore_js__WEBPACK_IMPORTED_MODULE_16__.BinStore(e,this.spatialReference,this._storage,this.service);break}}this.aggregateStore.onTileUpdate({added:this.tileStore.tiles,removed:[]})}}async update(e,t){this._updateVersion++,(0,_core_has_js__WEBPACK_IMPORTED_MODULE_3__["default"])("esri-2d-update-debug")&&console.debug(`FeatureController2D::update: Token version ${this._updateVersion}`),this._initQueryEngine(t),this._initAttributeStore(t),this.pause(),await Promise.all([this._source.update(e,t.schema.source),this.featureStore.updateSchema(e,t.schema.targets.feature),this.attributeStore.update(e,t),this.attributeStore.updateFilters(e,t,this)]),this._initAggregateStore(t),null!=this.aggregateStore&&await this.aggregateStore.updateSchema(e,t.schema.targets.aggregate),this._initAggregateQueryEngine(this.aggregateStore,t.schema),(0,_core_has_js__WEBPACK_IMPORTED_MODULE_3__["default"])("esri-2d-update-debug")&&e.describe(),this._set("config",t)}async applyUpdate(e){e.version=this._updateVersion,(0,_core_has_js__WEBPACK_IMPORTED_MODULE_3__["default"])("esri-2d-update-debug")&&console.debug(`FeatureController2D::applyUpdate: Token version ${e.version}`),e.mesh&&this.clearTiles(),this._updateQueue.resume(),await this._source.applyUpdate(e),(0,_core_has_js__WEBPACK_IMPORTED_MODULE_3__["default"])("esri-2d-update-debug")&&console.debug("FeatureController2D::applyUpdate Waiting for source update to finish"),this.notifyChange("updating"),await (0,_core_reactiveUtils_js__WEBPACK_IMPORTED_MODULE_6__.whenOnce)((()=>!this.updating)),(0,_core_has_js__WEBPACK_IMPORTED_MODULE_3__["default"])("esri-2d-update-debug")&&console.debug("FeatureController2D::applyUpdate Source update finsihed"),null!=this.aggregateStore&&(await (0,_core_promiseUtils_js__WEBPACK_IMPORTED_MODULE_5__.after)(10),(0,_core_has_js__WEBPACK_IMPORTED_MODULE_3__["default"])("esri-2d-update-debug")&&console.debug("FeatureController2D::applyUpdate Waiting for aggregate idle call"),await (0,_core_reactiveUtils_js__WEBPACK_IMPORTED_MODULE_6__.whenOnce)((()=>!this.updating)),(0,_core_has_js__WEBPACK_IMPORTED_MODULE_3__["default"])("esri-2d-update-debug")&&console.debug("FeatureController2D::applyUpdate Aggregate idle called")),(0,_core_has_js__WEBPACK_IMPORTED_MODULE_3__["default"])("esri-2d-update-debug")&&console.debug("FeatureController2D::applyUpdate Update finished")}async onEdits({edits:e}){(0,_core_has_js__WEBPACK_IMPORTED_MODULE_3__["default"])("esri-2d-update-debug")&&console.debug("Applying Edit:",e),this._didEdit=!0;try{const t=e.removed.map((e=>e.objectId&&-1!==e.objectId?e.objectId:this._lookupObjectIdByGlobalId(e.globalId))),r=e.addOrModified.map((({objectId:e})=>e));this.featureStore.invalidate(),await this._source.edit(r,t),this.clearTiles(),this.notifyChange("updating"),null!=this.aggregateStore&&this.aggregateStore.clear(),await this._source.resend(),await (0,_core_reactiveUtils_js__WEBPACK_IMPORTED_MODULE_6__.whenOnce)((()=>!this.updating))}catch(t){}}async refresh(e){if(!e.dataChanged){const e=_support_UpdateToken_js__WEBPACK_IMPORTED_MODULE_20__.UpdateToken.empty();return e.storage.filters=!0,this.applyUpdate(e)}this.featureStore.invalidate(),this.clearTiles(),this._source.refresh(this._updateVersion,e),this._cleanupNeeded=!0,this.notifyChange("updating"),await (0,_core_reactiveUtils_js__WEBPACK_IMPORTED_MODULE_6__.whenOnce)((()=>!this.updating))}clearTiles(){for(const e of this.tileStore.tiles)this.processor.onTileClear(e,!1)}onTileUpdate(e){null!=this.aggregateStore&&this.aggregateStore.onTileUpdate(e);for(const t of e.added)this._source.subscribe(t,this._updateVersion),this._level=t.level;for(const t of e.removed)this._source.unsubscribe(t),this._cleanupNeeded=!0,this._tileToResolver.has(t.id)&&(this._tileToResolver.get(t.id).resolve(),this._tileToResolver.delete(t.id));this.notifyChange("updating")}async onIdle(){this._invalidated&&(this._invalidated=!1,null==this.aggregateStore&&"heatmap"!==this.processor.type||await this._repushCurrentLevelTiles()),this._markAndSweep()}async querySummaryStatistics({query:e,params:t}){return this.featureQueryEngine.executeQueryForSummaryStatistics(e,t)}async queryAggregateSummaryStatistics({query:e,params:t}){return this.aggregateQueryEngine.executeQueryForSummaryStatistics(this._normalizeAggregateQuery(e),t)}async queryUniqueValues({query:e,params:t}){return this.featureQueryEngine.executeQueryForUniqueValues(e,t)}async queryAggregateUniqueValues({query:e,params:t}){return this.aggregateQueryEngine.executeQueryForUniqueValues(this._normalizeAggregateQuery(e),t)}async queryClassBreaks({query:e,params:t}){return this.featureQueryEngine.executeQueryForClassBreaks(e,t)}async queryAggregateClassBreaks({query:e,params:t}){return this.aggregateQueryEngine.executeQueryForClassBreaks(this._normalizeAggregateQuery(e),t)}async queryHistogram({query:e,params:t}){return this.featureQueryEngine.executeQueryForHistogram(e,t)}async queryAggregateHistogram({query:e,params:t}){return this.aggregateQueryEngine.executeQueryForHistogram(this._normalizeAggregateQuery(e),t)}queryExtent(e){return this.featureQueryEngine.executeQueryForExtent(e)}queryAggregates(e){return this.aggregateQueryEngine.executeQuery(this._normalizeAggregateQuery(e))}queryAggregateCount(e){return this.aggregateQueryEngine.executeQueryForCount(this._normalizeAggregateQuery(e))}queryAggregateIds(e){return this.aggregateQueryEngine.executeQueryForIds(this._normalizeAggregateQuery(e))}queryFeatures(e){return this.featureQueryEngine.executeQuery(e)}async queryVisibleFeatures(e){const t=await this.featureQueryEngine.executeQuery(e),r=t.objectIdFieldName;return t.features=t.features.filter((e=>{const t=e.attributes[r],i=this.getDisplayId(t);return (0,_core_maybe_js__WEBPACK_IMPORTED_MODULE_4__.applySome)(i,(e=>this.attributeStore.isVisible(e)))})),t}queryFeatureCount(e){return this.featureQueryEngine.executeQueryForCount(e)}queryLatestObservations(e){return this.featureQueryEngine.executeQueryForLatestObservations(e)}queryObjectIds(e){return this.featureQueryEngine.executeQueryForIds(e)}async queryStatistics(){return this.featureStore.storeStatistics}getObjectId(e){return this.featureStore.lookupObjectId(e,this._storage)}getDisplayId(e){if(null!=this.aggregateStore){const t=this.aggregateStore.getDisplayId(e);if(null==t){const t=this.featureStore.lookupDisplayId(e);return this.aggregateStore.getDisplayIdForReferenceId(t)}return t}return this.featureStore.lookupDisplayId(e)}getFeatures(e){const t=[],r=[];for(const s of e){const e=null!=this.aggregateStore?this.getAggregate(s):null;if(null!=e)if(null!=e.attributes.referenceId){const r=this.getFeature(e.attributes.referenceId);null!=r&&t.push(r)}else r.push(e);else{const e=this.getFeature(s);null!=e&&t.push(e)}}return{features:t,aggregates:r}}getFeature(e){const t=this.featureStore.lookupFeatureByDisplayId(e,this._storage);if(null==t)return null;const r=t.readHydratedGeometry(),s=(0,_layers_graphics_featureConversionUtils_js__WEBPACK_IMPORTED_MODULE_10__.convertToGeometry)(r,t.geometryType,t.hasZ,t.hasM);return{attributes:t.readAttributes(),geometry:s}}getAggregate(e){return null==this.aggregateStore?null:this.aggregateStore.getAggregate(e)}getAggregates(){return null==this.aggregateStore?[]:this.aggregateStore.getAggregates()}async setHighlight(e){const r=e.map((e=>this.getDisplayId(e))).filter(_core_arrayUtils_js__WEBPACK_IMPORTED_MODULE_1__.isSome);return this.attributeStore.setHighlight(e,r)}_normalizeAggregateQuery(e){const t=e.objectIds??[];for(const r of e.aggregateIds??[])t.push(r);return e.objectIds=t,e.aggregateIds=[],e}_lookupObjectIdByGlobalId(e){const t=this.service.globalIdField;if(null==t)throw new Error("Expected globalIdField to be defined");let r=null;if(this.featureStore.forEach((s=>{e===s.readAttribute(t)&&(r=s.getObjectId())})),null==r)throw new Error(`Expected to find a feature with globalId ${e}`);return r}async _repushCurrentLevelTiles(){const e=this.tileStore.tiles.filter((e=>e.level===this._level));e.map((async e=>this._patchTile({type:"append",id:e.key.id,clear:!0,addOrUpdate:null,end:!1})));const t=e.map((async e=>this._patchTile({type:"append",id:e.key.id,addOrUpdate:_support_FeatureSetReaderJSON_js__WEBPACK_IMPORTED_MODULE_19__.FeatureSetReaderJSON.fromOptimizedFeatures([],this.service),remove:[],end:!0,isRepush:!0,status:_support_UpdateToken_js__WEBPACK_IMPORTED_MODULE_20__.UpdateToken.empty()})));await Promise.all(t)}_maybeForceCleanup(){performance.now()-this._lastCleanup>E&&this._markAndSweep()}_patchTile(e,t){const r=this._updateQueue.push(e,t).catch((e=>{}));return this.updatingHandles.addPromise(r)}async _onTileMessage(e,t){if((0,_core_promiseUtils_js__WEBPACK_IMPORTED_MODULE_5__.throwIfAborted)(t),(0,_core_has_js__WEBPACK_IMPORTED_MODULE_3__["default"])("esri-2d-update-debug")){const t=(0,_core_maybe_js__WEBPACK_IMPORTED_MODULE_4__.applySome)(e.addOrUpdate,(e=>e.hasFeatures));console.debug(e.id,`FeatureController:onTileMessage: [clear:${e.clear}, end:${e.end}, features: ${t}]`)}const r=this.tileStore.get(e.id);if(!r)return;if(e.clear)return this.processor.onTileClear(r,e.end);const i=e.status;this._cleanupNeeded=!0;const a=[];for(const s of e.remove??[]){const e=this.featureStore.lookupDisplayId(s);e&&a.push(e)}e.remove=a;try{if(null==e.addOrUpdate)return void this.processor.onTileMessage(r,{...e,addOrUpdate:null},null!=this.aggregateStore,t).catch(_core_promiseUtils_js__WEBPACK_IMPORTED_MODULE_5__.throwIfNotAbortError);if(e.addOrUpdate.setArcadeSpatialReference(this.spatialReference),this.featureStore.hasInstance(e.addOrUpdate.instance)&&i.targets.feature||(i.targets.feature=!0,this.featureStore.onTileData(r,e)),!i.storage.data||!i.storage.filters){i.storage.data=!0,i.storage.filters=!0,this.attributeStore.onTileData(r,e);"stream"===this._source.type||this._didEdit?(await this.attributeStore.sendUpdates(),(0,_core_promiseUtils_js__WEBPACK_IMPORTED_MODULE_5__.throwIfAborted)(t)):this.attributeStore.sendUpdates()}if(null!=this.aggregateStore&&!i.targets.aggregate){i.targets.aggregate=!0;const t=x(this._source)&&this._source.loading,s=!x(this._source)||t||e.end;if(this.aggregateStore.onTileData(r,e,this._storage,this.attributeStore,s),!s)return;i.mesh||(this.attributeStore.onTileData(r,e),await this.attributeStore.sendUpdates())}if(!i.mesh){i.mesh=!0;const s=null!=this.aggregateStore&&"cluster"===this.aggregateStore.type;await this.processor.onTileMessage(r,e,s,t),(0,_core_promiseUtils_js__WEBPACK_IMPORTED_MODULE_5__.throwIfAborted)(t)}this._maybeForceCleanup()}catch(u){(0,_core_promiseUtils_js__WEBPACK_IMPORTED_MODULE_5__.throwIfNotAbortError)(u)}}_mark(e,t,r){const s=(4294901760&this._storage.getInstanceId(e))>>>16;e&&(t.add(s),r.set(e))}_markAndSweep(){this._lastCleanup=performance.now();if(!(!("feature"===this._source.type&&"snapshot"===this._source.mode)&&("stream"===this._source.type||this._cleanupNeeded)))return;this._cleanupNeeded=!1;const e=this._storage.getBitset(this._markedIdsBufId),t=new Set;e.clear();for(const r of this.tileStore.tiles)for(const s of this._source.readers(r.id)){const r=s.getCursor();for(;r.next();){let s=r.getDisplayId();if(!s){const e=r.getObjectId();s=this.featureStore.lookupDisplayId(e)}this._mark(s,t,e)}}"symbol"===this.processor.type&&this.processor.forEachBufferId((r=>{this._mark(r,t,e)})),this._updateQueue.forEach((r=>{for(const s of r.remove??[]){const r=this.featureStore.lookupDisplayId(s);this._mark(r,t,e)}})),null!=this.aggregateStore&&(this.aggregateStore.sweepFeatures(e,this.featureStore),"sweepAggregates"in this.aggregateStore&&this.aggregateStore.sweepAggregates(this._storage,this.attributeStore,this._level)),this.featureStore.sweepFeatures(e,this._storage,this.attributeStore),this.featureStore.sweepFeatureSets(t)}};(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_7__.property)({constructOnly:!0})],U.prototype,"tileStore",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_7__.property)()],U.prototype,"config",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_7__.property)({readOnly:!0})],U.prototype,"fieldsIndex",null),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_7__.property)()],U.prototype,"processor",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_7__.property)({constructOnly:!0})],U.prototype,"remoteClient",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_7__.property)({constructOnly:!0})],U.prototype,"service",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_7__.property)()],U.prototype,"spatialReference",null),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_7__.property)()],U.prototype,"updating",null),U=(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_subclass_js__WEBPACK_IMPORTED_MODULE_9__.subclass)("esri.views.2d.layers.features.controllers.FeatureController2D")],U);const R=U;


/***/ }),

/***/ "./node_modules/@arcgis/core/views/2d/layers/features/controllers/support/sourceAdapters.js":
/*!**************************************************************************************************!*\
  !*** ./node_modules/@arcgis/core/views/2d/layers/features/controllers/support/sourceAdapters.js ***!
  \**************************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "SourceAdapter": () => (/* binding */ c),
/* harmony export */   "createSourceAdapter": () => (/* binding */ l)
/* harmony export */ });
/* harmony import */ var _core_has_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../../../../core/has.js */ "./node_modules/@arcgis/core/core/has.js");
/* harmony import */ var _core_workers_Connection_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../../../../core/workers/Connection.js */ "./node_modules/@arcgis/core/core/workers/Connection.js");
/* harmony import */ var _geometry_support_quantizationUtils_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../../../../geometry/support/quantizationUtils.js */ "./node_modules/@arcgis/core/geometry/support/quantizationUtils.js");
/* harmony import */ var _layers_graphics_featureConversionUtils_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../../../../../layers/graphics/featureConversionUtils.js */ "./node_modules/@arcgis/core/layers/graphics/featureConversionUtils.js");
/* harmony import */ var _layers_ogc_ogcFeatureUtils_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../../../../../layers/ogc/ogcFeatureUtils.js */ "./node_modules/@arcgis/core/layers/ogc/ogcFeatureUtils.js");
/* harmony import */ var _rest_query_operations_query_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../../../../../rest/query/operations/query.js */ "./node_modules/@arcgis/core/rest/query/operations/query.js");
/* harmony import */ var _support_FeatureSetReaderJSON_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../support/FeatureSetReaderJSON.js */ "./node_modules/@arcgis/core/views/2d/layers/features/support/FeatureSetReaderJSON.js");
/* harmony import */ var _support_FeatureSetReaderPBF_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../../support/FeatureSetReaderPBF.js */ "./node_modules/@arcgis/core/views/2d/layers/features/support/FeatureSetReaderPBF.js");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.27/esri/copyright.txt for details.
*/
class c{constructor(e){this.service=e}destroy(){}}function m(e){return Array.isArray(e.source)}function p(e){return"ogc-source"===e?.type}function l(e){const{capabilities:t}=e;return p(e.source)?new v(e):m(e)?new y(e):t.query.supportsFormatPBF&&(0,_core_has_js__WEBPACK_IMPORTED_MODULE_0__["default"])("featurelayer-pbf")?new h(e):new d(e)}async function f(t){const r=new _core_workers_Connection_js__WEBPACK_IMPORTED_MODULE_1__["default"];return await r.open(t,{}),r}class y extends c{constructor(e){super(e),this._portsOpen=f(e.source).then((e=>this.client=e))}destroy(){this.client.close(),this.client=null}async executeQuery(e,t){await this._portsOpen;const r=await this.client.invoke("queryFeatures",e.toJSON(),t);return _support_FeatureSetReaderJSON_js__WEBPACK_IMPORTED_MODULE_6__.FeatureSetReaderJSON.fromFeatureSet(r,this.service)}}class h extends c{async executeQuery(e,t){const{data:r}=await (0,_rest_query_operations_query_js__WEBPACK_IMPORTED_MODULE_5__.executeQueryPBFBuffer)(this.service.source,e,t),s=!e.quantizationParameters;return _support_FeatureSetReaderPBF_js__WEBPACK_IMPORTED_MODULE_7__.FeatureSetReaderPBF.fromBuffer(r,this.service,s)}}class d extends c{async executeQuery(e,i){const{source:a,capabilities:u,spatialReference:c,objectIdField:m,geometryType:p}=this.service;if(null!=e.quantizationParameters&&!u.query.supportsQuantization){const u=e.clone(),p=(0,_geometry_support_quantizationUtils_js__WEBPACK_IMPORTED_MODULE_2__.toQuantizationTransform)(u.quantizationParameters);u.quantizationParameters=null;const{data:l}=await (0,_rest_query_operations_query_js__WEBPACK_IMPORTED_MODULE_5__.executeQuery)(a,u,c,i),f=(0,_layers_graphics_featureConversionUtils_js__WEBPACK_IMPORTED_MODULE_3__.convertFromFeatureSet)(l,m);return (0,_layers_graphics_featureConversionUtils_js__WEBPACK_IMPORTED_MODULE_3__.quantizeOptimizedFeatureSet)(p,f),_support_FeatureSetReaderJSON_js__WEBPACK_IMPORTED_MODULE_6__.FeatureSetReaderJSON.fromOptimizedFeatureSet(f,this.service)}const{data:l}=await (0,_rest_query_operations_query_js__WEBPACK_IMPORTED_MODULE_5__.executeQuery)(a,e,this.service.spatialReference,i);return"esriGeometryPoint"===p&&(l.features=l.features?.filter((e=>{if(null!=e.geometry){const t=e.geometry;return Number.isFinite(t.x)&&Number.isFinite(t.y)}return!0}))),_support_FeatureSetReaderJSON_js__WEBPACK_IMPORTED_MODULE_6__.FeatureSetReaderJSON.fromFeatureSet(l,this.service)}}class v extends c{async executeQuery(e,r){const{capabilities:a}=this.service;if(e.quantizationParameters&&!a.query.supportsQuantization){const a=e.clone(),o=(0,_geometry_support_quantizationUtils_js__WEBPACK_IMPORTED_MODULE_2__.toQuantizationTransform)(a.quantizationParameters);a.quantizationParameters=null;const u=await (0,_layers_ogc_ogcFeatureUtils_js__WEBPACK_IMPORTED_MODULE_4__.queryOptimizedFeatureSet)(this.service.source,e,r);return (0,_layers_graphics_featureConversionUtils_js__WEBPACK_IMPORTED_MODULE_3__.quantizeOptimizedFeatureSet)(o,u),_support_FeatureSetReaderJSON_js__WEBPACK_IMPORTED_MODULE_6__.FeatureSetReaderJSON.fromOptimizedFeatureSet(u,this.service)}const o=await (0,_layers_ogc_ogcFeatureUtils_js__WEBPACK_IMPORTED_MODULE_4__.queryOptimizedFeatureSet)(this.service.source,e,r);return _support_FeatureSetReaderJSON_js__WEBPACK_IMPORTED_MODULE_6__.FeatureSetReaderJSON.fromOptimizedFeatureSet(o,this.service)}}


/***/ }),

/***/ "./node_modules/@arcgis/core/views/2d/layers/features/processors.js":
/*!**************************************************************************!*\
  !*** ./node_modules/@arcgis/core/views/2d/layers/features/processors.js ***!
  \**************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "loadProcessorModule": () => (/* binding */ o)
/* harmony export */ });
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.27/esri/copyright.txt for details.
*/
function o(o){return"heatmap"===o?__webpack_require__.e(/*! import() */ "node_modules_arcgis_core_views_2d_layers_features_processors_HeatmapProcessor_js").then(__webpack_require__.bind(__webpack_require__, /*! ./processors/HeatmapProcessor.js */ "./node_modules/@arcgis/core/views/2d/layers/features/processors/HeatmapProcessor.js")):Promise.all(/*! import() */[__webpack_require__.e("vendors-node_modules_arcgis_core_geometry_support_TileClipper_js-node_modules_arcgis_core_vie-6140ae"), __webpack_require__.e("vendors-node_modules_arcgis_core_chunks_earcut_js-node_modules_arcgis_core_core_BidiEngine_js-d3e6b2"), __webpack_require__.e("vendors-node_modules_arcgis_core_views_2d_layers_features_processors_SymbolProcessor_js")]).then(__webpack_require__.bind(__webpack_require__, /*! ./processors/SymbolProcessor.js */ "./node_modules/@arcgis/core/views/2d/layers/features/processors/SymbolProcessor.js"))}


/***/ }),

/***/ "./node_modules/@arcgis/core/views/2d/layers/features/sources/BaseFeatureSource.js":
/*!*****************************************************************************************!*\
  !*** ./node_modules/@arcgis/core/views/2d/layers/features/sources/BaseFeatureSource.js ***!
  \*****************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "BaseFeatureSource": () => (/* binding */ c)
/* harmony export */ });
/* harmony import */ var _request_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../../../request.js */ "./node_modules/@arcgis/core/request.js");
/* harmony import */ var _core_Error_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../../../core/Error.js */ "./node_modules/@arcgis/core/core/Error.js");
/* harmony import */ var _core_has_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../../../core/has.js */ "./node_modules/@arcgis/core/core/has.js");
/* harmony import */ var _core_Logger_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../../../../core/Logger.js */ "./node_modules/@arcgis/core/core/Logger.js");
/* harmony import */ var _core_promiseUtils_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../../../../core/promiseUtils.js */ "./node_modules/@arcgis/core/core/promiseUtils.js");
/* harmony import */ var _controllers_support_sourceAdapters_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../controllers/support/sourceAdapters.js */ "./node_modules/@arcgis/core/views/2d/layers/features/controllers/support/sourceAdapters.js");
/* harmony import */ var _DataTileSource_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./DataTileSource.js */ "./node_modules/@arcgis/core/views/2d/layers/features/sources/DataTileSource.js");
/* harmony import */ var _support_QueueProcessor_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../../../../support/QueueProcessor.js */ "./node_modules/@arcgis/core/views/support/QueueProcessor.js");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.27/esri/copyright.txt for details.
*/
const u=4;class c extends _DataTileSource_js__WEBPACK_IMPORTED_MODULE_6__.DataTileSource{constructor(e){super(e),this.type="feature",this.mode="on-demand",this._adapter=(0,_controllers_support_sourceAdapters_js__WEBPACK_IMPORTED_MODULE_5__.createSourceAdapter)(e.serviceInfo),this._queue=new _support_QueueProcessor_js__WEBPACK_IMPORTED_MODULE_7__.QueueProcessor({concurrency:8,process:async e=>{if((0,_core_promiseUtils_js__WEBPACK_IMPORTED_MODULE_4__.throwIfAborted)(e),null!=e.tile){const t=e.tile.key.id,{signal:r}=e,s=(0,_core_has_js__WEBPACK_IMPORTED_MODULE_2__["default"])("esri-tiles-debug")?{tile:t.replaceAll("/","."),depth:e.depth}:void 0,i=await this._adapter.executeQuery(e.query,{signal:r,query:{...s,...this._schema?.customParameters}});return i.level=e.tile.key.level,i}return this._adapter.executeQuery(e.query,{...e,query:this._schema?.customParameters})}}),this._patchQueue=new _support_QueueProcessor_js__WEBPACK_IMPORTED_MODULE_7__.QueueProcessor({concurrency:8,process:async e=>{if((0,_core_promiseUtils_js__WEBPACK_IMPORTED_MODULE_4__.throwIfAborted)(e),null!=e.tile){const t=e.tile.key.id,{signal:r}=e,s=(0,_core_has_js__WEBPACK_IMPORTED_MODULE_2__["default"])("esri-tiles-debug")?{tile:t.replaceAll("/","."),depth:e.depth}:void 0,i=await this._adapter.executeQuery(e.query,{signal:r,query:{...s,...this._schema?.customParameters}});return i.level=e.tile.key.level,i}return this._adapter.executeQuery(e.query,{...e,query:this._schema?.customParameters})}})}destroy(){super.destroy(),this._adapter.destroy(),this._queue.destroy(),this._patchQueue.destroy()}enqueueQuery(e,t){return this.updatingHandles.addPromise(this._queue.push(e,t))}enqueuePatchQuery(e,t){return this.updatingHandles.addPromise(this._patchQueue.push(e,t))}get maxRecordCountFactor(){const{query:e}=this._serviceInfo.capabilities;return e.supportsMaxRecordCountFactor?u:null}get maxPageSize(){const{query:e}=this._serviceInfo.capabilities;return(e.maxRecordCount??8e3)*(this.maxRecordCountFactor??1)}get pageSize(){return Math.min(8e3,this.maxPageSize)}enableEvent(e,t){}subscribe(e,s){super.subscribe(e,s),this._fetchDataTile(e).catch((s=>{(0,_core_promiseUtils_js__WEBPACK_IMPORTED_MODULE_4__.isAbortError)(s)||_core_Logger_js__WEBPACK_IMPORTED_MODULE_3__["default"].getLogger("esri.views.2d.layers.features.sources.BaseFeatureSource").error(new _core_Error_js__WEBPACK_IMPORTED_MODULE_1__["default"]("mapview-query-error","Encountered error when fetching tile",{tile:e,error:s}))}))}unsubscribe(e){super.unsubscribe(e)}readers(e){return this._subscriptions.get(e).readers()}async query(e,t={}){const r=t.query??{};return this._adapter.executeQuery(e,{...t,query:{...r,...this._schema?.customParameters}})}async queryLastEditDate(){const t=this._serviceInfo.source,r={...t.query,f:"json"};return(await (0,_request_js__WEBPACK_IMPORTED_MODULE_0__["default"])(t.path,{query:r,responseType:"json"})).data.editingInfo.lastEditDate}createTileQuery(e,t={}){const r=this._serviceInfo.geometryType,s=this.createQuery(t);s.quantizationParameters=t.quantizationParameters??e.getQuantizationParameters(),s.resultType="tile",s.geometry=e.extent,this._serviceInfo.capabilities.query.supportsQuantization?"esriGeometryPolyline"===r&&(s.maxAllowableOffset=e.resolution*(0,_core_has_js__WEBPACK_IMPORTED_MODULE_2__["default"])("feature-polyline-generalization-factor")):"esriGeometryPolyline"!==r&&"esriGeometryPolygon"!==r||(s.maxAllowableOffset=e.resolution,"esriGeometryPolyline"===r&&(s.maxAllowableOffset*=(0,_core_has_js__WEBPACK_IMPORTED_MODULE_2__["default"])("feature-polyline-generalization-factor")));const i=this._serviceInfo.capabilities.query;return s.defaultSpatialReferenceEnabled=i.supportsDefaultSpatialReference,s.compactGeometryEnabled=i.supportsCompactGeometry,s}async _executePatchQuery(e,t,r,s){const i=t.clone();i.outFields=[this._serviceInfo.objectIdField,...r],i.returnCentroid=!1,i.returnGeometry=!1;const a=null!=i.start?i.start/8e3:0,o=s.signal;return await this.enqueuePatchQuery({tile:e,query:i,signal:o,depth:a})}async _resend(e,t){const{query:r,message:i}=e,a=null!=r.outFields?r.outFields:[],o=this._queryInfo.outFields,n=o.filter((e=>!a.includes(e)));if(null!=i.addOrUpdate)if(n.length)try{const e=this._subscriptions.get(i.id).tile,a=await this._executePatchQuery(e,r,n,t);(0,_core_promiseUtils_js__WEBPACK_IMPORTED_MODULE_4__.throwIfAborted)(t),r.outFields=o,i.addOrUpdate.joinAttributes(a),this._onMessage({...i,end:i.end,type:"append"})}catch(u){}else this._onMessage({...i,type:"append"});else this._onMessage({...i,type:"append"})}async _resendSubscription(e){if((0,_core_has_js__WEBPACK_IMPORTED_MODULE_2__["default"])("esri-2d-update-debug")&&console.debug(e.tile.id,"Resend Subscription"),e.empty)return this._onMessage({id:e.tile.id,addOrUpdate:null,end:!1,type:"append"});const t=e.signal;for(const r of e.requests.done)await this._resend(r,{signal:t});return null!=e.edits?this._onMessage(e.edits):void 0}async resend(){const e=Array.from(this._subscriptions.values());await Promise.all(e.map((e=>this._resendSubscription(e))))}}


/***/ }),

/***/ "./node_modules/@arcgis/core/views/2d/layers/features/sources/DataTileSource.js":
/*!**************************************************************************************!*\
  !*** ./node_modules/@arcgis/core/views/2d/layers/features/sources/DataTileSource.js ***!
  \**************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "DataTileSource": () => (/* binding */ m)
/* harmony export */ });
/* harmony import */ var _TimeExtent_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../../../TimeExtent.js */ "./node_modules/@arcgis/core/TimeExtent.js");
/* harmony import */ var _core_Evented_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../../../core/Evented.js */ "./node_modules/@arcgis/core/core/Evented.js");
/* harmony import */ var _core_has_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../../../core/has.js */ "./node_modules/@arcgis/core/core/has.js");
/* harmony import */ var _core_promiseUtils_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../../../../core/promiseUtils.js */ "./node_modules/@arcgis/core/core/promiseUtils.js");
/* harmony import */ var _core_accessorSupport_diffUtils_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../../../../core/accessorSupport/diffUtils.js */ "./node_modules/@arcgis/core/core/accessorSupport/diffUtils.js");
/* harmony import */ var _core_support_WatchUpdatingTracking_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../../../../core/support/WatchUpdatingTracking.js */ "./node_modules/@arcgis/core/core/support/WatchUpdatingTracking.js");
/* harmony import */ var _rest_support_Query_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../../../../rest/support/Query.js */ "./node_modules/@arcgis/core/rest/support/Query.js");
/* harmony import */ var _DataTileSubscription_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ./DataTileSubscription.js */ "./node_modules/@arcgis/core/views/2d/layers/features/sources/DataTileSubscription.js");
/* harmony import */ var _support_UpdateToken_js__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../support/UpdateToken.js */ "./node_modules/@arcgis/core/views/2d/layers/features/support/UpdateToken.js");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.27/esri/copyright.txt for details.
*/
function p(e,s){const t=new Set;return e&&e.forEach((e=>t.add(e))),s&&s.forEach((e=>t.add(e))),t.has("*")?["*"]:Array.from(t)}class m{constructor(e){this.updatingHandles=new _core_support_WatchUpdatingTracking_js__WEBPACK_IMPORTED_MODULE_5__.WatchUpdatingTracking,this.events=new _core_Evented_js__WEBPACK_IMPORTED_MODULE_1__["default"],this._resolver=(0,_core_promiseUtils_js__WEBPACK_IMPORTED_MODULE_3__.createResolver)(),this._didEdit=!1,this._subscriptions=new Map,this._outSR=e.outSR,this._serviceInfo=e.serviceInfo,this._onTileUpdateMessage=e.onMessage}destroy(){for(const e of this._subscriptions.values())e.abort();this.updatingHandles.destroy()}get subscriptions(){return this._subscriptions.values()}async _onMessage(e){const s=this._subscriptions.get(e.id);if(!s)return;const t={...e,remove:e.remove??[],status:e.status??_support_UpdateToken_js__WEBPACK_IMPORTED_MODULE_8__.UpdateToken.empty()};return (0,_core_promiseUtils_js__WEBPACK_IMPORTED_MODULE_3__.ignoreAbortErrors)(this._onTileUpdateMessage(t,s.options))}update(s,t){const i=t.fields.length;t.outFields=p(this._schema?.outFields,t.outFields),t.outFields=t.outFields.length>=.75*i?["*"]:t.outFields,t.outFields.sort();const r=(0,_core_accessorSupport_diffUtils_js__WEBPACK_IMPORTED_MODULE_4__.diff)(this._schema,t);if(!r)return;(0,_core_has_js__WEBPACK_IMPORTED_MODULE_2__["default"])("esri-2d-update-debug")&&console.debug("Applying Update - Source:",r);const o="orderByFields"in this._serviceInfo&&this._serviceInfo.orderByFields?this._serviceInfo.orderByFields:this._serviceInfo.objectIdField+" ASC",a={returnCentroid:"esriGeometryPolygon"===this._serviceInfo.geometryType,returnGeometry:!0,timeReferenceUnknownClient:"stream"!==this._serviceInfo.type&&this._serviceInfo.timeReferenceUnknownClient,outFields:t.outFields,outSpatialReference:this._outSR,orderByFields:[o],where:t.definitionExpression||"1=1",gdbVersion:t.gdbVersion,historicMoment:t.historicMoment,timeExtent:t.timeExtent?_TimeExtent_js__WEBPACK_IMPORTED_MODULE_0__["default"].fromJSON(t.timeExtent):null},d=this._schema&&(0,_core_accessorSupport_diffUtils_js__WEBPACK_IMPORTED_MODULE_4__.hasDiff)(r,"outFields");this._schema&&(0,_core_accessorSupport_diffUtils_js__WEBPACK_IMPORTED_MODULE_4__.hasDiffAny)(r,["timeExtent","definitionExpression","gdbVersion","historicMoment","customParameters"])&&(s.why.mesh.push("Layer filter and/or custom parameters changed"),s.why.source.push("Layer filter and/or custom parameters changed"),s.mesh=!0,s.source=!0,s.queryFilter=!0),d&&(s.why.source.push("Layer required fields changed"),s.source=!0),(0,_core_accessorSupport_diffUtils_js__WEBPACK_IMPORTED_MODULE_4__.diff)(a,this._queryInfo)&&(this._queryInfo=a),this._schema=t,this._resolver.resolve()}whenInitialized(){return this._resolver.promise}async applyUpdate(e){if(e.queryFilter||e.source&&this._didEdit)return this.refresh(e.version),void(this._didEdit=!1);this._subscriptions.forEach((s=>s.applyUpdate(e))),await this.resend()}refresh(e,s){for(const t of this._tiles())this.unsubscribe(t),this.subscribe(t,e)}subscribe(e,s){const t=new _DataTileSubscription_js__WEBPACK_IMPORTED_MODULE_7__.DataTileSubscription(e,s);this._subscriptions.set(e.id,t),this.updatingHandles.addPromise(t.done)}unsubscribe(e){const s=this.getSubscription(e.id);null!=s&&s.abort(),this._subscriptions.delete(e.id)}createQuery(e={}){const s=this._queryInfo.historicMoment?new Date(this._queryInfo.historicMoment):null;return new _rest_support_Query_js__WEBPACK_IMPORTED_MODULE_6__["default"]({...this._queryInfo,historicMoment:s,...e})}getSubscription(e){return this._subscriptions.has(e)?this._subscriptions.get(e):null}async queryLastEditDate(){throw new Error("Service does not support query type")}async query(e,s){throw new Error("Service does not support query")}*_tiles(){const e=Array.from(this._subscriptions.values());for(const s of e)yield s.tile}async edit(e,s){const t=Array.from(this._subscriptions.values()),i=t.map((({tile:e})=>e));for(const r of t)r.removeIds(s);if(e.length){const t=i.map((s=>{const t=this.createTileQuery(s);return t.objectIds=e,{tile:s,query:t}})).map((async({tile:e,query:s})=>({tile:e,result:await this.query(s,{query:{tile:(0,_core_has_js__WEBPACK_IMPORTED_MODULE_2__["default"])("esri-tiles-debug")?e.id.replaceAll("/","."):void 0}}),query:s}))),n=(await (0,_core_promiseUtils_js__WEBPACK_IMPORTED_MODULE_3__.eachAlwaysValues)(t)).map((async({tile:t,result:i})=>{if(!i.hasFeatures&&!s.length&&!e.length)return;const r=this._subscriptions.get(t.key.id);r&&r.edit(i,e)}));await (0,_core_promiseUtils_js__WEBPACK_IMPORTED_MODULE_3__.eachAlways)(n)}this._didEdit=!0}}


/***/ }),

/***/ "./node_modules/@arcgis/core/views/2d/layers/features/sources/DataTileSubscription.js":
/*!********************************************************************************************!*\
  !*** ./node_modules/@arcgis/core/views/2d/layers/features/sources/DataTileSubscription.js ***!
  \********************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "DataTileSubscription": () => (/* binding */ d)
/* harmony export */ });
/* harmony import */ var _core_arrayUtils_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../../../core/arrayUtils.js */ "./node_modules/@arcgis/core/core/arrayUtils.js");
/* harmony import */ var _core_CircularArray_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../../../core/CircularArray.js */ "./node_modules/@arcgis/core/core/CircularArray.js");
/* harmony import */ var _core_has_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../../../core/has.js */ "./node_modules/@arcgis/core/core/has.js");
/* harmony import */ var _core_promiseUtils_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../../../../core/promiseUtils.js */ "./node_modules/@arcgis/core/core/promiseUtils.js");
/* harmony import */ var _support_FeatureSetReaderJSON_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../support/FeatureSetReaderJSON.js */ "./node_modules/@arcgis/core/views/2d/layers/features/support/FeatureSetReaderJSON.js");
/* harmony import */ var _support_UpdateToken_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../support/UpdateToken.js */ "./node_modules/@arcgis/core/views/2d/layers/features/support/UpdateToken.js");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.27/esri/copyright.txt for details.
*/
class d{constructor(e,r){this.requests={done:new Array,stream:new _core_CircularArray_js__WEBPACK_IMPORTED_MODULE_1__["default"](10)},this._edits=null,this._abortController=new AbortController,this._version=0,this._resolver=(0,_core_promiseUtils_js__WEBPACK_IMPORTED_MODULE_3__.createResolver)(),this._isDone=!1,this.didSend=!1,this.tile=e,this._version=r}get signal(){return this._abortController.signal}get options(){return{signal:this._abortController.signal}}get empty(){return!this.requests.done.length&&null==this.edits}get edits(){return this._edits}get done(){return this._resolver.promise}get isDone(){return this._isDone}resolve(){this._isDone=!0,this._resolver.resolve()}clear(){this.requests.done=[]}applyUpdate(e){this.requests.done.forEach((s=>s.message.status.unset(e))),this._version=e.version,null!=this._edits&&this._edits.status.unset(e)}add(e){e.message.status=e.message.status??_support_UpdateToken_js__WEBPACK_IMPORTED_MODULE_5__.UpdateToken.empty(),e.message.status.version=this._version,(0,_core_has_js__WEBPACK_IMPORTED_MODULE_2__["default"])("esri-2d-update-debug")&&console.debug(this.tile.id,"DataTileSubscription:add",this._version),e.message.end&&(this.requests.done.forEach((e=>{null!=e.message&&e.message.end&&(e.message.end=!1)})),this._resolver.resolve(),this._isDone=!0),this.requests.done.push(e)}edit(s,t){const d=s.getQuantizationTransform(),o=s.fullSchema(),a=Array.from(s.features()).filter(_core_arrayUtils_js__WEBPACK_IMPORTED_MODULE_0__.isSome),n=[...t,...a.map((e=>e.objectId))];if(this.removeIds(n),this._invalidate(),null==this._edits)return void(this._edits={type:"append",addOrUpdate:_support_FeatureSetReaderJSON_js__WEBPACK_IMPORTED_MODULE_4__.FeatureSetReaderJSON.fromOptimizedFeatures(a,o,d),id:this.tile.id,status:_support_UpdateToken_js__WEBPACK_IMPORTED_MODULE_5__.UpdateToken.empty(),end:!0});this.requests.done.forEach((e=>e.message.end=!1));this._edits.addOrUpdate.append(s.features())}*readers(){for(const{message:e}of this.requests.done)null!=e.addOrUpdate&&(yield e.addOrUpdate);null!=this._edits&&null!=this._edits.addOrUpdate&&(yield this._edits.addOrUpdate)}_invalidate(){for(const e of this.requests.done)e.message.status=_support_UpdateToken_js__WEBPACK_IMPORTED_MODULE_5__.UpdateToken.empty();null!=this._edits&&(this._edits.status=_support_UpdateToken_js__WEBPACK_IMPORTED_MODULE_5__.UpdateToken.empty())}removeIds(e){this._invalidate();for(const{message:s}of this.requests.done){const t=s.addOrUpdate;null!=t&&(t.removeIds(e),t.isEmpty&&((0,_core_has_js__WEBPACK_IMPORTED_MODULE_2__["default"])("esri-2d-update-debug")&&console.debug("Removing FeatureSetReader"),s.addOrUpdate=null))}null!=this._edits&&null!=this._edits.addOrUpdate&&this._edits.addOrUpdate.removeIds(e),this.requests.done=this.requests.done.filter((e=>e.message.addOrUpdate||e.message.end))}abort(){this._abortController.abort(),this._resolver.reject()}}


/***/ }),

/***/ "./node_modules/@arcgis/core/views/2d/layers/features/sources/DrillDownFeatureSource.js":
/*!**********************************************************************************************!*\
  !*** ./node_modules/@arcgis/core/views/2d/layers/features/sources/DrillDownFeatureSource.js ***!
  \**********************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "DrillDownFeatureSource": () => (/* binding */ a)
/* harmony export */ });
/* harmony import */ var _core_has_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../../../core/has.js */ "./node_modules/@arcgis/core/core/has.js");
/* harmony import */ var _core_promiseUtils_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../../../core/promiseUtils.js */ "./node_modules/@arcgis/core/core/promiseUtils.js");
/* harmony import */ var _BaseFeatureSource_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./BaseFeatureSource.js */ "./node_modules/@arcgis/core/views/2d/layers/features/sources/BaseFeatureSource.js");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.27/esri/copyright.txt for details.
*/
const s=(0,_core_has_js__WEBPACK_IMPORTED_MODULE_0__["default"])("esri-mobile"),i={maxDrillLevel:s?1:4,maxRecordCountFactor:s?1:3};class a extends _BaseFeatureSource_js__WEBPACK_IMPORTED_MODULE_2__.BaseFeatureSource{constructor(e){super(e)}async _fetchDataTile(r){const s=this._serviceInfo.capabilities.query.supportsMaxRecordCountFactor,a=this._subscriptions.get(r.key.id),o=a.signal,n=r.getQuantizationParameters();let c=0;const d=async(u,l)=>{const m=this._queryInfo,p=this.createTileQuery(u,{maxRecordCountFactor:s?i.maxRecordCountFactor:void 0,returnExceededLimitFeatures:!1,quantizationParameters:n});c++;try{const t=await this.enqueueQuery({tile:r,query:p,signal:o,depth:l});if(c--,(0,_core_promiseUtils_js__WEBPACK_IMPORTED_MODULE_1__.throwIfAborted)(o),!t)return;if(m!==this._queryInfo)return void d(u,l);if(t.exceededTransferLimit&&l<i.maxDrillLevel){for(const e of u.createChildTiles())d(e,l+1);return}const s={id:r.id,addOrUpdate:t,end:0===c,type:"append"};a.add({query:p,message:s}),this._onMessage(s)}catch(f){if(!(0,_core_promiseUtils_js__WEBPACK_IMPORTED_MODULE_1__.isAbortError)(f)){const e={id:r.id,addOrUpdate:null,end:!0,type:"append"};a.add({query:p,message:e}),this._onMessage(e)}}};d(r,0)}}


/***/ }),

/***/ "./node_modules/@arcgis/core/views/2d/layers/features/sources/PagedFeatureSource.js":
/*!******************************************************************************************!*\
  !*** ./node_modules/@arcgis/core/views/2d/layers/features/sources/PagedFeatureSource.js ***!
  \******************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "PagedFeatureSource": () => (/* binding */ o)
/* harmony export */ });
/* harmony import */ var _core_Error_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../../../core/Error.js */ "./node_modules/@arcgis/core/core/Error.js");
/* harmony import */ var _core_Logger_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../../../core/Logger.js */ "./node_modules/@arcgis/core/core/Logger.js");
/* harmony import */ var _core_promiseUtils_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../../../core/promiseUtils.js */ "./node_modules/@arcgis/core/core/promiseUtils.js");
/* harmony import */ var _BaseFeatureSource_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./BaseFeatureSource.js */ "./node_modules/@arcgis/core/views/2d/layers/features/sources/BaseFeatureSource.js");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.27/esri/copyright.txt for details.
*/
class o extends _BaseFeatureSource_js__WEBPACK_IMPORTED_MODULE_3__.BaseFeatureSource{constructor(e){super(e)}async _fetchDataTile(s){const i=6,o=20,n=this._subscriptions.get(s.key.id);let d=!1,c=0,u=0;const h=(e,t)=>{u--,(0,_core_promiseUtils_js__WEBPACK_IMPORTED_MODULE_2__.throwIfAborted)(n);const r=s.id,i=e.reader,o=e.query;if(!i.exceededTransferLimit){if(d=!0,0!==t&&!i.hasFeatures){const e={id:r,addOrUpdate:i,end:0===u,type:"append"};return n.add({message:e,query:o}),void this._onMessage(e)}const e={id:r,addOrUpdate:i,end:0===u,type:"append"};return n.add({message:e,query:o}),void this._onMessage(e)}const c={id:r,addOrUpdate:i,end:d&&0===u,type:"append"};n.add({message:c,query:o}),this._onMessage(c)};let m=0,p=0;for(;!d&&p++<o;){let o;for(let a=0;a<m+1;a++){const a=c++;u++,o=this._fetchDataTilePage(s,a,n).then((e=>e&&h(e,a))).catch((a=>{if(d=!0,!(0,_core_promiseUtils_js__WEBPACK_IMPORTED_MODULE_2__.isAbortError)(a)){_core_Logger_js__WEBPACK_IMPORTED_MODULE_1__["default"].getLogger("esri.views.2d.layers.features.sources.PagedFeatureSource").error(new _core_Error_js__WEBPACK_IMPORTED_MODULE_0__["default"]("mapview-query-error","Encountered error when fetching tile",{tile:s,error:a}));const r={id:s.id,addOrUpdate:null,end:d,type:"append"},i={start:this.pageSize*c,num:this.pageSize,returnExceededLimitFeatures:!0,quantizationParameters:s.getQuantizationParameters()};null!=this.maxRecordCountFactor&&(i.maxRecordCountFactor=this.maxRecordCountFactor);const o=this.createTileQuery(s,i);n.add({message:r,query:o}),this._onMessage(r)}}))}await o,(0,_core_promiseUtils_js__WEBPACK_IMPORTED_MODULE_2__.throwIfAborted)(n),m=Math.min(m+2,i)}}async _fetchDataTilePage(e,t,r){(0,_core_promiseUtils_js__WEBPACK_IMPORTED_MODULE_2__.throwIfAborted)(r);const i=this._queryInfo,o={start:this.pageSize*t,num:this.pageSize,returnExceededLimitFeatures:!0,quantizationParameters:e.getQuantizationParameters()};null!=this.maxRecordCountFactor&&(o.maxRecordCountFactor=this.maxRecordCountFactor);const n=this.createTileQuery(e,o);try{const s=r.signal,o=await this.enqueueQuery({tile:e,query:n,signal:s,depth:t});return (0,_core_promiseUtils_js__WEBPACK_IMPORTED_MODULE_2__.throwIfAborted)(r),o?i!==this._queryInfo?this._fetchDataTilePage(e,t,r):{reader:o,query:n}:null}catch(d){return (0,_core_promiseUtils_js__WEBPACK_IMPORTED_MODULE_2__.throwIfNotAbortError)(d),null}}}


/***/ }),

/***/ "./node_modules/@arcgis/core/views/2d/layers/features/sources/SnapshotFeatureSource.js":
/*!*********************************************************************************************!*\
  !*** ./node_modules/@arcgis/core/views/2d/layers/features/sources/SnapshotFeatureSource.js ***!
  \*********************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "SnapshotFeatureSource": () => (/* binding */ c)
/* harmony export */ });
/* harmony import */ var _chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../../../chunks/tslib.es6.js */ "./node_modules/@arcgis/core/chunks/tslib.es6.js");
/* harmony import */ var _core_has_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../../../core/has.js */ "./node_modules/@arcgis/core/core/has.js");
/* harmony import */ var _core_Logger_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../../../core/Logger.js */ "./node_modules/@arcgis/core/core/Logger.js");
/* harmony import */ var _core_maybe_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../../../../core/maybe.js */ "./node_modules/@arcgis/core/core/maybe.js");
/* harmony import */ var _core_promiseUtils_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../../../../core/promiseUtils.js */ "./node_modules/@arcgis/core/core/promiseUtils.js");
/* harmony import */ var _core_RandomLCG_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../../../../core/RandomLCG.js */ "./node_modules/@arcgis/core/core/RandomLCG.js");
/* harmony import */ var _core_accessorSupport_decorators_subclass_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../../../../core/accessorSupport/decorators/subclass.js */ "./node_modules/@arcgis/core/core/accessorSupport/decorators/subclass.js");
/* harmony import */ var _BaseFeatureSource_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ./BaseFeatureSource.js */ "./node_modules/@arcgis/core/views/2d/layers/features/sources/BaseFeatureSource.js");
/* harmony import */ var _support_FeatureSetReaderPBFIndirect_js__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../support/FeatureSetReaderPBFIndirect.js */ "./node_modules/@arcgis/core/views/2d/layers/features/support/FeatureSetReaderPBFIndirect.js");
/* harmony import */ var _support_UpdateToken_js__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../support/UpdateToken.js */ "./node_modules/@arcgis/core/views/2d/layers/features/support/UpdateToken.js");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.27/esri/copyright.txt for details.
*/
function l(e,t,s){const r=e.getXHydrated(),o=e.getYHydrated(),n=t.getColumnForX(r),a=Math.floor(t.normalizeCol(n));return`${s}/${Math.floor(t.getRowForY(o))}/${a}`}function h(e,t){if(null==e)return null;const s=t.transform,r=e.getQuantizationTransform();if(null==r){const[t,r]=s.scale,[o,n]=s.translate,a=-o/t,i=1/t,d=n/r,u=1/-r;return e.transform(a,d,i,u)}const[o,n]=r.scale,[a,i]=r.translate,[d,u]=s.scale,[l,h]=s.translate,c=o/d,g=(a-l)/d,p=n/u,_=(-i+h)/u;return e.transform(g,_,c,p)}let c=class extends _BaseFeatureSource_js__WEBPACK_IMPORTED_MODULE_7__.BaseFeatureSource{constructor(e){super(e),this.mode="snapshot",this._loading=!0,this._controller=new AbortController,this._downloadPromise=null,this._didSendEnd=!1,this._queries=new Array,this._invalidated=!1,this._hasAggregates=!1,this._random=new _core_RandomLCG_js__WEBPACK_IMPORTED_MODULE_5__["default"](1e3),this._store=e.store,this._markedIdsBufId=this._store.storage.createBitset()}destroy(){super.destroy(),this._controller.abort()}get loading(){return this._loading}get _signal(){return this._controller.signal}update(e,t){super.update(e,t),null==this._featureCount&&(this._featureCount=t.initialFeatureCount),null!=t.changedFeatureCount&&(this._featureCount=t.changedFeatureCount),this._hasAggregates=!!e.targets?.aggregate}async resend(e=!1){if(await this._downloadPromise,this._invalidated||e){const e=(0,_core_maybe_js__WEBPACK_IMPORTED_MODULE_3__.unwrapOrThrow)(this._featureCount,"Expected featureCount to be defined");return this._invalidated=!1,this._subscriptions.forEach((e=>e.clear())),this._downloadPromise=this._download(e),void await this._downloadPromise}const t=this._queries.map((({query:e,reader:t})=>this._sendPatchQuery(e,t)));await Promise.all(t),this._subscriptions.forEach((e=>{e.requests.done.forEach((e=>this._onMessage(e.message)))}))}async refresh(e,t){t&&(this._featureCount=t.featureCount),await this.resend(!0)}async _sendPatchQuery(e,t){const s=null!=e.outFields?e.outFields:[],o=this._queryInfo.outFields,n=o.filter((e=>!s.includes(e)));if(!n.length)return;const a=e.clone(),i=this._signal;a.returnGeometry=!1,a.returnCentroid=!1,a.outFields=n,e.outFields=o;const d=await this.enqueueQuery({query:a,depth:0,signal:i});(0,_core_promiseUtils_js__WEBPACK_IMPORTED_MODULE_4__.throwIfAborted)({signal:i}),t.joinAttributes(d)}async _fetchDataTile(e){if(!this._downloadPromise){const e=(0,_core_maybe_js__WEBPACK_IMPORTED_MODULE_3__.unwrapOrThrow)(this._featureCount,"Expected featureCount to be defined");this._downloadPromise=this._download(e)}const t=this._store.search(e),r=this._subscriptions.get(e.key.id),n=t.length-1;for(let s=0;s<n;s++){const n=h(t[s],e),a={type:"append",id:e.id,addOrUpdate:n,end:!1,status:_support_UpdateToken_js__WEBPACK_IMPORTED_MODULE_9__.UpdateToken.empty()};r.add({query:null,message:a}),this._hasAggregates||await (0,_core_promiseUtils_js__WEBPACK_IMPORTED_MODULE_4__.after)(1),this._onMessage(a)}const a=h(n>=0?t[n]:null,e),i=this._didSendEnd,d={type:"append",id:e.id,addOrUpdate:a,end:i,status:_support_UpdateToken_js__WEBPACK_IMPORTED_MODULE_9__.UpdateToken.empty()};r.add({query:null,message:d}),this._onMessage(d)}async _download(e){try{await this.whenInitialized();const t=this._store.storage.getBitset(this._markedIdsBufId),s=new Set;t.clear();const r=Math.ceil(e/this.pageSize),o=Array.from({length:r},((e,t)=>t)).sort(((e,t)=>this._random.getInt()-this._random.getInt())).map((e=>this._downloadPage(e,t,s)));await Promise.all(o),this._store.sweepFeatures(t,this._store.storage),this._store.sweepFeatureSets(s)}catch(s){_core_Logger_js__WEBPACK_IMPORTED_MODULE_2__["default"].getLogger("esri.views.2d.layers.features.sources.SnapshotFeatureSource").error("mapview-snapshot-source","Encountered and error when downloading feature snapshot",s)}this._sendEnd(),this._loading=!1}async _downloadPage(e,t,s){const o=this.pageSize,n={start:e*o,num:o,cacheHint:!0};null!=this.maxRecordCountFactor&&(n.maxRecordCountFactor=this.maxRecordCountFactor);const a=this.createQuery(n),i=this._signal,d=await this.enqueueQuery({query:a,depth:e,signal:i});(0,_core_promiseUtils_js__WEBPACK_IMPORTED_MODULE_4__.throwIfAborted)({signal:i}),this._queries.push({query:a,reader:d}),this._store.insert(d),s.add(d.instance);const u=d.getCursor();for(;u.next();)t.set(u.getDisplayId());this._send(d)}_send(e){if(!this._subscriptions.size)return;let t=null;const s=new Map,r=new Set,o=new Map;this._subscriptions.forEach((e=>{const n=e.tile;s.set(n.key.id,null),t=n.tileInfoView,r.add(n.level);const{row:a,col:i}=n.key,d=`${n.level}/${a}/${i}`,u=o.get(d)??[];u.push(e),o.set(d,u)}));for(const n of r){const r=t.getLODInfoAt(n),a=e.getCursor();for(;a.next();){const e=l(a,r,n),t=a.getIndex();if(o.has(e))for(const r of o.get(e)){const e=r.tile.id;let o=s.get(e);null==o&&(o=[],s.set(e,o)),o.push(t)}}}s.forEach(((t,s)=>{if(null!=t){const r=this._subscriptions.get(s),o={type:"append",id:s,addOrUpdate:h(_support_FeatureSetReaderPBFIndirect_js__WEBPACK_IMPORTED_MODULE_8__.FeatureSetReaderIndirect.from(e,t),r.tile),end:!1,status:_support_UpdateToken_js__WEBPACK_IMPORTED_MODULE_9__.UpdateToken.empty()};r.add({query:null,message:o}),this._onMessage(o)}}))}_sendEnd(){this._subscriptions.forEach((e=>{const t={type:"append",id:e.tile.id,addOrUpdate:null,end:!0,status:_support_UpdateToken_js__WEBPACK_IMPORTED_MODULE_9__.UpdateToken.empty()};e.add({query:null,message:t}),this._onMessage(t)})),this._didSendEnd=!0}};c=(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_subclass_js__WEBPACK_IMPORTED_MODULE_6__.subclass)("esri.view.2d.layers.features.sources.SnapshotFeatureSource")],c);


/***/ }),

/***/ "./node_modules/@arcgis/core/views/2d/layers/features/sources/StreamConnectionState.js":
/*!*********************************************************************************************!*\
  !*** ./node_modules/@arcgis/core/views/2d/layers/features/sources/StreamConnectionState.js ***!
  \*********************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "StreamConnectionState": () => (/* binding */ s)
/* harmony export */ });
/* harmony import */ var _chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../../../chunks/tslib.es6.js */ "./node_modules/@arcgis/core/chunks/tslib.es6.js");
/* harmony import */ var _core_Accessor_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../../../core/Accessor.js */ "./node_modules/@arcgis/core/core/Accessor.js");
/* harmony import */ var _core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../../../core/accessorSupport/decorators/property.js */ "./node_modules/@arcgis/core/core/accessorSupport/decorators/property.js");
/* harmony import */ var _core_accessorSupport_decorators_subclass_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../../../../core/accessorSupport/decorators/subclass.js */ "./node_modules/@arcgis/core/core/accessorSupport/decorators/subclass.js");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.27/esri/copyright.txt for details.
*/
let s=class extends _core_Accessor_js__WEBPACK_IMPORTED_MODULE_1__["default"]{constructor(r){super(r)}get connectionStatus(){return this.connection?.connectionStatus}get errorString(){return this.connection?.errorString}};(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_2__.property)()],s.prototype,"connection",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_2__.property)()],s.prototype,"connectionStatus",null),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_2__.property)()],s.prototype,"errorString",null),s=(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_subclass_js__WEBPACK_IMPORTED_MODULE_3__.subclass)("esri.views.2d.layers.features.sources.StreamConnectionState")],s);


/***/ }),

/***/ "./node_modules/@arcgis/core/views/2d/layers/features/sources/StreamSource.js":
/*!************************************************************************************!*\
  !*** ./node_modules/@arcgis/core/views/2d/layers/features/sources/StreamSource.js ***!
  \************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "StreamSource": () => (/* binding */ I)
/* harmony export */ });
/* harmony import */ var _core_handleUtils_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../../../core/handleUtils.js */ "./node_modules/@arcgis/core/core/handleUtils.js");
/* harmony import */ var _core_has_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../../../core/has.js */ "./node_modules/@arcgis/core/core/has.js");
/* harmony import */ var _chunks_rbush_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../../../chunks/rbush.js */ "./node_modules/@arcgis/core/chunks/rbush.js");
/* harmony import */ var _layers_graphics_featureConversionUtils_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../../../../layers/graphics/featureConversionUtils.js */ "./node_modules/@arcgis/core/layers/graphics/featureConversionUtils.js");
/* harmony import */ var _layers_graphics_OptimizedGeometry_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../../../../layers/graphics/OptimizedGeometry.js */ "./node_modules/@arcgis/core/layers/graphics/OptimizedGeometry.js");
/* harmony import */ var _layers_graphics_data_StreamFeatureManager_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../../../../layers/graphics/data/StreamFeatureManager.js */ "./node_modules/@arcgis/core/layers/graphics/data/StreamFeatureManager.js");
/* harmony import */ var _layers_graphics_sources_connections_createConnection_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../../../../layers/graphics/sources/connections/createConnection.js */ "./node_modules/@arcgis/core/layers/graphics/sources/connections/createConnection.js");
/* harmony import */ var _DataTileSource_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ./DataTileSource.js */ "./node_modules/@arcgis/core/views/2d/layers/features/sources/DataTileSource.js");
/* harmony import */ var _StreamConnectionState_js__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ./StreamConnectionState.js */ "./node_modules/@arcgis/core/views/2d/layers/features/sources/StreamConnectionState.js");
/* harmony import */ var _support_FeatureSetReaderJSON_js__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../support/FeatureSetReaderJSON.js */ "./node_modules/@arcgis/core/views/2d/layers/features/support/FeatureSetReaderJSON.js");
/* harmony import */ var _support_UpdateToken_js__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ../support/UpdateToken.js */ "./node_modules/@arcgis/core/views/2d/layers/features/support/UpdateToken.js");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.27/esri/copyright.txt for details.
*/
const p=2500;function _(e,t){const s=e.weakClone();if(null!=e.geometry){const i=(0,_layers_graphics_featureConversionUtils_js__WEBPACK_IMPORTED_MODULE_3__.quantizeX)(t,e.geometry.coords[0]),a=(0,_layers_graphics_featureConversionUtils_js__WEBPACK_IMPORTED_MODULE_3__.quantizeY)(t,e.geometry.coords[1]);s.geometry=new _layers_graphics_OptimizedGeometry_js__WEBPACK_IMPORTED_MODULE_4__["default"]([],[i,a])}return s}function m(e){return"esriGeometryPoint"===e?_:(t,s)=>{const n=t.weakClone(),r=new _layers_graphics_OptimizedGeometry_js__WEBPACK_IMPORTED_MODULE_4__["default"],a=!1,d=!1,c=(0,_layers_graphics_featureConversionUtils_js__WEBPACK_IMPORTED_MODULE_3__.quantizeOptimizedGeometry)(r,t.geometry,a,d,e,s,!1,!1);return n.geometry=c,n}}function g(e){return"esriGeometryPoint"===e?e=>null!=e.geometry?{minX:e.geometry.coords[0],minY:e.geometry.coords[1],maxX:e.geometry.coords[0],maxY:e.geometry.coords[1]}:{minX:1/0,minY:1/0,maxX:-1/0,maxY:-1/0}:e=>{let t=1/0,s=1/0,i=-1/0,n=-1/0;return null!=e.geometry&&e.geometry.forEachVertex(((e,r)=>{t=Math.min(t,e),s=Math.min(s,r),i=Math.max(i,e),n=Math.max(n,r)})),{minX:t,minY:s,maxX:i,maxY:n}}}function y(e,s){const i=(0,_chunks_rbush_js__WEBPACK_IMPORTED_MODULE_2__.r)(9,g(s));return i.load(e),i}function f(e,t){return e.search({minX:t.bounds[0],minY:t.bounds[1],maxX:t.bounds[2],maxY:t.bounds[3]})}class v{constructor(e,t){this.onUpdate=e,this._geometryType=t,this._objectIdToFeature=new Map,this._index=null}get _features(){const e=[];return this._objectIdToFeature.forEach((t=>e.push(t))),e}add(e){this._objectIdToFeature.set(e.objectId,e),this._index=null}get(e){return this._objectIdToFeature.has(e)?this._objectIdToFeature.get(e):null}forEach(e){this._objectIdToFeature.forEach(e)}search(e){return this._index||(this._index=y(this._features,this._geometryType)),f(this._index,e)}clear(){this._index=null,this._objectIdToFeature.clear()}removeById(e){const t=this._objectIdToFeature.get(e);return t?(this._objectIdToFeature.delete(e),this._index=null,t):null}update(e,t){this.onUpdate(e,t)}get size(){return this._objectIdToFeature.size}}class I extends _DataTileSource_js__WEBPACK_IMPORTED_MODULE_7__.DataTileSource{constructor(t){super(t),this.type="stream",this._updateIntervalId=0,this._level=0,this._isPaused=!1,this._updateInfo={websocket:0,client:0},this._inUpdate=!1;const{outSR:s}=t,{geometryType:i,objectIdField:n,timeInfo:r,purgeOptions:o,source:c,spatialReference:u,serviceFilter:l,maxReconnectionAttempts:_,maxReconnectionInterval:g,updateInterval:y,customParameters:f,enabledEventTypes:I}=t.serviceInfo,b=new v(this._onUpdate.bind(this),i),T=new _layers_graphics_data_StreamFeatureManager_js__WEBPACK_IMPORTED_MODULE_5__.StreamFeatureManager(b,n,r,o),j=(0,_layers_graphics_sources_connections_createConnection_js__WEBPACK_IMPORTED_MODULE_6__.createConnection)(c,u,s,i,l,_,g,f??{});this._connectionState=new _StreamConnectionState_js__WEBPACK_IMPORTED_MODULE_8__.StreamConnectionState({connection:j}),this._store=b,this._manager=T,this._connection=j,this._quantize=m(i),this._enabledEventTypes=new Set(I),this._handlesGroup=(0,_core_handleUtils_js__WEBPACK_IMPORTED_MODULE_0__.handlesGroup)([this._connection.on("data-received",(e=>this._onFeature(e))),this._connection.on("message-received",(e=>this._onWebSocketMessage(e)))]),this._initUpdateInterval=()=>{let e=performance.now();this._updateIntervalId=setInterval((()=>{const s=performance.now(),i=s-e;if(i>p){e=s;const t=Math.round(this._updateInfo.client/(i/1e3)),n=Math.round(this._updateInfo.websocket/(i/1e3));this._updateInfo.client=0,this._updateInfo.websocket=0,this.events.emit("updateRate",{client:t,websocket:n})}t.canAcceptRequest()&&!this._inUpdate&&this._manager.checkForUpdates()}),y)},this._isPaused=t.serviceInfo.isPaused,this._isPaused||this._initUpdateInterval()}destroy(){super.destroy(),this._clearUpdateInterval(),this._connection.destroy(),this._handlesGroup?.remove()}_fetchDataTile(){}get connectionStatus(){return this._connectionState.connectionStatus}get errorString(){return this._connectionState.errorString}updateCustomParameters(e){this._connection.updateCustomParameters(e)}pauseStream(){this._isPaused||(this._isPaused=!0,this._clearUpdateInterval())}resumeStream(){this._isPaused&&(this._isPaused=!1,this._initUpdateInterval())}sendMessageToSocket(e){this._connection.sendMessageToSocket(e)}sendMessageToClient(e){this._isPaused&&"type"in e&&"clear"===e.type?(this._store.clear(),this._subscriptions.forEach(((e,t)=>{e.didSend&&e.tile.level===this._level&&this._onMessage({type:"append",id:t,addOrUpdate:null,clear:!0,end:!0})}))):this._connection.sendMessageToClient(e)}enableEvent(e,t){t?this._enabledEventTypes.add(e):this._enabledEventTypes.delete(e)}subscribe(e,t){super.subscribe(e,t);const s=this._subscriptions.get(e.id);s.resolve(),this._level=e.level;const i=this._getTileFeatures(e);this._onMessage({type:"append",id:e.key.id,addOrUpdate:i,end:!0}),s.didSend=!0}unsubscribe(e){super.unsubscribe(e)}*readers(e){const t=this._subscriptions.get(e),{tile:s}=t;yield this._getTileFeatures(s)}createTileQuery(e){throw new Error("Service does not support tile  queries")}async resend(){this._subscriptions.forEach((e=>{const{tile:t}=e,s={type:"append",id:t.id,addOrUpdate:this._getTileFeatures(t),end:!0};this._onMessage(s)}))}_getTileFeatures(e){const t=this._store.search(e).map((t=>this._quantize(t,e.transform)));return _support_FeatureSetReaderJSON_js__WEBPACK_IMPORTED_MODULE_9__.FeatureSetReaderJSON.fromOptimizedFeatures(t,this._serviceInfo,e.transform)}_onWebSocketMessage(e){if(this._enabledEventTypes.has("message-received")&&this.events.emit("message-received",e),"type"in e)switch(e.type){case"delete":if(e.objectIds)for(const t of e.objectIds)this._manager.removeById(t);if(e.trackIds)for(const t of e.trackIds)this._manager.removeByTrackId(t);break;case"clear":this._store.forEach((e=>this._manager.removeById(e.objectId)))}}_onFeature(e){this._updateInfo.websocket++;try{this._enabledEventTypes.has("data-received")&&this.events.emit("data-received",e);const t=(0,_layers_graphics_featureConversionUtils_js__WEBPACK_IMPORTED_MODULE_3__.convertFromFeature)(e,this._serviceInfo.geometryType,!1,!1,this._serviceInfo.objectIdField);this._manager.add(t)}catch(t){}}_clearUpdateInterval(){clearInterval(this._updateIntervalId),this._updateIntervalId=0}async _onUpdate(e,t){this._inUpdate=!0;try{null!=e&&(this._updateInfo.client+=e.length),this._subscriptions.forEach(((e,t)=>{e.didSend&&e.tile.level===this._level&&this._onMessage({type:"append",id:t,addOrUpdate:null,clear:!0,end:!1})}));const t=[];this._subscriptions.forEach(((e,s)=>{if(!e.didSend||e.tile.level!==this._level)return;const i=e.tile,n={type:"append",id:s,addOrUpdate:this._getTileFeatures(i),remove:[],end:!1,status:_support_UpdateToken_js__WEBPACK_IMPORTED_MODULE_10__.UpdateToken.empty()};e.requests.stream.enqueue(n),t.push(this._onMessage(n))})),await Promise.all(t),this._subscriptions.forEach(((e,t)=>{e.didSend&&e.tile.level===this._level&&this._onMessage({type:"append",id:t,addOrUpdate:null,end:!0})}))}catch{}this._inUpdate=!1}}


/***/ }),

/***/ "./node_modules/@arcgis/core/views/2d/layers/features/sources/createSource.js":
/*!************************************************************************************!*\
  !*** ./node_modules/@arcgis/core/views/2d/layers/features/sources/createSource.js ***!
  \************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "createSource": () => (/* binding */ n)
/* harmony export */ });
/* harmony import */ var _layers_support_arcgisLayerUrl_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../../../layers/support/arcgisLayerUrl.js */ "./node_modules/@arcgis/core/layers/support/arcgisLayerUrl.js");
/* harmony import */ var _DrillDownFeatureSource_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./DrillDownFeatureSource.js */ "./node_modules/@arcgis/core/views/2d/layers/features/sources/DrillDownFeatureSource.js");
/* harmony import */ var _PagedFeatureSource_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./PagedFeatureSource.js */ "./node_modules/@arcgis/core/views/2d/layers/features/sources/PagedFeatureSource.js");
/* harmony import */ var _SnapshotFeatureSource_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./SnapshotFeatureSource.js */ "./node_modules/@arcgis/core/views/2d/layers/features/sources/SnapshotFeatureSource.js");
/* harmony import */ var _StreamSource_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./StreamSource.js */ "./node_modules/@arcgis/core/views/2d/layers/features/sources/StreamSource.js");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.27/esri/copyright.txt for details.
*/
function n(e,n,c,u,i,p){const f=a(e,n,c,u,i,p);switch(f.type){case"feature":switch(f.origin){case"hosted":case"local":return new _PagedFeatureSource_js__WEBPACK_IMPORTED_MODULE_2__.PagedFeatureSource(f);case"snapshot":return new _SnapshotFeatureSource_js__WEBPACK_IMPORTED_MODULE_3__.SnapshotFeatureSource(f);default:return new _DrillDownFeatureSource_js__WEBPACK_IMPORTED_MODULE_1__.DrillDownFeatureSource(f)}case"stream":return new _StreamSource_js__WEBPACK_IMPORTED_MODULE_4__.StreamSource(f)}}function a(r,t,o,s,n,a){switch(r.type){case"snapshot":return{type:"feature",origin:"snapshot",featureCount:r.featureCount??0,serviceInfo:r,onMessage:s,outSR:t,tileInfoView:o,canAcceptRequest:n,store:a};case"stream":return{type:"stream",serviceInfo:r,onMessage:s,outSR:t,canAcceptRequest:n};case"memory":case"on-demand":return{type:"feature",serviceInfo:r,onMessage:s,outSR:t,origin:c(r.source),tileInfoView:o,canAcceptRequest:n}}function c(r){return Array.isArray(r)?"local":"path"in r&&(0,_layers_support_arcgisLayerUrl_js__WEBPACK_IMPORTED_MODULE_0__.isHostedAgolService)(r.path)?"hosted":"unknown"}}


/***/ }),

/***/ "./node_modules/@arcgis/core/views/2d/layers/features/support/AttributeStore.js":
/*!**************************************************************************************!*\
  !*** ./node_modules/@arcgis/core/views/2d/layers/features/support/AttributeStore.js ***!
  \**************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (/* binding */ B)
/* harmony export */ });
/* harmony import */ var _core_Error_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../../../core/Error.js */ "./node_modules/@arcgis/core/core/Error.js");
/* harmony import */ var _core_has_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../../../core/has.js */ "./node_modules/@arcgis/core/core/has.js");
/* harmony import */ var _core_Logger_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../../../core/Logger.js */ "./node_modules/@arcgis/core/core/Logger.js");
/* harmony import */ var _core_mathUtils_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../../../../core/mathUtils.js */ "./node_modules/@arcgis/core/core/mathUtils.js");
/* harmony import */ var _core_maybe_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../../../../core/maybe.js */ "./node_modules/@arcgis/core/core/maybe.js");
/* harmony import */ var _core_promiseUtils_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../../../../core/promiseUtils.js */ "./node_modules/@arcgis/core/core/promiseUtils.js");
/* harmony import */ var _core_accessorSupport_diffUtils_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../../../../core/accessorSupport/diffUtils.js */ "./node_modules/@arcgis/core/core/accessorSupport/diffUtils.js");
/* harmony import */ var _core_support_WatchUpdatingTracking_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../../../../../core/support/WatchUpdatingTracking.js */ "./node_modules/@arcgis/core/core/support/WatchUpdatingTracking.js");
/* harmony import */ var _layers_support_FieldsIndex_js__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../../../../../layers/support/FieldsIndex.js */ "./node_modules/@arcgis/core/layers/support/FieldsIndex.js");
/* harmony import */ var _engine_webgl_definitions_js__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../../../engine/webgl/definitions.js */ "./node_modules/@arcgis/core/views/2d/engine/webgl/definitions.js");
/* harmony import */ var _engine_webgl_DisplayId_js__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ../../../engine/webgl/DisplayId.js */ "./node_modules/@arcgis/core/views/2d/engine/webgl/DisplayId.js");
/* harmony import */ var _engine_webgl_Utils_js__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ../../../engine/webgl/Utils.js */ "./node_modules/@arcgis/core/views/2d/engine/webgl/Utils.js");
/* harmony import */ var _engine_webgl_util_debug_js__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ../../../engine/webgl/util/debug.js */ "./node_modules/@arcgis/core/views/2d/engine/webgl/util/debug.js");
/* harmony import */ var _tileRenderers_support_visualVariablesUtils_js__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! ../tileRenderers/support/visualVariablesUtils.js */ "./node_modules/@arcgis/core/views/2d/layers/features/tileRenderers/support/visualVariablesUtils.js");
/* harmony import */ var _webgl_enums_js__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! ../../../../webgl/enums.js */ "./node_modules/@arcgis/core/views/webgl/enums.js");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.27/esri/copyright.txt for details.
*/
const E=_core_Logger_js__WEBPACK_IMPORTED_MODULE_2__["default"].getLogger("esri.views.layers.2d.features.support.AttributeStore"),k=(0,_engine_webgl_util_debug_js__WEBPACK_IMPORTED_MODULE_12__.createDebugLogger)(_engine_webgl_util_debug_js__WEBPACK_IMPORTED_MODULE_12__.DEBUG_ATTR_UPDATES,E),D={sharedArrayBuffer:(0,_core_has_js__WEBPACK_IMPORTED_MODULE_1__["default"])("esri-shared-array-buffer"),atomics:(0,_core_has_js__WEBPACK_IMPORTED_MODULE_1__["default"])("esri-atomics")};function F(t,e){return i=>e(t(i))}class I{constructor(t,e,i,s){this.size=0,this.texelSize=4,this.dirtyStart=0,this.dirtyEnd=0;const{pixelType:r,layout:a,textureOnly:n}=s;this.textureOnly=n||!1,this.pixelType=r,this._ctype=e,this.layout=a,this._resetRange(),this._shared=t,this.size=i,n||(this.data=this._initData(r,i,t,e))}get buffer(){return (0,_core_maybe_js__WEBPACK_IMPORTED_MODULE_4__.applySome)(this.data,(t=>t.buffer))}unsetComponentAllTexels(t,e){const i=this.data;for(let s=0;s<this.size*this.size;s++)i[s*this.texelSize+t]&=~e;this.dirtyStart=0,this.dirtyEnd=this.size*this.size-1}setComponentAllTexels(t,e){const i=this.data;for(let s=0;s<this.size*this.size;s++)i[s*this.texelSize+t]|=255&e;this.dirtyStart=0,this.dirtyEnd=this.size*this.size-1}setComponent(t,e,i){const s=this.data;for(const r of i)s[r*this.texelSize+t]|=e,this.dirtyStart=Math.min(this.dirtyStart,r),this.dirtyEnd=Math.max(this.dirtyEnd,r)}setComponentTexel(t,e,i){this.data[i*this.texelSize+t]|=e,this.dirtyStart=Math.min(this.dirtyStart,i),this.dirtyEnd=Math.max(this.dirtyEnd,i)}unsetComponentTexel(t,e,i){this.data[i*this.texelSize+t]&=~e,this.dirtyStart=Math.min(this.dirtyStart,i),this.dirtyEnd=Math.max(this.dirtyEnd,i)}getData(t,e){const i=(0,_engine_webgl_DisplayId_js__WEBPACK_IMPORTED_MODULE_10__.getDisplayIdTexel)(t);return this.data[i*this.texelSize+e]}setData(t,e,i){const s=(0,_engine_webgl_DisplayId_js__WEBPACK_IMPORTED_MODULE_10__.getDisplayIdTexel)(t),r=1<<e;0!=(this.layout&r)?null!=this.data&&(this.data[s*this.texelSize+e]=i,this.dirtyStart=Math.min(this.dirtyStart,s),this.dirtyEnd=Math.max(this.dirtyEnd,s)):E.error("mapview-attributes-store","Tried to set a value for a texel's readonly component")}lock(){this.pixelType===_webgl_enums_js__WEBPACK_IMPORTED_MODULE_14__.PixelType.UNSIGNED_BYTE&&this._shared&&D.atomics&&"local"!==this._ctype&&Atomics.store(this.data,0,1)}unlock(){this.pixelType===_webgl_enums_js__WEBPACK_IMPORTED_MODULE_14__.PixelType.UNSIGNED_BYTE&&this._shared&&D.atomics&&"local"!==this._ctype&&Atomics.store(this.data,0,0)}expand(t){if(this.size=t,!this.textureOnly){const e=this._initData(this.pixelType,t,this._shared,this._ctype),i=this.data;e.set(i),this.data=e}}toMessage(){const t=this.dirtyStart,e=this.dirtyEnd,i=this.texelSize;if(t>e)return null;this._resetRange();const s=!(this._shared||"local"===this._ctype),r=this.pixelType,a=this.layout,n=this.data;return{start:t,end:e,data:s&&n.slice(t*i,(e+1)*i)||null,pixelType:r,layout:a}}_initData(t,e,i,s){const r=i&&"local"!==s?SharedArrayBuffer:ArrayBuffer,a=(0,_engine_webgl_Utils_js__WEBPACK_IMPORTED_MODULE_11__.getPixelArrayCtor)(t),n=new a(new r(e*e*4*a.BYTES_PER_ELEMENT));for(let o=0;o<n.length;o+=4)n[o+1]=255;return n}_resetRange(){this.dirtyStart=2147483647,this.dirtyEnd=0}}class B{constructor(t,e){this._client=t,this.config=e,this.updatingHandles=new _core_support_WatchUpdatingTracking_js__WEBPACK_IMPORTED_MODULE_7__.WatchUpdatingTracking,this._blocks=new Array,this._filters=new Array(_engine_webgl_definitions_js__WEBPACK_IMPORTED_MODULE_9__.MAX_FILTERS),this._attributeComputeInfo=null,this._targetType=0,this._abortController=new AbortController,this._hasScaleExpr=!1,this._size=32,this._nextUpdate=null,this._currUpdate=null,this._idsToHighlight=new Set;const i=e.supportsTextureFloat?_webgl_enums_js__WEBPACK_IMPORTED_MODULE_14__.PixelType.FLOAT:_webgl_enums_js__WEBPACK_IMPORTED_MODULE_14__.PixelType.UNSIGNED_BYTE;k(`Creating AttributeStore ${D.sharedArrayBuffer?"with":"without"} shared memory`),this._blockDescriptors=[{pixelType:_webgl_enums_js__WEBPACK_IMPORTED_MODULE_14__.PixelType.UNSIGNED_BYTE,layout:1},{pixelType:_webgl_enums_js__WEBPACK_IMPORTED_MODULE_14__.PixelType.UNSIGNED_BYTE,layout:15,textureOnly:!0},{pixelType:_webgl_enums_js__WEBPACK_IMPORTED_MODULE_14__.PixelType.UNSIGNED_BYTE,layout:15,textureOnly:!0},{pixelType:i,layout:15},{pixelType:i,layout:15},{pixelType:i,layout:15},{pixelType:i,layout:15}],this._blocks=this._blockDescriptors.map((()=>null))}destroy(){this._abortController.abort(),this.updatingHandles.destroy()}get hasScaleExpr(){return this._hasScaleExpr}get _signal(){return this._abortController.signal}get hasHighlight(){return this._idsToHighlight.size>0}isUpdating(){const t=this.updatingHandles.updating||!!this._nextUpdate;return (0,_core_has_js__WEBPACK_IMPORTED_MODULE_1__["default"])("esri-2d-log-updating")&&console.log(`Updating AttributeStore: ${t}\n  -> updatingHandles ${this.updatingHandles.updating} (currUpdate: ${!!this._currUpdate})\n  -> nextUpdate: ${!!this._nextUpdate}\n`),t}update(t,e){this.config=e;const i=e.schema.processors[0].storage,s=(0,_core_accessorSupport_diffUtils_js__WEBPACK_IMPORTED_MODULE_6__.diff)(this._schema,i);if((t.targets.feature||t.targets.aggregate)&&(t.storage.data=!0),s&&((0,_core_has_js__WEBPACK_IMPORTED_MODULE_1__["default"])("esri-2d-update-debug")&&console.debug("Applying Update - AttributeStore:",s),t.storage.data=!0,this._schema=i,this._attributeComputeInfo=null,null!=i)){switch(i.target){case"feature":this._targetType=_engine_webgl_DisplayId_js__WEBPACK_IMPORTED_MODULE_10__.DISPLAY_ID_TYPE_FEATURE;break;case"aggregate":this._targetType=_engine_webgl_DisplayId_js__WEBPACK_IMPORTED_MODULE_10__.DISPLAY_ID_TYPE_AGGREGATE}if("subtype"===i.type){this._attributeComputeInfo={isSubtype:!0,subtypeField:i.subtypeField,map:new Map};for(const t in i.mapping){const e=i.mapping[t];if(null!=e&&null!=e.vvMapping)for(const i of e.vvMapping)this._bindAttribute(i,parseInt(t,10))}}else{if(this._attributeComputeInfo={isSubtype:!1,map:new Map},null!=i.vvMapping)for(const t of i.vvMapping)this._bindAttribute(t);if(null!=i.attributeMapping)for(const t of i.attributeMapping)this._bindAttribute(t)}}}onTileData(t,e){if(null==e.addOrUpdate)return;const i=e.addOrUpdate.getCursor();for(;i.next();){const t=i.getDisplayId();this.setAttributeData(t,i)}}async setHighlight(t,e){const i=1,s=this._getBlock(0),r=e.map((t=>(0,_engine_webgl_DisplayId_js__WEBPACK_IMPORTED_MODULE_10__.getDisplayIdTexel)(t)));s.lock(),s.unsetComponentAllTexels(0,i),s.setComponent(0,i,r),s.unlock(),this._idsToHighlight.clear();for(const a of t)this._idsToHighlight.add(a);await this.sendUpdates()}async updateFilters(t,e,i){(0,_core_has_js__WEBPACK_IMPORTED_MODULE_1__["default"])("esri-2d-update-debug")&&console.debug("AttributeStore::updateFilters");const{service:s,spatialReference:r}=i,{filters:a}=e,n=a.map(((t,e)=>this._updateFilter(t,e,s,r))),o=(await Promise.all(n)).some((t=>t));(0,_core_has_js__WEBPACK_IMPORTED_MODULE_1__["default"])("esri-2d-update-debug")&&console.debug("AttributeStore::updateFilters - finsihed"),o&&(t.storage.filters=!0,(0,_core_has_js__WEBPACK_IMPORTED_MODULE_1__["default"])("esri-2d-update-debug")&&console.debug("Applying Update - AttributeStore:","Filters changed"))}setData(t,e,i,s){const r=(0,_engine_webgl_DisplayId_js__WEBPACK_IMPORTED_MODULE_10__.getDisplayIdTexel)(t);this._ensureSizeForTexel(r),this._getBlock(e).setData(t,i,s)}getData(t,e,i){return this._getBlock(e).getData(t,i)}getHighlightFlag(t){return this._idsToHighlight.has(t)?_engine_webgl_definitions_js__WEBPACK_IMPORTED_MODULE_9__.HIGHLIGHT_FLAG:0}unsetAttributeData(t){const e=(0,_engine_webgl_DisplayId_js__WEBPACK_IMPORTED_MODULE_10__.getDisplayIdTexel)(t);this._getBlock(0).setData(e,0,0)}setAttributeData(t,e){const s=(0,_engine_webgl_DisplayId_js__WEBPACK_IMPORTED_MODULE_10__.getDisplayIdTexel)(t);if(this._ensureSizeForTexel(s),this._getBlock(0).setData(s,0,this.getFilterFlags(e)),this._targetType!==(0,_engine_webgl_DisplayId_js__WEBPACK_IMPORTED_MODULE_10__.getDisplayIdType)(t))return;const r=this._attributeComputeInfo,a=this.config.supportsTextureFloat?1:2,n=4;let o=null;r&&(o=r.isSubtype?r.map.get(e.readAttribute(r.subtypeField)):r.map,o&&o.size&&o.forEach(((t,r)=>{const o=r*a%n,l=Math.floor(r*a/n),h=this._getBlock(l+_engine_webgl_definitions_js__WEBPACK_IMPORTED_MODULE_9__.ATTRIBUTE_DATA_VV),u=t(e);if(this.config.supportsTextureFloat)h.setData(s,o,u);else if(u===_engine_webgl_definitions_js__WEBPACK_IMPORTED_MODULE_9__.NAN_MAGIC_NUMBER)h.setData(s,o,255),h.setData(s,o+1,255);else{const t=(0,_core_mathUtils_js__WEBPACK_IMPORTED_MODULE_3__.clamp)(Math.round(u),-32767,32766)+32768,e=255&t,r=(65280&t)>>8;h.setData(s,o,e),h.setData(s,o+1,r)}})))}sendUpdates(){if((0,_core_has_js__WEBPACK_IMPORTED_MODULE_1__["default"])("esri-2d-update-debug")&&console.debug("AttributeStore::sendUpdate"),this._nextUpdate)return this._nextUpdate.promise;if(this._currUpdate)return this._nextUpdate=(0,_core_promiseUtils_js__WEBPACK_IMPORTED_MODULE_5__.createResolver)(),this.updatingHandles.addPromise(this._nextUpdate.promise),this._nextUpdate.promise;const e={blocks:this._blocks.map((t=>null!=t?t.toMessage():null))};return this._currUpdate=this._createResources().then((()=>{const t=()=>{if(this._currUpdate=null,this._nextUpdate){const t=this._nextUpdate;this._nextUpdate=null,this.sendUpdates().then((()=>t.resolve()))}else (0,_core_has_js__WEBPACK_IMPORTED_MODULE_1__["default"])("esri-2d-update-debug")&&console.debug("AttributeStore::sendUpdate::No additional updates queued")};(0,_core_has_js__WEBPACK_IMPORTED_MODULE_1__["default"])("esri-2d-update-debug")&&console.debug("AttributeStore::sendUpdate::client.update");const i=this.updatingHandles.addPromise(this._client.update(e,this._signal).then(t).catch(t));return this._client.render(this._signal),i})).catch((e=>{if((0,_core_promiseUtils_js__WEBPACK_IMPORTED_MODULE_5__.isAbortError)(e))return this._createResourcesPromise=null,this._createResources();E.error(new _core_Error_js__WEBPACK_IMPORTED_MODULE_0__["default"]("mapview-attribute-store","Encountered an error during client update",e))})),this._currUpdate}_ensureSizeForTexel(t){for(;t>=this._size*this._size;)if(this._expand())return}_bindAttribute(t,e){function i(){const{normalizationField:e}=t;return e?i=>{const s=i.readAttribute(e);if(!s)return null;return i.readAttribute(t.field)/s}:e=>e.readAttribute(t.field)}function s(){return t.normalizationField&&E.warn("mapview-arcade","Ignoring normalizationField specified with an arcade expression which is not supported."),e=>e.getComputedNumericAtIndex(t.fieldIndex)}let r;if(null!=t.fieldIndex)r=s();else{if(!t.field)return;r=i()}const{valueRepresentation:a}=t;if(a){r=F(r,(t=>(0,_tileRenderers_support_visualVariablesUtils_js__WEBPACK_IMPORTED_MODULE_13__.getVisualVariableSizeValueRepresentationRatio)(t,a)))}const n=t=>null===t||isNaN(t)||t===1/0||t===-1/0?_engine_webgl_definitions_js__WEBPACK_IMPORTED_MODULE_9__.NAN_MAGIC_NUMBER:t,o=this._attributeComputeInfo;if(o.isSubtype){const i=o.map.get(e)??new Map;i.set(t.binding,F(r,n)),o.map.set(e,i)}else o.map.set(t.binding,F(r,n))}_createResources(){if(null!=this._createResourcesPromise)return this._createResourcesPromise;this._getBlock(_engine_webgl_definitions_js__WEBPACK_IMPORTED_MODULE_9__.ATTRIBUTE_DATA_ANIMATION),this._getBlock(_engine_webgl_definitions_js__WEBPACK_IMPORTED_MODULE_9__.ATTRIBUTE_DATA_GPGPU),k("Initializing AttributeStore");const e={shared:D.sharedArrayBuffer&&!("local"===this._client.type),size:this._size,blocks:(0,_core_maybe_js__WEBPACK_IMPORTED_MODULE_4__.mapMany)(this._blocks,(t=>({textureOnly:t.textureOnly,buffer:t.buffer,pixelType:t.pixelType})))},i=this._client.initialize(e,this._signal).catch((e=>{(0,_core_promiseUtils_js__WEBPACK_IMPORTED_MODULE_5__.isAbortError)(e)?this._createResourcesPromise=null:E.error(new _core_Error_js__WEBPACK_IMPORTED_MODULE_0__["default"]("mapview-attribute-store","Encountered an error during client initialization",e))}));return this._createResourcesPromise=i,i.then((()=>null==this._createResourcesPromise?this._createResources():void 0)),i}_getBlock(t){const e=this._blocks[t];if(null!=e)return e;k(`Initializing AttributeBlock at index ${t}`);const i=D.sharedArrayBuffer,s=this._client.type,r=new I(i,s,this._size,this._blockDescriptors[t]);return this._blocks[t]=r,this._createResourcesPromise=null,r}_expand(){if(this._size<this.config.maxTextureSize){const t=this._size<<=1;return k("Expanding block size to",t,this._blocks),(0,_core_maybe_js__WEBPACK_IMPORTED_MODULE_4__.forEachSome)(this._blocks,(e=>e.expand(t))),this._createResourcesPromise=null,this._size=t,0}return E.error(new _core_Error_js__WEBPACK_IMPORTED_MODULE_0__["default"]("mapview-limitations","Maximum number of onscreen features exceeded.")),-1}async _updateFilter(t,e,i,s){const r=this._filters[e],a=null!=r&&r.hash;if(!r&&!t)return!1;if(a===JSON.stringify(t))return!1;if(null==t){if(!r)return!1;const t=1<<e+1,i=this._getBlock(0);return this._filters[e]=null,i.setComponentAllTexels(0,t),this.sendUpdates(),!0}const n=await this._getFilter(e,i);return await n.update(t,s),!0}async _getFilter(t,e){const i=this._filters[t];if(null!=i)return i;const{default:s}=await __webpack_require__.e(/*! import() */ "node_modules_arcgis_core_views_2d_layers_features_support_FeatureFilter_js").then(__webpack_require__.bind(__webpack_require__, /*! ./FeatureFilter.js */ "./node_modules/@arcgis/core/views/2d/layers/features/support/FeatureFilter.js")),r=new s({geometryType:e.geometryType,hasM:!1,hasZ:!1,timeInfo:e.timeInfo,fieldsIndex:new _layers_support_FieldsIndex_js__WEBPACK_IMPORTED_MODULE_8__["default"](e.fields)});return this._filters[t]=r,r}isVisible(t){return!!(2&this._getBlock(0).getData(t,0))}getFilterFlags(t){let e=0;const i=(0,_engine_webgl_DisplayId_js__WEBPACK_IMPORTED_MODULE_10__.getDisplayIdFilterMask)(t.getDisplayId());for(let r=0;r<this._filters.length;r++){const s=!!(i&1<<r),a=this._filters[r];e|=(!s||null==a||a.check(t)?1:0)<<r}let s=0;if(this._idsToHighlight.size){const e=t.getObjectId();s=this.getHighlightFlag(e)}return e<<1|s}}


/***/ }),

/***/ "./node_modules/@arcgis/core/views/2d/layers/features/support/BinStore.js":
/*!********************************************************************************!*\
  !*** ./node_modules/@arcgis/core/views/2d/layers/features/support/BinStore.js ***!
  \********************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "BinStore": () => (/* binding */ A)
/* harmony export */ });
/* harmony import */ var _geometry_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../../../geometry.js */ "./node_modules/@arcgis/core/geometry.js");
/* harmony import */ var _core_Evented_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../../../core/Evented.js */ "./node_modules/@arcgis/core/core/Evented.js");
/* harmony import */ var _core_has_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../../../core/has.js */ "./node_modules/@arcgis/core/core/has.js");
/* harmony import */ var _core_Logger_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../../../../core/Logger.js */ "./node_modules/@arcgis/core/core/Logger.js");
/* harmony import */ var _core_maybe_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../../../../core/maybe.js */ "./node_modules/@arcgis/core/core/maybe.js");
/* harmony import */ var _core_accessorSupport_diffUtils_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../../../../core/accessorSupport/diffUtils.js */ "./node_modules/@arcgis/core/core/accessorSupport/diffUtils.js");
/* harmony import */ var _geohash_GeohashTree_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../../../../geohash/GeohashTree.js */ "./node_modules/@arcgis/core/geohash/GeohashTree.js");
/* harmony import */ var _geohash_geohashUtils_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../../../../../geohash/geohashUtils.js */ "./node_modules/@arcgis/core/geohash/geohashUtils.js");
/* harmony import */ var _geometry_support_aaBoundingBox_js__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../../../../../geometry/support/aaBoundingBox.js */ "./node_modules/@arcgis/core/geometry/support/aaBoundingBox.js");
/* harmony import */ var _geometry_support_Ellipsoid_js__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../../../../../geometry/support/Ellipsoid.js */ "./node_modules/@arcgis/core/geometry/support/Ellipsoid.js");
/* harmony import */ var _geometry_support_spatialReferenceUtils_js__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ../../../../../geometry/support/spatialReferenceUtils.js */ "./node_modules/@arcgis/core/geometry/support/spatialReferenceUtils.js");
/* harmony import */ var _layers_graphics_featureConversionUtils_js__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ../../../../../layers/graphics/featureConversionUtils.js */ "./node_modules/@arcgis/core/layers/graphics/featureConversionUtils.js");
/* harmony import */ var _layers_graphics_OptimizedFeature_js__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ../../../../../layers/graphics/OptimizedFeature.js */ "./node_modules/@arcgis/core/layers/graphics/OptimizedFeature.js");
/* harmony import */ var _layers_graphics_OptimizedGeometry_js__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! ../../../../../layers/graphics/OptimizedGeometry.js */ "./node_modules/@arcgis/core/layers/graphics/OptimizedGeometry.js");
/* harmony import */ var _layers_graphics_data_projectionSupport_js__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! ../../../../../layers/graphics/data/projectionSupport.js */ "./node_modules/@arcgis/core/layers/graphics/data/projectionSupport.js");
/* harmony import */ var _engine_webgl_DisplayId_js__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! ../../../engine/webgl/DisplayId.js */ "./node_modules/@arcgis/core/views/2d/engine/webgl/DisplayId.js");
/* harmony import */ var _FeatureStore2D_js__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(/*! ../FeatureStore2D.js */ "./node_modules/@arcgis/core/views/2d/layers/features/FeatureStore2D.js");
/* harmony import */ var _Store2D_js__WEBPACK_IMPORTED_MODULE_17__ = __webpack_require__(/*! ../Store2D.js */ "./node_modules/@arcgis/core/views/2d/layers/features/Store2D.js");
/* harmony import */ var _FeatureSetReaderJSON_js__WEBPACK_IMPORTED_MODULE_18__ = __webpack_require__(/*! ./FeatureSetReaderJSON.js */ "./node_modules/@arcgis/core/views/2d/layers/features/support/FeatureSetReaderJSON.js");
/* harmony import */ var _geometry_SpatialReference_js__WEBPACK_IMPORTED_MODULE_19__ = __webpack_require__(/*! ../../../../../geometry/SpatialReference.js */ "./node_modules/@arcgis/core/geometry/SpatialReference.js");
/* harmony import */ var _geometry_Polygon_js__WEBPACK_IMPORTED_MODULE_20__ = __webpack_require__(/*! ../../../../../geometry/Polygon.js */ "./node_modules/@arcgis/core/geometry/Polygon.js");
/* harmony import */ var _geometry_Extent_js__WEBPACK_IMPORTED_MODULE_21__ = __webpack_require__(/*! ../../../../../geometry/Extent.js */ "./node_modules/@arcgis/core/geometry/Extent.js");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.27/esri/copyright.txt for details.
*/
const S=_core_Logger_js__WEBPACK_IMPORTED_MODULE_3__["default"].getLogger("esri.view.2d.layers.features.support.BinStore"),F=12,G=64,R=(0,_geometry_support_aaBoundingBox_js__WEBPACK_IMPORTED_MODULE_8__.create)(),L=5;function T(e){return 57.29577951308232*e}class A extends _Store2D_js__WEBPACK_IMPORTED_MODULE_17__.Store2D{constructor(t,s,r,i){super(t,r),this.type="bin",this.events=new _core_Evented_js__WEBPACK_IMPORTED_MODULE_1__["default"],this.objectIdField="aggregateId",this.featureAdapter=_FeatureStore2D_js__WEBPACK_IMPORTED_MODULE_16__.featureAdapter,this._geohashLevel=L,this._geohashBuf=[],this._serviceInfo=i,this.geometryInfo=t.geometryInfo,this._spatialReference=s,this._projectionSupportCheck=(0,_layers_graphics_data_projectionSupport_js__WEBPACK_IMPORTED_MODULE_14__.checkProjectionSupport)(s,_geometry_SpatialReference_js__WEBPACK_IMPORTED_MODULE_19__["default"].WGS84),this._bitsets.geohash=r.getBitset(r.createBitset()),this._bitsets.inserted=r.getBitset(r.createBitset())}destroy(){this._tree&&this._tree.destroy()}get featureSpatialReference(){return this._spatialReference}get fields(){return this._fields}async updateSchema(e,t){const s=this._schema;try{await super.updateSchema(e,t),await this._projectionSupportCheck}catch(h){}this._fields=this._schema.params.fields;const a=(0,_core_accessorSupport_diffUtils_js__WEBPACK_IMPORTED_MODULE_5__.diff)(s,t);t&&(null!=a||e.source||e.storage.filters)?(((0,_core_accessorSupport_diffUtils_js__WEBPACK_IMPORTED_MODULE_5__.hasDiff)(a,"params.fields")||(0,_core_accessorSupport_diffUtils_js__WEBPACK_IMPORTED_MODULE_5__.hasDiff)(a,"params")||!this._tree||e.source)&&(this._tree&&this._tree.destroy(),this._tree=new _geohash_GeohashTree_js__WEBPACK_IMPORTED_MODULE_6__.GeohashTree(this._statisticFields,this._serviceInfo),this._tree.onRelease=e=>e.displayId&&this._storage.releaseDisplayId(e.displayId),this._geohashLevel=this._schema.params.fixedBinLevel,this._rebuildTree(),(0,_core_has_js__WEBPACK_IMPORTED_MODULE_2__["default"])("esri-2d-update-debug")&&S.info("Aggregate mesh needs update due to tree changing")),(0,_core_has_js__WEBPACK_IMPORTED_MODULE_2__["default"])("esri-2d-update-debug")&&S.info("Aggregate mesh needs update due to tree changing"),e.targets[t.name]=!0,e.mesh=!1):s&&(e.mesh=!0)}clear(){this._rebuildTree()}sweepFeatures(e,t){this._bitsets.inserted.forEachSet((s=>{if(!e.has(s)){const e=t.lookupByDisplayIdUnsafe(s);this._remove(e)}}))}sweepAggregates(e,t,s){}onTileData(e,t,s,r,i=!0){if(!this._schema||null==t.addOrUpdate)return t;this.events.emit("changed");const o=this._getTransforms(e,this._spatialReference);{const e=t.addOrUpdate.getCursor();for(;e.next();)this._update(e,r)}if(t.status.mesh||!i)return t;const a=new Array;this._getBinsForTile(a,e,o,s),t.addOrUpdate=_FeatureSetReaderJSON_js__WEBPACK_IMPORTED_MODULE_18__.FeatureSetReaderJSON.fromOptimizedFeatures(a,{fields:this.fields,geometryType:"esriGeometryPolygon",objectIdField:this.objectIdField}),t.addOrUpdate.attachStorage(s),t.end=!0,t.isRepush||(t.clear=!0);{const r=t.addOrUpdate.getCursor();for(;r.next();){const t=r.getDisplayId();this._bitsets.computed.unset(t),this.setComputedAttributes(s,r,t,e.scale)}}return t}forEachBin(e){this._tree.forEach(e)}forEach(e){this._tree.forEach((t=>{if(t.depth!==this._geohashLevel)return;const s=this._toFeatureJSON(t),r=_FeatureSetReaderJSON_js__WEBPACK_IMPORTED_MODULE_18__.FeatureSetReaderJSON.fromFeatures([s],{objectIdField:this.objectIdField,globalIdField:null,geometryType:this.geometryInfo.geometryType,fields:this.fields}).getCursor();r.next(),e(r)}))}forEachInBounds(e,t){}forEachBounds(e,t){const{hasM:s,hasZ:r}=this.geometryInfo;for(const i of e){const e=(0,_layers_graphics_featureConversionUtils_js__WEBPACK_IMPORTED_MODULE_11__.getBoundsOptimizedGeometry)(R,i.readGeometry(),r,s);null!=e&&t(e)}}onTileUpdate(e){}getAggregate(e){const t=(0,_engine_webgl_DisplayId_js__WEBPACK_IMPORTED_MODULE_15__.createDisplayId)(e,!0),r=this._tree.findIf((e=>e.displayId===t));return (0,_core_maybe_js__WEBPACK_IMPORTED_MODULE_4__.applySome)(r,(e=>this._toFeatureJSON(e)))}getAggregates(){return this._tree.findAllIf((e=>e.depth===this._geohashLevel)).map(this._toFeatureJSON.bind(this))}getDisplayId(e){const t=this._tree.findIf((t=>t.id===e));return (0,_core_maybe_js__WEBPACK_IMPORTED_MODULE_4__.applySome)(t,(e=>e.displayId))}getFeatureDisplayIdsForAggregate(e){const t=this._tree.findIf((t=>t.id===e));return null!=t?Array.from(t.displayIds):[]}getDisplayIdForReferenceId(e){const t=this._tree.findIf((t=>1===t.displayIds.size&&t.displayIds.has(e)));return (0,_core_maybe_js__WEBPACK_IMPORTED_MODULE_4__.applySome)(t,(e=>e.displayId))}_toFeatureJSON(e){const t=this._spatialReference;return{displayId:e.displayId,attributes:e.getAttributes(),geometry:(0,_layers_graphics_featureConversionUtils_js__WEBPACK_IMPORTED_MODULE_11__.convertToGeometry)(e.getGeometry(t),"esriGeometryPolygon",!1,!1),centroid:null}}_rebuildTree(){this._bitsets.computed.clear(),this._bitsets.inserted.clear(),this._tree&&this._tree.clear()}_remove(e){const t=e.getDisplayId(),s=e.getXHydrated(),r=e.getYHydrated(),i=this._geohashBuf[2*t],o=this._geohashBuf[2*t+1];this._bitsets.inserted.has(t)&&(this._bitsets.inserted.unset(t),this._tree.removeCursor(e,s,r,i,o,this._geohashLevel))}_update(e,t){const s=e.getDisplayId(),r=this._bitsets.inserted,i=t.isVisible(s);if(i===r.has(s))return;if(!i)return void this._remove(e);const o=e.getXHydrated(),a=e.getYHydrated();if(!this._setGeohash(s,o,a))return;const h=this._geohashBuf[2*s],n=this._geohashBuf[2*s+1];this._tree.insertCursor(e,s,o,a,h,n,this._geohashLevel),r.set(s)}_setGeohash(e,t,s){if(this._bitsets.geohash.has(e))return!0;const r=this._geohashBuf;if(this._spatialReference.isWebMercator){const i=T(t/_geometry_support_Ellipsoid_js__WEBPACK_IMPORTED_MODULE_9__.earth.radius),o=i-360*Math.floor((i+180)/360),h=T(Math.PI/2-2*Math.atan(Math.exp(-s/_geometry_support_Ellipsoid_js__WEBPACK_IMPORTED_MODULE_9__.earth.radius)));(0,_geohash_geohashUtils_js__WEBPACK_IMPORTED_MODULE_7__.setGeohashBuf)(r,e,h,o,F)}else{const i=(0,_layers_graphics_data_projectionSupport_js__WEBPACK_IMPORTED_MODULE_14__.project)({x:t,y:s},this._spatialReference,_geometry_SpatialReference_js__WEBPACK_IMPORTED_MODULE_19__["default"].WGS84);if(!i)return!1;(0,_geohash_geohashUtils_js__WEBPACK_IMPORTED_MODULE_7__.setGeohashBuf)(r,e,i.y,i.x,F)}return this._bitsets.geohash.set(e),!0}_getBinsForTile(e,t,s,r){try{const i=this._getGeohashBounds(t),o=this._tree.getBins(i);for(const t of o){t.displayId||(t.displayId=r.createDisplayId(!0));let i=null;const o=t.getGeometry(this._spatialReference,s.tile);o||(i=t.getGeometryCentroid(this._spatialReference,s.tile));const a=new _layers_graphics_OptimizedFeature_js__WEBPACK_IMPORTED_MODULE_12__.OptimizedFeature(o,t.getAttributes(),i);a.objectId=t.id,a.displayId=t.displayId,e.push(a)}}catch(i){return void S.error("Unable to get bins for tile",t.key.id)}}_getGeohash(e,t,s){const r={geohashX:0,geohashY:0};return (0,_geohash_geohashUtils_js__WEBPACK_IMPORTED_MODULE_7__.setGeohashXY)(r,t,e,s),r}_getGeohashBounds(e){const t=this._getGeohashLevel(e.key.level),s=[e.extent.xmin,e.extent.ymin,e.extent.xmax,e.extent.ymax],r=_geometry_Polygon_js__WEBPACK_IMPORTED_MODULE_20__["default"].fromExtent(_geometry_Extent_js__WEBPACK_IMPORTED_MODULE_21__["default"].fromBounds(s,this._spatialReference)),i=(0,_layers_graphics_data_projectionSupport_js__WEBPACK_IMPORTED_MODULE_14__.project)(r,this._spatialReference,_geometry_SpatialReference_js__WEBPACK_IMPORTED_MODULE_19__["default"].WGS84,{densificationStep:e.resolution*G}),o=(0,_layers_graphics_featureConversionUtils_js__WEBPACK_IMPORTED_MODULE_11__.convertFromPolygon)(new _layers_graphics_OptimizedGeometry_js__WEBPACK_IMPORTED_MODULE_13__["default"],i,!1,!1),a=o.coords.filter(((e,t)=>!(t%2))),h=o.coords.filter(((e,t)=>t%2)),n=Math.min(...a),d=Math.min(...h),l=Math.max(...a),g=Math.max(...h),p=this._getGeohash(n,d,t),c=this._getGeohash(l,g,t);return{bounds:s,geohashBounds:{xLL:p.geohashX,yLL:p.geohashY,xTR:c.geohashX,yTR:c.geohashY},level:t}}_getGeohashLevel(e){return this._schema.params.fixedBinLevel}_getTransforms(e,t){const s={originPosition:"upperLeft",scale:[e.resolution,e.resolution],translate:[e.bounds[0],e.bounds[3]]},r=(0,_geometry_support_spatialReferenceUtils_js__WEBPACK_IMPORTED_MODULE_10__.getInfo)(t);if(!r)return{tile:s,left:null,right:null};const[i,o]=r.valid;return{tile:s,left:{...s,translate:[o,e.bounds[3]]},right:{...s,translate:[i-o+e.bounds[0],e.bounds[3]]}}}}


/***/ }),

/***/ "./node_modules/@arcgis/core/views/2d/layers/features/support/ClusterStore.js":
/*!************************************************************************************!*\
  !*** ./node_modules/@arcgis/core/views/2d/layers/features/support/ClusterStore.js ***!
  \************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "ClusterInfo": () => (/* binding */ S),
/* harmony export */   "ClusterStore": () => (/* binding */ V)
/* harmony export */ });
/* harmony import */ var _geometry_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../../../geometry.js */ "./node_modules/@arcgis/core/geometry.js");
/* harmony import */ var _core_Evented_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../../../core/Evented.js */ "./node_modules/@arcgis/core/core/Evented.js");
/* harmony import */ var _core_has_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../../../core/has.js */ "./node_modules/@arcgis/core/core/has.js");
/* harmony import */ var _core_maybe_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../../../../core/maybe.js */ "./node_modules/@arcgis/core/core/maybe.js");
/* harmony import */ var _core_accessorSupport_diffUtils_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../../../../core/accessorSupport/diffUtils.js */ "./node_modules/@arcgis/core/core/accessorSupport/diffUtils.js");
/* harmony import */ var _geohash_GeohashTree_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../../../../geohash/GeohashTree.js */ "./node_modules/@arcgis/core/geohash/GeohashTree.js");
/* harmony import */ var _geohash_geohashUtils_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../../../../geohash/geohashUtils.js */ "./node_modules/@arcgis/core/geohash/geohashUtils.js");
/* harmony import */ var _geometry_support_aaBoundingBox_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../../../../../geometry/support/aaBoundingBox.js */ "./node_modules/@arcgis/core/geometry/support/aaBoundingBox.js");
/* harmony import */ var _geometry_support_Ellipsoid_js__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../../../../../geometry/support/Ellipsoid.js */ "./node_modules/@arcgis/core/geometry/support/Ellipsoid.js");
/* harmony import */ var _geometry_support_spatialReferenceUtils_js__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../../../../../geometry/support/spatialReferenceUtils.js */ "./node_modules/@arcgis/core/geometry/support/spatialReferenceUtils.js");
/* harmony import */ var _layers_graphics_featureConversionUtils_js__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ../../../../../layers/graphics/featureConversionUtils.js */ "./node_modules/@arcgis/core/layers/graphics/featureConversionUtils.js");
/* harmony import */ var _layers_graphics_OptimizedFeature_js__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ../../../../../layers/graphics/OptimizedFeature.js */ "./node_modules/@arcgis/core/layers/graphics/OptimizedFeature.js");
/* harmony import */ var _layers_graphics_OptimizedGeometry_js__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ../../../../../layers/graphics/OptimizedGeometry.js */ "./node_modules/@arcgis/core/layers/graphics/OptimizedGeometry.js");
/* harmony import */ var _layers_graphics_data_projectionSupport_js__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! ../../../../../layers/graphics/data/projectionSupport.js */ "./node_modules/@arcgis/core/layers/graphics/data/projectionSupport.js");
/* harmony import */ var _engine_webgl_definitions_js__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! ../../../engine/webgl/definitions.js */ "./node_modules/@arcgis/core/views/2d/engine/webgl/definitions.js");
/* harmony import */ var _engine_webgl_DisplayId_js__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! ../../../engine/webgl/DisplayId.js */ "./node_modules/@arcgis/core/views/2d/engine/webgl/DisplayId.js");
/* harmony import */ var _FeatureStore2D_js__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(/*! ../FeatureStore2D.js */ "./node_modules/@arcgis/core/views/2d/layers/features/FeatureStore2D.js");
/* harmony import */ var _Store2D_js__WEBPACK_IMPORTED_MODULE_17__ = __webpack_require__(/*! ../Store2D.js */ "./node_modules/@arcgis/core/views/2d/layers/features/Store2D.js");
/* harmony import */ var _FeatureSetReaderJSON_js__WEBPACK_IMPORTED_MODULE_18__ = __webpack_require__(/*! ./FeatureSetReaderJSON.js */ "./node_modules/@arcgis/core/views/2d/layers/features/support/FeatureSetReaderJSON.js");
/* harmony import */ var _geometry_SpatialReference_js__WEBPACK_IMPORTED_MODULE_19__ = __webpack_require__(/*! ../../../../../geometry/SpatialReference.js */ "./node_modules/@arcgis/core/geometry/SpatialReference.js");
/* harmony import */ var _geometry_Polygon_js__WEBPACK_IMPORTED_MODULE_20__ = __webpack_require__(/*! ../../../../../geometry/Polygon.js */ "./node_modules/@arcgis/core/geometry/Polygon.js");
/* harmony import */ var _geometry_Extent_js__WEBPACK_IMPORTED_MODULE_21__ = __webpack_require__(/*! ../../../../../geometry/Extent.js */ "./node_modules/@arcgis/core/geometry/Extent.js");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.27/esri/copyright.txt for details.
*/
const F=12,L=64,B=1,w=(0,_geometry_support_aaBoundingBox_js__WEBPACK_IMPORTED_MODULE_7__.create)();class S extends _layers_graphics_OptimizedFeature_js__WEBPACK_IMPORTED_MODULE_11__.OptimizedFeatureWithGeometry{constructor(e,t,s,r,o){super(new _layers_graphics_OptimizedGeometry_js__WEBPACK_IMPORTED_MODULE_12__["default"]([],[t,s]),r,null,e),this.geohashBoundsInfo=o}get count(){return this.attributes.cluster_count}static create(e,t,s,r,o,i,a,h){const n=new S(t,s,r,i,a);return n.displayId=e.createDisplayId(!0),n.referenceId=h,n.tileLevel=o,n}update(e,t,s,r,o,i){return this.geometry.coords[0]=e,this.geometry.coords[1]=t,this.tileLevel=s,this.attributes=r,this.geohashBoundsInfo=o,this.referenceId=null,this.referenceId=i,this}toJSON(){return{attributes:{...this.attributes,aggregateId:this.objectId,referenceId:1===this.attributes.cluster_count?this.referenceId:null},geometry:{x:this.geometry.coords[0],y:this.geometry.coords[1]}}}}function T(e){return 57.29577951308232*e}class V extends _Store2D_js__WEBPACK_IMPORTED_MODULE_17__.Store2D{constructor(t,s,r,o){super(t,r),this.type="cluster",this.events=new _core_Evented_js__WEBPACK_IMPORTED_MODULE_1__["default"],this.objectIdField="aggregateId",this.featureAdapter=_FeatureStore2D_js__WEBPACK_IMPORTED_MODULE_16__.featureAdapter,this._geohashLevel=0,this._tileLevel=0,this._aggregateValueRanges={},this._aggregateValueRangesChanged=!1,this._geohashBuf=[],this._clusters=new Map,this._tiles=new Map,this._serviceInfo=o,this.geometryInfo=t.geometryInfo,this._spatialReference=s,this._projectionSupportCheck=(0,_layers_graphics_data_projectionSupport_js__WEBPACK_IMPORTED_MODULE_13__.checkProjectionSupport)(s,_geometry_SpatialReference_js__WEBPACK_IMPORTED_MODULE_19__["default"].WGS84),this._bitsets.geohash=r.getBitset(r.createBitset()),this._bitsets.inserted=r.getBitset(r.createBitset())}destroy(){this._tree.destroy()}get featureSpatialReference(){return this._spatialReference}get fields(){return this._fields}async updateSchema(e,t){const i=this._schema;try{await super.updateSchema(e,t),await this._projectionSupportCheck}catch(h){}this._fields=[...this._schema.params.fields,{name:"referenceId",alias:"referenceId",type:"esriFieldTypeInteger"}];!!this._fields.some((e=>"cluster_count"===e.name))||this._fields.push({name:"cluster_count",alias:"cluster_count",type:"esriFieldTypeInteger"});const a=(0,_core_accessorSupport_diffUtils_js__WEBPACK_IMPORTED_MODULE_4__.diff)(i,t);t&&(null!=a||e.source||e.storage.filters)?(((0,_core_accessorSupport_diffUtils_js__WEBPACK_IMPORTED_MODULE_4__.hasDiff)(a,"params.fields")||!this._tree||e.source)&&(this._tree&&this._tree.destroy(),this._tree=new _geohash_GeohashTree_js__WEBPACK_IMPORTED_MODULE_5__.GeohashTree(this._statisticFields,this._serviceInfo),this._rebuildTree(),(0,_core_has_js__WEBPACK_IMPORTED_MODULE_2__["default"])("esri-2d-update-debug")&&console.debug("Aggregate mesh needs update due to tree changing")),(0,_core_has_js__WEBPACK_IMPORTED_MODULE_2__["default"])("esri-2d-update-debug")&&console.debug("Applying Update - ClusterStore:",a),e.targets[t.name]=!0,e.mesh=!1,this._aggregateValueRanges={}):i&&(e.mesh=!0)}clear(){this._rebuildTree()}sweepFeatures(e,t){this._bitsets.inserted.forEachSet((s=>{if(!e.has(s)){const e=t.lookupByDisplayIdUnsafe(s);this._remove(e)}}))}sweepAggregates(e,t,s){this._clusters.forEach(((r,o)=>{r&&r.tileLevel!==s&&(e.releaseDisplayId(r.displayId),t.unsetAttributeData(r.displayId),this._clusters.delete(o))}))}onTileData(e,t,s,r,o=!0){if(!this._schema||null==t.addOrUpdate)return t;this.events.emit("changed");const i=this._getTransforms(e,this._spatialReference);{const e=t.addOrUpdate.getCursor();for(;e.next();)this._update(e,r)}if(t.status.mesh||!o)return t;const a=new Array,h=this._schema.params.clusterRadius;this._getClustersForTile(a,e,h,s,i),t.addOrUpdate=_FeatureSetReaderJSON_js__WEBPACK_IMPORTED_MODULE_18__.FeatureSetReaderJSON.fromOptimizedFeatures(a,{fields:this.fields,geometryType:"esriGeometryPoint",objectIdField:this.objectIdField}),t.addOrUpdate.attachStorage(s),t.clear=!0,t.end=!0;{const r=t.addOrUpdate.getCursor();for(;r.next();){const t=r.getDisplayId();this._bitsets.computed.unset(t),this.setComputedAttributes(s,r,t,e.scale)}}return this._aggregateValueRangesChanged&&t.end&&(this.events.emit("valueRangesChanged",{valueRanges:this._aggregateValueRanges}),this._aggregateValueRangesChanged=!1),t}onTileUpdate({added:e,removed:t}){if(e.length){const t=e[0].level;this._tileLevel=t,this._setGeohashLevel(t)}if(!this._schema)return;const s=this._schema.params.clusterRadius;t.forEach((e=>{this._tiles.delete(e.key.id),this._markTileClustersForDeletion(e,s)}))}getAggregate(e){for(const t of this._clusters.values())if((t?.displayId&_engine_webgl_DisplayId_js__WEBPACK_IMPORTED_MODULE_15__.DISPLAY_ID_TEXEL_MASK)==(e&_engine_webgl_DisplayId_js__WEBPACK_IMPORTED_MODULE_15__.DISPLAY_ID_TEXEL_MASK))return t.toJSON();return null}getAggregates(){const e=[];for(const t of this._clusters.values())t?.tileLevel===this._tileLevel&&e.push(t.toJSON());return e}getDisplayId(e){const t=this._clusters.get(e);return t?t.displayId:null}getFeatureDisplayIdsForAggregate(e){const t=this._clusters.get(e);return t?this._tree.getRegionDisplayIds(t.geohashBoundsInfo):[]}getDisplayIdForReferenceId(e){for(const t of this._clusters.values())if(t?.referenceId===e)return t.displayId;return null}getAggregateValueRanges(){return this._aggregateValueRanges}forEach(e){this._clusters.forEach((t=>{if(!t)return;const s=t.toJSON(),r=_FeatureSetReaderJSON_js__WEBPACK_IMPORTED_MODULE_18__.FeatureSetReaderJSON.fromFeatures([s],{objectIdField:this.objectIdField,globalIdField:null,geometryType:this.geometryInfo.geometryType,fields:this.fields}).getCursor();r.next(),e(r)}))}forEachInBounds(e,t){}forEachBounds(e,t){const{hasM:s,hasZ:r}=this.geometryInfo;for(const o of e){const e=(0,_layers_graphics_featureConversionUtils_js__WEBPACK_IMPORTED_MODULE_10__.getBoundsOptimizedGeometry)(w,o.readGeometry(),r,s);null!=e&&t(e)}}size(){let e=0;return this.forEach((t=>e++)),e}_rebuildTree(){this._bitsets.computed.clear(),this._bitsets.inserted.clear(),this._tree&&this._tree.clear()}_remove(e){const t=e.getDisplayId(),s=e.getXHydrated(),r=e.getYHydrated(),o=this._geohashBuf[2*t],i=this._geohashBuf[2*t+1];this._bitsets.inserted.has(t)&&(this._bitsets.inserted.unset(t),this._tree.removeCursor(e,s,r,o,i,this._geohashLevel))}_update(e,t){const s=e.getDisplayId(),r=this._bitsets.inserted,o=t.isVisible(s);if(o===r.has(s))return;if(!o)return void this._remove(e);const i=e.getXHydrated(),a=e.getYHydrated();if(!this._setGeohash(s,i,a))return;const h=this._geohashBuf[2*s],n=this._geohashBuf[2*s+1];this._tree.insertCursor(e,s,i,a,h,n,this._geohashLevel),r.set(s)}_setGeohash(e,t,s){if(this._bitsets.geohash.has(e))return!0;const r=this._geohashBuf;if(this._spatialReference.isWebMercator){const o=T(t/_geometry_support_Ellipsoid_js__WEBPACK_IMPORTED_MODULE_8__.earth.radius),a=o-360*Math.floor((o+180)/360),h=T(Math.PI/2-2*Math.atan(Math.exp(-s/_geometry_support_Ellipsoid_js__WEBPACK_IMPORTED_MODULE_8__.earth.radius)));(0,_geohash_geohashUtils_js__WEBPACK_IMPORTED_MODULE_6__.setGeohashBuf)(r,e,h,a,F)}else{const o=(0,_layers_graphics_data_projectionSupport_js__WEBPACK_IMPORTED_MODULE_13__.project)({x:t,y:s},this._spatialReference,_geometry_SpatialReference_js__WEBPACK_IMPORTED_MODULE_19__["default"].WGS84);if(!o)return!1;(0,_geohash_geohashUtils_js__WEBPACK_IMPORTED_MODULE_6__.setGeohashBuf)(r,e,o.y,o.x,F)}return this._bitsets.geohash.set(e),!0}_getClustersForTile(e,s,r,o,i,a=!0){const h=this._schema.params.clusterPixelBuffer,n=2*r,l=Math.ceil(2**s.key.level*_engine_webgl_definitions_js__WEBPACK_IMPORTED_MODULE_14__.TILE_SIZE/n)+1,u=Math.ceil(h/n)+0,d=Math.ceil(_engine_webgl_definitions_js__WEBPACK_IMPORTED_MODULE_14__.TILE_SIZE/n),{row:f,col:m}=s.key,_=m*_engine_webgl_definitions_js__WEBPACK_IMPORTED_MODULE_14__.TILE_SIZE,y=f*_engine_webgl_definitions_js__WEBPACK_IMPORTED_MODULE_14__.TILE_SIZE,b=Math.floor(_/n)-u,v=Math.floor(y/n)-u,R=b+d+2*u,M=v+d+2*u,x=s.tileInfoView.getLODInfoAt(s.key.level);for(let I=b;I<=R;I++)for(let r=v;r<=M;r++){let h=I;x.wrap&&(h=I<0?I+l:I%l);const n=x.wrap&&I<0,u=x.wrap&&I%l!==I,d=this._lookupCluster(o,x,s.key.level,h,r,s);if(null!=d){const s=(0,_core_maybe_js__WEBPACK_IMPORTED_MODULE_3__.applySome)(i,(e=>n?e.left:u?e.right:e.tile));if(a&&null==s)continue;if(!d.count)continue;if(null!=s&&a){const t=d.geometry.clone();let r=d.attributes;t.coords[0]=(0,_layers_graphics_featureConversionUtils_js__WEBPACK_IMPORTED_MODULE_10__.quantizeX)(s,t.coords[0]),t.coords[1]=(0,_layers_graphics_featureConversionUtils_js__WEBPACK_IMPORTED_MODULE_10__.quantizeY)(s,t.coords[1]),1===d.count&&null!=d.referenceId&&(r={...d.attributes,referenceId:d.referenceId});const o=new _layers_graphics_OptimizedFeature_js__WEBPACK_IMPORTED_MODULE_11__.OptimizedFeature(t,r);o.displayId=d.displayId,e.push(o)}}}}_getGeohashLevel(e){return Math.min(Math.ceil(e/2+2),F)}_setGeohashLevel(e){const t=this._getGeohashLevel(e),s=(Math.floor(t/B)+1)*B-1;if(this._geohashLevel!==s)return this._geohashLevel=s,this._rebuildTree(),void this._bitsets.geohash.clear()}_getTransforms(e,t){const s={originPosition:"upperLeft",scale:[e.resolution,e.resolution],translate:[e.bounds[0],e.bounds[3]]},r=(0,_geometry_support_spatialReferenceUtils_js__WEBPACK_IMPORTED_MODULE_9__.getInfo)(t);if(!r)return{tile:s,left:null,right:null};const[o,i]=r.valid;return{tile:s,left:{...s,translate:[i,e.bounds[3]]},right:{...s,translate:[o-i+e.bounds[0],e.bounds[3]]}}}_getClusterId(e,t,s){return(15&e)<<28|(16383&t)<<14|16383&s}_markForDeletion(e,t,s){const r=this._getClusterId(e,t,s);this._clusters.delete(r)}_getClusterBounds(e,t,s){const r=this._schema.params.clusterRadius,o=2*r;let i=s%2?t*o:t*o-r;const a=s*o;let h=i+o;const n=a-o,l=2**e.level*_engine_webgl_definitions_js__WEBPACK_IMPORTED_MODULE_14__.TILE_SIZE;e.wrap&&i<0&&(i=0),e.wrap&&h>l&&(h=l);const u=i/_engine_webgl_definitions_js__WEBPACK_IMPORTED_MODULE_14__.TILE_SIZE,g=a/_engine_webgl_definitions_js__WEBPACK_IMPORTED_MODULE_14__.TILE_SIZE,c=h/_engine_webgl_definitions_js__WEBPACK_IMPORTED_MODULE_14__.TILE_SIZE,d=n/_engine_webgl_definitions_js__WEBPACK_IMPORTED_MODULE_14__.TILE_SIZE;return[e.getXForColumn(u),e.getYForRow(g),e.getXForColumn(c),e.getYForRow(d)]}_getGeohash(e,t,s){const r={geohashX:0,geohashY:0};return (0,_geohash_geohashUtils_js__WEBPACK_IMPORTED_MODULE_6__.setGeohashXY)(r,t,e,s),r}_getGeohashBounds(e,t){const s=this._getGeohashLevel(e.key.level);if(this._spatialReference.isWebMercator){const[e,r,o,i]=t,h={x:e,y:r},l={x:o,y:i};let u=0,g=0,c=0,d=0;{const e=T(h.x/_geometry_support_Ellipsoid_js__WEBPACK_IMPORTED_MODULE_8__.earth.radius);u=e-360*Math.floor((e+180)/360),g=T(Math.PI/2-2*Math.atan(Math.exp(-h.y/_geometry_support_Ellipsoid_js__WEBPACK_IMPORTED_MODULE_8__.earth.radius)))}{const e=T(l.x/_geometry_support_Ellipsoid_js__WEBPACK_IMPORTED_MODULE_8__.earth.radius);c=e-360*Math.floor((e+180)/360),d=T(Math.PI/2-2*Math.atan(Math.exp(-l.y/_geometry_support_Ellipsoid_js__WEBPACK_IMPORTED_MODULE_8__.earth.radius)))}const f={geohashX:0,geohashY:0},p={geohashX:0,geohashY:0};(0,_geohash_geohashUtils_js__WEBPACK_IMPORTED_MODULE_6__.setGeohashXY)(f,g,u,s),(0,_geohash_geohashUtils_js__WEBPACK_IMPORTED_MODULE_6__.setGeohashXY)(p,d,c,s);return{bounds:[e,r,o,i],geohashBounds:{xLL:f.geohashX,yLL:f.geohashY,xTR:p.geohashX,yTR:p.geohashY},level:s}}const r=_geometry_Polygon_js__WEBPACK_IMPORTED_MODULE_20__["default"].fromExtent(_geometry_Extent_js__WEBPACK_IMPORTED_MODULE_21__["default"].fromBounds(t,this._spatialReference)),o=(0,_layers_graphics_data_projectionSupport_js__WEBPACK_IMPORTED_MODULE_13__.project)(r,this._spatialReference,_geometry_SpatialReference_js__WEBPACK_IMPORTED_MODULE_19__["default"].WGS84,{densificationStep:e.resolution*L});if(!o)return null;const i=(0,_layers_graphics_featureConversionUtils_js__WEBPACK_IMPORTED_MODULE_10__.convertFromPolygon)(new _layers_graphics_OptimizedGeometry_js__WEBPACK_IMPORTED_MODULE_12__["default"],o,!1,!1),h=i.coords.filter(((e,t)=>!(t%2))),l=i.coords.filter(((e,t)=>t%2)),u=Math.min(...h),g=Math.min(...l),c=Math.max(...h),f=Math.max(...l),p=this._getGeohash(u,g,s),_=this._getGeohash(c,f,s);return{bounds:t,geohashBounds:{xLL:p.geohashX,yLL:p.geohashY,xTR:_.geohashX,yTR:_.geohashY},level:s}}_lookupCluster(e,t,s,r,o,i){const a=this._getClusterId(s,r,o),h=this._clusters.get(a),n=this._getClusterBounds(t,r,o),l=this._getGeohashBounds(i,n);if(null==l)return null;const u=this._tree.getRegionStatistics(l),{count:g,xTotal:c,yTotal:d,referenceId:f}=u,p=g?c/g:0,m=g?d/g:0;if(0===g)return this._clusters.set(a,null),null;const _={cluster_count:g,...u.attributes},y=null!=h?h.update(p,m,s,_,l,f):S.create(e,a,p,m,s,_,l,f);if(0===g){const[e,t,s,r]=n;y.geometry.coords[0]=(e+s)/2,y.geometry.coords[1]=(t+r)/2}return this._clusters.set(a,y),this._updateAggregateValueRangeForCluster(y,y.tileLevel),y}_updateAggregateValueRangeForCluster(e,t){const s=this._aggregateValueRanges[t]||{minValue:1/0,maxValue:0},r=s.minValue,o=s.maxValue;s.minValue=Math.min(r,e.count),s.maxValue=Math.max(o,e.count),this._aggregateValueRanges[t]=s,r===s.minValue&&o===s.maxValue||(this._aggregateValueRangesChanged=!0)}_markTileClustersForDeletion(e,t){const s=2*t,r=Math.ceil(_engine_webgl_definitions_js__WEBPACK_IMPORTED_MODULE_14__.TILE_SIZE/s),{row:o,col:i}=e.key,a=i*_engine_webgl_definitions_js__WEBPACK_IMPORTED_MODULE_14__.TILE_SIZE,h=o*_engine_webgl_definitions_js__WEBPACK_IMPORTED_MODULE_14__.TILE_SIZE,n=Math.floor(a/s),l=Math.floor(h/s);for(let u=n;u<n+r;u++)for(let t=l;t<l+r;t++)this._markForDeletion(e.key.level,u,t)}}


/***/ }),

/***/ "./node_modules/@arcgis/core/views/2d/layers/features/support/ComputedAttributeStorage.js":
/*!************************************************************************************************!*\
  !*** ./node_modules/@arcgis/core/views/2d/layers/features/support/ComputedAttributeStorage.js ***!
  \************************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "ComputedAttributeStorage": () => (/* binding */ r)
/* harmony export */ });
/* harmony import */ var _engine_webgl_DisplayId_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../engine/webgl/DisplayId.js */ "./node_modules/@arcgis/core/views/2d/engine/webgl/DisplayId.js");
/* harmony import */ var _DisplayIdGenerator_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./DisplayIdGenerator.js */ "./node_modules/@arcgis/core/views/2d/layers/features/support/DisplayIdGenerator.js");
/* harmony import */ var _StaticBitSet_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./StaticBitSet.js */ "./node_modules/@arcgis/core/views/2d/layers/features/support/StaticBitSet.js");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.27/esri/copyright.txt for details.
*/
function n(t,e,s){if(!(t.length>e))for(;t.length<=e;)t.push(s)}class r{constructor(){this._numerics=[],this._strings=[],this._idGenerator=new _DisplayIdGenerator_js__WEBPACK_IMPORTED_MODULE_1__.DisplayIdGenerator,this._allocatedSize=256,this._bitsets=[],this._instanceIds=[],this._bounds=[]}createBitset(){const e=this._bitsets.length;return this._bitsets.push(_StaticBitSet_js__WEBPACK_IMPORTED_MODULE_2__.StaticBitSet.create(this._allocatedSize,_engine_webgl_DisplayId_js__WEBPACK_IMPORTED_MODULE_0__.DISPLAY_ID_TEXEL_MASK)),e+1}getBitset(t){return this._bitsets[t-1]}_expand(){this._allocatedSize<<=1;for(const t of this._bitsets)t.resize(this._allocatedSize)}_ensureNumeric(t,e){this._numerics[t]||(this._numerics[t]=[]);n(this._numerics[t],e,0)}_ensureInstanceId(t){n(this._instanceIds,t,0)}_ensureString(t,e){this._strings[t]||(this._strings[t]=[]);n(this._strings[t],e,null)}createDisplayId(t=!1){const s=this._idGenerator.createId();return s>this._allocatedSize&&this._expand(),(0,_engine_webgl_DisplayId_js__WEBPACK_IMPORTED_MODULE_0__.createDisplayId)(s,t)}releaseDisplayId(e){for(const t of this._bitsets)t.unset(e);return this._idGenerator.releaseId(e&_engine_webgl_DisplayId_js__WEBPACK_IMPORTED_MODULE_0__.DISPLAY_ID_TEXEL_MASK)}getComputedNumeric(e,s){return this.getComputedNumericAtIndex(e&_engine_webgl_DisplayId_js__WEBPACK_IMPORTED_MODULE_0__.DISPLAY_ID_TEXEL_MASK,0)}setComputedNumeric(e,s,i){return this.setComputedNumericAtIndex(e&_engine_webgl_DisplayId_js__WEBPACK_IMPORTED_MODULE_0__.DISPLAY_ID_TEXEL_MASK,i,0)}getComputedString(e,s){return this.getComputedStringAtIndex(e&_engine_webgl_DisplayId_js__WEBPACK_IMPORTED_MODULE_0__.DISPLAY_ID_TEXEL_MASK,0)}setComputedString(e,s,i){return this.setComputedStringAtIndex(e&_engine_webgl_DisplayId_js__WEBPACK_IMPORTED_MODULE_0__.DISPLAY_ID_TEXEL_MASK,0,i)}getComputedNumericAtIndex(e,s){const i=e&_engine_webgl_DisplayId_js__WEBPACK_IMPORTED_MODULE_0__.DISPLAY_ID_TEXEL_MASK;return this._ensureNumeric(s,i),this._numerics[s][i]}setComputedNumericAtIndex(e,s,i){const n=e&_engine_webgl_DisplayId_js__WEBPACK_IMPORTED_MODULE_0__.DISPLAY_ID_TEXEL_MASK;this._ensureNumeric(s,n),this._numerics[s][n]=i}getInstanceId(e){const s=e&_engine_webgl_DisplayId_js__WEBPACK_IMPORTED_MODULE_0__.DISPLAY_ID_TEXEL_MASK;return this._ensureInstanceId(s),this._instanceIds[s]}setInstanceId(e,s){const i=e&_engine_webgl_DisplayId_js__WEBPACK_IMPORTED_MODULE_0__.DISPLAY_ID_TEXEL_MASK;this._ensureInstanceId(i),this._instanceIds[i]=s}getComputedStringAtIndex(e,s){const i=e&_engine_webgl_DisplayId_js__WEBPACK_IMPORTED_MODULE_0__.DISPLAY_ID_TEXEL_MASK;return this._ensureString(s,i),this._strings[s][i]}setComputedStringAtIndex(e,s,i){const n=e&_engine_webgl_DisplayId_js__WEBPACK_IMPORTED_MODULE_0__.DISPLAY_ID_TEXEL_MASK;this._ensureString(s,n),this._strings[s][n]=i}getXMin(e){return this._bounds[4*(e&_engine_webgl_DisplayId_js__WEBPACK_IMPORTED_MODULE_0__.DISPLAY_ID_TEXEL_MASK)]}getYMin(e){return this._bounds[4*(e&_engine_webgl_DisplayId_js__WEBPACK_IMPORTED_MODULE_0__.DISPLAY_ID_TEXEL_MASK)+1]}getXMax(e){return this._bounds[4*(e&_engine_webgl_DisplayId_js__WEBPACK_IMPORTED_MODULE_0__.DISPLAY_ID_TEXEL_MASK)+2]}getYMax(e){return this._bounds[4*(e&_engine_webgl_DisplayId_js__WEBPACK_IMPORTED_MODULE_0__.DISPLAY_ID_TEXEL_MASK)+3]}setBounds(e,s){const i=s.readHydratedGeometry();if(!i||!i.coords.length)return!1;let r=1/0,u=1/0,o=-1/0,h=-1/0;i.forEachVertex(((t,e)=>{r=Math.min(r,t),u=Math.min(u,e),o=Math.max(o,t),h=Math.max(h,e)}));const d=e&_engine_webgl_DisplayId_js__WEBPACK_IMPORTED_MODULE_0__.DISPLAY_ID_TEXEL_MASK;return n(this._bounds,4*d+4,0),this._bounds[4*d]=r,this._bounds[4*d+1]=u,this._bounds[4*d+2]=o,this._bounds[4*d+3]=h,!0}}


/***/ }),

/***/ "./node_modules/@arcgis/core/views/2d/layers/features/support/DisplayIdGenerator.js":
/*!******************************************************************************************!*\
  !*** ./node_modules/@arcgis/core/views/2d/layers/features/support/DisplayIdGenerator.js ***!
  \******************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "DisplayIdGenerator": () => (/* binding */ r)
/* harmony export */ });
/* harmony import */ var _engine_webgl_DisplayId_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../engine/webgl/DisplayId.js */ "./node_modules/@arcgis/core/views/2d/engine/webgl/DisplayId.js");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.27/esri/copyright.txt for details.
*/
class r{constructor(){this._freeIds=[],this._idCounter=1}createId(r=!1){return (0,_engine_webgl_DisplayId_js__WEBPACK_IMPORTED_MODULE_0__.createDisplayId)(this._getFreeId(),r)}releaseId(e){this._freeIds.push(e)}_getFreeId(){return this._freeIds.length?this._freeIds.pop():this._idCounter++}}


/***/ }),

/***/ "./node_modules/@arcgis/core/views/2d/layers/features/support/FeatureSetReader.js":
/*!****************************************************************************************!*\
  !*** ./node_modules/@arcgis/core/views/2d/layers/features/support/FeatureSetReader.js ***!
  \****************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "FeatureSetReader": () => (/* binding */ I)
/* harmony export */ });
/* harmony import */ var _geometry_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../../../geometry.js */ "./node_modules/@arcgis/core/geometry.js");
/* harmony import */ var _arcade_ArcadeDate_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../../../arcade/ArcadeDate.js */ "./node_modules/@arcgis/core/arcade/ArcadeDate.js");
/* harmony import */ var _arcade_arcadeTimeUtils_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../../../arcade/arcadeTimeUtils.js */ "./node_modules/@arcgis/core/arcade/arcadeTimeUtils.js");
/* harmony import */ var _core_has_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../../../../core/has.js */ "./node_modules/@arcgis/core/core/has.js");
/* harmony import */ var _core_maybe_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../../../../core/maybe.js */ "./node_modules/@arcgis/core/core/maybe.js");
/* harmony import */ var _layers_graphics_centroid_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../../../../layers/graphics/centroid.js */ "./node_modules/@arcgis/core/layers/graphics/centroid.js");
/* harmony import */ var _layers_graphics_featureConversionUtils_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../../../../layers/graphics/featureConversionUtils.js */ "./node_modules/@arcgis/core/layers/graphics/featureConversionUtils.js");
/* harmony import */ var _layers_graphics_OptimizedGeometry_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../../../../../layers/graphics/OptimizedGeometry.js */ "./node_modules/@arcgis/core/layers/graphics/OptimizedGeometry.js");
/* harmony import */ var _StaticBitSet_js__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ./StaticBitSet.js */ "./node_modules/@arcgis/core/views/2d/layers/features/support/StaticBitSet.js");
/* harmony import */ var _geometry_support_jsonUtils_js__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../../../../../geometry/support/jsonUtils.js */ "./node_modules/@arcgis/core/geometry/support/jsonUtils.js");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.27/esri/copyright.txt for details.
*/
let d=0;const h=(0,_core_has_js__WEBPACK_IMPORTED_MODULE_3__["default"])("featurelayer-simplify-thresholds")??[.5,.5,.5,.5],u=h[0],l=h[1],c=h[2],m=h[3],f=(0,_core_has_js__WEBPACK_IMPORTED_MODULE_3__["default"])("featurelayer-simplify-payload-size-factors")??[1,2,4],g=f[0],y=f[1],_=f[2],p=(0,_core_has_js__WEBPACK_IMPORTED_MODULE_3__["default"])("featurelayer-simplify-mobile-factor")??2,x=(0,_core_has_js__WEBPACK_IMPORTED_MODULE_3__["default"])("esri-mobile");class I{constructor(e,t){this.type="FeatureSetReader",this.arcadeDeclaredClass="esri.arcade.Feature",this.seen=!1,this.instance=0,this._tx=0,this._ty=0,this._sx=1,this._sy=1,this._deleted=null,this._joined=[],this._objectIdToIndex=null,this._level=0,this._datetimeMetadata=null,this.contextTimeReference=null,this.instance=e,this._layerSchema=t}static createInstance(){return d++,d=d>65535?0:d,d}get isEmpty(){return null!=this._deleted&&this._deleted.countSet()===this.getSize()}set level(e){this._level=e}getAreaSimplificationThreshold(e,t){let r=1;const s=x?p:1;t>4e6?r=_*s:t>1e6?r=y*s:t>5e5?r=g*s:t>1e5&&(r=s);let i=0;e>4e3?i=m*r:e>2e3?i=c*r:e>100?i=l:e>15&&(i=u);let n=8;return this._level<4?n=1:this._level<5?n=2:this._level<6&&(n=4),i*n}createQuantizedExtrudedQuad(e,t){return new _layers_graphics_OptimizedGeometry_js__WEBPACK_IMPORTED_MODULE_7__["default"]([5],[e-1,t,1,-1,1,1,-1,1,-1,-1])}parseTimestampOffset(e){return e}setArcadeSpatialReference(e){this._arcadeSpatialReference=e}attachStorage(e){this._storage=e}getQuantizationTransform(){throw new Error("Unable to find transform for featureSet")}getStorage(){return this._storage}getComputedNumeric(e){return this.getComputedNumericAtIndex(0)}setComputedNumeric(e,t){return this.setComputedNumericAtIndex(t,0)}getComputedString(e){return this.getComputedStringAtIndex(0)}setComputedString(e,t){return this.setComputedStringAtIndex(0,t)}getComputedNumericAtIndex(e){return this._storage.getComputedNumericAtIndex(this.getDisplayId(),e)}setComputedNumericAtIndex(e,t){this._storage.setComputedNumericAtIndex(this.getDisplayId(),e,t)}getComputedStringAtIndex(e){return this._storage.getComputedStringAtIndex(this.getDisplayId(),e)}setComputedStringAtIndex(e,t){return this._storage.setComputedStringAtIndex(this.getDisplayId(),e,t)}transform(e,t,r,s){const i=this.copy();return i._tx+=e,i._ty+=t,i._sx*=r,i._sy*=s,i}readAttribute(e,t=!1){const r=this._readAttribute(e,t);if(void 0!==r)return r;for(const s of this._joined){s.setIndex(this.getIndex());const r=s._readAttribute(e,t);if(void 0!==r)return r}}readAttributes(){const e=this._readAttributes();for(const t of this._joined){t.setIndex(this.getIndex());const r=t._readAttributes();for(const t of Object.keys(r))e[t]=r[t]}return e}joinAttributes(e){this._joined.push(e)}readArcadeFeature(){return this}hasField(e){return this.fields.has(e)}geometry(){const e=this.readHydratedGeometry(),t=(0,_layers_graphics_featureConversionUtils_js__WEBPACK_IMPORTED_MODULE_6__.convertToGeometry)(e,this.geometryType,this.hasZ,this.hasM),r=(0,_geometry_support_jsonUtils_js__WEBPACK_IMPORTED_MODULE_9__.fromJSON)(t);return r&&(r.spatialReference=this._arcadeSpatialReference),r}get dateTimeReferenceFieldIndex(){return this._datetimeMetadata||(this._datetimeMetadata=_arcade_arcadeTimeUtils_js__WEBPACK_IMPORTED_MODULE_2__.DateTimeReferenceFieldIndex.create(this._layerSchema.fields,this._layerSchema)),this._datetimeMetadata}autocastArcadeDate(t,r){return r&&r instanceof Date?this.isUnknownDateTimeField(t)?_arcade_ArcadeDate_js__WEBPACK_IMPORTED_MODULE_1__.ArcadeDate.unknownDateJSToArcadeDate(r):_arcade_ArcadeDate_js__WEBPACK_IMPORTED_MODULE_1__.ArcadeDate.dateJSAndZoneToArcadeDate(r,this.contextTimeReference?.timeZone??"system"):r}isUnknownDateTimeField(e){return"unknown"===this.dateTimeReferenceFieldIndex?.fieldTimeZone(e)}fieldSourceTimeZone(e){return this.dateTimeReferenceFieldIndex?.fieldTimeZone(e)??""}get layerPreferredTimeZone(){return this.dateTimeReferenceFieldIndex?.layerPreferredTimeZone??""}field(e){if(this.hasField(e))return this.autocastArcadeDate(e,this.readAttribute(e,!0));for(const t of this._joined)if(t.setIndex(this.getIndex()),t.hasField(e)){const r=t._readAttribute(e,!0);return this.autocastArcadeDate(e,r)}throw new Error(`Field ${e} does not exist`)}setField(e,t){throw new Error("Unable to update feature attribute values, feature is readonly")}keys(){return this.fields.fields.map((e=>e.name))}castToText(e=!1){if(!e)return JSON.stringify(this.readLegacyFeature());const t=this.readLegacyFeature();if(!t)return JSON.stringify(null);const r={geometry:t.geometry,attributes:{...t.attributes??{}}};for(const s in r.attributes){const e=r.attributes[s];e instanceof Date&&(r.attributes[s]=e.getTime())}return JSON.stringify(r)}gdbVersion(){return null}fullSchema(){return this._layerSchema}castAsJson(e=null){return{attributes:this._readAttributes(),geometry:!0===e?.keepGeometryType?this.geometry():this.geometry()?.toJSON()??null}}castAsJsonAsync(e=null,t=null){return Promise.resolve(this.castAsJson(t))}removeIds(e){if(null==this._objectIdToIndex){const e=new Map,t=this.getCursor();for(;t.next();){const s=(0,_core_maybe_js__WEBPACK_IMPORTED_MODULE_4__.unwrapOrThrow)(t.getObjectId());e.set(s,t.getIndex())}this._objectIdToIndex=e}const t=this._objectIdToIndex;for(const r of e)t.has(r)&&this.removeAtIndex(t.get(r))}removeAtIndex(e){null==this._deleted&&(this._deleted=_StaticBitSet_js__WEBPACK_IMPORTED_MODULE_8__.StaticBitSet.create(this.getSize())),this._deleted.set(e)}readGeometryForDisplay(){return this.readUnquantizedGeometry(!0)}readLegacyGeometryForDisplay(){return this.readLegacyGeometry(!0)}*features(){const e=this.getCursor();for(;e.next();)yield e.readOptimizedFeature()}_getExists(){return null==this._deleted||!this._deleted.has(this.getIndex())}_computeCentroid(){if("esriGeometryPolygon"!==this.geometryType)return null;const e=this.readUnquantizedGeometry();if(!e||e.hasIndeterminateRingOrder)return null;const t=this.getQuantizationTransform()??null;return (0,_layers_graphics_centroid_js__WEBPACK_IMPORTED_MODULE_5__.getCentroidOptimizedGeometry)(new _layers_graphics_OptimizedGeometry_js__WEBPACK_IMPORTED_MODULE_7__["default"],e,this.hasM,this.hasZ,t)}copyInto(e){e.seen=this.seen,e._storage=this._storage,e._arcadeSpatialReference=this._arcadeSpatialReference,e._joined=this._joined,e._tx=this._tx,e._ty=this._ty,e._sx=this._sx,e._sy=this._sy,e._deleted=this._deleted,e._objectIdToIndex=this._objectIdToIndex}}


/***/ }),

/***/ "./node_modules/@arcgis/core/views/2d/layers/features/support/FeatureSetReaderJSON.js":
/*!********************************************************************************************!*\
  !*** ./node_modules/@arcgis/core/views/2d/layers/features/support/FeatureSetReaderJSON.js ***!
  \********************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "FeatureSetReaderJSON": () => (/* binding */ h)
/* harmony export */ });
/* harmony import */ var _layers_graphics_featureConversionUtils_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../../../layers/graphics/featureConversionUtils.js */ "./node_modules/@arcgis/core/layers/graphics/featureConversionUtils.js");
/* harmony import */ var _layers_graphics_OptimizedFeature_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../../../layers/graphics/OptimizedFeature.js */ "./node_modules/@arcgis/core/layers/graphics/OptimizedFeature.js");
/* harmony import */ var _layers_support_FieldsIndex_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../../../layers/support/FieldsIndex.js */ "./node_modules/@arcgis/core/layers/support/FieldsIndex.js");
/* harmony import */ var _FeatureSetReader_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./FeatureSetReader.js */ "./node_modules/@arcgis/core/views/2d/layers/features/support/FeatureSetReader.js");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.27/esri/copyright.txt for details.
*/
function d({coords:t,lengths:e}){let r=0;for(const s of e){for(let e=1;e<s;e++)t[2*(r+e)]+=t[2*(r+e)-2],t[2*(r+e)+1]+=t[2*(r+e)-1];r+=s}}class h extends _FeatureSetReader_js__WEBPACK_IMPORTED_MODULE_3__.FeatureSetReader{static fromFeatures(e,r){const{objectIdField:s,geometryType:i}=r,n=(0,_layers_graphics_featureConversionUtils_js__WEBPACK_IMPORTED_MODULE_0__.convertFromFeatures)([],e,i,!1,!1,s);for(let t=0;t<n.length;t++)n[t].displayId=e[t].displayId;return h.fromOptimizedFeatures(n,r)}static fromFeatureSet(t,r){const s=(0,_layers_graphics_featureConversionUtils_js__WEBPACK_IMPORTED_MODULE_0__.convertFromFeatureSet)(t,r.objectIdField);return h.fromOptimizedFeatureSet(s,r)}static fromOptimizedFeatureSet(t,e){const{features:r}=t,s=h.fromOptimizedFeatures(r,e);return s._exceededTransferLimit=t.exceededTransferLimit,s._transform=t.transform,s._fieldsIndex=new _layers_support_FieldsIndex_js__WEBPACK_IMPORTED_MODULE_2__["default"](e.fields),s}static fromOptimizedFeatures(t,e,r){const s=_FeatureSetReader_js__WEBPACK_IMPORTED_MODULE_3__.FeatureSetReader.createInstance(),i=new h(s,t,e);return i._fieldsIndex=new _layers_support_FieldsIndex_js__WEBPACK_IMPORTED_MODULE_2__["default"](e.fields),i._transform=r,i}constructor(t,e,r){super(t,r),this._exceededTransferLimit=!1,this._featureIndex=-1,this._fieldsIndex=null,this._geometryType=r?.geometryType,this._features=e}get fields(){return this._fieldsIndex}get _current(){return this._features[this._featureIndex]}get geometryType(){return this._geometryType}get hasFeatures(){return!!this._features.length}get hasNext(){return this._featureIndex+1<this._features.length}get exceededTransferLimit(){return this._exceededTransferLimit}get hasZ(){return!1}get hasM(){return!1}removeIds(t){const e=new Set(t);this._features=this._features.filter((t=>!(null!=t.objectId&&e.has(t.objectId))))}append(t){for(const e of t)this._features.push(e)}getSize(){return this._features.length}getCursor(){return this.copy()}getQuantizationTransform(){return this._transform}getAttributeHash(){let t="";for(const e in this._current.attributes)t+=this._current.attributes[e];return t}getIndex(){return this._featureIndex}setIndex(t){this._featureIndex=t}getObjectId(){return this._current?.objectId}getDisplayId(){return this._current.displayId}setDisplayId(t){this._current.displayId=t}getGroupId(){return this._current.groupId}setGroupId(t){this._current.groupId=t}copy(){const t=new h(this.instance,this._features,this.fullSchema());return this.copyInto(t),t}next(){for(;++this._featureIndex<this._features.length&&!this._getExists(););return this._featureIndex<this._features.length}readLegacyFeature(){return (0,_layers_graphics_featureConversionUtils_js__WEBPACK_IMPORTED_MODULE_0__.convertToFeature)(this._current,this.geometryType,this.hasZ,this.hasM)}readOptimizedFeature(){return this._current}readLegacyPointGeometry(){return this.readGeometry()?{x:this.getX(),y:this.getY()}:null}readLegacyGeometry(){const t=this.readUnquantizedGeometry();return (0,_layers_graphics_featureConversionUtils_js__WEBPACK_IMPORTED_MODULE_0__.convertToGeometry)(t,this.geometryType,this.hasZ,this.hasM)}readLegacyCentroid(){const t=this.readCentroid();return null==t?null:{x:t.coords[0]*this._sx+this._tx,y:t.coords[1]*this._sy+this._ty}}readGeometryArea(){return (0,_layers_graphics_OptimizedFeature_js__WEBPACK_IMPORTED_MODULE_1__.hasGeometry)(this._current)?(0,_layers_graphics_featureConversionUtils_js__WEBPACK_IMPORTED_MODULE_0__.getQuantizedArea)(this._current.geometry,2):0}readUnquantizedGeometry(){const t=this.readGeometry();if("esriGeometryPoint"===this.geometryType||!t)return t;const e=t.clone();return d(e),e}readHydratedGeometry(){const t=this._current.geometry;if(null==t)return null;const e=t.clone();return null!=this._transform&&(0,_layers_graphics_featureConversionUtils_js__WEBPACK_IMPORTED_MODULE_0__.unquantizeOptimizedGeometry)(e,e,this.hasZ,this.hasM,this._transform),e}getXHydrated(){if(!(0,_layers_graphics_OptimizedFeature_js__WEBPACK_IMPORTED_MODULE_1__.hasGeometry)(this._current))return 0;const t=this._current.geometry.coords[0],e=this.getQuantizationTransform();return null==e?t:t*e.scale[0]+e.translate[0]}getYHydrated(){if(!(0,_layers_graphics_OptimizedFeature_js__WEBPACK_IMPORTED_MODULE_1__.hasGeometry)(this._current))return 0;const t=this._current.geometry.coords[1],e=this.getQuantizationTransform();return null==e?t:e.translate[1]-t*e.scale[1]}getX(){return (0,_layers_graphics_OptimizedFeature_js__WEBPACK_IMPORTED_MODULE_1__.hasGeometry)(this._current)?this._current.geometry.coords[0]*this._sx+this._tx:0}getY(){return (0,_layers_graphics_OptimizedFeature_js__WEBPACK_IMPORTED_MODULE_1__.hasGeometry)(this._current)?this._current.geometry.coords[1]*this._sy+this._ty:0}readGeometry(){if(!(0,_layers_graphics_OptimizedFeature_js__WEBPACK_IMPORTED_MODULE_1__.hasGeometry)(this._current)){if(null!=this._current.centroid){const[t,e]=this._current.centroid.coords;return this.createQuantizedExtrudedQuad(t,e)}return null}const t=this._current.geometry.clone();if(t.isPoint)return t.coords[0]=t.coords[0]*this._sx+this._tx,t.coords[1]=t.coords[1]*this._sy+this._ty,t;let e=0;for(const r of t.lengths)t.coords[2*e]=t.coords[2*e]*this._sx+this._tx,t.coords[2*e+1]=t.coords[2*e+1]*this._sy+this._ty,e+=r;return t}readCentroid(){return (0,_layers_graphics_OptimizedFeature_js__WEBPACK_IMPORTED_MODULE_1__.hasGeometry)(this._current)?this._computeCentroid():this._current.centroid}_readAttribute(t,e){const r=this._fieldsIndex.get(t);if(!r)return;let s=this._current.attributes[r.name];return null==s?s:("esriFieldTypeTimestampOffset"===this.fields.get(t)?.type&&(s=this.parseTimestampOffset(s)),e&&this.fields.isDateField(t)?new Date(s):s)}copyInto(t){super.copyInto(t),t._featureIndex=this._featureIndex,t._transform=this._transform,t._fieldsIndex=this._fieldsIndex}_readAttributes(){return this._current.attributes}}


/***/ }),

/***/ "./node_modules/@arcgis/core/views/2d/layers/features/support/FeatureSetReaderPBF.js":
/*!*******************************************************************************************!*\
  !*** ./node_modules/@arcgis/core/views/2d/layers/features/support/FeatureSetReaderPBF.js ***!
  \*******************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "FeatureSetReaderPBF": () => (/* binding */ S)
/* harmony export */ });
/* harmony import */ var _core_Error_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../../../core/Error.js */ "./node_modules/@arcgis/core/core/Error.js");
/* harmony import */ var _core_Logger_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../../../core/Logger.js */ "./node_modules/@arcgis/core/core/Logger.js");
/* harmony import */ var _core_maybe_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../../../core/maybe.js */ "./node_modules/@arcgis/core/core/maybe.js");
/* harmony import */ var _core_pbf_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../../../../core/pbf.js */ "./node_modules/@arcgis/core/core/pbf.js");
/* harmony import */ var _layers_graphics_featureConversionUtils_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../../../../layers/graphics/featureConversionUtils.js */ "./node_modules/@arcgis/core/layers/graphics/featureConversionUtils.js");
/* harmony import */ var _layers_graphics_OptimizedFeature_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../../../../layers/graphics/OptimizedFeature.js */ "./node_modules/@arcgis/core/layers/graphics/OptimizedFeature.js");
/* harmony import */ var _layers_graphics_OptimizedGeometry_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../../../../layers/graphics/OptimizedGeometry.js */ "./node_modules/@arcgis/core/layers/graphics/OptimizedGeometry.js");
/* harmony import */ var _FeatureSetReader_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ./FeatureSetReader.js */ "./node_modules/@arcgis/core/views/2d/layers/features/support/FeatureSetReader.js");
/* harmony import */ var _FeatureSetReaderPBFHeader_js__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ./FeatureSetReaderPBFHeader.js */ "./node_modules/@arcgis/core/views/2d/layers/features/support/FeatureSetReaderPBFHeader.js");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.27/esri/copyright.txt for details.
*/
const u=!0,c=268435455,g=128,l=128e3,_={small:{delta:new Int32Array(g),decoded:new Int32Array(g)},large:{delta:new Int32Array(l),decoded:new Int32Array(l)}};function f(e){return e<=_.small.delta.length?_.small:(e<=_.large.delta.length||(_.large.delta=new Int32Array(Math.round(1.25*e)),_.large.decoded=new Int32Array(Math.round(1.25*e))),_.large)}function y(r){try{const e=2,t=new _core_pbf_js__WEBPACK_IMPORTED_MODULE_3__["default"](new Uint8Array(r),new DataView(r));for(;t.next();){if(t.tag()===e)return I(t.getMessage());t.skip()}}catch(i){const r=new _core_Error_js__WEBPACK_IMPORTED_MODULE_0__["default"]("query:parsing-pbf","Error while parsing FeatureSet PBF payload",{error:i});_core_Logger_js__WEBPACK_IMPORTED_MODULE_1__["default"].getLogger("esri.view.2d.layers.features.support.FeatureSetReaderPBF").error(r)}return null}function I(e){const t=1;for(;e.next();){if(e.tag()===t)return e.getMessage();e.skip()}return null}function p(e){const t=1,r=2,s=3,i=4,n=5,a=6,h=7,o=8,d=9,u=e.getLength(),c=e.pos()+u;for(;e.pos()<c&&e.next();)switch(e.tag()){case t:return e.getString();case r:return e.getFloat();case s:return e.getDouble();case i:return e.getSInt32();case n:return e.getUInt32();case a:return e.getInt64();case h:return e.getUInt64();case o:return e.getSInt64();case d:return e.getBool();default:return e.skip(),null}return null}function m(e,t,r,s,i,n){return.5*Math.abs(e*s+r*n+i*t-e*n-r*t-i*s)}function x(e,t,r,s){return 0===e*s-r*t&&e*r+t*s>0}class S extends _FeatureSetReader_js__WEBPACK_IMPORTED_MODULE_7__.FeatureSetReader{static fromBuffer(e,t,r=!1){const s=t.geometryType,i=y(e),n=(0,_FeatureSetReaderPBFHeader_js__WEBPACK_IMPORTED_MODULE_8__.parseHeader)(i,"esriGeometryPoint"===s,r),a=_FeatureSetReader_js__WEBPACK_IMPORTED_MODULE_7__.FeatureSetReader.createInstance();return new S(a,i,n,t)}constructor(e,t,r,s){super(e,s),this._hasNext=!1,this._isPoints=!1,this._featureIndex=-1,this._featureOffset=0,this._cache={area:0,unquantGeometry:void 0,geometry:void 0,centroid:void 0,legacyFeature:void 0,optFeature:void 0},this._geometryType=s.geometryType,this._reader=t,this._header=r,this._hasNext=r.hasFeatures,this._isPoints="esriGeometryPoint"===s.geometryType}get fields(){return this._header.fields}get geometryType(){return this._geometryType}get _size(){return this._header.featureCount}get hasZ(){return!1}get hasM(){return!1}get stride(){return 2+(this.hasZ?1:0)+(this.hasM?1:0)}get hasFeatures(){return this._header.hasFeatures}get hasNext(){return this._hasNext}get exceededTransferLimit(){return this._header.exceededTransferLimit}getSize(){return this._size}getQuantizationTransform(){return this._header.transform}getCursor(){return this.copy()}getIndex(){return this._featureIndex}setIndex(e){this._cache.area=0,this._cache.unquantGeometry=void 0,this._cache.geometry=void 0,this._cache.centroid=void 0,this._cache.legacyFeature=void 0,this._cache.optFeature=void 0,this._featureIndex=e}getAttributeHash(){let e="";for(const t of this._header.fields.fields)e+=this._readAttributeAtIndex(t.index)+".";return e}getObjectId(){return this._readAttributeAtIndex(this._header.objectIdFieldIndex)}getDisplayId(){return this._header.displayIds[this._featureIndex]}setDisplayId(e){this._header.displayIds[this._featureIndex]=e}getGroupId(){return this._header.groupIds[this._featureIndex]}setGroupId(e){this._header.groupIds[this._featureIndex]=e}readLegacyFeature(){if(void 0===this._cache.legacyFeature){const e=this.readCentroid(),t={attributes:this.readAttributes(),geometry:this._isPoints?this.readLegacyPointGeometry():this.readLegacyGeometry(),centroid:(e&&{x:e.coords[0],y:e.coords[1]})??null};return this._cache.legacyFeature=t,t}return this._cache.legacyFeature}readOptimizedFeature(){if(void 0===this._cache.optFeature){const e=new _layers_graphics_OptimizedFeature_js__WEBPACK_IMPORTED_MODULE_5__.OptimizedFeature(this.readGeometry(),this.readAttributes(),this.readCentroid());return e.objectId=this.getObjectId(),e.displayId=this.getDisplayId(),this._cache.optFeature=e,e}return this._cache.optFeature}getXHydrated(){const e=this._header.centroid[2*this._featureIndex],t=this.getQuantizationTransform();return null==t?e:e*t.scale[0]+t.translate[0]}getYHydrated(){const e=this._header.centroid[2*this._featureIndex+1],t=this.getQuantizationTransform();return null==t?e:t.translate[1]-e*t.scale[1]}getX(){return this._header.centroid[2*this._featureIndex]*this._sx+this._tx}getY(){return this._header.centroid[2*this._featureIndex+1]*this._sy+this._ty}readLegacyPointGeometry(){return{x:this.getX(),y:this.getY()}}readLegacyGeometry(e){const t=this.readUnquantizedGeometry(e);return (0,_layers_graphics_featureConversionUtils_js__WEBPACK_IMPORTED_MODULE_4__.convertToGeometry)(t,this.geometryType,!1,!1)}readLegacyCentroid(){const e=this.readCentroid();if(!e)return null;const[t,r]=e.coords;return{x:t,y:r}}readGeometryArea(){return this._cache.area||this.readGeometry(!0),this._cache.area}readUnquantizedGeometry(e=!1){if(void 0===this._cache.unquantGeometry){const t=this.readGeometry(e);if(!t)return this._cache.unquantGeometry=void 0,null;const r=f(t.coords.length).decoded,s=t.clone(r),i=s.coords;let n=0;for(const e of s.lengths){for(let t=1;t<e;t++){const e=2*(n+t),r=2*(n+t-1);i[e]+=i[r],i[e+1]+=i[r+1]}n+=e}return this._cache.unquantGeometry=s,s}return this._cache.unquantGeometry}readHydratedGeometry(){if(this._isPoints){if(this._header.centroid[2*this._featureIndex]===c)return null;const e=this.getXHydrated(),t=this.getYHydrated();return new _layers_graphics_OptimizedGeometry_js__WEBPACK_IMPORTED_MODULE_6__["default"]([],[e,t])}const e=this.readGeometry();if(!e)return null;const t=e.clone(),r=this.getQuantizationTransform();return null!=r&&(0,_layers_graphics_featureConversionUtils_js__WEBPACK_IMPORTED_MODULE_4__.unquantizeOptimizedGeometry)(t,t,this.hasZ,this.hasM,r),t}readGeometry(e=!1){if(void 0===this._cache.geometry){let r=null;if(this._isPoints){if(this._header.centroid[2*this._featureIndex]===c)return null;const e=this.getX(),t=this.getY();r=new _layers_graphics_OptimizedGeometry_js__WEBPACK_IMPORTED_MODULE_6__["default"]([],[e,t])}else{const s=this._header.offsets.geometry[this._featureIndex],i=this._reader;if(0===s){const e=this._readServerCentroid();if(!e)return null;const[t,r]=e.coords;return this.createQuantizedExtrudedQuad(t,r)}i.move(s);try{if(r=e?this._parseGeometryForDisplay(i):this._parseGeometry(i),null===r){const e=this._readServerCentroid();if(!e)return null;const[t,r]=e.coords;return this.createQuantizedExtrudedQuad(t,r)}}catch(t){return console.error("Failed to parse geometry!",t),null}}return this._cache.geometry=r,r}return this._cache.geometry}readCentroid(){if(void 0===this._cache.centroid){let e;return e=this._computeCentroid(),e||(e=this._readServerCentroid()),this._cache.centroid=e??void 0,e??null}return this._cache.centroid}copy(){const e=this._reader.clone(),t=new S(this.instance,e,this._header,this.fullSchema());return this.copyInto(t),t}next(){for(this._cache.area=0,this._cache.unquantGeometry=void 0,this._cache.geometry=void 0,this._cache.centroid=void 0,this._cache.legacyFeature=void 0,this._cache.optFeature=void 0;++this._featureIndex<this._size&&!this._getExists(););return this._featureIndex<this._size}_readAttribute(e,t){const r=this._header.fields.get(e);if(null==r)return;let s=this._readAttributeAtIndex(r.index);"esriFieldTypeTimestampOffset"===this.fields.get(e)?.type&&(s=this.parseTimestampOffset(s));const i=this._header.fields.isDateField(r.name);return t?null==s?s:i?new Date(s):s:s}_readAttributes(){const e={};for(const t of this._header.fields.fields)e[t.name]=this._readAttributeAtIndex(t.index);return e}copyInto(e){super.copyInto(e),e._featureIndex=this._featureIndex,e._featureOffset=this._featureOffset,e._hasNext=this._hasNext}_readAttributeAtIndex(e){const t=this._header.offsets.attributes[this._featureIndex*this._header.fieldCount+e],r=this._reader;return r.move(t),p(r)}_readServerCentroid(){const e=this._header.centroid[2*this._featureIndex]+this._tx,t=this._header.centroid[2*this._featureIndex+1]+this._ty;return e===c?null:new _layers_graphics_OptimizedGeometry_js__WEBPACK_IMPORTED_MODULE_6__["default"]([],[e,t])}_parseGeometry(e){const t=2,r=3,s=e.asUnsafe(),i=s.getLength(),n=s.pos()+i,a=[],o=[];for(;s.pos()<n&&s.next();)switch(s.tag()){case t:{const e=s.getUInt32(),t=s.pos()+e;for(;s.pos()<t;)o.push(s.getUInt32());break}case r:{const e=s.getUInt32(),t=s.pos()+e;for(a.push(s.getSInt32()+this._tx),a.push(s.getSInt32()+this._ty),this.hasZ&&s.getSInt32(),this.hasM&&s.getSInt32();s.pos()<t;)a.push(s.getSInt32()),a.push(s.getSInt32()),this.hasZ&&s.getSInt32(),this.hasM&&s.getSInt32();break}default:s.skip()}return new _layers_graphics_OptimizedGeometry_js__WEBPACK_IMPORTED_MODULE_6__["default"](o,a)}_parseGeometryForDisplay(e){const t=2,s=3,i=e.asUnsafe(),n=i.getLength(),a=i.pos()+n,o=[],d=[];let c=0,g=0,l=null,_=0;const y="esriGeometryPolygon"===this.geometryType;for(;i.pos()<a&&i.next();)switch(i.tag()){case t:{const e=i.getUInt32(),t=i.pos()+e;for(;i.pos()<t;){const e=i.getUInt32();o.push(e),c+=e}l=f(2*c).delta;break}case s:{i.getUInt32();const e=2+(this.hasZ?1:0)+(this.hasM?1:0);(0,_core_maybe_js__WEBPACK_IMPORTED_MODULE_2__.assertIsSome)(l);for(const t of o)if(g+e*t>l.length)for(let e=0;e<t;e++)i.getSInt32(),i.getSInt32(),this.hasZ&&i.getSInt32(),this.hasM&&i.getSInt32();else if(y&&u){const e=this.getAreaSimplificationThreshold(t,this._header.vertexCount);let r=2,s=1;const n=!1;let a=i.getSInt32(),h=i.getSInt32();l[g++]=a,l[g++]=h,this.hasZ&&i.getSInt32(),this.hasM&&i.getSInt32();let o=i.getSInt32(),u=i.getSInt32();for(this.hasZ&&i.getSInt32(),this.hasM&&i.getSInt32();r<t;){let t=i.getSInt32(),n=i.getSInt32();this.hasZ&&i.getSInt32(),this.hasM&&i.getSInt32();const d=a+o,c=h+u;m(a,h,d,c,d+t,c+n)>=e?(_+=-.5*(d-a)*(c+h),s>1&&x(l[g-2],l[g-1],o,u)?(l[g-2]+=o,l[g-1]+=u):(l[g++]=o,l[g++]=u,s++),a=d,h=c):(t+=o,n+=u),o=t,u=n,r++}s<3||n?g-=2*s:(_+=-.5*(a+o-a)*(h+u+h),x(l[g-2],l[g-1],o,u)?(l[g-2]+=o,l[g-1]+=u,d.push(s)):(l[g++]=o,l[g++]=u,d.push(++s)))}else{let e=0,r=i.getSInt32(),s=i.getSInt32();this.hasZ&&i.getSInt32(),this.hasM&&i.getSInt32(),l[g++]=r,l[g++]=s,e+=1;for(let n=1;n<t;n++){const t=i.getSInt32(),a=i.getSInt32(),h=r+t,o=s+a;_+=-.5*(h-r)*(o+s),this.hasZ&&i.getSInt32(),this.hasM&&i.getSInt32(),n>2&&x(l[g-2],l[g-1],t,a)?(l[g-2]+=t,l[g-1]+=a):(l[g++]=t,l[g++]=a,e+=1),r=h,s=o}d.push(e)}break}default:i.skip()}if(this._cache.area=_,!d.length)return null;if(this._tx||this._ty){let e=0;(0,_core_maybe_js__WEBPACK_IMPORTED_MODULE_2__.assertIsSome)(l);for(const t of d)l[2*e]+=this._tx,l[2*e+1]+=this._ty,e+=t}return new _layers_graphics_OptimizedGeometry_js__WEBPACK_IMPORTED_MODULE_6__["default"](d,l)}}


/***/ }),

/***/ "./node_modules/@arcgis/core/views/2d/layers/features/support/FeatureSetReaderPBFHeader.js":
/*!*************************************************************************************************!*\
  !*** ./node_modules/@arcgis/core/views/2d/layers/features/support/FeatureSetReaderPBFHeader.js ***!
  \*************************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "FeatureSetHeader": () => (/* binding */ o),
/* harmony export */   "parseHeader": () => (/* binding */ a)
/* harmony export */ });
/* harmony import */ var _core_Error_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../../../core/Error.js */ "./node_modules/@arcgis/core/core/Error.js");
/* harmony import */ var _layers_support_FieldsIndex_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../../../layers/support/FieldsIndex.js */ "./node_modules/@arcgis/core/layers/support/FieldsIndex.js");
/* harmony import */ var _rest_query_operations_pbfFeatureServiceParser_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../../../rest/query/operations/pbfFeatureServiceParser.js */ "./node_modules/@arcgis/core/rest/query/operations/pbfFeatureServiceParser.js");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.27/esri/copyright.txt for details.
*/
const n=268435455;class o{constructor(){this.hasFeatures=!1,this.exceededTransferLimit=!1,this.fieldCount=0,this.featureCount=0,this.objectIdFieldIndex=0,this.vertexCount=0,this.offsets={attributes:new Array,geometry:new Array},this.centroid=new Array}}function a(a,i,c=!1){const f=1,d=3,u=9,g=12,l=13,p=15,h=a.asUnsafe(),b=h.pos(),w=new o;let m=0,y=0;const k=1,x=2,I=4,L=3;let A=null,F=null,C=null,S=!1;const j=[];for(;h.next();)switch(h.tag()){case f:A=h.getString();break;case d:F=h.getString();break;case g:C=h.processMessage(_rest_query_operations_pbfFeatureServiceParser_js__WEBPACK_IMPORTED_MODULE_2__.parseTransform);break;case u:if(w.exceededTransferLimit=h.getBool(),w.exceededTransferLimit){w.offsets.geometry=c?new Float64Array(8e3):new Int32Array(8e3),w.centroid=c?new Float64Array(16e3):new Int32Array(16e3);for(let e=0;e<w.centroid.length;e++)w.centroid[e]=n}break;case l:{const e=h.processMessage(_rest_query_operations_pbfFeatureServiceParser_js__WEBPACK_IMPORTED_MODULE_2__.parseField);e.index=m++,j.push(e);break}case p:{const e=h.getLength(),t=h.pos()+e;if(!w.exceededTransferLimit){const e=w.offsets.geometry,t=w.centroid;e.push(0),t.push(n),t.push(n)}!S&&w.exceededTransferLimit&&(S=!0,w.offsets.attributes=c?new Float64Array(8e3*m):new Uint32Array(8e3*m));let s=y*m;for(;h.pos()<t&&h.next();)switch(h.tag()){case k:{if(S)w.offsets.attributes[s++]=h.pos();else{w.offsets.attributes.push(h.pos())}const e=h.getLength();h.skipLen(e);break}case x:if(i){const e=h.getLength(),t=h.pos()+e;for(;h.pos()<t&&h.next();)switch(h.tag()){case L:{h.getUInt32();const e=h.getSInt64(),t=h.getSInt64();w.centroid[2*y]=e,w.centroid[2*y+1]=t;break}default:h.skip()}}else{w.offsets.geometry[y]=h.pos();const e=h.getLength();w.vertexCount+=e,h.skipLen(e)}break;case I:{const e=h.getLength(),t=h.pos()+e;for(;h.pos()<t&&h.next();)switch(h.tag()){case L:{h.getUInt32();const e=h.getSInt64(),t=h.getSInt64();w.centroid[2*y]=e,w.centroid[2*y+1]=t;break}default:h.skip()}break}default:h.skip()}y++,w.hasFeatures=!0;break}default:h.skip()}const U=A||F;if(!U)throw new _core_Error_js__WEBPACK_IMPORTED_MODULE_0__["default"]("FeatureSet has no objectId or globalId field name");return w.fields=new _layers_support_FieldsIndex_js__WEBPACK_IMPORTED_MODULE_1__["default"](j),w.featureCount=y,w.fieldCount=m,w.objectIdFieldIndex=w.fields.get(U)?.index,w.transform=C,w.displayIds=new Uint32Array(w.featureCount),w.groupIds=new Uint16Array(w.featureCount),h.move(b),w}


/***/ }),

/***/ "./node_modules/@arcgis/core/views/2d/layers/features/support/FeatureSetReaderPBFIndirect.js":
/*!***************************************************************************************************!*\
  !*** ./node_modules/@arcgis/core/views/2d/layers/features/support/FeatureSetReaderPBFIndirect.js ***!
  \***************************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "FeatureSetReaderIndirect": () => (/* binding */ r)
/* harmony export */ });
/* harmony import */ var _FeatureSetReader_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./FeatureSetReader.js */ "./node_modules/@arcgis/core/views/2d/layers/features/support/FeatureSetReader.js");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.27/esri/copyright.txt for details.
*/
class r extends _FeatureSetReader_js__WEBPACK_IMPORTED_MODULE_0__.FeatureSetReader{static from(e,t){return new r(e.copy(),t)}constructor(r,t){super(_FeatureSetReader_js__WEBPACK_IMPORTED_MODULE_0__.FeatureSetReader.createInstance(),r.fullSchema()),this._currentIndex=-1,this._reader=r,this._indices=t}get fields(){return this._reader.fields}get hasNext(){return this._currentIndex+1<this._indices.length}getSize(){return this._indices.length}getCursor(){return this.copy()}copy(){const e=new r(this._reader.copy(),this._indices);return e._currentIndex=this._currentIndex,e}next(){for(;this._nextIndex()&&!this._reader._getExists(););return this._currentIndex<this._indices.length}_nextIndex(){return++this._currentIndex<this._indices.length&&(this._reader.setIndex(this._indices[this._currentIndex]),!0)}setArcadeSpatialReference(e){this._reader.setArcadeSpatialReference(e)}attachStorage(e){this._reader.attachStorage(e)}get geometryType(){return this._reader.geometryType}get hasFeatures(){return this._reader.hasFeatures}get exceededTransferLimit(){return this._reader.exceededTransferLimit}get hasZ(){return this._reader.hasZ}get hasM(){return this._reader.hasM}getStorage(){return this._reader.getStorage()}getComputedNumeric(e){return this._reader.getComputedNumericAtIndex(0)}setComputedNumeric(e,r){return this._reader.setComputedNumericAtIndex(r,0)}getComputedString(e){return this._reader.getComputedStringAtIndex(0)}setComputedString(e,r){return this._reader.setComputedStringAtIndex(0,r)}getComputedNumericAtIndex(e){return this._reader.getComputedNumericAtIndex(e)}setComputedNumericAtIndex(e,r){this._reader.setComputedNumericAtIndex(e,r)}getComputedStringAtIndex(e){return this._reader.getComputedStringAtIndex(e)}setComputedStringAtIndex(e,r){return this._reader.setComputedStringAtIndex(e,r)}transform(e,r,t,d){const a=this.copy();return a._reader=this._reader.transform(e,r,t,d),a}readAttribute(e,r=!1){return this._reader.readAttribute(e,r)}readAttributes(){return this._reader.readAttributes()}joinAttributes(e){return this._reader.joinAttributes(e)}readArcadeFeature(){return this._reader.readArcadeFeature()}geometry(){return this._reader.geometry()}field(e){return this.readAttribute(e,!0)}hasField(e){return this._reader.hasField(e)}setField(e,r){return this._reader.setField(e,r)}keys(){return this._reader.keys()}castToText(e=!1){return this._reader.castToText(e)}getQuantizationTransform(){return this._reader.getQuantizationTransform()}getAttributeHash(){return this._reader.getAttributeHash()}getObjectId(){return this._reader.getObjectId()}getDisplayId(){return this._reader.getDisplayId()}setDisplayId(e){return this._reader.setDisplayId(e)}getGroupId(){return this._reader.getGroupId()}setGroupId(e){return this._reader.setGroupId(e)}getXHydrated(){return this._reader.getXHydrated()}getYHydrated(){return this._reader.getYHydrated()}getX(){return this._reader.getX()}getY(){return this._reader.getY()}setIndex(e){return this._reader.setIndex(e)}getIndex(){return this._reader.getIndex()}readLegacyFeature(){return this._reader.readLegacyFeature()}readOptimizedFeature(){return this._reader.readOptimizedFeature()}readLegacyPointGeometry(){return this._reader.readLegacyPointGeometry()}readLegacyGeometry(){return this._reader.readLegacyGeometry()}readLegacyCentroid(){return this._reader.readLegacyCentroid()}readGeometryArea(){return this._reader.readGeometryArea()}readUnquantizedGeometry(){return this._reader.readUnquantizedGeometry()}readHydratedGeometry(){return this._reader.readHydratedGeometry()}readGeometry(){return this._reader.readGeometry()}readCentroid(){return this._reader.readCentroid()}_readAttribute(e,r){throw new Error("Error: Should not be called. Underlying _reader should be used instead")}_readAttributes(){throw new Error("Error: Should not be called. Underlying _reader should be used instead")}}


/***/ }),

/***/ "./node_modules/@arcgis/core/views/2d/layers/features/support/StaticBitSet.js":
/*!************************************************************************************!*\
  !*** ./node_modules/@arcgis/core/views/2d/layers/features/support/StaticBitSet.js ***!
  \************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "StaticBitSet": () => (/* binding */ t)
/* harmony export */ });
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.27/esri/copyright.txt for details.
*/
class t{static fromBuffer(e,s){return new t(e,s)}static create(e,s=4294967295){const r=new Uint32Array(Math.ceil(e/32));return new t(r,s)}constructor(t,e){this._mask=0,this._buf=t,this._mask=e}_getIndex(t){return Math.floor(t/32)}has(t){const e=this._mask&t;return!!(this._buf[this._getIndex(e)]&1<<e%32)}hasRange(t,e){let s=t,r=e;for(;s%32&&s!==r;){if(this.has(s))return!0;s++}for(;r%32&&s!==r;){if(this.has(s))return!0;r--}if(s===r)return!1;for(let h=s/32;h!==r/32;h++){if(this._buf[h])return!0}return!1}set(t){const e=this._mask&t,s=this._getIndex(e),r=1<<e%32;this._buf[s]|=r}setRange(t,e){let s=t,r=e;for(;s%32&&s!==r;)this.set(s++);for(;r%32&&s!==r;)this.set(r--);if(s!==r)for(let h=s/32;h!==r/32;h++)this._buf[h]=4294967295}unset(t){const e=this._mask&t,s=this._getIndex(e),r=1<<e%32;this._buf[s]&=4294967295^r}resize(t){const e=this._buf,s=new Uint32Array(Math.ceil(t/32));s.set(e),this._buf=s}or(t){for(let e=0;e<this._buf.length;e++)this._buf[e]|=t._buf[e];return this}and(t){for(let e=0;e<this._buf.length;e++)this._buf[e]&=t._buf[e];return this}xor(t){for(let e=0;e<this._buf.length;e++)this._buf[e]^=t._buf[e];return this}ior(t){for(let e=0;e<this._buf.length;e++)this._buf[e]|=~t._buf[e];return this}iand(t){for(let e=0;e<this._buf.length;e++)this._buf[e]&=~t._buf[e];return this}ixor(t){for(let e=0;e<this._buf.length;e++)this._buf[e]^=~t._buf[e];return this}any(){for(let t=0;t<this._buf.length;t++)if(this._buf[t])return!0;return!1}copy(t){for(let e=0;e<this._buf.length;e++)this._buf[e]=t._buf[e];return this}clone(){return new t(this._buf.slice(),this._mask)}clear(){for(let t=0;t<this._buf.length;t++)this._buf[t]=0}forEachSet(t){for(let e=0;e<this._buf.length;e++){let s=this._buf[e],r=32*e;if(s)for(;s;){1&s&&t(r),s>>>=1,r++}}}countSet(){let t=0;return this.forEachSet((e=>{t++})),t}}


/***/ }),

/***/ "./node_modules/@arcgis/core/views/2d/layers/features/support/Tile.js":
/*!****************************************************************************!*\
  !*** ./node_modules/@arcgis/core/views/2d/layers/features/support/Tile.js ***!
  \****************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "Tile": () => (/* binding */ n)
/* harmony export */ });
/* harmony import */ var _core_ArrayPool_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../../../core/ArrayPool.js */ "./node_modules/@arcgis/core/core/ArrayPool.js");
/* harmony import */ var _geometry_Extent_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../../../geometry/Extent.js */ "./node_modules/@arcgis/core/geometry/Extent.js");
/* harmony import */ var _geometry_support_aaBoundingRect_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../../../geometry/support/aaBoundingRect.js */ "./node_modules/@arcgis/core/geometry/support/aaBoundingRect.js");
/* harmony import */ var _rest_support_QuantizationParameters_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../../../../rest/support/QuantizationParameters.js */ "./node_modules/@arcgis/core/rest/support/QuantizationParameters.js");
/* harmony import */ var _tiling_TileKey_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../../tiling/TileKey.js */ "./node_modules/@arcgis/core/views/2d/tiling/TileKey.js");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.27/esri/copyright.txt for details.
*/
class n{constructor(t,e){this.key=new _tiling_TileKey_js__WEBPACK_IMPORTED_MODULE_4__["default"](0,0,0,0),this.bounds=(0,_geometry_support_aaBoundingRect_js__WEBPACK_IMPORTED_MODULE_2__.create)(),this.objectIds=new Set,this.key.set(e);const s=t.getLODInfoAt(this.key);this.tileInfoView=t,this.tileInfoView.getTileBounds(this.bounds,this.key,!0),this.resolution=s.resolution,this.scale=s.scale,this.level=s.level}get id(){return this.key.id}get extent(){return _geometry_Extent_js__WEBPACK_IMPORTED_MODULE_1__["default"].fromBounds(this.bounds,this.tileInfoView.tileInfo.spatialReference)}get transform(){return{originPosition:"upperLeft",scale:[this.resolution,this.resolution],translate:[this.bounds[0],this.bounds[3]]}}createChildTiles(){const e=this.key.getChildKeys(),i=_core_ArrayPool_js__WEBPACK_IMPORTED_MODULE_0__["default"].acquire();for(let t=0;t<e.length;t++)i[t]=new n(this.tileInfoView,e[t]);return i}getQuantizationParameters(){return _rest_support_QuantizationParameters_js__WEBPACK_IMPORTED_MODULE_3__["default"].fromJSON({mode:"view",originPosition:"upperLeft",tolerance:this.resolution,extent:{xmin:this.bounds[0],ymin:this.bounds[1],xmax:this.bounds[2],ymax:this.bounds[3],spatialReference:this.tileInfoView.tileInfo.spatialReference}})}}


/***/ }),

/***/ "./node_modules/@arcgis/core/views/2d/layers/features/support/TileStore.js":
/*!*********************************************************************************!*\
  !*** ./node_modules/@arcgis/core/views/2d/layers/features/support/TileStore.js ***!
  \*********************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (/* binding */ d)
/* harmony export */ });
/* harmony import */ var _core_Evented_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../../../core/Evented.js */ "./node_modules/@arcgis/core/core/Evented.js");
/* harmony import */ var _core_has_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../../../core/has.js */ "./node_modules/@arcgis/core/core/has.js");
/* harmony import */ var _chunks_rbush_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../../../chunks/rbush.js */ "./node_modules/@arcgis/core/chunks/rbush.js");
/* harmony import */ var _Tile_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./Tile.js */ "./node_modules/@arcgis/core/views/2d/layers/features/support/Tile.js");
/* harmony import */ var _tiling_TileCoverage_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../../tiling/TileCoverage.js */ "./node_modules/@arcgis/core/views/2d/tiling/TileCoverage.js");
/* harmony import */ var _tiling_TileKey_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../../tiling/TileKey.js */ "./node_modules/@arcgis/core/views/2d/tiling/TileKey.js");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.27/esri/copyright.txt for details.
*/
const h={added:[],removed:[]},n=new Set,r=new _tiling_TileKey_js__WEBPACK_IMPORTED_MODULE_5__["default"](0,0,0,0);class d extends _core_Evented_js__WEBPACK_IMPORTED_MODULE_0__["default"]{constructor(e){super(),this._tiles=new Map,this._index=(0,_chunks_rbush_js__WEBPACK_IMPORTED_MODULE_2__.r)(9,(0,_core_has_js__WEBPACK_IMPORTED_MODULE_1__["default"])("esri-csp-restrictions")?e=>({minX:e.bounds[0],minY:e.bounds[1],maxX:e.bounds[2],maxY:e.bounds[3]}):[".bounds[0]",".bounds[1]",".bounds[2]",".bounds[3]"]),this.tiles=[],this.tileScheme=e}destroy(){this.clear()}clear(){this.tiles.length=0,this._tiles.clear(),this._index.clear()}has(e){return this._tiles.has(e)}get(e){return this._tiles.get(e)}boundsIntersections(e){return this._index.search({minX:e[0],minY:e[1],maxX:e[2],maxY:e[3]})}updateTiles(e){const t={added:[],removed:[]};for(const i of e.added)if(!this.has(i)){const e=new _Tile_js__WEBPACK_IMPORTED_MODULE_3__.Tile(this.tileScheme,i);this._tiles.set(i,e),this._index.insert(e),t.added.push(e)}for(const s of e.removed)if(this.has(s)){const e=this.get(s);this._tiles.delete(s),this._index.remove(e),t.removed.push(e)}this.tiles.length=0,this._tiles.forEach((e=>this.tiles.push(e))),(t.added.length||t.removed.length)&&this.emit("update",t)}setViewState(e){const t=this.tileScheme.getTileCoverage(e,0);if(!t)return;const{spans:o,lodInfo:d}=t,{level:l}=d;if(o.length>0)for(const{row:i,colFrom:a,colTo:m}of o)for(let e=a;e<=m;e++){const t=r.set(l,i,d.normalizeCol(e),d.getWorldForColumn(e)).id;if(n.add(t),!this.has(t)){const e=new _Tile_js__WEBPACK_IMPORTED_MODULE_3__.Tile(this.tileScheme,t);this._tiles.set(t,e),this._index.insert(e),this.tiles.push(e),h.added.push(e)}}for(let s=this.tiles.length-1;s>=0;s--){const e=this.tiles[s];n.has(e.id)||(this._tiles.delete(e.id),this.tiles.splice(s,1),this._index.remove(e),h.removed.push(e))}(h.added.length||h.removed.length)&&this.emit("update",h),_tiling_TileCoverage_js__WEBPACK_IMPORTED_MODULE_4__["default"].pool.release(t),n.clear(),h.added.length=0,h.removed.length=0}}


/***/ }),

/***/ "./node_modules/@arcgis/core/views/2d/layers/features/support/UpdateToken.js":
/*!***********************************************************************************!*\
  !*** ./node_modules/@arcgis/core/views/2d/layers/features/support/UpdateToken.js ***!
  \***********************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "UpdateToken": () => (/* binding */ t)
/* harmony export */ });
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.27/esri/copyright.txt for details.
*/
class t{constructor(){this.version=0,this.source=!1,this.targets={feature:!1,aggregate:!1},this.storage={filters:!1,data:!1},this.mesh=!1,this.queryFilter=!1,this.why={mesh:[],source:[]}}static create(e){const s=new t;let r;for(r in e){const t=e[r];if("object"==typeof t)for(const e in t){const a=e,i=t[a];s[r][a]=i}s[r]=t}return s}static empty(){return t.create({})}static all(){return t.create({source:!0,targets:{feature:!0,aggregate:!0},storage:{filters:!0,data:!0},mesh:!0})}unset(t){this.version=t.version,t.source&&(this.source=!1),t.targets.feature&&(this.targets.feature=!1),t.targets.aggregate&&(this.targets.aggregate=!1),t.storage.filters&&(this.storage.filters=!1),t.storage.data&&(this.storage.data=!1),t.mesh&&(this.mesh=!1),t.queryFilter&&(this.queryFilter=!1)}any(){return this.source||this.mesh||this.storage.filters||this.storage.data||this.targets.feature||this.targets.aggregate||this.queryFilter}describe(){let t=0,e="";if(this.mesh){t+=20,e+="-> (20) Mesh needs update\n";for(const t of this.why.mesh)e+=`    + ${t}\n`}if(this.source){t+=10,e+="-> (10) The source needs update\n";for(const t of this.why.source)e+=`    + ${t}\n`}this.targets.feature&&(t+=5,e+="-> (5) Feature target parameters changed\n"),this.storage.filters&&(t+=5,e+="-> (5) Feature filter parameters changed\n"),this.targets.aggregate&&(t+=4,e+="-> (4) Aggregate target parameters changed\n"),this.storage.data&&(t+=1,e+="-> (1) Texture storage parameters changed");const s=t<5?"Fastest":t<10?"Fast":t<15?"Moderate":t<20?"Slow":"Very Slow";console.debug(`Applying ${s} update of cost ${t}/45 `),console.debug(e)}toJSON(){return{queryFilter:this.queryFilter,source:this.source,targets:this.targets,storage:this.storage,mesh:this.mesh}}}


/***/ }),

/***/ "./node_modules/@arcgis/core/views/2d/layers/features/tileRenderers/support/visualVariablesUtils.js":
/*!**********************************************************************************************************!*\
  !*** ./node_modules/@arcgis/core/views/2d/layers/features/tileRenderers/support/visualVariablesUtils.js ***!
  \**********************************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "convertColorVariable": () => (/* binding */ m),
/* harmony export */   "convertVisualVariables": () => (/* binding */ c),
/* harmony export */   "getVisualVariableSizeValueRepresentationRatio": () => (/* binding */ l),
/* harmony export */   "normalizeSizeElement": () => (/* binding */ u),
/* harmony export */   "normalizeSizeStops": () => (/* binding */ a),
/* harmony export */   "stopToSizeStop": () => (/* binding */ r)
/* harmony export */ });
/* harmony import */ var _core_screenUtils_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../../../../core/screenUtils.js */ "./node_modules/@arcgis/core/core/screenUtils.js");
/* harmony import */ var _engine_webgl_color_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../../engine/webgl/color.js */ "./node_modules/@arcgis/core/views/2d/engine/webgl/color.js");
/* harmony import */ var _engine_webgl_definitions_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../../engine/webgl/definitions.js */ "./node_modules/@arcgis/core/views/2d/engine/webgl/definitions.js");
/* harmony import */ var _engine_webgl_enums_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../../../engine/webgl/enums.js */ "./node_modules/@arcgis/core/views/2d/engine/webgl/enums.js");
/* harmony import */ var _engine_webgl_visualVariablesUtils_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../../../engine/webgl/visualVariablesUtils.js */ "./node_modules/@arcgis/core/views/2d/engine/webgl/visualVariablesUtils.js");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.27/esri/copyright.txt for details.
*/
function l(e,t){if(!e||!t)return e;switch(t){case"radius":case"distance":return 2*e;case"diameter":case"width":return e;case"area":return Math.sqrt(e)}return e}function r(t){return{value:t.value,size:(0,_core_screenUtils_js__WEBPACK_IMPORTED_MODULE_0__.toPt)(t.size)}}function a(e){return(e??[]).map((e=>r(e)))}function u(t){if("string"==typeof t||"number"==typeof t)return (0,_core_screenUtils_js__WEBPACK_IMPORTED_MODULE_0__.toPt)(t);const s=t;return{type:"size",expression:s.expression,stops:a(s.stops)}}const p=e=>{const s=[],o=[],i=a(e),l=i.length;for(let r=0;r<6;r++){const e=i[Math.min(r,l-1)];s.push(e.value),o.push(null==e.size?_engine_webgl_definitions_js__WEBPACK_IMPORTED_MODULE_2__.NAN_MAGIC_NUMBER:(0,_core_screenUtils_js__WEBPACK_IMPORTED_MODULE_0__.pt2px)(e.size))}return{values:new Float32Array(s),sizes:new Float32Array(o)}};function c(e){const t=e&&e.length>0?{}:null,s=t?{}:null;if(!t||!s)return{vvFields:t,vvRanges:s};for(const n of e)if(n.field&&(t[n.type]=n.field),"size"===n.type){s.size||(s.size={});const e=n;switch((0,_engine_webgl_visualVariablesUtils_js__WEBPACK_IMPORTED_MODULE_4__.getTypeOfSizeVisualVariable)(e)){case _engine_webgl_enums_js__WEBPACK_IMPORTED_MODULE_3__.WGLVVFlag.SIZE_MINMAX_VALUE:s.size.minMaxValue={minDataValue:e.minDataValue,maxDataValue:e.maxDataValue,minSize:u(e.minSize),maxSize:u(e.maxSize)};break;case _engine_webgl_enums_js__WEBPACK_IMPORTED_MODULE_3__.WGLVVFlag.SIZE_SCALE_STOPS:s.size.scaleStops={stops:a(e.stops)};break;case _engine_webgl_enums_js__WEBPACK_IMPORTED_MODULE_3__.WGLVVFlag.SIZE_FIELD_STOPS:if(e.levels){const t={};for(const s in e.levels)t[s]=p(e.levels[s]);s.size.fieldStops={type:"level-dependent",levels:t}}else s.size.fieldStops={type:"static",...p(e.stops)};break;case _engine_webgl_enums_js__WEBPACK_IMPORTED_MODULE_3__.WGLVVFlag.SIZE_UNIT_VALUE:s.size.unitValue={unit:e.valueUnit,valueRepresentation:e.valueRepresentation??void 0}}}else if("color"===n.type)s.color=m(n);else if("opacity"===n.type)s.opacity=f(n);else if("rotation"===n.type){const e=n;s.rotation={type:e.rotationType}}return{vvFields:t,vvRanges:s}}function f(e){const t={values:[0,0,0,0,0,0,0,0],opacities:[0,0,0,0,0,0,0,0]};if("string"==typeof e.field){if(!e.stops)return null;{if(e.stops.length>8)return null;const s=e.stops;for(let e=0;e<8;++e){const n=s[Math.min(e,s.length-1)];t.values[e]=n.value,t.opacities[e]=n.opacity}}}else{if(!(e.stops&&e.stops.length>=0))return null;{const s=e.stops&&e.stops.length>=0?e.stops[0].opacity:0;for(let e=0;e<8;e++)t.values[e]=1/0,t.opacities[e]=s}}return t}function v(e,t,s){e[4*t]=s.r/255,e[4*t+1]=s.g/255,e[4*t+2]=s.b/255,e[4*t+3]=s.a}function m(e){if(null==e)return null;if(e.normalizationField)return null;const t={field:null,values:[0,0,0,0,0,0,0,0],colors:[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]};if("string"==typeof e.field){if(!e.stops)return null;{if(e.stops.length>8)return null;t.field=e.field;const s=e.stops;for(let e=0;e<8;++e){const n=s[Math.min(e,s.length-1)];t.values[e]=n.value,v(t.colors,e,n.color)}}}else{if(!(e.stops&&e.stops.length>=0))return null;{const s=e.stops&&e.stops.length>=0&&e.stops[0].color;for(let e=0;e<8;e++)t.values[e]=1/0,v(t.colors,e,s)}}for(let n=0;n<32;n+=4)(0,_engine_webgl_color_js__WEBPACK_IMPORTED_MODULE_1__.premultiplyAlpha)(t.colors,n,!0);return t}


/***/ }),

/***/ "./node_modules/@arcgis/core/views/2d/tiling/LODInfo.js":
/*!**************************************************************!*\
  !*** ./node_modules/@arcgis/core/views/2d/tiling/LODInfo.js ***!
  \**************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (/* binding */ n)
/* harmony export */ });
/* harmony import */ var _geometry_support_spatialReferenceUtils_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../geometry/support/spatialReferenceUtils.js */ "./node_modules/@arcgis/core/geometry/support/spatialReferenceUtils.js");
/* harmony import */ var _TileKey_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./TileKey.js */ "./node_modules/@arcgis/core/views/2d/tiling/TileKey.js");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.27/esri/copyright.txt for details.
*/
function o(t,r){return[t,r]}function i(t,r,o){return t[0]=r,t[1]=o,t}function e(t,r,o,i,e){return t[0]=r,t[1]=o,t[2]=i,t[3]=e,t}const s=new _TileKey_js__WEBPACK_IMPORTED_MODULE_1__["default"]("0/0/0/0");class n{static create(r,e,s=null){const l=(0,_geometry_support_spatialReferenceUtils_js__WEBPACK_IMPORTED_MODULE_0__.getInfo)(r.spatialReference),h=e.origin||o(r.origin.x,r.origin.y),a=o(r.size[0]*e.resolution,r.size[1]*e.resolution),u=o(-1/0,-1/0),m=o(1/0,1/0),g=o(1/0,1/0);null!=s&&(i(u,Math.max(0,Math.floor((s.xmin-h[0])/a[0])),Math.max(0,Math.floor((h[1]-s.ymax)/a[1]))),i(m,Math.max(0,Math.floor((s.xmax-h[0])/a[0])),Math.max(0,Math.floor((h[1]-s.ymin)/a[1]))),i(g,m[0]-u[0]+1,m[1]-u[1]+1));const{cols:w,rows:c}=e;let d,f,F,z;return!s&&w&&c&&(i(u,w[0],c[0]),i(m,w[1],c[1]),i(g,w[1]-w[0]+1,c[1]-c[0]+1)),r.isWrappable?(d=o(Math.ceil(Math.round((l.valid[1]-l.valid[0])/e.resolution)/r.size[0]),g[1]),f=o(Math.floor((l.origin[0]-h[0])/a[0]),u[1]),F=o(d[0]+f[0]-1,m[1]),z=!0):(f=u,F=m,d=g,z=!1),new n(e.level,e.resolution,e.scale,h,u,m,g,a,f,F,d,z)}constructor(t,r,o,i,e,s,n,l,h,a,u,m){this.level=t,this.resolution=r,this.scale=o,this.origin=i,this.first=e,this.last=s,this.size=n,this.norm=l,this.worldStart=h,this.worldEnd=a,this.worldSize=u,this.wrap=m}normalizeCol(t){if(!this.wrap)return t;const r=this.worldSize[0];return t<0?r-1-Math.abs((t+1)%r):t%r}denormalizeCol(t,r){return this.wrap?this.worldSize[0]*r+t:t}getWorldForColumn(t){return this.wrap?Math.floor(t/this.worldSize[0]):0}getFirstColumnForWorld(t){return t*this.worldSize[0]+this.first[0]}getLastColumnForWorld(t){return t*this.worldSize[0]+this.first[0]+this.size[0]-1}getColumnForX(t){return(t-this.origin[0])/this.norm[0]}getXForColumn(t){return this.origin[0]+t*this.norm[0]}getRowForY(t){return(this.origin[1]-t)/this.norm[1]}getYForRow(t){return this.origin[1]-t*this.norm[1]}getTileBounds(t,r,o=!1){s.set(r);const i=o?s.col:this.denormalizeCol(s.col,s.world),n=s.row;return e(t,this.getXForColumn(i),this.getYForRow(n+1),this.getXForColumn(i+1),this.getYForRow(n)),t}getTileCoords(t,r,o=!1){s.set(r);const e=o?s.col:this.denormalizeCol(s.col,s.world);return Array.isArray(t)?i(t,this.getXForColumn(e),this.getYForRow(s.row)):(t.x=this.getXForColumn(e),t.y=this.getYForRow(s.row)),t}}


/***/ }),

/***/ "./node_modules/@arcgis/core/views/2d/tiling/TileCoverage.js":
/*!*******************************************************************!*\
  !*** ./node_modules/@arcgis/core/views/2d/tiling/TileCoverage.js ***!
  \*******************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (/* binding */ l)
/* harmony export */ });
/* harmony import */ var _core_ObjectPool_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../core/ObjectPool.js */ "./node_modules/@arcgis/core/core/ObjectPool.js");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.27/esri/copyright.txt for details.
*/
class l{constructor(){this.spans=[]}acquire(o){this.lodInfo=o}release(){this.lodInfo=null,this.spans.length=0}forEach(o,l){const{spans:s,lodInfo:t}=this,{level:e}=t;if(0!==s.length)for(const{row:r,colFrom:n,colTo:c}of s)for(let s=n;s<=c;s++)o.call(l,e,r,t.normalizeCol(s),t.getWorldForColumn(s))}}l.pool=new _core_ObjectPool_js__WEBPACK_IMPORTED_MODULE_0__["default"](l);


/***/ }),

/***/ "./node_modules/@arcgis/core/views/2d/tiling/TileInfoView.js":
/*!*******************************************************************!*\
  !*** ./node_modules/@arcgis/core/views/2d/tiling/TileInfoView.js ***!
  \*******************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (/* binding */ h)
/* harmony export */ });
/* harmony import */ var _geometry_support_spatialReferenceUtils_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../geometry/support/spatialReferenceUtils.js */ "./node_modules/@arcgis/core/geometry/support/spatialReferenceUtils.js");
/* harmony import */ var _LODInfo_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./LODInfo.js */ "./node_modules/@arcgis/core/views/2d/tiling/LODInfo.js");
/* harmony import */ var _TileCoverage_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./TileCoverage.js */ "./node_modules/@arcgis/core/views/2d/tiling/TileCoverage.js");
/* harmony import */ var _TileKey_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./TileKey.js */ "./node_modules/@arcgis/core/views/2d/tiling/TileKey.js");
/* harmony import */ var _TileSpan_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./TileSpan.js */ "./node_modules/@arcgis/core/views/2d/tiling/TileSpan.js");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.27/esri/copyright.txt for details.
*/
const i=new _TileKey_js__WEBPACK_IMPORTED_MODULE_3__["default"]("0/0/0/0");class n{static create(e,t){e[1]>t[1]&&([e,t]=[t,e]);const[o,l]=e,[s,i]=t,r=s-o,a=i-l,h=0!==a?r/a:0,c=(Math.ceil(l)-l)*h,f=(Math.floor(l)-l)*h;return new n(o,Math.floor(l),Math.ceil(i),h,r<0?c:f,r<0?f:c,r<0?s:o,r<0?o:s)}constructor(e,t,o,l,s,i,n,r){this.x=e,this.ymin=t,this.ymax=o,this.invM=l,this.leftAdjust=s,this.rightAdjust=i,this.leftBound=n,this.rightBound=r}incrRow(){this.x+=this.invM}getLeftCol(){return Math.max(this.x+this.leftAdjust,this.leftBound)}getRightCol(){return Math.min(this.x+this.rightAdjust,this.rightBound)}}const r=[[0,0],[0,0],[0,0],[0,0]],a=1e-6;class h{constructor(e,o=null,l=e.lods[0].level,s=e.lods[e.lods.length-1].level){this.tileInfo=e,this.fullExtent=o,this.scales=[],this._infoByScale={},this._infoByLevel={};const i=e.lods.filter((e=>e.level>=l&&e.level<=s));this.minScale=i[0].scale,this.maxScale=i[i.length-1].scale;const n=this._lodInfos=i.map((l=>_LODInfo_js__WEBPACK_IMPORTED_MODULE_1__["default"].create(e,l,o)));i.forEach(((e,t)=>{this._infoByLevel[e.level]=n[t],this._infoByScale[e.scale]=n[t],this.scales[t]=e.scale}),this),this._wrap=e.isWrappable}get spatialReference(){return this.tileInfo.spatialReference}getLODInfoAt(e){return this._infoByLevel["number"==typeof e?e:e.level]}getTileBounds(e,t,o=!1){i.set(t);const l=this._infoByLevel[i.level];return l?l.getTileBounds(e,i,o):e}getTileCoords(e,t,o=!1){i.set(t);const l=this._infoByLevel[i.level];return l?l.getTileCoords(e,i,o):e}getTileCoverage(e,t=192,l=!0,i="closest"){if(!l&&(e.scale>this.minScale||e.scale<this.maxScale))return null;const a="closest"===i?this.getClosestInfoForScale(e.scale):this.getSmallestInfoForScale(e.scale),h=_TileCoverage_js__WEBPACK_IMPORTED_MODULE_2__["default"].pool.acquire(a),c=this._wrap;let f,u,m,g=1/0,d=-1/0;const v=h.spans;r[0][0]=r[0][1]=r[1][1]=r[3][0]=-t,r[1][0]=r[2][0]=e.size[0]+t,r[2][1]=r[3][1]=e.size[1]+t;for(const o of r)e.toMap(o,o),o[0]=a.getColumnForX(o[0]),o[1]=a.getRowForY(o[1]);const y=[];let _=3;for(let o=0;o<4;o++){if(r[o][1]===r[_][1]){_=o;continue}const e=n.create(r[o],r[_]);g=Math.min(e.ymin,g),d=Math.max(e.ymax,d),void 0===y[e.ymin]&&(y[e.ymin]=[]),y[e.ymin].push(e),_=o}if(null==g||null==d||d-g>100)return null;let p=[];for(f=g;f<d;){null!=y[f]&&(p=p.concat(y[f])),u=1/0,m=-1/0;for(let e=p.length-1;e>=0;e--){const t=p[e];u=Math.min(u,t.getLeftCol()),m=Math.max(m,t.getRightCol())}if(u=Math.floor(u),m=Math.floor(m),f>=a.first[1]&&f<=a.last[1])if(c)if(a.size[0]<a.worldSize[0]){const e=Math.floor(m/a.worldSize[0]);for(let t=Math.floor(u/a.worldSize[0]);t<=e;t++)v.push(new _TileSpan_js__WEBPACK_IMPORTED_MODULE_4__["default"](f,Math.max(a.getFirstColumnForWorld(t),u),Math.min(a.getLastColumnForWorld(t),m)))}else v.push(new _TileSpan_js__WEBPACK_IMPORTED_MODULE_4__["default"](f,u,m));else u>a.last[0]||m<a.first[0]||(u=Math.max(u,a.first[0]),m=Math.min(m,a.last[0]),v.push(new _TileSpan_js__WEBPACK_IMPORTED_MODULE_4__["default"](f,u,m)));f+=1;for(let e=p.length-1;e>=0;e--){const t=p[e];t.ymax>=f?t.incrRow():p.splice(e,1)}}return h}getTileParentId(e){i.set(e);const t=this._infoByLevel[i.level],o=this._lodInfos.indexOf(t)-1;return o<0?null:(this._getTileIdAtLOD(i,this._lodInfos[o],i),i.id)}getTileResolution(e){const t=this._infoByLevel["object"==typeof e?e.level:e];return t?t.resolution:-1}getTileScale(e){const t=this._infoByLevel[e.level];return t?t.scale:-1}intersects(e,t){i.set(t);const o=this._infoByLevel[i.level],l=e.lodInfo;if(l.resolution>o.resolution){this._getTileIdAtLOD(i,l,i);const t=l.denormalizeCol(i.col,i.world);for(const o of e.spans)if(o.row===i.row&&o.colFrom<=t&&o.colTo>=t)return!0}if(l.resolution<o.resolution){const[t,s,n,r]=e.spans.reduce(((e,t)=>(e[0]=Math.min(e[0],t.row),e[1]=Math.max(e[1],t.row),e[2]=Math.min(e[2],t.colFrom),e[3]=Math.max(e[3],t.colTo),e)),[1/0,-1/0,1/0,-1/0]),a=o.denormalizeCol(i.col,i.world),h=l.getColumnForX(o.getXForColumn(a)),c=l.getRowForY(o.getYForRow(i.row)),f=l.getColumnForX(o.getXForColumn(a+1))-1,u=l.getRowForY(o.getYForRow(i.row+1))-1;return!(h>r||f<n||c>s||u<t)}const s=l.denormalizeCol(i.col,i.world);return e.spans.some((e=>e.row===i.row&&e.colFrom<=s&&e.colTo>=s))}normalizeBounds(t,o,l){if(t[0]=o[0],t[1]=o[1],t[2]=o[2],t[3]=o[3],this._wrap){const o=(0,_geometry_support_spatialReferenceUtils_js__WEBPACK_IMPORTED_MODULE_0__.getInfo)(this.tileInfo.spatialReference),s=-l*(o.valid[1]-o.valid[0]);t[0]+=s,t[2]+=s}return t}getSmallestInfoForScale(e){const t=this.scales;if(this._infoByScale[e])return this._infoByScale[e];if(e>t[0])return this._infoByScale[t[0]];for(let o=1;o<t.length-1;o++)if(e>t[o]+a)return this._infoByScale[t[o-1]];return this._infoByScale[t[t.length-1]]}getClosestInfoForScale(e){const t=this.scales;return this._infoByScale[e]||(e=t.reduce(((t,o)=>Math.abs(o-e)<Math.abs(t-e)?o:t),t[0])),this._infoByScale[e]}scaleToLevel(e){const t=this.scales;if(this._infoByScale[e])return this._infoByScale[e].level;for(let o=t.length-1;o>=0;o--)if(e<t[o]){if(o===t.length-1)return this._infoByScale[t[t.length-1]].level;return this._infoByScale[t[o]].level+(t[o]-e)/(t[o]-t[o+1])}return this._infoByScale[t[0]].level}scaleToZoom(e){return this.tileInfo.scaleToZoom(e)}_getTileIdAtLOD(e,t,o){const l=this._infoByLevel[o.level];return e.set(o),t.resolution<l.resolution?null:(t.resolution===l.resolution||(e.level=t.level,e.col=Math.floor(o.col*l.resolution/t.resolution+.01),e.row=Math.floor(o.row*l.resolution/t.resolution+.01)),e)}}


/***/ }),

/***/ "./node_modules/@arcgis/core/views/2d/tiling/TileKey.js":
/*!**************************************************************!*\
  !*** ./node_modules/@arcgis/core/views/2d/tiling/TileKey.js ***!
  \**************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (/* binding */ e)
/* harmony export */ });
/* harmony import */ var _core_ObjectPool_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../core/ObjectPool.js */ "./node_modules/@arcgis/core/core/ObjectPool.js");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.27/esri/copyright.txt for details.
*/
class e{static getId(t,e,l,s){return"object"==typeof t?`${t.level}/${t.row}/${t.col}/${t.world}`:`${t}/${e}/${l}/${s}`}constructor(t,e,l,s){this.set(t,e,l,s)}get key(){return this}get id(){return this.toString()}set id(t){this.set(t)}get hash(){const t=4095&this.row,e=4095&this.col,l=63&this.level;return(3&this.world)<<30|e<<22|t<<8|l}acquire(t,e,l,s){this.set(t,e,l,s)}contains(t){const e=t.level-this.level;return e>=0&&this.row===t.row>>e&&this.col===t.col>>e&&this.world===t.world}equals(t){return this.level===t.level&&this.row===t.row&&this.col===t.col&&this.world===t.world}clone(){return new e(this)}release(){this.level=0,this.row=0,this.col=0,this.world=0}set(t,e,l,s){if(null==t)this.level=0,this.row=0,this.col=0,this.world=0;else if("object"==typeof t)this.level=t.level||0,this.row=t.row||0,this.col=t.col||0,this.world=t.world||0;else if("string"==typeof t){const[e,l,s,o]=t.split("/");this.level=parseFloat(e),this.row=parseFloat(l),this.col=parseFloat(s),this.world=parseFloat(o)}else this.level=+t,this.row=+e,this.col=+l,this.world=+s||0;return this}toString(){return`${this.level}/${this.row}/${this.col}/${this.world}`}getParentKey(){return this.level<=0?null:new e(this.level-1,this.row>>1,this.col>>1,this.world)}getChildKeys(){const t=this.level+1,l=this.row<<1,s=this.col<<1,o=this.world;return[new e(t,l,s,o),new e(t,l,s+1,o),new e(t,l+1,s,o),new e(t,l+1,s+1,o)]}compareRowMajor(t){return this.row<t.row?-1:this.row>t.row?1:this.col<t.col?-1:this.col>t.col?1:0}}e.pool=new _core_ObjectPool_js__WEBPACK_IMPORTED_MODULE_0__["default"](e,null,null,25,50);


/***/ }),

/***/ "./node_modules/@arcgis/core/views/2d/tiling/TileSpan.js":
/*!***************************************************************!*\
  !*** ./node_modules/@arcgis/core/views/2d/tiling/TileSpan.js ***!
  \***************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (/* binding */ o)
/* harmony export */ });
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.27/esri/copyright.txt for details.
*/
class o{constructor(o,s,t){this.row=o,this.colFrom=s,this.colTo=t}}


/***/ }),

/***/ "./node_modules/@arcgis/core/views/support/QueueProcessor.js":
/*!*******************************************************************!*\
  !*** ./node_modules/@arcgis/core/views/support/QueueProcessor.js ***!
  \*******************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "QueueProcessor": () => (/* binding */ u)
/* harmony export */ });
/* harmony import */ var _core_maybe_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../core/maybe.js */ "./node_modules/@arcgis/core/core/maybe.js");
/* harmony import */ var _core_promiseUtils_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../core/promiseUtils.js */ "./node_modules/@arcgis/core/core/promiseUtils.js");
/* harmony import */ var _core_Queue_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../core/Queue.js */ "./node_modules/@arcgis/core/core/Queue.js");
/* harmony import */ var _core_scheduling_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../core/scheduling.js */ "./node_modules/@arcgis/core/core/scheduling.js");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.27/esri/copyright.txt for details.
*/
class n{constructor(e,s){this.item=e,this.controller=s,this.promise=null}}class u{constructor(e){this._deferreds=new Map,this._controllers=new Map,this._processingItems=new Map,this._isPaused=!1,this._schedule=null,this._task=null,this.concurrency=1,e.concurrency&&(this.concurrency=e.concurrency),this._queue=new _core_Queue_js__WEBPACK_IMPORTED_MODULE_2__["default"](e.peeker),this.process=e.process;const s=e.scheduler;e.priority&&s&&(this._task=s.registerTask(e.priority,this))}destroy(){this.clear(),this._schedule=(0,_core_maybe_js__WEBPACK_IMPORTED_MODULE_0__.removeMaybe)(this._schedule),this._task=(0,_core_maybe_js__WEBPACK_IMPORTED_MODULE_0__.removeMaybe)(this._task)}get length(){return this._processingItems.size+this._queue.length}abort(e){const s=this._controllers.get(e);s&&s.abort()}clear(){this._queue.clear();const e=[];this._controllers.forEach((s=>e.push(s))),this._controllers.clear(),e.forEach((e=>e.abort())),this._processingItems.clear(),this._cancelNext()}forEach(e){this._deferreds.forEach(((s,t)=>e(t)))}get(e){const s=this._deferreds.get(e);return s?s.promise:void 0}isOngoing(e){return this._processingItems.has(e)}has(e){return this._deferreds.has(e)}pause(){this._isPaused||(this._isPaused=!0,this._cancelNext())}push(e,i){const o=this.get(e);if(o)return o;const c=new AbortController;let n=null;i&&(n=(0,_core_promiseUtils_js__WEBPACK_IMPORTED_MODULE_1__.onAbort)(i,(()=>c.abort())));const u=()=>{const s=this._processingItems.get(e);s&&s.controller.abort(),l(),p.reject((0,_core_promiseUtils_js__WEBPACK_IMPORTED_MODULE_1__.createAbortError)())},l=()=>{_.remove(),null!=n&&n.remove(),this._deferreds.delete(e),this._controllers.delete(e),this._queue.remove(e),this._processingItems.delete(e),this._scheduleNext()},_=(0,_core_promiseUtils_js__WEBPACK_IMPORTED_MODULE_1__.onAbortOrThrow)(c.signal,u),p=(0,_core_promiseUtils_js__WEBPACK_IMPORTED_MODULE_1__.createResolver)();return this._deferreds.set(e,p),this._controllers.set(e,c),p.promise.then(l,l),this._queue.push(e),this._scheduleNext(),p.promise}last(){return this._queue.last()}peek(){return this._queue.peek()}popLast(){return this._queue.popLast()}reset(){const e=[];this._processingItems.forEach((s=>e.push(s))),this._processingItems.clear();for(const s of e)this._queue.push(s.item),s.controller.abort();this._scheduleNext()}resume(){this._isPaused&&(this._isPaused=!1,this._scheduleNext())}takeAll(){const e=[];for(;this._queue.length;)e.push(this._queue.pop());return this.clear(),e}get running(){return!this._isPaused&&this._queue.length>0&&this._processingItems.size<this.concurrency}runTask(e){for(;!e.done&&this._queue.length>0&&this._processingItems.size<this.concurrency;)this._process(this._queue.pop()),e.madeProgress()}_scheduleNext(){this._task||this._isPaused||this._schedule||(this._schedule=(0,_core_scheduling_js__WEBPACK_IMPORTED_MODULE_3__.schedule)((()=>{this._schedule=null,this._next()})))}_next(){for(;this._queue.length>0&&this._processingItems.size<this.concurrency;)this._process(this._queue.pop())}_cancelNext(){this._schedule&&(this._schedule.remove(),this._schedule=null)}_processResult(e,s){this._canProcessFulfillment(e)&&(this._scheduleNext(),this._deferreds.get(e.item).resolve(s))}_processError(e,s){this._canProcessFulfillment(e)&&(this._scheduleNext(),this._deferreds.get(e.item).reject(s))}_canProcessFulfillment(e){return!!this._deferreds.get(e.item)&&this._processingItems.get(e.item)===e}_process(e){if(null==e)return;let s;const t=new AbortController,r=new n(e,t);this._processingItems.set(e,r);try{s=this.process(e,t.signal)}catch(h){this._processError(r,h)}(0,_core_promiseUtils_js__WEBPACK_IMPORTED_MODULE_1__.isPromiseLike)(s)?(r.promise=s,s.then((e=>this._processResult(r,e)),(e=>this._processError(r,e)))):this._processResult(r,s)}get test(){return{update:e=>this.runTask(e)}}}


/***/ })

}]);
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoid2lkZ2V0cy9jaHVua3MvMDlhMDE3YTdkZjUwNTZlMmYyNTIzNTY0MGVmMGM0MGEuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNvSSxTQUFTLE1BQU0sZUFBZSwyQ0FBQyx3QkFBd0IsZ0RBQWdELFNBQVMsR0FBRyxTQUFTLDBFQUEwRSxzQkFBc0IsaUJBQWlCLE1BQU0sbUVBQUMsOEhBQThILFFBQVEsZUFBZSw2REFBNkQsZ0RBQWdELG9GQUFvRixRQUFRLFFBQVEsaURBQU8sa0JBQWtCLGtDQUFrQyxRQUFRLG9DQUFvQyxRQUFRLGtDQUFrQyxRQUFRLGtDQUFrQyxRQUFRLHFDQUFxQyxNQUFNLHNEQUFZLEVBQUUsNERBQTRELEVBQUUsVUFBVSxFQUFFLHlCQUF5QixTQUFTLHFCQUFxQixPQUFPLHFCQUFxQixVQUFVLHFCQUFxQixVQUFVLHFCQUFxQixlQUFlLFlBQVkseUNBQXlDLGtFQUFrRSwwQ0FBMEMsYUFBYSxvSkFBb0osNkJBQTZCLGFBQWEsc0RBQVksSUFBSSxjQUFjLEdBQUcsK0NBQStDLGFBQWEsc0RBQVksSUFBSSxPQUFPLEdBQUcsbUNBQW1DLGFBQWEsc0RBQVksSUFBSSxnQkFBZ0IsR0FBRyxvQ0FBb0MsYUFBYSxzREFBWSxjQUFjLGdCQUFnQixHQUFHLHVDQUF1QyxhQUFhLHNEQUFZLElBQUksT0FBTyxHQUFHLCtCQUErQixnQkFBZ0IsUUFBUSx5QkFBeUIsa0JBQWtCLGFBQWEscURBQXFELHdDQUF3QyxhQUFhLDBJQUEwSSwwQkFBMEIsYUFBYSxzREFBWSxXQUFXLE9BQU8sR0FBRyw0QkFBNEIsYUFBYSwrQ0FBSyxJQUFJLGVBQWUsOEVBQThFLFVBQVUseUlBQXlJLHdCQUF3QixvQ0FBb0MsY0FBYywwQkFBMEIsV0FBVyx1QkFBdUIsYUFBYSx5QkFBeUIsVUFBVSxzQkFBc0IsbUJBQW1CLDBCQUEwQixrQkFBa0IseUJBQXlCLG9CQUFvQixrQkFBa0IsOEJBQThCLGVBQWUsd0JBQXdC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REFBbUQsZ0JBQWdCLDREQUE0RCw2REFBQyxPQUFPLGlDQUFpQyxJQUFJLFFBQVEsS0FBSyxrRUFBa0Usa0NBQWtDLGNBQWMsOERBQThELG9CQUFvQiw4RkFBOEYsbUJBQW1CLDZGQUE2RiwwQkFBMEIsMkVBQTJFLFlBQVksa0JBQWtCLE1BQU0seUNBQXlDLCtCQUErQixJQUFJLDJCQUEyQixTQUFTLHdCQUF3QixvRUFBQyw4R0FBOEcsV0FBVyxPQUFPLDRCQUF3RCIsInNvdXJjZXMiOlsid2VicGFjazovL2V4Yi1jbGllbnQvLi9ub2RlX21vZHVsZXMvQGFyY2dpcy9jb3JlL2FyY2FkZS9BcmNhZGVEYXRlLmpzIiwid2VicGFjazovL2V4Yi1jbGllbnQvLi9ub2RlX21vZHVsZXMvQGFyY2dpcy9jb3JlL2FyY2FkZS9hcmNhZGVUaW1lVXRpbHMuanMiLCJ3ZWJwYWNrOi8vZXhiLWNsaWVudC8uL25vZGVfbW9kdWxlcy9AYXJjZ2lzL2NvcmUvY2h1bmtzL3JidXNoLmpzIiwid2VicGFjazovL2V4Yi1jbGllbnQvLi9ub2RlX21vZHVsZXMvQGFyY2dpcy9jb3JlL2NvcmUvQ2lyY3VsYXJBcnJheS5qcyIsIndlYnBhY2s6Ly9leGItY2xpZW50Ly4vbm9kZV9tb2R1bGVzL0BhcmNnaXMvY29yZS9nZW9oYXNoL0dlb2hhc2hUcmVlLmpzIiwid2VicGFjazovL2V4Yi1jbGllbnQvLi9ub2RlX21vZHVsZXMvQGFyY2dpcy9jb3JlL2dlb2hhc2gvZ2VvaGFzaFV0aWxzLmpzIiwid2VicGFjazovL2V4Yi1jbGllbnQvLi9ub2RlX21vZHVsZXMvQGFyY2dpcy9jb3JlL2xheWVycy9ncmFwaGljcy9kYXRhL1N0cmVhbUZlYXR1cmVNYW5hZ2VyLmpzIiwid2VicGFjazovL2V4Yi1jbGllbnQvLi9ub2RlX21vZHVsZXMvQGFyY2dpcy9jb3JlL2xheWVycy9zdXBwb3J0L0xPRC5qcyIsIndlYnBhY2s6Ly9leGItY2xpZW50Ly4vbm9kZV9tb2R1bGVzL0BhcmNnaXMvY29yZS9sYXllcnMvc3VwcG9ydC9UaWxlSW5mby5qcyIsIndlYnBhY2s6Ly9leGItY2xpZW50Ly4vbm9kZV9tb2R1bGVzL0BhcmNnaXMvY29yZS9sYXllcnMvc3VwcG9ydC9UaWxlS2V5LmpzIiwid2VicGFjazovL2V4Yi1jbGllbnQvLi9ub2RlX21vZHVsZXMvQGFyY2dpcy9jb3JlL3ZpZXdzLzJkL2FyY2FkZS9jYWxsRXhwcmVzc2lvbldpdGhDdXJzb3IuanMiLCJ3ZWJwYWNrOi8vZXhiLWNsaWVudC8uL25vZGVfbW9kdWxlcy9AYXJjZ2lzL2NvcmUvdmlld3MvMmQvZW5naW5lL3dlYmdsL0Rpc3BsYXlJZC5qcyIsIndlYnBhY2s6Ly9leGItY2xpZW50Ly4vbm9kZV9tb2R1bGVzL0BhcmNnaXMvY29yZS92aWV3cy8yZC9lbmdpbmUvd2ViZ2wvVXRpbHMuanMiLCJ3ZWJwYWNrOi8vZXhiLWNsaWVudC8uL25vZGVfbW9kdWxlcy9AYXJjZ2lzL2NvcmUvdmlld3MvMmQvZW5naW5lL3dlYmdsL2NvbG9yLmpzIiwid2VicGFjazovL2V4Yi1jbGllbnQvLi9ub2RlX21vZHVsZXMvQGFyY2dpcy9jb3JlL3ZpZXdzLzJkL2VuZ2luZS93ZWJnbC9lbnVtcy5qcyIsIndlYnBhY2s6Ly9leGItY2xpZW50Ly4vbm9kZV9tb2R1bGVzL0BhcmNnaXMvY29yZS92aWV3cy8yZC9lbmdpbmUvd2ViZ2wvbnVtYmVyLmpzIiwid2VicGFjazovL2V4Yi1jbGllbnQvLi9ub2RlX21vZHVsZXMvQGFyY2dpcy9jb3JlL3ZpZXdzLzJkL2VuZ2luZS93ZWJnbC91dGlsL2RlYnVnLmpzIiwid2VicGFjazovL2V4Yi1jbGllbnQvLi9ub2RlX21vZHVsZXMvQGFyY2dpcy9jb3JlL3ZpZXdzLzJkL2VuZ2luZS93ZWJnbC92aXN1YWxWYXJpYWJsZXNVdGlscy5qcyIsIndlYnBhY2s6Ly9leGItY2xpZW50Ly4vbm9kZV9tb2R1bGVzL0BhcmNnaXMvY29yZS92aWV3cy8yZC9sYXllcnMvZmVhdHVyZXMvRmVhdHVyZVN0b3JlMkQuanMiLCJ3ZWJwYWNrOi8vZXhiLWNsaWVudC8uL25vZGVfbW9kdWxlcy9AYXJjZ2lzL2NvcmUvdmlld3MvMmQvbGF5ZXJzL2ZlYXR1cmVzL1BpcGVsaW5lLmpzIiwid2VicGFjazovL2V4Yi1jbGllbnQvLi9ub2RlX21vZHVsZXMvQGFyY2dpcy9jb3JlL3ZpZXdzLzJkL2xheWVycy9mZWF0dXJlcy9TdG9yZTJELmpzIiwid2VicGFjazovL2V4Yi1jbGllbnQvLi9ub2RlX21vZHVsZXMvQGFyY2dpcy9jb3JlL3ZpZXdzLzJkL2xheWVycy9mZWF0dXJlcy9jb250cm9sbGVycy9GZWF0dXJlQ29udHJvbGxlcjJELmpzIiwid2VicGFjazovL2V4Yi1jbGllbnQvLi9ub2RlX21vZHVsZXMvQGFyY2dpcy9jb3JlL3ZpZXdzLzJkL2xheWVycy9mZWF0dXJlcy9jb250cm9sbGVycy9zdXBwb3J0L3NvdXJjZUFkYXB0ZXJzLmpzIiwid2VicGFjazovL2V4Yi1jbGllbnQvLi9ub2RlX21vZHVsZXMvQGFyY2dpcy9jb3JlL3ZpZXdzLzJkL2xheWVycy9mZWF0dXJlcy9wcm9jZXNzb3JzLmpzIiwid2VicGFjazovL2V4Yi1jbGllbnQvLi9ub2RlX21vZHVsZXMvQGFyY2dpcy9jb3JlL3ZpZXdzLzJkL2xheWVycy9mZWF0dXJlcy9zb3VyY2VzL0Jhc2VGZWF0dXJlU291cmNlLmpzIiwid2VicGFjazovL2V4Yi1jbGllbnQvLi9ub2RlX21vZHVsZXMvQGFyY2dpcy9jb3JlL3ZpZXdzLzJkL2xheWVycy9mZWF0dXJlcy9zb3VyY2VzL0RhdGFUaWxlU291cmNlLmpzIiwid2VicGFjazovL2V4Yi1jbGllbnQvLi9ub2RlX21vZHVsZXMvQGFyY2dpcy9jb3JlL3ZpZXdzLzJkL2xheWVycy9mZWF0dXJlcy9zb3VyY2VzL0RhdGFUaWxlU3Vic2NyaXB0aW9uLmpzIiwid2VicGFjazovL2V4Yi1jbGllbnQvLi9ub2RlX21vZHVsZXMvQGFyY2dpcy9jb3JlL3ZpZXdzLzJkL2xheWVycy9mZWF0dXJlcy9zb3VyY2VzL0RyaWxsRG93bkZlYXR1cmVTb3VyY2UuanMiLCJ3ZWJwYWNrOi8vZXhiLWNsaWVudC8uL25vZGVfbW9kdWxlcy9AYXJjZ2lzL2NvcmUvdmlld3MvMmQvbGF5ZXJzL2ZlYXR1cmVzL3NvdXJjZXMvUGFnZWRGZWF0dXJlU291cmNlLmpzIiwid2VicGFjazovL2V4Yi1jbGllbnQvLi9ub2RlX21vZHVsZXMvQGFyY2dpcy9jb3JlL3ZpZXdzLzJkL2xheWVycy9mZWF0dXJlcy9zb3VyY2VzL1NuYXBzaG90RmVhdHVyZVNvdXJjZS5qcyIsIndlYnBhY2s6Ly9leGItY2xpZW50Ly4vbm9kZV9tb2R1bGVzL0BhcmNnaXMvY29yZS92aWV3cy8yZC9sYXllcnMvZmVhdHVyZXMvc291cmNlcy9TdHJlYW1Db25uZWN0aW9uU3RhdGUuanMiLCJ3ZWJwYWNrOi8vZXhiLWNsaWVudC8uL25vZGVfbW9kdWxlcy9AYXJjZ2lzL2NvcmUvdmlld3MvMmQvbGF5ZXJzL2ZlYXR1cmVzL3NvdXJjZXMvU3RyZWFtU291cmNlLmpzIiwid2VicGFjazovL2V4Yi1jbGllbnQvLi9ub2RlX21vZHVsZXMvQGFyY2dpcy9jb3JlL3ZpZXdzLzJkL2xheWVycy9mZWF0dXJlcy9zb3VyY2VzL2NyZWF0ZVNvdXJjZS5qcyIsIndlYnBhY2s6Ly9leGItY2xpZW50Ly4vbm9kZV9tb2R1bGVzL0BhcmNnaXMvY29yZS92aWV3cy8yZC9sYXllcnMvZmVhdHVyZXMvc3VwcG9ydC9BdHRyaWJ1dGVTdG9yZS5qcyIsIndlYnBhY2s6Ly9leGItY2xpZW50Ly4vbm9kZV9tb2R1bGVzL0BhcmNnaXMvY29yZS92aWV3cy8yZC9sYXllcnMvZmVhdHVyZXMvc3VwcG9ydC9CaW5TdG9yZS5qcyIsIndlYnBhY2s6Ly9leGItY2xpZW50Ly4vbm9kZV9tb2R1bGVzL0BhcmNnaXMvY29yZS92aWV3cy8yZC9sYXllcnMvZmVhdHVyZXMvc3VwcG9ydC9DbHVzdGVyU3RvcmUuanMiLCJ3ZWJwYWNrOi8vZXhiLWNsaWVudC8uL25vZGVfbW9kdWxlcy9AYXJjZ2lzL2NvcmUvdmlld3MvMmQvbGF5ZXJzL2ZlYXR1cmVzL3N1cHBvcnQvQ29tcHV0ZWRBdHRyaWJ1dGVTdG9yYWdlLmpzIiwid2VicGFjazovL2V4Yi1jbGllbnQvLi9ub2RlX21vZHVsZXMvQGFyY2dpcy9jb3JlL3ZpZXdzLzJkL2xheWVycy9mZWF0dXJlcy9zdXBwb3J0L0Rpc3BsYXlJZEdlbmVyYXRvci5qcyIsIndlYnBhY2s6Ly9leGItY2xpZW50Ly4vbm9kZV9tb2R1bGVzL0BhcmNnaXMvY29yZS92aWV3cy8yZC9sYXllcnMvZmVhdHVyZXMvc3VwcG9ydC9GZWF0dXJlU2V0UmVhZGVyLmpzIiwid2VicGFjazovL2V4Yi1jbGllbnQvLi9ub2RlX21vZHVsZXMvQGFyY2dpcy9jb3JlL3ZpZXdzLzJkL2xheWVycy9mZWF0dXJlcy9zdXBwb3J0L0ZlYXR1cmVTZXRSZWFkZXJKU09OLmpzIiwid2VicGFjazovL2V4Yi1jbGllbnQvLi9ub2RlX21vZHVsZXMvQGFyY2dpcy9jb3JlL3ZpZXdzLzJkL2xheWVycy9mZWF0dXJlcy9zdXBwb3J0L0ZlYXR1cmVTZXRSZWFkZXJQQkYuanMiLCJ3ZWJwYWNrOi8vZXhiLWNsaWVudC8uL25vZGVfbW9kdWxlcy9AYXJjZ2lzL2NvcmUvdmlld3MvMmQvbGF5ZXJzL2ZlYXR1cmVzL3N1cHBvcnQvRmVhdHVyZVNldFJlYWRlclBCRkhlYWRlci5qcyIsIndlYnBhY2s6Ly9leGItY2xpZW50Ly4vbm9kZV9tb2R1bGVzL0BhcmNnaXMvY29yZS92aWV3cy8yZC9sYXllcnMvZmVhdHVyZXMvc3VwcG9ydC9GZWF0dXJlU2V0UmVhZGVyUEJGSW5kaXJlY3QuanMiLCJ3ZWJwYWNrOi8vZXhiLWNsaWVudC8uL25vZGVfbW9kdWxlcy9AYXJjZ2lzL2NvcmUvdmlld3MvMmQvbGF5ZXJzL2ZlYXR1cmVzL3N1cHBvcnQvU3RhdGljQml0U2V0LmpzIiwid2VicGFjazovL2V4Yi1jbGllbnQvLi9ub2RlX21vZHVsZXMvQGFyY2dpcy9jb3JlL3ZpZXdzLzJkL2xheWVycy9mZWF0dXJlcy9zdXBwb3J0L1RpbGUuanMiLCJ3ZWJwYWNrOi8vZXhiLWNsaWVudC8uL25vZGVfbW9kdWxlcy9AYXJjZ2lzL2NvcmUvdmlld3MvMmQvbGF5ZXJzL2ZlYXR1cmVzL3N1cHBvcnQvVGlsZVN0b3JlLmpzIiwid2VicGFjazovL2V4Yi1jbGllbnQvLi9ub2RlX21vZHVsZXMvQGFyY2dpcy9jb3JlL3ZpZXdzLzJkL2xheWVycy9mZWF0dXJlcy9zdXBwb3J0L1VwZGF0ZVRva2VuLmpzIiwid2VicGFjazovL2V4Yi1jbGllbnQvLi9ub2RlX21vZHVsZXMvQGFyY2dpcy9jb3JlL3ZpZXdzLzJkL2xheWVycy9mZWF0dXJlcy90aWxlUmVuZGVyZXJzL3N1cHBvcnQvdmlzdWFsVmFyaWFibGVzVXRpbHMuanMiLCJ3ZWJwYWNrOi8vZXhiLWNsaWVudC8uL25vZGVfbW9kdWxlcy9AYXJjZ2lzL2NvcmUvdmlld3MvMmQvdGlsaW5nL0xPREluZm8uanMiLCJ3ZWJwYWNrOi8vZXhiLWNsaWVudC8uL25vZGVfbW9kdWxlcy9AYXJjZ2lzL2NvcmUvdmlld3MvMmQvdGlsaW5nL1RpbGVDb3ZlcmFnZS5qcyIsIndlYnBhY2s6Ly9leGItY2xpZW50Ly4vbm9kZV9tb2R1bGVzL0BhcmNnaXMvY29yZS92aWV3cy8yZC90aWxpbmcvVGlsZUluZm9WaWV3LmpzIiwid2VicGFjazovL2V4Yi1jbGllbnQvLi9ub2RlX21vZHVsZXMvQGFyY2dpcy9jb3JlL3ZpZXdzLzJkL3RpbGluZy9UaWxlS2V5LmpzIiwid2VicGFjazovL2V4Yi1jbGllbnQvLi9ub2RlX21vZHVsZXMvQGFyY2dpcy9jb3JlL3ZpZXdzLzJkL3RpbGluZy9UaWxlU3Bhbi5qcyIsIndlYnBhY2s6Ly9leGItY2xpZW50Ly4vbm9kZV9tb2R1bGVzL0BhcmNnaXMvY29yZS92aWV3cy9zdXBwb3J0L1F1ZXVlUHJvY2Vzc29yLmpzIl0sInNvdXJjZXNDb250ZW50IjpbIi8qXG5BbGwgbWF0ZXJpYWwgY29weXJpZ2h0IEVTUkksIEFsbCBSaWdodHMgUmVzZXJ2ZWQsIHVubGVzcyBvdGhlcndpc2Ugc3BlY2lmaWVkLlxuU2VlIGh0dHBzOi8vanMuYXJjZ2lzLmNvbS80LjI3L2VzcmkvY29weXJpZ2h0LnR4dCBmb3IgZGV0YWlscy5cbiovXG5pbXBvcnR7ZG9TdWJzdGl0dXRpb25zIGFzIGV9ZnJvbVwiLi9leGVjdXRpb25FcnJvci5qc1wiO2ltcG9ydHtJQU5BWm9uZSBhcyB0LERhdGVUaW1lIGFzIG4sWm9uZSBhcyByLEZpeGVkT2Zmc2V0Wm9uZSBhcyBzfWZyb21cImx1eG9uXCI7Y2xhc3MgaXt9dmFyIG87aS5pbnN0YW5jZT1uZXcgdChcIkV0Yy9VVENcIiksZnVuY3Rpb24oZSl7ZS5UaW1lWm9uZU5vdFJlY29nbmlzZWQ9XCJUaW1lWm9uZU5vdFJlY29nbmlzZWRcIn0ob3x8KG89e30pKTtjb25zdCBhPXtbby5UaW1lWm9uZU5vdFJlY29nbmlzZWRdOlwiVGltZXpvbmUgaWRlbnRpZmllciBoYXMgbm90IGJlZW4gcmVjb2duaXNlZC5cIn07Y2xhc3MgZCBleHRlbmRzIEVycm9ye2NvbnN0cnVjdG9yKHQsbil7c3VwZXIoZShhW3RdLG4pKSx0aGlzLmRlY2xhcmVkUm9vdENsYXNzPVwiZXNyaS5hcmNhZGUuYXJjYWRlZGF0ZS5kYXRlZXJyb3JcIixFcnJvci5jYXB0dXJlU3RhY2tUcmFjZSYmRXJyb3IuY2FwdHVyZVN0YWNrVHJhY2UodGhpcyxkKX19Y2xhc3MgY3tjb25zdHJ1Y3RvcihlKXt0aGlzLl9kYXRlPWUsdGhpcy5kZWNsYXJlZFJvb3RDbGFzcz1cImVzcmkuYXJjYWRlLmFyY2FkZWRhdGVcIn1zdGF0aWMgZnJvbVBhcnRzKGU9MCx0PTEscj0xLHM9MCxpPTAsbz0wLGE9MCxkKXtpZihpc05hTihlKXx8aXNOYU4odCl8fGlzTmFOKHIpfHxpc05hTihzKXx8aXNOYU4oaSl8fGlzTmFOKG8pfHxpc05hTihhKSlyZXR1cm4gbnVsbDtsZXQgbT0wO2NvbnN0IGg9bi5sb2NhbChlLHQpLmRheXNJbk1vbnRoO3I8MSYmKG09ci0xLHI9MSkscj5oJiYobT1yLWgscj1oKTtsZXQgbD0wO3Q+MTI/KGw9dC0xMix0PTEyKTp0PDEmJihsPXQtMSx0PTEpO2xldCBmPTA7aT41OT8oZj1pLTU5LGk9NTkpOmk8MCYmKGY9aSxpPTApO2xldCB3PTA7bz41OT8odz1vLTU5LG89NTkpOm88MCYmKHc9byxvPTApO2xldCBUPTA7YT45OTk/KFQ9YS05OTksYT05OTkpOmE8MCYmKFQ9YSxhPTApO2xldCB5PW4uZnJvbU9iamVjdCh7ZGF5OnIseWVhcjplLG1vbnRoOnQsaG91cjpzLG1pbnV0ZTppLHNlY29uZDpvLG1pbGxpc2Vjb25kOmF9LHt6b25lOnUoZCl9KTtyZXR1cm4gMCE9PWwmJih5PXkucGx1cyh7bW9udGhzOmx9KSksMCE9PW0mJih5PXkucGx1cyh7ZGF5czptfSkpLDAhPT1mJiYoeT15LnBsdXMoe21pbnV0ZXM6Zn0pKSwwIT09dyYmKHk9eS5wbHVzKHtzZWNvbmRzOnd9KSksMCE9PVQmJih5PXkucGx1cyh7bWlsbGlzZWNvbmRzOlR9KSksbmV3IGMoeSl9c3RhdGljIGdldCBzeXN0ZW1UaW1lWm9uZUNhbm9uaWNhbE5hbWUoKXtyZXR1cm4gSW50bC5EYXRlVGltZUZvcm1hdCgpLnJlc29sdmVkT3B0aW9ucygpLnRpbWVab25lPz9cInN5c3RlbVwifXN0YXRpYyBhcmNhZGVEYXRlQW5kWm9uZVRvQXJjYWRlRGF0ZShlLHQpe2NvbnN0IG49dSh0KTtyZXR1cm4gZS5pc1Vua25vd25UaW1lWm9uZXx8bj09PWkuaW5zdGFuY2U/Yy5mcm9tUGFydHMoZS55ZWFyLGUubW9udGhKUysxLGUuZGF5LGUuaG91cixlLm1pbnV0ZSxlLnNlY29uZCxlLm1pbGxpc2Vjb25kLG4pOm5ldyBjKGUuX2RhdGUuc2V0Wm9uZSh0KSl9c3RhdGljIGRhdGVKU1RvQXJjYWRlRGF0ZShlKXtyZXR1cm4gbmV3IGMobi5mcm9tSlNEYXRlKGUse3pvbmU6XCJzeXN0ZW1cIn0pKX1zdGF0aWMgZGF0ZUpTQW5kWm9uZVRvQXJjYWRlRGF0ZShlLHQ9XCJzeXN0ZW1cIil7cmV0dXJuIG5ldyBjKG4uZnJvbUpTRGF0ZShlLHt6b25lOnR9KSl9c3RhdGljIHVua25vd25FcG9jaFRvQXJjYWRlRGF0ZShlKXtyZXR1cm4gbmV3IGMobi5mcm9tTWlsbGlzKGUse3pvbmU6aS5pbnN0YW5jZX0pKX1zdGF0aWMgdW5rbm93bkRhdGVKU1RvQXJjYWRlRGF0ZShlKXtyZXR1cm4gbmV3IGMobi5mcm9tTWlsbGlzKGUuZ2V0VGltZSgpLHt6b25lOmkuaW5zdGFuY2V9KSl9c3RhdGljIGVwb2NoVG9BcmNhZGVEYXRlKGUsdD1cInN5c3RlbVwiKXtyZXR1cm4gbmV3IGMobi5mcm9tTWlsbGlzKGUse3pvbmU6dH0pKX1zdGF0aWMgZGF0ZVRpbWVUb0FyY2FkZURhdGUoZSl7cmV0dXJuIG5ldyBjKGUpfWNsb25lKCl7cmV0dXJuIG5ldyBjKHRoaXMuX2RhdGUpfWNoYW5nZVRpbWVab25lKGUpe2NvbnN0IHQ9dShlKTtyZXR1cm4gYy5kYXRlVGltZVRvQXJjYWRlRGF0ZSh0aGlzLl9kYXRlLnNldFpvbmUodCkpfXN0YXRpYyBkYXRlVGltZUFuZFpvbmVUb0FyY2FkZURhdGUoZSx0KXtjb25zdCBuPXUodCk7cmV0dXJuIGUuem9uZT09PWkuaW5zdGFuY2V8fG49PT1pLmluc3RhbmNlP2MuZnJvbVBhcnRzKGUueWVhcixlLm1vbnRoLGUuZGF5LGUuaG91cixlLm1pbnV0ZSxlLnNlY29uZCxlLm1pbGxpc2Vjb25kLG4pOm5ldyBjKGUuc2V0Wm9uZShuKSl9c3RhdGljIG5vd1RvQXJjYWRlRGF0ZShlKXtyZXR1cm4gbmV3IGMobi5mcm9tSlNEYXRlKG5ldyBEYXRlLHt6b25lOmV9KSl9c3RhdGljIG5vd1VUQ1RvQXJjYWRlRGF0ZSgpe3JldHVybiBuZXcgYyhuLnV0YygpKX1nZXQgaXNTeXN0ZW0oKXtyZXR1cm5cInN5c3RlbVwiPT09dGhpcy50aW1lWm9uZXx8dGhpcy50aW1lWm9uZT09PWMuc3lzdGVtVGltZVpvbmVDYW5vbmljYWxOYW1lfWVxdWFscyhlKXtyZXR1cm4gdGhpcy5pc1N5c3RlbSYmZS5pc1N5c3RlbT90aGlzLnRvTnVtYmVyKCk9PT1lLnRvTnVtYmVyKCk6dGhpcy5pc1Vua25vd25UaW1lWm9uZT09PWUuaXNVbmtub3duVGltZVpvbmUmJnRoaXMuX2RhdGUuZXF1YWxzKGUuX2RhdGUpfWdldCBpc1Vua25vd25UaW1lWm9uZSgpe3JldHVybiB0aGlzLl9kYXRlLnpvbmU9PT1pLmluc3RhbmNlfWdldCBpc1ZhbGlkKCl7cmV0dXJuIHRoaXMuX2RhdGUuaXNWYWxpZH1nZXQgaG91cigpe3JldHVybiB0aGlzLl9kYXRlLmhvdXJ9Z2V0IHNlY29uZCgpe3JldHVybiB0aGlzLl9kYXRlLnNlY29uZH1nZXQgZGF5KCl7cmV0dXJuIHRoaXMuX2RhdGUuZGF5fWdldCBkYXlPZldlZWtJU08oKXtyZXR1cm4gdGhpcy5fZGF0ZS53ZWVrZGF5fWdldCBkYXlPZldlZWtKUygpe2xldCBlPXRoaXMuX2RhdGUud2Vla2RheTtyZXR1cm4gZT42JiYoZT0wKSxlfWdldCBtaWxsaXNlY29uZCgpe3JldHVybiB0aGlzLl9kYXRlLm1pbGxpc2Vjb25kfWdldCBtb250aElTTygpe3JldHVybiB0aGlzLl9kYXRlLm1vbnRofWdldCB3ZWVrSVNPKCl7cmV0dXJuIHRoaXMuX2RhdGUud2Vla051bWJlcn1nZXQgeWVhcklTTygpe3JldHVybiB0aGlzLl9kYXRlLndlZWtZZWFyfWdldCBtb250aEpTKCl7cmV0dXJuIHRoaXMuX2RhdGUubW9udGgtMX1nZXQgeWVhcigpe3JldHVybiB0aGlzLl9kYXRlLnllYXJ9Z2V0IG1pbnV0ZSgpe3JldHVybiB0aGlzLl9kYXRlLm1pbnV0ZX1nZXQgem9uZSgpe3JldHVybiB0aGlzLl9kYXRlLnpvbmV9Z2V0IHRpbWVab25lT2Zmc2V0KCl7cmV0dXJuIHRoaXMuaXNVbmtub3duVGltZVpvbmU/MDp0aGlzLl9kYXRlLm9mZnNldH1nZXQgdGltZVpvbmUoKXtpZih0aGlzLmlzVW5rbm93blRpbWVab25lKXJldHVyblwidW5rbm93blwiO2lmKFwic3lzdGVtXCI9PT10aGlzLl9kYXRlLnpvbmUudHlwZSlyZXR1cm5cInN5c3RlbVwiO2NvbnN0IGU9dGhpcy56b25lO3JldHVyblwiZml4ZWRcIj09PWUudHlwZT8wPT09ZS5maXhlZD9cInV0Y1wiOmUuZm9ybWF0T2Zmc2V0KDAsXCJzaG9ydFwiKTplLm5hbWV9c3RyaW5naWZ5KCl7cmV0dXJuIEpTT04uc3RyaW5naWZ5KHRoaXMudG9KU0RhdGUoKSl9cGx1cyhlKXtyZXR1cm4gbmV3IGModGhpcy5fZGF0ZS5wbHVzKGUpKX1kaWZmKGUsdD1cIm1pbGxpc2Vjb25kc1wiKXtyZXR1cm4gdGhpcy5fZGF0ZS5kaWZmKGUuX2RhdGUsdClbdF19dG9JU09TdHJpbmcoZSl7cmV0dXJuIGU/dGhpcy5fZGF0ZS50b0lTTyh7c3VwcHJlc3NNaWxsaXNlY29uZHM6ITAsaW5jbHVkZU9mZnNldDohdGhpcy5pc1Vua25vd25UaW1lWm9uZX0pOnRoaXMuX2RhdGUudG9JU08oe2luY2x1ZGVPZmZzZXQ6IXRoaXMuaXNVbmtub3duVGltZVpvbmV9KX10b0Zvcm1hdChlLHQpe3JldHVybiB0aGlzLl9kYXRlLnRvRm9ybWF0KGUsdCl9dG9KU0RhdGUoKXtyZXR1cm4gdGhpcy5fZGF0ZS50b0pTRGF0ZSgpfXRvU1FMU3RyaW5nKCl7cmV0dXJuXCJ0aW1lc3RhbXAgJ1wiK3RoaXMuX2RhdGUudG9Gb3JtYXQoXCJ5eXl5LUxMLWRkIEhIOm1tOnNzXCIpK1wiJ1wifXRvRGF0ZVRpbWUoKXtyZXR1cm4gdGhpcy5fZGF0ZX10b051bWJlcigpe3JldHVybiB0aGlzLl9kYXRlLnRvTWlsbGlzKCl9Z2V0VGltZSgpe3JldHVybiB0aGlzLl9kYXRlLnRvTWlsbGlzKCl9dG9VVEMoKXtyZXR1cm4gbmV3IGModGhpcy5fZGF0ZS50b1VUQygpKX10b0xvY2FsKCl7cmV0dXJuIG5ldyBjKHRoaXMuX2RhdGUudG9Mb2NhbCgpKX10b1N0cmluZygpe3JldHVybiB0aGlzLnRvSVNPU3RyaW5nKCEwKX19ZnVuY3Rpb24gdShlKXtpZihlIGluc3RhbmNlb2YgcilyZXR1cm4gZTtpZihcInN5c3RlbVwiPT09ZS50b0xvd2VyQ2FzZSgpKXJldHVyblwic3lzdGVtXCI7aWYoXCJ1dGNcIj09PWUudG9Mb3dlckNhc2UoKSlyZXR1cm5cInV0Y1wiO2lmKFwidW5rbm93blwiPT09ZS50b0xvd2VyQ2FzZSgpKXJldHVybiBpLmluc3RhbmNlO2lmKC9eW1xcK1xcLV0/WzAtOV17MSwyfShbOl1bMC05XXsyfSk/JC8udGVzdChlKSl7Y29uc3QgdD1zLnBhcnNlU3BlY2lmaWVyKFwiVVRDXCIrKGUuc3RhcnRzV2l0aChcIitcIil8fGUuc3RhcnRzV2l0aChcIi1cIik/XCJcIjpcIitcIikrZSk7aWYodClyZXR1cm4gdH1jb25zdCBuPXQuY3JlYXRlKGUpO2lmKCFuLmlzVmFsaWQpdGhyb3cgbmV3IGQoby5UaW1lWm9uZU5vdFJlY29nbmlzZWQpO3JldHVybiBufWV4cG9ydHtjIGFzIEFyY2FkZURhdGUsZCBhcyBBcmNhZGVEYXRlRXJyb3IsbyBhcyBBcmNhZGVEYXRlRXJyb3JDb2RlcyxhIGFzIEFyY2FkZURhdGVFcnJvck1lc3NhZ2VzLGkgYXMgVW5rbm93blRpbWVab25lLHUgYXMgY3JlYXRlRGF0ZVRpbWVab25lfTtcbiIsIi8qXG5BbGwgbWF0ZXJpYWwgY29weXJpZ2h0IEVTUkksIEFsbCBSaWdodHMgUmVzZXJ2ZWQsIHVubGVzcyBvdGhlcndpc2Ugc3BlY2lmaWVkLlxuU2VlIGh0dHBzOi8vanMuYXJjZ2lzLmNvbS80LjI3L2VzcmkvY29weXJpZ2h0LnR4dCBmb3IgZGV0YWlscy5cbiovXG5pbXBvcnR7VW5rbm93blRpbWVab25lIGFzIGUsQXJjYWRlRGF0ZUVycm9yIGFzIHQsQXJjYWRlRGF0ZUVycm9yQ29kZXMgYXMgaX1mcm9tXCIuL0FyY2FkZURhdGUuanNcIjtpbXBvcnQgbiBmcm9tXCIuLi9sYXllcnMvc3VwcG9ydC9GaWVsZHNJbmRleC5qc1wiO2ltcG9ydCBhIGZyb21cIi4uL3RpbWUvVGltZVJlZmVyZW5jZS5qc1wiO2ltcG9ydHtab25lIGFzIHIsU3lzdGVtWm9uZSBhcyBzLEZpeGVkT2Zmc2V0Wm9uZSBhcyBkLElBTkFab25lIGFzIG99ZnJvbVwibHV4b25cIjtpbXBvcnR7Y29udmVydExlZ2FjeVRpbWVab25lIGFzIGZ9ZnJvbVwiLi4vdGltZS90aW1lUmVmZXJlbmNlVXRpbHMuanNcIjtmdW5jdGlvbiBsKGUpe3JldHVybiBlIGluc3RhbmNlb2YgYX1mdW5jdGlvbiBtKG4pe2lmKCFuKXJldHVybiBudWxsO2lmKGwobikmJihuPWMobi50b0pTT04oKSkpLG4gaW5zdGFuY2VvZiByKXJldHVybiBuO2lmKFwidW5rbm93blwiPT09bi50b0xvd2VyQ2FzZSgpKXJldHVybiBlLmluc3RhbmNlO2lmKFwic3lzdGVtXCI9PT1uLnRvTG93ZXJDYXNlKCkpcmV0dXJuIHMuaW5zdGFuY2U7aWYoXCJ1dGNcIj09PW4udG9Mb3dlckNhc2UoKSlyZXR1cm4gZC51dGNJbnN0YW5jZTtpZigvXltcXCtcXC1dP1swLTldezEsMn0oWzpdWzAtOV17Mn0pPyQvLnRlc3Qobikpe2NvbnN0IGU9ZC5wYXJzZVNwZWNpZmllcihcIlVUQ1wiKyhuLnN0YXJ0c1dpdGgoXCIrXCIpfHxuLnN0YXJ0c1dpdGgoXCItXCIpP1wiXCI6XCIrXCIpK24pO2lmKGUpcmV0dXJuIGV9Y29uc3QgYT1vLmNyZWF0ZShuKTtpZighYS5pc1ZhbGlkKXRocm93IG5ldyB0KGkuVGltZVpvbmVOb3RSZWNvZ25pc2VkKTtyZXR1cm4gYX1mdW5jdGlvbiBjKGUpe3JldHVybiBlPy50aW1lWm9uZUlBTkE/ZT8udGltZVpvbmVJQU5BOmU/LnRpbWVab25lP2YoZSxcIlwiKTpcIlwifWNsYXNzIFR7Y29uc3RydWN0b3IoKXt0aGlzLmRhdGVUaW1lUmVmZXJlbmNlTWV0YURhdGE9bnVsbCx0aGlzLl9maWVsZFRpbWVab25lSW5kZXg9e30sdGhpcy5fZmllbGRJbmRleD1udWxsLHRoaXMuX2lhbmFQcmVmZXJyZWQ9bnVsbCx0aGlzLl9pYW5hVGltZUluZm89bnVsbCx0aGlzLl9pYW5hRWRpdEZpZWxkcz1udWxsLHRoaXMuX2lhbmFMYXllckRhdGVGaWVsZHM9bnVsbH1zdGF0aWMgY3JlYXRlKGUsdCl7Y29uc3QgaT1uZXcgVDtyZXR1cm4gaS5kYXRlVGltZVJlZmVyZW5jZU1ldGFEYXRhPXQsaS5fZmllbGRJbmRleD1lIGluc3RhbmNlb2Ygbj9lOm5ldyBuKGUpLGl9c3RhdGljIGNyZWF0ZUZyb21MYXllcihlKXtpZighZSlyZXR1cm4gbnVsbDtpZighZS5maWVsZHNJbmRleClyZXR1cm4hZS5kZWNsYXJlZENsYXNzJiZlLmZpZWxkcz9ULmNyZWF0ZShlLmZpZWxkcyxlKTpudWxsO2NvbnN0IHQ9bmV3IFQ7cmV0dXJuIHQuX2ZpZWxkSW5kZXg9ZS5maWVsZHNJbmRleCx0LmRhdGVUaW1lUmVmZXJlbmNlTWV0YURhdGE9e3RpbWVJbmZvOmU/LnRpbWVJbmZvPy50b0pTT04oKT8/bnVsbCxlZGl0RmllbGRzSW5mbzplPy5lZGl0RmllbGRzSW5mbz8udG9KU09OKCk/P251bGwsZGF0ZUZpZWxkc1RpbWVSZWZlcmVuY2U6ZT8uZGF0ZUZpZWxkc1RpbWVSZWZlcmVuY2U/LnRvSlNPTigpPz9udWxsLHByZWZlcnJlZFRpbWVSZWZlcmVuY2U6ZT8ucHJlZmVycmVkVGltZVJlZmVyZW5jZT8udG9KU09OKCk/P251bGwsZGF0ZXNJblVua25vd25UaW1lem9uZTohMD09PWU/LmRhdGVzSW5Vbmtub3duVGltZXpvbmV9LHR9ZmllbGRUaW1lWm9uZShlKXtjb25zdCB0PXRoaXMuX2ZpZWxkSW5kZXg/LmdldChlKTtpZighdClyZXR1cm4gbnVsbDtpZihcImRhdGVcIiE9PXQudHlwZSYmXCJlc3JpRmllbGRUeXBlRGF0ZVwiIT09dC50eXBlKXJldHVybiBudWxsO2NvbnN0IGk9dGhpcy5fZmllbGRUaW1lWm9uZUluZGV4W3QubmFtZV07aWYodm9pZCAwIT09aSlyZXR1cm4gaTtjb25zdCBuPVt7ZmllbGQ6dGhpcy5kYXRlVGltZVJlZmVyZW5jZU1ldGFEYXRhPy5lZGl0RmllbGRzSW5mbz8uY3JlYXRpb25EYXRlRmllbGQsdGltZVJlZmVyZW5jZTp0aGlzLmRhdGVUaW1lUmVmZXJlbmNlTWV0YURhdGE/LmVkaXRGaWVsZHNJbmZvPy5kYXRlRmllbGRzVGltZVJlZmVyZW5jZSxpc3Vua25vd246ITA9PT10aGlzLmRhdGVUaW1lUmVmZXJlbmNlTWV0YURhdGE/LmRhdGVzSW5Vbmtub3duVGltZXpvbmV9LHtmaWVsZDp0aGlzLmRhdGVUaW1lUmVmZXJlbmNlTWV0YURhdGE/LmVkaXRGaWVsZHNJbmZvPy5lZGl0RGF0ZUZpZWxkLHRpbWVSZWZlcmVuY2U6dGhpcy5kYXRlVGltZVJlZmVyZW5jZU1ldGFEYXRhPy5lZGl0RmllbGRzSW5mbz8uZGF0ZUZpZWxkc1RpbWVSZWZlcmVuY2UsaXN1bmtub3duOiEwPT09dGhpcy5kYXRlVGltZVJlZmVyZW5jZU1ldGFEYXRhPy5kYXRlc0luVW5rbm93blRpbWV6b25lfSx7ZmllbGQ6dGhpcy5kYXRlVGltZVJlZmVyZW5jZU1ldGFEYXRhPy50aW1lSW5mbz8uc3RhcnRUaW1lRmllbGQsdGltZVJlZmVyZW5jZTp0aGlzLmRhdGVUaW1lUmVmZXJlbmNlTWV0YURhdGE/LnRpbWVJbmZvPy50aW1lUmVmZXJlbmNlLGlzdW5rbm93bjohMD09PXRoaXMuZGF0ZVRpbWVSZWZlcmVuY2VNZXRhRGF0YT8uZGF0ZXNJblVua25vd25UaW1lem9uZX0se2ZpZWxkOnRoaXMuZGF0ZVRpbWVSZWZlcmVuY2VNZXRhRGF0YT8udGltZUluZm8/LmVuZFRpbWVGaWVsZCx0aW1lUmVmZXJlbmNlOnRoaXMuZGF0ZVRpbWVSZWZlcmVuY2VNZXRhRGF0YT8udGltZUluZm8/LnRpbWVSZWZlcmVuY2UsaXN1bmtub3duOiEwPT09dGhpcy5kYXRlVGltZVJlZmVyZW5jZU1ldGFEYXRhPy5kYXRlc0luVW5rbm93blRpbWV6b25lfV07Zm9yKGNvbnN0IHIgb2YgbilpZihyLmZpZWxkPT09dC5uYW1lKXtjb25zdCBlPXRoaXMuY29udmVydFRvSUFOQShyLnRpbWVSZWZlcmVuY2Usci5pc3Vua25vd24pO3JldHVybiB0aGlzLl9maWVsZFRpbWVab25lSW5kZXhbdC5uYW1lXT1lLGV9Y29uc3QgYT10aGlzLmNvbnZlcnRUb0lBTkEodGhpcy5kYXRlVGltZVJlZmVyZW5jZU1ldGFEYXRhPy5kYXRlRmllbGRzVGltZVJlZmVyZW5jZSx0aGlzLmRhdGVUaW1lUmVmZXJlbmNlTWV0YURhdGE/LmRhdGVzSW5Vbmtub3duVGltZXpvbmUpO3JldHVybiB0aGlzLl9maWVsZFRpbWVab25lSW5kZXhbdC5uYW1lXT1hLGF9Y29udmVydFRvSUFOQShlLHQpe3JldHVybiB0P1widW5rbm93blwiOmMoZSl9Z2V0IGxheWVyUHJlZmVycmVkVGltZVpvbmUoKXtpZihudWxsIT09dGhpcy5faWFuYVByZWZlcnJlZClyZXR1cm4gdGhpcy5faWFuYVByZWZlcnJlZDt0aGlzLl9pYW5hUHJlZmVycmVkPVwiXCI7Y29uc3QgZT10aGlzLmRhdGVUaW1lUmVmZXJlbmNlTWV0YURhdGE/LnByZWZlcnJlZFRpbWVSZWZlcmVuY2U7cmV0dXJuIHRoaXMuX2lhbmFQcmVmZXJyZWQ9dGhpcy5jb252ZXJ0VG9JQU5BKGUsITA9PT10aGlzLmRhdGVUaW1lUmVmZXJlbmNlTWV0YURhdGE/LmRhdGVzSW5Vbmtub3duVGltZXpvbmUpLHRoaXMuX2lhbmFQcmVmZXJyZWR9Z2V0IGxheWVyVGltZUluZm9UaW1lWm9uZSgpe2lmKG51bGwhPT10aGlzLl9pYW5hVGltZUluZm8pcmV0dXJuIHRoaXMuX2lhbmFUaW1lSW5mbzt0aGlzLl9pYW5hVGltZUluZm89XCJcIjtjb25zdCBlPXRoaXMuZGF0ZVRpbWVSZWZlcmVuY2VNZXRhRGF0YT8udGltZUluZm8/LnRpbWVSZWZlcmVuY2U7cmV0dXJuIHRoaXMuX2lhbmFUaW1lSW5mbz10aGlzLmNvbnZlcnRUb0lBTkEoZSwhMSksdGhpcy5faWFuYVRpbWVJbmZvfWdldCBsYXllckVkaXRGaWVsZHNUaW1lWm9uZSgpe2lmKG51bGwhPT10aGlzLl9pYW5hRWRpdEZpZWxkcylyZXR1cm4gdGhpcy5faWFuYUVkaXRGaWVsZHM7dGhpcy5faWFuYUVkaXRGaWVsZHM9XCJcIjtjb25zdCBlPXRoaXMuZGF0ZVRpbWVSZWZlcmVuY2VNZXRhRGF0YT8uZWRpdEZpZWxkc0luZm8/LmRhdGVGaWVsZHNUaW1lUmVmZXJlbmNlO3JldHVybiB0aGlzLl9pYW5hRWRpdEZpZWxkcz10aGlzLmNvbnZlcnRUb0lBTkEoZSx0aGlzLmRhdGVUaW1lUmVmZXJlbmNlTWV0YURhdGE/LmRhdGVzSW5Vbmtub3duVGltZXpvbmUpLHRoaXMuX2lhbmFFZGl0RmllbGRzfWdldCBsYXllckRhdGVGaWVsZHNUaW1lWm9uZSgpe2lmKG51bGwhPT10aGlzLl9pYW5hTGF5ZXJEYXRlRmllbGRzKXJldHVybiB0aGlzLl9pYW5hTGF5ZXJEYXRlRmllbGRzO3RoaXMuX2lhbmFMYXllckRhdGVGaWVsZHM9XCJcIjtjb25zdCBlPXRoaXMuZGF0ZVRpbWVSZWZlcmVuY2VNZXRhRGF0YT8uZGF0ZUZpZWxkc1RpbWVSZWZlcmVuY2U7cmV0dXJuIHRoaXMuX2lhbmFMYXllckRhdGVGaWVsZHM9dGhpcy5jb252ZXJ0VG9JQU5BKGUsITA9PT10aGlzLmRhdGVUaW1lUmVmZXJlbmNlTWV0YURhdGE/LmRhdGVzSW5Vbmtub3duVGltZXpvbmUpLHRoaXMuX2lhbmFMYXllckRhdGVGaWVsZHN9fWV4cG9ydHtUIGFzIERhdGVUaW1lUmVmZXJlbmNlRmllbGRJbmRleCxtIGFzIGNvbnZlcnRUaW1lUmVmZXJlbmNlLGMgYXMgY29udmVydFRvSUFOQX07XG4iLCIvKlxuQWxsIG1hdGVyaWFsIGNvcHlyaWdodCBFU1JJLCBBbGwgUmlnaHRzIFJlc2VydmVkLCB1bmxlc3Mgb3RoZXJ3aXNlIHNwZWNpZmllZC5cblNlZSBodHRwczovL2pzLmFyY2dpcy5jb20vNC4yNy9lc3JpL2NvcHlyaWdodC50eHQgZm9yIGRldGFpbHMuXG4qL1xuaW1wb3J0e3EgYXMgdH1mcm9tXCIuL3F1aWNrc2VsZWN0LmpzXCI7ZnVuY3Rpb24gaSh0LG4pe2lmKCEodGhpcyBpbnN0YW5jZW9mIGkpKXJldHVybiBuZXcgaSh0LG4pO3RoaXMuX21heEVudHJpZXM9TWF0aC5tYXgoNCx0fHw5KSx0aGlzLl9taW5FbnRyaWVzPU1hdGgubWF4KDIsTWF0aC5jZWlsKC40KnRoaXMuX21heEVudHJpZXMpKSxuJiYoXCJmdW5jdGlvblwiPT10eXBlb2Ygbj90aGlzLnRvQkJveD1uOnRoaXMuX2luaXRGb3JtYXQobikpLHRoaXMuY2xlYXIoKX1mdW5jdGlvbiBuKHQsaSxuKXtpZighbilyZXR1cm4gaS5pbmRleE9mKHQpO2Zvcih2YXIgaD0wO2g8aS5sZW5ndGg7aCsrKWlmKG4odCxpW2hdKSlyZXR1cm4gaDtyZXR1cm4tMX1mdW5jdGlvbiBoKHQsaSl7YSh0LDAsdC5jaGlsZHJlbi5sZW5ndGgsaSx0KX1mdW5jdGlvbiBhKHQsaSxuLGgsYSl7YXx8KGE9eChudWxsKSksYS5taW5YPTEvMCxhLm1pblk9MS8wLGEubWF4WD0tMS8wLGEubWF4WT0tMS8wO2Zvcih2YXIgZSxvPWk7bzxuO28rKyllPXQuY2hpbGRyZW5bb10scihhLHQubGVhZj9oKGUpOmUpO3JldHVybiBhfWZ1bmN0aW9uIHIodCxpKXtyZXR1cm4gdC5taW5YPU1hdGgubWluKHQubWluWCxpLm1pblgpLHQubWluWT1NYXRoLm1pbih0Lm1pblksaS5taW5ZKSx0Lm1heFg9TWF0aC5tYXgodC5tYXhYLGkubWF4WCksdC5tYXhZPU1hdGgubWF4KHQubWF4WSxpLm1heFkpLHR9ZnVuY3Rpb24gZSh0LGkpe3JldHVybiB0Lm1pblgtaS5taW5YfWZ1bmN0aW9uIG8odCxpKXtyZXR1cm4gdC5taW5ZLWkubWluWX1mdW5jdGlvbiBzKHQpe3JldHVybih0Lm1heFgtdC5taW5YKSoodC5tYXhZLXQubWluWSl9ZnVuY3Rpb24gbCh0KXtyZXR1cm4gdC5tYXhYLXQubWluWCsodC5tYXhZLXQubWluWSl9ZnVuY3Rpb24gbSh0LGkpe3JldHVybihNYXRoLm1heChpLm1heFgsdC5tYXhYKS1NYXRoLm1pbihpLm1pblgsdC5taW5YKSkqKE1hdGgubWF4KGkubWF4WSx0Lm1heFkpLU1hdGgubWluKGkubWluWSx0Lm1pblkpKX1mdW5jdGlvbiBjKHQsaSl7dmFyIG49TWF0aC5tYXgodC5taW5YLGkubWluWCksaD1NYXRoLm1heCh0Lm1pblksaS5taW5ZKSxhPU1hdGgubWluKHQubWF4WCxpLm1heFgpLHI9TWF0aC5taW4odC5tYXhZLGkubWF4WSk7cmV0dXJuIE1hdGgubWF4KDAsYS1uKSpNYXRoLm1heCgwLHItaCl9ZnVuY3Rpb24gdSh0LGkpe3JldHVybiB0Lm1pblg8PWkubWluWCYmdC5taW5ZPD1pLm1pblkmJmkubWF4WDw9dC5tYXhYJiZpLm1heFk8PXQubWF4WX1mdW5jdGlvbiBmKHQsaSl7cmV0dXJuIGkubWluWDw9dC5tYXhYJiZpLm1pblk8PXQubWF4WSYmaS5tYXhYPj10Lm1pblgmJmkubWF4WT49dC5taW5ZfWZ1bmN0aW9uIHgodCl7cmV0dXJue2NoaWxkcmVuOnQsaGVpZ2h0OjEsbGVhZjohMCxtaW5YOjEvMCxtaW5ZOjEvMCxtYXhYOi0xLzAsbWF4WTotMS8wfX1mdW5jdGlvbiBkKGksbixoLGEscil7Zm9yKHZhciBlLG89W24saF07by5sZW5ndGg7KShoPW8ucG9wKCkpLShuPW8ucG9wKCkpPD1hfHwoZT1uK01hdGguY2VpbCgoaC1uKS9hLzIpKmEsdChpLGUsbixoLHIpLG8ucHVzaChuLGUsZSxoKSl9aS5wcm90b3R5cGU9e2FsbDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9hbGwodGhpcy5kYXRhLFtdKX0sc2VhcmNoOmZ1bmN0aW9uKHQpe3ZhciBpPXRoaXMuZGF0YSxuPVtdLGg9dGhpcy50b0JCb3g7aWYoIWYodCxpKSlyZXR1cm4gbjtmb3IodmFyIGEscixlLG8scz1bXTtpOyl7Zm9yKGE9MCxyPWkuY2hpbGRyZW4ubGVuZ3RoO2E8cjthKyspZT1pLmNoaWxkcmVuW2FdLGYodCxvPWkubGVhZj9oKGUpOmUpJiYoaS5sZWFmP24ucHVzaChlKTp1KHQsbyk/dGhpcy5fYWxsKGUsbik6cy5wdXNoKGUpKTtpPXMucG9wKCl9cmV0dXJuIG59LGNvbGxpZGVzOmZ1bmN0aW9uKHQpe3ZhciBpPXRoaXMuZGF0YSxuPXRoaXMudG9CQm94O2lmKCFmKHQsaSkpcmV0dXJuITE7Zm9yKHZhciBoLGEscixlLG89W107aTspe2ZvcihoPTAsYT1pLmNoaWxkcmVuLmxlbmd0aDtoPGE7aCsrKWlmKHI9aS5jaGlsZHJlbltoXSxmKHQsZT1pLmxlYWY/bihyKTpyKSl7aWYoaS5sZWFmfHx1KHQsZSkpcmV0dXJuITA7by5wdXNoKHIpfWk9by5wb3AoKX1yZXR1cm4hMX0sbG9hZDpmdW5jdGlvbih0KXtpZighdHx8IXQubGVuZ3RoKXJldHVybiB0aGlzO2lmKHQubGVuZ3RoPHRoaXMuX21pbkVudHJpZXMpe2Zvcih2YXIgaT0wLG49dC5sZW5ndGg7aTxuO2krKyl0aGlzLmluc2VydCh0W2ldKTtyZXR1cm4gdGhpc312YXIgaD10aGlzLl9idWlsZCh0LnNsaWNlKCksMCx0Lmxlbmd0aC0xLDApO2lmKHRoaXMuZGF0YS5jaGlsZHJlbi5sZW5ndGgpaWYodGhpcy5kYXRhLmhlaWdodD09PWguaGVpZ2h0KXRoaXMuX3NwbGl0Um9vdCh0aGlzLmRhdGEsaCk7ZWxzZXtpZih0aGlzLmRhdGEuaGVpZ2h0PGguaGVpZ2h0KXt2YXIgYT10aGlzLmRhdGE7dGhpcy5kYXRhPWgsaD1hfXRoaXMuX2luc2VydChoLHRoaXMuZGF0YS5oZWlnaHQtaC5oZWlnaHQtMSwhMCl9ZWxzZSB0aGlzLmRhdGE9aDtyZXR1cm4gdGhpc30saW5zZXJ0OmZ1bmN0aW9uKHQpe3JldHVybiB0JiZ0aGlzLl9pbnNlcnQodCx0aGlzLmRhdGEuaGVpZ2h0LTEpLHRoaXN9LGNsZWFyOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuZGF0YT14KFtdKSx0aGlzfSxyZW1vdmU6ZnVuY3Rpb24odCxpKXtpZighdClyZXR1cm4gdGhpcztmb3IodmFyIGgsYSxyLGUsbz10aGlzLmRhdGEscz10aGlzLnRvQkJveCh0KSxsPVtdLG09W107b3x8bC5sZW5ndGg7KXtpZihvfHwobz1sLnBvcCgpLGE9bFtsLmxlbmd0aC0xXSxoPW0ucG9wKCksZT0hMCksby5sZWFmJiYtMSE9PShyPW4odCxvLmNoaWxkcmVuLGkpKSlyZXR1cm4gby5jaGlsZHJlbi5zcGxpY2UociwxKSxsLnB1c2gobyksdGhpcy5fY29uZGVuc2UobCksdGhpcztlfHxvLmxlYWZ8fCF1KG8scyk/YT8oaCsrLG89YS5jaGlsZHJlbltoXSxlPSExKTpvPW51bGw6KGwucHVzaChvKSxtLnB1c2goaCksaD0wLGE9byxvPW8uY2hpbGRyZW5bMF0pfXJldHVybiB0aGlzfSx0b0JCb3g6ZnVuY3Rpb24odCl7cmV0dXJuIHR9LGNvbXBhcmVNaW5YOmUsY29tcGFyZU1pblk6byx0b0pTT046ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5kYXRhfSxmcm9tSlNPTjpmdW5jdGlvbih0KXtyZXR1cm4gdGhpcy5kYXRhPXQsdGhpc30sX2FsbDpmdW5jdGlvbih0LGkpe2Zvcih2YXIgbj1bXTt0Oyl0LmxlYWY/aS5wdXNoLmFwcGx5KGksdC5jaGlsZHJlbik6bi5wdXNoLmFwcGx5KG4sdC5jaGlsZHJlbiksdD1uLnBvcCgpO3JldHVybiBpfSxfYnVpbGQ6ZnVuY3Rpb24odCxpLG4sYSl7dmFyIHIsZT1uLWkrMSxvPXRoaXMuX21heEVudHJpZXM7aWYoZTw9bylyZXR1cm4gaChyPXgodC5zbGljZShpLG4rMSkpLHRoaXMudG9CQm94KSxyO2F8fChhPU1hdGguY2VpbChNYXRoLmxvZyhlKS9NYXRoLmxvZyhvKSksbz1NYXRoLmNlaWwoZS9NYXRoLnBvdyhvLGEtMSkpKSwocj14KFtdKSkubGVhZj0hMSxyLmhlaWdodD1hO3ZhciBzLGwsbSxjLHU9TWF0aC5jZWlsKGUvbyksZj11Kk1hdGguY2VpbChNYXRoLnNxcnQobykpO2ZvcihkKHQsaSxuLGYsdGhpcy5jb21wYXJlTWluWCkscz1pO3M8PW47cys9Zilmb3IoZCh0LHMsbT1NYXRoLm1pbihzK2YtMSxuKSx1LHRoaXMuY29tcGFyZU1pblkpLGw9cztsPD1tO2wrPXUpYz1NYXRoLm1pbihsK3UtMSxtKSxyLmNoaWxkcmVuLnB1c2godGhpcy5fYnVpbGQodCxsLGMsYS0xKSk7cmV0dXJuIGgocix0aGlzLnRvQkJveCkscn0sX2Nob29zZVN1YnRyZWU6ZnVuY3Rpb24odCxpLG4saCl7Zm9yKHZhciBhLHIsZSxvLGwsYyx1LGY7aC5wdXNoKGkpLCFpLmxlYWYmJmgubGVuZ3RoLTEhPT1uOyl7Zm9yKHU9Zj0xLzAsYT0wLHI9aS5jaGlsZHJlbi5sZW5ndGg7YTxyO2ErKylsPXMoZT1pLmNoaWxkcmVuW2FdKSwoYz1tKHQsZSktbCk8Zj8oZj1jLHU9bDx1P2w6dSxvPWUpOmM9PT1mJiZsPHUmJih1PWwsbz1lKTtpPW98fGkuY2hpbGRyZW5bMF19cmV0dXJuIGl9LF9pbnNlcnQ6ZnVuY3Rpb24odCxpLG4pe3ZhciBoPXRoaXMudG9CQm94LGE9bj90OmgodCksZT1bXSxvPXRoaXMuX2Nob29zZVN1YnRyZWUoYSx0aGlzLmRhdGEsaSxlKTtmb3Ioby5jaGlsZHJlbi5wdXNoKHQpLHIobyxhKTtpPj0wJiZlW2ldLmNoaWxkcmVuLmxlbmd0aD50aGlzLl9tYXhFbnRyaWVzOyl0aGlzLl9zcGxpdChlLGkpLGktLTt0aGlzLl9hZGp1c3RQYXJlbnRCQm94ZXMoYSxlLGkpfSxfc3BsaXQ6ZnVuY3Rpb24odCxpKXt2YXIgbj10W2ldLGE9bi5jaGlsZHJlbi5sZW5ndGgscj10aGlzLl9taW5FbnRyaWVzO3RoaXMuX2Nob29zZVNwbGl0QXhpcyhuLHIsYSk7dmFyIGU9dGhpcy5fY2hvb3NlU3BsaXRJbmRleChuLHIsYSksbz14KG4uY2hpbGRyZW4uc3BsaWNlKGUsbi5jaGlsZHJlbi5sZW5ndGgtZSkpO28uaGVpZ2h0PW4uaGVpZ2h0LG8ubGVhZj1uLmxlYWYsaChuLHRoaXMudG9CQm94KSxoKG8sdGhpcy50b0JCb3gpLGk/dFtpLTFdLmNoaWxkcmVuLnB1c2gobyk6dGhpcy5fc3BsaXRSb290KG4sbyl9LF9zcGxpdFJvb3Q6ZnVuY3Rpb24odCxpKXt0aGlzLmRhdGE9eChbdCxpXSksdGhpcy5kYXRhLmhlaWdodD10LmhlaWdodCsxLHRoaXMuZGF0YS5sZWFmPSExLGgodGhpcy5kYXRhLHRoaXMudG9CQm94KX0sX2Nob29zZVNwbGl0SW5kZXg6ZnVuY3Rpb24odCxpLG4pe3ZhciBoLHIsZSxvLGwsbSx1LGY7Zm9yKG09dT0xLzAsaD1pO2g8PW4taTtoKyspbz1jKHI9YSh0LDAsaCx0aGlzLnRvQkJveCksZT1hKHQsaCxuLHRoaXMudG9CQm94KSksbD1zKHIpK3MoZSksbzxtPyhtPW8sZj1oLHU9bDx1P2w6dSk6bz09PW0mJmw8dSYmKHU9bCxmPWgpO3JldHVybiBmfSxfY2hvb3NlU3BsaXRBeGlzOmZ1bmN0aW9uKHQsaSxuKXt2YXIgaD10LmxlYWY/dGhpcy5jb21wYXJlTWluWDplLGE9dC5sZWFmP3RoaXMuY29tcGFyZU1pblk6bzt0aGlzLl9hbGxEaXN0TWFyZ2luKHQsaSxuLGgpPHRoaXMuX2FsbERpc3RNYXJnaW4odCxpLG4sYSkmJnQuY2hpbGRyZW4uc29ydChoKX0sX2FsbERpc3RNYXJnaW46ZnVuY3Rpb24odCxpLG4saCl7dC5jaGlsZHJlbi5zb3J0KGgpO3ZhciBlLG8scz10aGlzLnRvQkJveCxtPWEodCwwLGkscyksYz1hKHQsbi1pLG4scyksdT1sKG0pK2woYyk7Zm9yKGU9aTtlPG4taTtlKyspbz10LmNoaWxkcmVuW2VdLHIobSx0LmxlYWY/cyhvKTpvKSx1Kz1sKG0pO2ZvcihlPW4taS0xO2U+PWk7ZS0tKW89dC5jaGlsZHJlbltlXSxyKGMsdC5sZWFmP3Mobyk6byksdSs9bChjKTtyZXR1cm4gdX0sX2FkanVzdFBhcmVudEJCb3hlczpmdW5jdGlvbih0LGksbil7Zm9yKHZhciBoPW47aD49MDtoLS0pcihpW2hdLHQpfSxfY29uZGVuc2U6ZnVuY3Rpb24odCl7Zm9yKHZhciBpLG49dC5sZW5ndGgtMTtuPj0wO24tLSkwPT09dFtuXS5jaGlsZHJlbi5sZW5ndGg/bj4wPyhpPXRbbi0xXS5jaGlsZHJlbikuc3BsaWNlKGkuaW5kZXhPZih0W25dKSwxKTp0aGlzLmNsZWFyKCk6aCh0W25dLHRoaXMudG9CQm94KX0sX2luaXRGb3JtYXQ6ZnVuY3Rpb24odCl7dmFyIGk9W1wicmV0dXJuIGFcIixcIiAtIGJcIixcIjtcIl07dGhpcy5jb21wYXJlTWluWD1uZXcgRnVuY3Rpb24oXCJhXCIsXCJiXCIsaS5qb2luKHRbMF0pKSx0aGlzLmNvbXBhcmVNaW5ZPW5ldyBGdW5jdGlvbihcImFcIixcImJcIixpLmpvaW4odFsxXSkpLHRoaXMudG9CQm94PW5ldyBGdW5jdGlvbihcImFcIixcInJldHVybiB7bWluWDogYVwiK3RbMF0rXCIsIG1pblk6IGFcIit0WzFdK1wiLCBtYXhYOiBhXCIrdFsyXStcIiwgbWF4WTogYVwiK3RbM10rXCJ9O1wiKX19O2V4cG9ydHtpIGFzIHJ9O1xuIiwiLypcbkFsbCBtYXRlcmlhbCBjb3B5cmlnaHQgRVNSSSwgQWxsIFJpZ2h0cyBSZXNlcnZlZCwgdW5sZXNzIG90aGVyd2lzZSBzcGVjaWZpZWQuXG5TZWUgaHR0cHM6Ly9qcy5hcmNnaXMuY29tLzQuMjcvZXNyaS9jb3B5cmlnaHQudHh0IGZvciBkZXRhaWxzLlxuKi9cbmNsYXNzIHR7Y29uc3RydWN0b3IodCl7dGhpcy5zaXplPTAsdGhpcy5fc3RhcnQ9MCx0aGlzLm1heFNpemU9dCx0aGlzLl9idWZmZXI9bmV3IEFycmF5KHQpfWdldCBlbnRyaWVzKCl7cmV0dXJuIHRoaXMuX2J1ZmZlcn1lbnF1ZXVlKHQpe2lmKHRoaXMuc2l6ZT09PXRoaXMubWF4U2l6ZSl7Y29uc3Qgcz10aGlzLl9idWZmZXJbdGhpcy5fc3RhcnRdO3JldHVybiB0aGlzLl9idWZmZXJbdGhpcy5fc3RhcnRdPXQsdGhpcy5fc3RhcnQ9KHRoaXMuX3N0YXJ0KzEpJXRoaXMubWF4U2l6ZSxzfXJldHVybiB0aGlzLl9idWZmZXJbKHRoaXMuX3N0YXJ0K3RoaXMuc2l6ZSsrKSV0aGlzLm1heFNpemVdPXQsbnVsbH1kZXF1ZXVlKCl7aWYoMD09PXRoaXMuc2l6ZSlyZXR1cm4gbnVsbDtjb25zdCB0PXRoaXMuX2J1ZmZlclt0aGlzLl9zdGFydF07cmV0dXJuIHRoaXMuX2J1ZmZlclt0aGlzLl9zdGFydF09bnVsbCx0aGlzLnNpemUtLSx0aGlzLl9zdGFydD0odGhpcy5fc3RhcnQrMSkldGhpcy5tYXhTaXplLHR9cGVlaygpe3JldHVybiAwPT09dGhpcy5zaXplP251bGw6dGhpcy5fYnVmZmVyW3RoaXMuX3N0YXJ0XX1maW5kKHQpe2lmKDA9PT10aGlzLnNpemUpcmV0dXJuIG51bGw7Zm9yKGNvbnN0IHMgb2YgdGhpcy5fYnVmZmVyKWlmKG51bGwhPXMmJnQocykpcmV0dXJuIHM7cmV0dXJuIG51bGx9Y2xlYXIodCl7bGV0IHM9dGhpcy5kZXF1ZXVlKCk7Zm9yKDtudWxsIT1zOyl0JiZ0KHMpLHM9dGhpcy5kZXF1ZXVlKCl9fWV4cG9ydHt0IGFzIGRlZmF1bHR9O1xuIiwiLypcbkFsbCBtYXRlcmlhbCBjb3B5cmlnaHQgRVNSSSwgQWxsIFJpZ2h0cyBSZXNlcnZlZCwgdW5sZXNzIG90aGVyd2lzZSBzcGVjaWZpZWQuXG5TZWUgaHR0cHM6Ly9qcy5hcmNnaXMuY29tLzQuMjcvZXNyaS9jb3B5cmlnaHQudHh0IGZvciBkZXRhaWxzLlxuKi9cbmltcG9ydCB0IGZyb21cIi4uL2NvcmUvQ2lyY3VsYXJBcnJheS5qc1wiO2ltcG9ydHtkZWNvZGVHZW9oYXNoWFkgYXMgZX1mcm9tXCIuL2dlb2hhc2hVdGlscy5qc1wiO2ltcG9ydCBzIGZyb21cIi4uL2dlb21ldHJ5L1NwYXRpYWxSZWZlcmVuY2UuanNcIjtpbXBvcnR7Y29udmVydEZyb21Qb2x5Z29uIGFzIGkscXVhbnRpemVPcHRpbWl6ZWRHZW9tZXRyeSBhcyBuLGNvbnZlcnRGcm9tUG9pbnQgYXMgb31mcm9tXCIuLi9sYXllcnMvZ3JhcGhpY3MvZmVhdHVyZUNvbnZlcnNpb25VdGlscy5qc1wiO2ltcG9ydCBhIGZyb21cIi4uL2xheWVycy9ncmFwaGljcy9PcHRpbWl6ZWRHZW9tZXRyeS5qc1wiO2ltcG9ydHtwcm9qZWN0IGFzIHJ9ZnJvbVwiLi4vbGF5ZXJzL2dyYXBoaWNzL2RhdGEvcHJvamVjdGlvblN1cHBvcnQuanNcIjtpbXBvcnR7RmVhdHVyZVNldFJlYWRlckpTT04gYXMgbH1mcm9tXCIuLi92aWV3cy8yZC9sYXllcnMvZmVhdHVyZXMvc3VwcG9ydC9GZWF0dXJlU2V0UmVhZGVySlNPTi5qc1wiO2NsYXNzIGh7Y29uc3RydWN0b3IoZT1bXSxzLGk9ODA5Nil7dGhpcy5vblJlbGVhc2U9dD0+e30sdGhpcy5fbm9kZXM9MCx0aGlzLl9yb290PW5ldyBjKHRoaXMsMCwwLDApLHRoaXMuX3N0YXRpc3RpY0ZpZWxkcz1lLHRoaXMuX3Bvb2w9aT9uZXcgdCg4MDk2KTpudWxsLHRoaXMuX3NlcnZpY2VJbmZvPXN9ZGVzdHJveSgpe3RoaXMuY2xlYXIoKX1fYWNxdWlyZSh0LGUscyl7dGhpcy5fbm9kZXMrKztsZXQgaT1udWxsO3JldHVybiBudWxsIT10aGlzLl9wb29sJiYoaT10aGlzLl9wb29sLmRlcXVldWUoKSksbnVsbCE9aT9pLnJlYWxsb2ModCxlLHMpOmk9bmV3IGModGhpcyx0LGUscyksaX1fcmVsZWFzZSh0KXt0aGlzLm9uUmVsZWFzZSh0KSx0aGlzLl9ub2Rlcy0tLG51bGwhPXRoaXMuX3Bvb2wmJnRoaXMuX3Bvb2wuZW5xdWV1ZSh0KX1nZXQgY291bnQoKXtyZXR1cm4gdGhpcy5fcm9vdC5jb3VudH1nZXQgc2l6ZSgpe3JldHVybiB0aGlzLl9ub2Rlc31nZXQgcG9vbFNpemUoKXtyZXR1cm4gdGhpcy5fcG9vbD8uc2l6ZT8/MH1nZXQgZGVwdGgoKXtsZXQgdD0wO3JldHVybiB0aGlzLmZvckVhY2goKGU9PnQ9TWF0aC5tYXgodCxlLmRlcHRoKSkpLHR9ZHJvcExldmVscyh0KXt0aGlzLmZvckVhY2goKGU9PntpZihlLmRlcHRoPj10KWZvcihsZXQgdD0wO3Q8ZS5jaGlsZHJlbi5sZW5ndGg7dCsrKXtjb25zdCBzPWUuY2hpbGRyZW5bdF07cyYmdGhpcy5fcmVsZWFzZShzKX19KSksdGhpcy5mb3JFYWNoKChlPT57aWYoZS5kZXB0aD49dClmb3IobGV0IHQ9MDt0PGUuY2hpbGRyZW4ubGVuZ3RoO3QrKyllLmNoaWxkcmVuW3RdPW51bGx9KSl9Y2xlYXIoKXt0aGlzLmZvckVhY2goKHQ9PnRoaXMuX3JlbGVhc2UodCkpKSx0aGlzLl9yb290PW5ldyBjKHRoaXMsMCwwLDApfWluc2VydCh0LGUscz0wKXtjb25zdCBpPWwuZnJvbU9wdGltaXplZEZlYXR1cmVzKFt0XSx0aGlzLl9zZXJ2aWNlSW5mbykuZ2V0Q3Vyc29yKCk7aS5uZXh0KCk7Y29uc3Qgbj1pLnJlYWRHZW9tZXRyeSgpO2lmKCFuKXJldHVybjtjb25zdFtvLGFdPW4uY29vcmRzLHI9dC5nZW9oYXNoWCxoPXQuZ2VvaGFzaFk7dGhpcy5pbnNlcnRDdXJzb3IoaSx0LmRpc3BsYXlJZCxvLGEscixoLGUscyl9aW5zZXJ0Q3Vyc29yKHQsZSxzLGksbixvLGEscj0wKXtsZXQgbD10aGlzLl9yb290LGg9MCxjPTAsdT0wO2Zvcig7bnVsbCE9PWw7KXtpZihsLmRlcHRoPj1yJiYobC5jb3VudCs9MSxsLnhUb3RhbCs9cyxsLnlUb3RhbCs9aSxsLnhHZW9oYXNoVG90YWwrPW4sbC55R2VvaGFzaFRvdGFsKz1vLGwucmVmZXJlbmNlSWQ9ZSx0aGlzLl91cGRhdGVTdGF0aXN0aWNzQ3Vyc29yKHQsbCwxKSksaD49YSlyZXR1cm4gdm9pZCBsLmFkZChlKTtjb25zdCBkPU1hdGguY2VpbCgoaCsxKS8yKSxmPU1hdGguZmxvb3IoKGgrMSkvMikseD0xLWglMixtPTMwLSgzKmQrMipmKSxnPTMwLSgyKmQrMypmKSx5PShuJjcqeCszKigxLXgpPDxtKT4+bSxwPShvJjMqeCs3KigxLXgpPDxnKT4+ZyxfPXkrcCooOCp4KzQqKDEteCkpO2M9Yzw8Myp4KzIqKDEteCl8eSx1PXU8PDIqeCszKigxLXgpfHAsbnVsbD09bC5jaGlsZHJlbltfXSYmKGwuY2hpbGRyZW5bX109dGhpcy5fYWNxdWlyZShjLHUsaCsxKSksaCs9MSxsPWwuY2hpbGRyZW5bX119fXJlbW92ZSh0LGUpe2NvbnN0IHM9bC5mcm9tT3B0aW1pemVkRmVhdHVyZXMoW3RdLHRoaXMuX3NlcnZpY2VJbmZvKS5nZXRDdXJzb3IoKTtzLm5leHQoKTtjb25zdCBpPXMucmVhZEdlb21ldHJ5KCk7aWYoIWkpcmV0dXJuO2NvbnN0W24sb109aS5jb29yZHMsYT10Lmdlb2hhc2hYLHI9dC5nZW9oYXNoWTt0aGlzLnJlbW92ZUN1cnNvcihzLG4sbyxhLHIsZSl9cmVtb3ZlQ3Vyc29yKHQsZSxzLGksbixvKXtsZXQgYT10aGlzLl9yb290LHI9MDtmb3IoO251bGwhPT1hOyl7aWYoYS5jb3VudC09MSxhLnhUb3RhbC09ZSxhLnlUb3RhbC09cyxhLnhHZW9oYXNoVG90YWwtPWksYS55R2VvaGFzaFRvdGFsLT1uLHRoaXMuX3VwZGF0ZVN0YXRpc3RpY3NDdXJzb3IodCxhLC0xKSxyPj1vKXJldHVybiB2b2lkIGEucmVtb3ZlKHQuZ2V0RGlzcGxheUlkKCkpO2NvbnN0IGw9TWF0aC5jZWlsKChyKzEpLzIpLGg9TWF0aC5mbG9vcigocisxKS8yKSxjPTEtciUyLHU9MzAtKDMqbCsyKmgpLGQ9MzAtKDIqbCszKmgpLGY9KChpJjcqYyszKigxLWMpPDx1KT4+dSkrKChuJjMqYys3KigxLWMpPDxkKT4+ZCkqKDgqYys0KigxLWMpKSx4PWEuY2hpbGRyZW5bZl07MT09PXg/LmNvdW50JiYodGhpcy5fcmVsZWFzZSh4KSxhLmNoaWxkcmVuW2ZdPW51bGwpLHIrPTEsYT14fX1mb3JFYWNoKHQpe2xldCBlPXRoaXMuX3Jvb3Q7Zm9yKDtudWxsIT09ZTspe2NvbnN0IHM9dGhpcy5fbGlua0NoaWxkcmVuKGUpfHxlLm5leHQ7dChlKSxlPXN9fWZpbmQodCxlLHMpe3JldHVybiB0aGlzLl9yb290LmZpbmQodCxlLHMsMCwwLDApfWZpbmRJZih0KXtsZXQgZT1udWxsO3JldHVybiB0aGlzLmZvckVhY2goKHM9Pnt0KHMpJiYoZT1zKX0pKSxlfWZpbmRBbGxJZih0KXtjb25zdCBlPVtdO3JldHVybiB0aGlzLmZvckVhY2goKHM9Pnt0KHMpJiZlLnB1c2gocyl9KSksZX1maW5kU2luZ2xlT2NjdXBhbmN5Tm9kZSh0LGUscyxpLG4pe2xldCBvPXRoaXMuX3Jvb3Q7Zm9yKDtudWxsIT09bzspe2NvbnN0IGE9by5kZXB0aCxyPW8ueE5vZGUsbD1vLnlOb2RlLGg9MS1hJTIsYz1vLnhHZW9oYXNoVG90YWwvby5jb3VudCx1PW8ueUdlb2hhc2hUb3RhbC9vLmNvdW50O2lmKDE9PT1vLmNvdW50JiZ0PGMmJmM8PXMmJmU8dSYmdTw9aSlyZXR1cm4gbztpZihhPj1uKXtvPW8ubmV4dDtjb250aW51ZX1jb25zdCBkPU1hdGguY2VpbCgoYSsxKS8yKSxmPU1hdGguZmxvb3IoKGErMSkvMikseD0zMC0oMypkKzIqZiksbT0zMC0oMipkKzMqZiksZz1+KCgxPDx4KS0xKSx5PX4oKDE8PG0pLTEpLHA9KHQmZyk+PngsXz0oZSZ5KT4+bSx2PShzJmcpPj54LE09KGkmeSk+Pm0sVD1yPDwzKmgrMiooMS1oKSxiPWw8PDIqaCszKigxLWgpLGs9VCs4KmgrNCooMS1oKSxOPWIrNCpoKzgqKDEtaCksST1NYXRoLm1heChULHApLEM9TWF0aC5tYXgoYixfKSxHPU1hdGgubWluKGssdiksTD1NYXRoLm1pbihOLE0pO2xldCBTPW51bGwsdz1udWxsO2ZvcihsZXQgdD1DO3Q8PUw7dCsrKWZvcihsZXQgZT1JO2U8PUc7ZSsrKXtjb25zdCBzPWUtVCsodC1iKSooOCpoKzQqKDEtaCkpLGk9by5jaGlsZHJlbltzXTtpJiYoU3x8KFM9aSxTLm5leHQ9by5uZXh0KSx3JiYody5uZXh0PWkpLHc9aSxpLm5leHQ9by5uZXh0KX1vPVN8fG8ubmV4dH1yZXR1cm4gbnVsbH1nZXRSZWdpb25EaXNwbGF5SWRzKHQpe2xldCBlPXRoaXMuX3Jvb3Q7Y29uc3R7Ym91bmRzOnMsZ2VvaGFzaEJvdW5kczppLGxldmVsOm59PXQsW28sYSxyLGxdPXMsaD1bXTtmb3IoO251bGwhPT1lOyl7Y29uc3QgdD1lLmRlcHRoLHM9ZS54Tm9kZSxjPWUueU5vZGU7aWYodD49bil7Y29uc3QgdD1lLnhUb3RhbC9lLmNvdW50LHM9ZS55VG90YWwvZS5jb3VudDt0Pj1vJiZ0PD1yJiZzPj1hJiZzPD1sJiZlLmRpc3BsYXlJZHMuZm9yRWFjaCgodD0+aC5wdXNoKHQpKSksZT1lLm5leHQ7Y29udGludWV9Y29uc3QgdT1NYXRoLmNlaWwoKHQrMSkvMiksZD1NYXRoLmZsb29yKCh0KzEpLzIpLGY9MS10JTIseD0zMC0oMyp1KzIqZCksbT0zMC0oMip1KzMqZCksZz1+KCgxPDx4KS0xKSx5PX4oKDE8PG0pLTEpLHA9KGkueExMJmcpPj54LF89KGkueUxMJnkpPj5tLHY9KGkueFRSJmcpPj54LE09KGkueVRSJnkpPj5tLFQ9czw8MypmKzIqKDEtZiksYj1jPDwyKmYrMyooMS1mKSxrPVQrOCpmKzQqKDEtZiksTj1iKzQqZis4KigxLWYpLEk9TWF0aC5tYXgoVCxwKSxDPU1hdGgubWF4KGIsXyksRz1NYXRoLm1pbihrLHYpLEw9TWF0aC5taW4oTixNKTtsZXQgUz1udWxsLHc9bnVsbDtmb3IobGV0IGk9QztpPD1MO2krKylmb3IobGV0IHQ9STt0PD1HO3QrKyl7Y29uc3Qgcz10LVQrKGktYikqKDgqZis0KigxLWYpKSxuPWUuY2hpbGRyZW5bc107biYmKFN8fChTPW4sUy5uZXh0PWUubmV4dCksdyYmKHcubmV4dD1uKSx3PW4sbi5uZXh0PWUubmV4dCl9ZT1TfHxlLm5leHR9cmV0dXJuIGh9Z2V0UmVnaW9uU3RhdGlzdGljcyh0KXtsZXQgZT10aGlzLl9yb290LHM9MCxpPTAsbj0wO2NvbnN0IG89e30se2JvdW5kczphLGdlb2hhc2hCb3VuZHM6cixsZXZlbDpsfT10LFtoLGMsdSxkXT1hO2xldCBmPTA7Zm9yKDtudWxsIT09ZTspe2NvbnN0IHQ9ZS5kZXB0aCxhPWUueE5vZGUseD1lLnlOb2RlO2lmKHQ+PWwpe2NvbnN0IHQ9ZS54VG90YWwvZS5jb3VudCxhPWUueVRvdGFsL2UuY291bnQ7dD5oJiZ0PD11JiZhPmMmJmE8PWQmJihzKz1lLmNvdW50LGkrPWUueFRvdGFsLG4rPWUueVRvdGFsLDE9PT1lLmNvdW50JiYoZj1lLnJlZmVyZW5jZUlkKSx0aGlzLl9hZ2dyZWdhdGVTdGF0aXN0aWNzKG8sZS5zdGF0aXN0aWNzKSksZT1lLm5leHQ7Y29udGludWV9Y29uc3QgbT1NYXRoLmNlaWwoKHQrMSkvMiksZz1NYXRoLmZsb29yKCh0KzEpLzIpLHk9MS10JTIscD0zMC0oMyptKzIqZyksXz0zMC0oMiptKzMqZyksdj1+KCgxPDxwKS0xKSxNPX4oKDE8PF8pLTEpLFQ9KHIueExMJnYpPj5wLGI9KHIueUxMJk0pPj5fLGs9KHIueFRSJnYpPj5wLE49KHIueVRSJk0pPj5fLEk9YTw8Myp5KzIqKDEteSksQz14PDwyKnkrMyooMS15KSxHPUkrOCp5KzQqKDEteSksTD1DKzQqeSs4KigxLXkpLFM9TWF0aC5tYXgoSSxUKSx3PU1hdGgubWF4KEMsYiksUj1NYXRoLm1pbihHLGspLEY9TWF0aC5taW4oTCxOKTtsZXQgej1udWxsLGo9bnVsbDtmb3IobGV0IHI9dztyPD1GO3IrKylmb3IobGV0IHQ9Uzt0PD1SO3QrKyl7Y29uc3QgYT10LUkrKHItQykqKDgqeSs0KigxLXkpKSxsPWUuY2hpbGRyZW5bYV07aWYobCl7aWYociE9PXcmJnIhPT1GJiZ0IT09UyYmdCE9PVIpe2NvbnN0IHQ9bC54VG90YWwvbC5jb3VudCxlPWwueVRvdGFsL2wuY291bnQ7dD5oJiZ0PD11JiZlPmMmJmU8PWQmJihzKz1sLmNvdW50LGkrPWwueFRvdGFsLG4rPWwueVRvdGFsLDE9PT1sLmNvdW50JiYoZj1sLnJlZmVyZW5jZUlkKSx0aGlzLl9hZ2dyZWdhdGVTdGF0aXN0aWNzKG8sbC5zdGF0aXN0aWNzKSk7Y29udGludWV9enx8KHo9bCx6Lm5leHQ9ZS5uZXh0KSxqJiYoai5uZXh0PWwpLGo9bCxsLm5leHQ9ZS5uZXh0fX1lPXp8fGUubmV4dH1yZXR1cm57Y291bnQ6cyxhdHRyaWJ1dGVzOnRoaXMubm9ybWFsaXplU3RhdGlzdGljcyhvLHMpLHhUb3RhbDppLHlUb3RhbDpuLHJlZmVyZW5jZUlkOmZ9fWdldEJpbnModCl7Y29uc3QgZT1bXSx7Z2VvaGFzaEJvdW5kczpzLGxldmVsOml9PXQ7bGV0IG49dGhpcy5fcm9vdDtmb3IoO251bGwhPT1uOyl7Y29uc3QgdD1uLmRlcHRoLG89bi54Tm9kZSxhPW4ueU5vZGU7aWYodD49aSl7ZS5wdXNoKG4pLG49bi5uZXh0O2NvbnRpbnVlfWNvbnN0IHI9TWF0aC5jZWlsKCh0KzEpLzIpLGw9TWF0aC5mbG9vcigodCsxKS8yKSxoPTEtdCUyLGM9MzAtKDMqcisyKmwpLHU9MzAtKDIqciszKmwpLGQ9figoMTw8YyktMSksZj1+KCgxPDx1KS0xKSx4PShzLnhMTCZkKT4+YyxtPShzLnlMTCZmKT4+dSxnPShzLnhUUiZkKT4+Yyx5PShzLnlUUiZmKT4+dSxwPW88PDMqaCsyKigxLWgpLF89YTw8MipoKzMqKDEtaCksdj1wKzgqaCs0KigxLWgpLE09Xys0KmgrOCooMS1oKSxUPU1hdGgubWF4KHAseCksYj1NYXRoLm1heChfLG0pLGs9TWF0aC5taW4odixnKSxOPU1hdGgubWluKE0seSk7bGV0IEk9bnVsbCxDPW51bGw7Zm9yKGxldCBlPWI7ZTw9TjtlKyspZm9yKGxldCB0PVQ7dDw9azt0Kyspe2NvbnN0IHM9dC1wKyhlLV8pKig4KmgrNCooMS1oKSksaT1uLmNoaWxkcmVuW3NdO2kmJihJfHwoST1pLEkubmV4dD1uLm5leHQpLEMmJihDLm5leHQ9aSksQz1pLGkubmV4dD1uLm5leHQpfW49SXx8bi5uZXh0fXJldHVybiBlfV9saW5rQ2hpbGRyZW4odCl7bGV0IGU9bnVsbCxzPW51bGw7Zm9yKGxldCBpPTA7aTw9dC5jaGlsZHJlbi5sZW5ndGg7aSsrKXtjb25zdCBuPXQuY2hpbGRyZW5baV07biYmKGV8fChlPW4sZS5uZXh0PXQubmV4dCkscyYmKHMubmV4dD1uKSxzPW4sbi5uZXh0PXQubmV4dCl9cmV0dXJuIGV9X3VwZGF0ZVN0YXRpc3RpY3NDdXJzb3IodCxlLHMpe2Zvcihjb25zdCBpIG9mIHRoaXMuX3N0YXRpc3RpY0ZpZWxkcyl7Y29uc3Qgbj1pLm5hbWUsbz1pLmluRmllbGQ/dC5yZWFkQXR0cmlidXRlKGkuaW5GaWVsZCk6dC5nZXRDb21wdXRlZE51bWVyaWNBdEluZGV4KGkuaW5GaWVsZEluZGV4KTtzd2l0Y2goaS5zdGF0aXN0aWNUeXBlKXtjYXNlXCJtaW5cIjp7aWYoaXNOYU4obykpYnJlYWs7aWYoIWUuc3RhdGlzdGljc1tuXSl7ZS5zdGF0aXN0aWNzW25dPXt2YWx1ZTpvfTticmVha31jb25zdCB0PWUuc3RhdGlzdGljc1tuXS52YWx1ZTtlLnN0YXRpc3RpY3Nbbl0udmFsdWU9TWF0aC5taW4odCxvKTticmVha31jYXNlXCJtYXhcIjp7aWYoaXNOYU4obykpYnJlYWs7aWYoIWUuc3RhdGlzdGljc1tuXSl7ZS5zdGF0aXN0aWNzW25dPXt2YWx1ZTpvfTticmVha31jb25zdCB0PWUuc3RhdGlzdGljc1tuXS52YWx1ZTtlLnN0YXRpc3RpY3Nbbl0udmFsdWU9TWF0aC5tYXgodCxvKTticmVha31jYXNlXCJjb3VudFwiOmJyZWFrO2Nhc2VcInN1bVwiOmNhc2VcImF2Z1wiOntlLnN0YXRpc3RpY3Nbbl18fChlLnN0YXRpc3RpY3Nbbl09e3ZhbHVlOjAsbmFuQ291bnQ6MH0pO2NvbnN0IHQ9ZS5zdGF0aXN0aWNzW25dLnZhbHVlLGk9ZS5zdGF0aXN0aWNzW25dLm5hbkNvdW50Pz8wO251bGw9PW98fGlzTmFOKG8pP2Uuc3RhdGlzdGljc1tuXS5uYW5Db3VudD1pK3M6ZS5zdGF0aXN0aWNzW25dLnZhbHVlPXQrcypvO2JyZWFrfWNhc2VcImF2Z19hbmdsZVwiOntlLnN0YXRpc3RpY3Nbbl18fChlLnN0YXRpc3RpY3Nbbl09e3g6MCx5OjAsbmFuQ291bnQ6MH0pO2NvbnN0IHQ9ZS5zdGF0aXN0aWNzW25dLngsaT1lLnN0YXRpc3RpY3Nbbl0ueSxhPWUuc3RhdGlzdGljc1tuXS5uYW5Db3VudD8/MCxyPU1hdGguUEkvMTgwO251bGw9PW98fGlzTmFOKG8pP2Uuc3RhdGlzdGljc1tuXS5uYW5Db3VudD1hK3M6KGUuc3RhdGlzdGljc1tuXS54PXQrcypNYXRoLmNvcyhvKnIpLGUuc3RhdGlzdGljc1tuXS55PWkrcypNYXRoLnNpbihvKnIpKTticmVha31jYXNlXCJtb2RlXCI6e2Uuc3RhdGlzdGljc1tuXXx8KGUuc3RhdGlzdGljc1tuXT17fSk7Y29uc3QgdD1lLnN0YXRpc3RpY3Nbbl1bb118fDA7ZS5zdGF0aXN0aWNzW25dW29dPXQrczticmVha319fX1fYWdncmVnYXRlU3RhdGlzdGljcyh0LGUpe2Zvcihjb25zdCBzIG9mIHRoaXMuX3N0YXRpc3RpY0ZpZWxkcyl7Y29uc3QgaT1zLm5hbWU7c3dpdGNoKHMuc3RhdGlzdGljVHlwZSl7Y2FzZVwibWluXCI6e2lmKCF0W2ldKXt0W2ldPXt2YWx1ZTplW2ldLnZhbHVlfTticmVha31jb25zdCBzPXRbaV0udmFsdWU7dFtpXS52YWx1ZT1NYXRoLm1pbihzLGVbaV0udmFsdWUpO2JyZWFrfWNhc2VcIm1heFwiOntpZighdFtpXSl7dFtpXT17dmFsdWU6ZVtpXS52YWx1ZX07YnJlYWt9Y29uc3Qgcz10W2ldLnZhbHVlO3RbaV0udmFsdWU9TWF0aC5tYXgocyxlW2ldLnZhbHVlKTticmVha31jYXNlXCJjb3VudFwiOmJyZWFrO2Nhc2VcInN1bVwiOmNhc2VcImF2Z1wiOmNhc2VcImF2Z19hbmdsZVwiOmNhc2VcIm1vZGVcIjp0W2ldfHwodFtpXT17fSk7Zm9yKGNvbnN0IHMgaW4gZVtpXSl7Y29uc3Qgbj10W2ldW3NdfHwwO3RbaV1bc109bitlW2ldW3NdfX19fW5vcm1hbGl6ZVN0YXRpc3RpY3ModCxlKXtjb25zdCBzPXt9O2Zvcihjb25zdCBpIG9mIHRoaXMuX3N0YXRpc3RpY0ZpZWxkcyl7Y29uc3Qgbj1pLm5hbWU7c3dpdGNoKGkuc3RhdGlzdGljVHlwZSl7Y2FzZVwibWluXCI6Y2FzZVwibWF4XCI6e2NvbnN0IGk9dFtuXTtpZighZXx8IWkpYnJlYWs7c1tuXT1pLnZhbHVlO2JyZWFrfWNhc2VcImNvdW50XCI6aWYoIWUpYnJlYWs7c1tuXT1lO2JyZWFrO2Nhc2VcInN1bVwiOntpZighZSlicmVhaztjb25zdHt2YWx1ZTppLG5hbkNvdW50Om99PXRbbl07aWYoIShlLW8pKWJyZWFrO3Nbbl09aTticmVha31jYXNlXCJhdmdcIjp7aWYoIWUpYnJlYWs7Y29uc3R7dmFsdWU6aSxuYW5Db3VudDpvfT10W25dO2lmKCEoZS1vKSlicmVhaztzW25dPWkvKGUtbyk7YnJlYWt9Y2FzZVwiYXZnX2FuZ2xlXCI6e2lmKCFlKWJyZWFrO2NvbnN0e3g6aSx5Om8sbmFuQ291bnQ6YX09dFtuXTtpZighKGUtYSkpYnJlYWs7Y29uc3Qgcj1pLyhlLWEpLGw9by8oZS1hKSxoPTE4MC9NYXRoLlBJLGM9TWF0aC5hdGFuMihsLHIpKmg7c1tuXT1jO2JyZWFrfWNhc2VcIm1vZGVcIjp7Y29uc3QgZT10W25dO2xldCBpPTAsbz0wLGE9bnVsbDtmb3IoY29uc3QgdCBpbiBlKXtjb25zdCBzPWVbdF07cz09PWk/bys9MTpzPmkmJihpPXMsbz0xLGE9dCl9c1tuXT1cIm51bGxcIj09PWF8fG8+MT9udWxsOmE7YnJlYWt9fX1yZXR1cm4gc319Y2xhc3MgY3tjb25zdHJ1Y3Rvcih0LGUscyxpKXt0aGlzLmNvdW50PTAsdGhpcy54VG90YWw9MCx0aGlzLnlUb3RhbD0wLHRoaXMuc3RhdGlzdGljcz17fSx0aGlzLmRpc3BsYXlJZD0wLHRoaXMucmVmZXJlbmNlSWQ9MCx0aGlzLmRpc3BsYXlJZHM9bmV3IFNldCx0aGlzLm5leHQ9bnVsbCx0aGlzLmRlcHRoPTAsdGhpcy54Tm9kZT0wLHRoaXMueU5vZGU9MCx0aGlzLnhHZW9oYXNoVG90YWw9MCx0aGlzLnlHZW9oYXNoVG90YWw9MCx0aGlzLl90cmVlPXQsdGhpcy5jaGlsZHJlbj1uZXcgQXJyYXkoMzIpO2ZvcihsZXQgbj0wO248dGhpcy5jaGlsZHJlbi5sZW5ndGg7bisrKXRoaXMuY2hpbGRyZW5bbl09bnVsbDt0aGlzLnhOb2RlPWUsdGhpcy55Tm9kZT1zLHRoaXMuZGVwdGg9aX1yZWFsbG9jKHQsZSxzKXtmb3IobGV0IGk9MDtpPHRoaXMuY2hpbGRyZW4ubGVuZ3RoO2krKyl0aGlzLmNoaWxkcmVuW2ldPW51bGw7cmV0dXJuIHRoaXMueE5vZGU9dCx0aGlzLnlOb2RlPWUsdGhpcy5kZXB0aD1zLHRoaXMubmV4dD1udWxsLHRoaXMueEdlb2hhc2hUb3RhbD0wLHRoaXMueUdlb2hhc2hUb3RhbD0wLHRoaXMuZGlzcGxheUlkPTAsdGhpcy5yZWZlcmVuY2VJZD0wLHRoaXMueFRvdGFsPTAsdGhpcy55VG90YWw9MCx0aGlzLmNvdW50PTAsdGhpcy5zdGF0aXN0aWNzPXt9LHRoaXMuZGlzcGxheUlkcy5jbGVhcigpLHRoaXN9Z2V0IGlkKCl7cmV0dXJuYCR7dGhpcy54Tm9kZX0uJHt0aGlzLnlOb2RlfWB9YWRkKHQpe3RoaXMuZGlzcGxheUlkcy5hZGQodCl9cmVtb3ZlKHQpe3RoaXMuZGlzcGxheUlkcy5kZWxldGUodCl9Z2V0QXR0cmlidXRlcygpe2NvbnN0IHQ9dGhpcy5fdHJlZS5ub3JtYWxpemVTdGF0aXN0aWNzKHRoaXMuc3RhdGlzdGljcyx0aGlzLmNvdW50KTtyZXR1cm4gdC5yZWZlcmVuY2VJZD1udWxsLHQuYWdncmVnYXRlSWQ9dGhpcy5pZCx0LmFnZ3JlZ2F0ZUNvdW50PXRoaXMuY291bnQsdH1nZXRHZW9tZXRyeSh0LGUpe2NvbnN0IG89dGhpcy5nZXRMbmdMYXRCb3VuZHMoKSxbbCxoLGMsdV09byxkPXIoe3JpbmdzOltbW2wsaF0sW2wsdV0sW2MsdV0sW2MsaF0sW2wsaF1dXX0scy5XR1M4NCx0KSxmPWkobmV3IGEsZCwhMSwhMSk7aWYobnVsbCE9ZSl7cmV0dXJuIG4obmV3IGEsZiwhMSwhMSxcImVzcmlHZW9tZXRyeVBvbHlnb25cIixlLCExLCExKX1yZXR1cm4gZn1nZXRHZW9tZXRyeUNlbnRyb2lkKHQsZSl7Y29uc3QgaT10aGlzLmdldExuZ0xhdEJvdW5kcygpLFtsLGgsYyx1XT1pLGQ9cih7eDoobCtjKS8yLHk6KGgrdSkvMn0scy5XR1M4NCx0KSxmPW8obmV3IGEsZCk7aWYobnVsbCE9ZSl7cmV0dXJuIG4obmV3IGEsZiwhMSwhMSxcImVzcmlHZW9tZXRyeVBvaW50XCIsZSwhMSwhMSl9cmV0dXJuIGZ9Z2V0TG5nTGF0Qm91bmRzKCl7Y29uc3QgdD10aGlzLmRlcHRoLHM9TWF0aC5jZWlsKHQvMiksaT1NYXRoLmZsb29yKHQvMiksbj0zMC0oMypzKzIqaSksbz0zMC0oMipzKzMqaSksYT10aGlzLnhOb2RlPDxuLHI9dGhpcy55Tm9kZTw8bztyZXR1cm4gZSh7Z2VvaGFzaFg6YSxnZW9oYXNoWTpyfSx0aGlzLmRlcHRoKX1maW5kKHQsZSxzLGksbixvKXtpZihpPj1zKXJldHVybiB0aGlzO2NvbnN0IGE9MS1pJTIscj0zKmErMiooMS1hKSxsPTIqYSszKigxLWEpLGg9MzAtbi1yLGM9MzAtby1sLHU9KCh0JjcqYSszKigxLWEpPDxoKT4+aCkrKChlJjMqYSs3KigxLWEpPDxjKT4+YykqKDgqYSs0KigxLWEpKSxkPXRoaXMuY2hpbGRyZW5bdV07cmV0dXJuIG51bGw9PWQ/bnVsbDpkLmZpbmQodCxlLHMsaSsxLG4rcixvK2wpfX1leHBvcnR7YyBhcyBHZW9oYXNoTm9kZSxoIGFzIEdlb2hhc2hUcmVlfTtcbiIsIi8qXG5BbGwgbWF0ZXJpYWwgY29weXJpZ2h0IEVTUkksIEFsbCBSaWdodHMgUmVzZXJ2ZWQsIHVubGVzcyBvdGhlcndpc2Ugc3BlY2lmaWVkLlxuU2VlIGh0dHBzOi8vanMuYXJjZ2lzLmNvbS80LjI3L2VzcmkvY29weXJpZ2h0LnR4dCBmb3IgZGV0YWlscy5cbiovXG5jb25zdCB0PTE2LG49OCxvPTQsZT0yLHI9MSxjPW5ldyBGbG9hdDY0QXJyYXkoMiksZj1uZXcgRmxvYXQ2NEFycmF5KDIpLGw9LTkwLHU9OTAsaD0tMTgwLHM9MTgwLGk9XCIwMTIzNDU2Nzg5YmNkZWZnaGprbW5wcXJzdHV2d3h5elwiO2Z1bmN0aW9uIGEodCl7cmV0dXJuIHQ8PTU3P3QtNDg6dDw9MTA0P3QtODg6dDw9MTA3P3QtODk6dDw9MTEwP3QtOTA6dC05MX1mdW5jdGlvbiBnKHQpe3JldHVybiBpW3RdfWZ1bmN0aW9uIEEodCl7cmV0dXJuKHRbMF0rdFsxXSkvMn1mdW5jdGlvbiBkKHQsbixvKXtyZXR1cm4gdFswXT1uLHRbMV09byx0fWZ1bmN0aW9uIE0odCxuKXtjb25zdCBvPUEodCksZT1uLHI9IW47dFswXT1yKnRbMF0rZSpvLHRbMV09cipvK2UqdFsxXX1mdW5jdGlvbiB3KHQsbil7Y29uc3Qgbz1uPkEodCk7cmV0dXJuIE0odCxvKSxvfWZ1bmN0aW9uIHkoaSxnKXtjb25zdCB3PWQoYyxsLHUpLHk9ZChmLGgscyk7Zm9yKGxldCBjPTA7YzxnLmxlbmd0aDtjKyspe2NvbnN0IGY9YShnLmNoYXJDb2RlQXQoYykpO2MlMj09MD8oTSh5LCEhKHQmZikpLE0oeSwhIShvJmYpKSxNKHksISEociZmKSksTSh3LCEhKG4mZikpLE0odywhIShlJmYpKSk6KE0odywhISh0JmYpKSxNKHcsISEobyZmKSksTSh3LCEhKHImZikpLE0oeSwhIShuJmYpKSxNKHksISEoZSZmKSkpfXJldHVybiBpWzBdPUEodyksaVsxXT1BKHkpLGl9ZnVuY3Rpb24gQyh0LG4pe2xldCBvPTAsZT0wLHI9MzAsYz0zMDtmb3IobGV0IGY9MDtmPG4ubGVuZ3RoO2YrKyl7Y29uc3QgdD1hKG4uY2hhckNvZGVBdChmKSksbD1mJTI9PTA7ci09bD8zOjIsYy09bD8yOjMsb3w9Rih0LGwpPDxyLGV8PWoodCxsKTw8Y31yZXR1cm57Z2VvaGFzaFg6byxnZW9oYXNoWTplfX1mdW5jdGlvbiBYKHQsbil7bGV0IG89LTkwLGU9OTAscj0tMTgwLGM9MTgwO2ZvcihsZXQgZj0wO2Y8bjtmKyspe2NvbnN0IG49TWF0aC5jZWlsKChmKzEpLzIpLGw9TWF0aC5mbG9vcigoZisxKS8yKSx1PTEtZiUyLGg9MzAtKDMqbisyKmwpLHM9MzAtKDIqbiszKmwpLGk9Myp1KzIqKDEtdSksYT0yKnUrMyooMS11KSxnPTMqdSs3KigxLXUpPDxzLEE9KDcqdSszKigxLXUpPDxoJnQuZ2VvaGFzaFgpPj5oLGQ9KGcmdC5nZW9oYXNoWSk+PnM7Zm9yKGxldCB0PWktMTt0Pj0wO3QtLSl7Y29uc3Qgbj0ocitjKS8yLG89QSYxPDx0PzE6MDtyPSgxLW8pKnIrbypuLGM9KDEtbykqbitvKmN9Zm9yKGxldCB0PWEtMTt0Pj0wO3QtLSl7Y29uc3Qgbj0obytlKS8yLHI9ZCYxPDx0PzE6MDtvPSgxLXIpKm8rcipuLGU9KDEtcikqbityKmV9fXJldHVybltyLG8sYyxlXX1mdW5jdGlvbiBZKHQsbixvLGUpe2UlMiYmKGUrPTEpO2xldCByPTAsYz0wLGY9LTkwLGw9OTAsdT0tMTgwLGg9MTgwO2ZvcihsZXQgcz0wO3M8ZS8yO3MrKyl7Zm9yKGxldCB0PTA7dDw1O3QrKyl7Y29uc3Qgbj0odStoKS8yLGU9bz5uPzE6MDtyfD1lPDwyOS0odCs1KnMpLHU9KDEtZSkqdStlKm4saD0oMS1lKSpuK2UqaH1mb3IobGV0IHQ9MDt0PDU7dCsrKXtjb25zdCBvPShmK2wpLzIsZT1uPm8/MTowO2N8PWU8PDI5LSh0KzUqcyksZj0oMS1lKSpmK2UqbyxsPSgxLWUpKm8rZSpsfX10Lmdlb2hhc2hYPXIsdC5nZW9oYXNoWT1jfWZ1bmN0aW9uIGIodCxuLG8sZSxyKXtyJTImJihyKz0xKTtsZXQgYz0wLGY9MCxsPS05MCx1PTkwLGg9LTE4MCxzPTE4MDtmb3IobGV0IGk9MDtpPHIvMjtpKyspe2ZvcihsZXQgdD0wO3Q8NTt0Kyspe2NvbnN0IG49KGgrcykvMixvPWU+bj8xOjA7Y3w9bzw8MjktKHQrNSppKSxoPSgxLW8pKmgrbypuLHM9KDEtbykqbitvKnN9Zm9yKGxldCB0PTA7dDw1O3QrKyl7Y29uc3Qgbj0obCt1KS8yLGU9bz5uPzE6MDtmfD1lPDwyOS0odCs1KmkpLGw9KDEtZSkqbCtlKm4sdT0oMS1lKSpuK2UqdX19dFsyKm5dPWMsdFsyKm4rMV09Zn1mdW5jdGlvbiBwKHQsbixvKXtsZXQgZT1cIlwiO2NvbnN0IHI9ZChjLC05MCw5MCksbD1kKGYsLTE4MCwxODApO2ZvcihsZXQgYz0wO2M8bztjKyspe2xldCBvPTA7IShjJTIpPyhvfD13KGwsbik8PDQsb3w9dyhyLHQpPDwzLG98PXcobCxuKTw8MixvfD13KHIsdCk8PDEsb3w9dyhsLG4pPDwwKToob3w9dyhyLHQpPDw0LG98PXcobCxuKTw8MyxvfD13KHIsdCk8PDIsb3w9dyhsLG4pPDwxLG98PXcocix0KTw8MCksZSs9ZyhvKX1yZXR1cm4gZX1mdW5jdGlvbiB4KHQsbixjKXtyZXR1cm4gYz90JnJ8KG4mcik8PDF8KHQmZSk8PDF8KG4mZSk8PDJ8KHQmbyk8PDI6biZyfCh0JnIpPDwxfChuJmUpPDwxfCh0JmUpPDwyfChuJm8pPDwyfWZ1bmN0aW9uIEYoYyxmKXtyZXR1cm4gZj9yJmN8KG8mYyk+PjF8KHQmYyk+PjI6KGUmYyk+PjF8KG4mYyk+PjJ9ZnVuY3Rpb24gaihjLGYpe3JldHVybiBmPyhlJmMpPj4xfChuJmMpPj4yOnImY3wobyZjKT4+MXwodCZjKT4+Mn1mdW5jdGlvbiBrKGMsZixsKXtjb25zdCB1PSEoKGMubGVuZ3RoLTEpJTIpLGg9Yy5zdWJzdHJpbmcoMCxjLmxlbmd0aC0xKSxzPWEoYy5jaGFyQ29kZUF0KGMubGVuZ3RoLTEpKTtsZXQgaT0wLEE9MCxkPTAsTT0wO3U/KGk9OCxBPTQsZD1yJnN8KG8mcyk+PjF8KHQmcyk+PjIsTT0oZSZzKT4+MXwobiZzKT4+Mik6KGk9NCxBPTgsTT1yJnN8KG8mcyk+PjF8KHQmcyk+PjIsZD0oZSZzKT4+MXwobiZzKT4+Mik7Y29uc3Qgdz1kK2YseT1NK2wsQz1NYXRoLmZsb29yKHcvaSksWD1NYXRoLmZsb29yKHkvQSksWT1nKHgody1DKmkseS1YKkEsdSkpO3JldHVybiBjLmxlbmd0aD4xJiYoQ3x8WCk/ayhoLEMsWCkrWTpoK1l9ZXhwb3J0e0MgYXMgY29udmVydEdlb2hhc2gzMlRvWFksYSBhcyBkZWNvZGVCYXNlMzJDaGFyLHkgYXMgZGVjb2RlR2VvaGFzaCxYIGFzIGRlY29kZUdlb2hhc2hYWSxnIGFzIGVuY29kZUJhc2UzMkNoYXIscCBhcyBlbmNvZGVHZW9oYXNoLGsgYXMgZ2V0UmVsYXRpdmVHZW9oYXNoLGIgYXMgc2V0R2VvaGFzaEJ1ZixZIGFzIHNldEdlb2hhc2hYWSxGIGFzIHVucGFja1hCaXRzLGogYXMgdW5wYWNrWUJpdHN9O1xuIiwiLypcbkFsbCBtYXRlcmlhbCBjb3B5cmlnaHQgRVNSSSwgQWxsIFJpZ2h0cyBSZXNlcnZlZCwgdW5sZXNzIG90aGVyd2lzZSBzcGVjaWZpZWQuXG5TZWUgaHR0cHM6Ly9qcy5hcmNnaXMuY29tLzQuMjcvZXNyaS9jb3B5cmlnaHQudHh0IGZvciBkZXRhaWxzLlxuKi9cbmltcG9ydCB0IGZyb21cIi4uLy4uLy4uL2NvcmUvQ2lyY3VsYXJBcnJheS5qc1wiO2ltcG9ydHtjbGFtcCBhcyBlfWZyb21cIi4uLy4uLy4uL2NvcmUvbWF0aFV0aWxzLmpzXCI7Y29uc3Qgcz1cIl9fZXNyaV9zdHJlYW1faWRfX1wiLGk9XCJfX2VzcmlfdGltZXN0YW1wX19cIixyPTFlMztjbGFzcyBve2NvbnN0cnVjdG9yKHQsZSxpLHIsbz0xMjgpe3RoaXMuX3RyYWNrSWRUb09ic2VydmF0aW9ucz1uZXcgTWFwLHRoaXMuX2lkQ291bnRlcj0wLHRoaXMuX2xhc3RQdXJnZT1wZXJmb3JtYW5jZS5ub3coKSx0aGlzLl9hZGRPclVwZGF0ZWQ9bmV3IE1hcCx0aGlzLl9yZW1vdmVkPVtdLHRoaXMuX21heEFnZT0wLHRoaXMuX3RpbWVJbmZvPWksdGhpcy5fcHVyZ2VPcHRpb25zPXIsdGhpcy5zdG9yZT10LHRoaXMub2JqZWN0SWRGaWVsZD1lLHRoaXMucHVyZ2VJbnRlcnZhbD1vLHRoaXMuX3VzZUdlbmVyYXRlZElkcz10aGlzLm9iamVjdElkRmllbGQ9PT1zfXJlbW92ZUJ5SWQodCl7dGhpcy5fcmVtb3ZlZC5wdXNoKHQpfXJlbW92ZUJ5VHJhY2tJZCh0KXtjb25zdCBlPXRoaXMuX3RyYWNrSWRUb09ic2VydmF0aW9ucy5nZXQodCk7aWYoZSlmb3IoY29uc3QgcyBvZiBlLmVudHJpZXMpdGhpcy5fcmVtb3ZlZC5wdXNoKHMpfWFkZChzKXtpZih0aGlzLl91c2VHZW5lcmF0ZWRJZHMpe2NvbnN0IHQ9dGhpcy5fbmV4dElkKCk7cy5hdHRyaWJ1dGVzW3RoaXMub2JqZWN0SWRGaWVsZF09dCxzLm9iamVjdElkPXR9ZWxzZSBzLm9iamVjdElkPXMuYXR0cmlidXRlc1t0aGlzLm9iamVjdElkRmllbGRdO2NvbnN0IGk9cy5vYmplY3RJZDtpZih0aGlzLl9hZGRPclVwZGF0ZWQuc2V0KGkscyksdGhpcy5fbWF4QWdlPU1hdGgubWF4KHRoaXMuX21heEFnZSxzLmF0dHJpYnV0ZXNbdGhpcy5fdGltZUluZm8uc3RhcnRUaW1lRmllbGRdKSwhdGhpcy5fdGltZUluZm8udHJhY2tJZEZpZWxkKXJldHVybiBudWxsPT10aGlzLl90cmFja0lkTGVzc09ic2VydmF0aW9ucyYmKHRoaXMuX3RyYWNrSWRMZXNzT2JzZXJ2YXRpb25zPW5ldyB0KDFlNSkpLHZvaWQgdGhpcy5fdHJhY2tJZExlc3NPYnNlcnZhdGlvbnMuZW5xdWV1ZShpKTtjb25zdCBvPXMuYXR0cmlidXRlc1t0aGlzLl90aW1lSW5mby50cmFja0lkRmllbGRdO2lmKCF0aGlzLl90cmFja0lkVG9PYnNlcnZhdGlvbnMuaGFzKG8pKXtjb25zdCBzPW51bGwhPXRoaXMuX3B1cmdlT3B0aW9ucyYmbnVsbCE9dGhpcy5fcHVyZ2VPcHRpb25zLm1heE9ic2VydmF0aW9ucz90aGlzLl9wdXJnZU9wdGlvbnMubWF4T2JzZXJ2YXRpb25zOnIsaT1lKHMsMCxyKTt0aGlzLl90cmFja0lkVG9PYnNlcnZhdGlvbnMuc2V0KG8sbmV3IHQoaSkpfWNvbnN0IGQ9dGhpcy5fdHJhY2tJZFRvT2JzZXJ2YXRpb25zLmdldChvKSxhPWQ/LmVucXVldWUoaSk7bnVsbCE9YSYmKHRoaXMuX2FkZE9yVXBkYXRlZC5oYXMoYSk/dGhpcy5fYWRkT3JVcGRhdGVkLmRlbGV0ZShhKTp0aGlzLl9yZW1vdmVkLnB1c2goYSkpfWNoZWNrRm9yVXBkYXRlcygpe2NvbnN0IHQ9dGhpcy5fZ2V0VG9BZGQoKSxlPXRoaXMuX2dldFRvUmVtb3ZlKCkscz1wZXJmb3JtYW5jZS5ub3coKTtzLXRoaXMuX2xhc3RQdXJnZT49dGhpcy5wdXJnZUludGVydmFsJiYodGhpcy5fcHVyZ2UocyksdGhpcy5fbGFzdFB1cmdlPXMpO2NvbnN0IHI9W107aWYobnVsbCE9ZSlmb3IoY29uc3QgaSBvZiBlKXtjb25zdCB0PXRoaXMuc3RvcmUucmVtb3ZlQnlJZChpKTtudWxsIT10JiZyLnB1c2godCl9Y29uc3Qgbz1bXTtpZihudWxsIT10KXtjb25zdCByPW5ldyBTZXQoZT8/W10pO2Zvcihjb25zdCBlIG9mIHQpci5oYXMoZS5vYmplY3RJZCl8fChlLmF0dHJpYnV0ZXNbaV09cyx0aGlzLnN0b3JlLmFkZChlKSxvLnB1c2goZSkpfShvLmxlbmd0aHx8cj8ubGVuZ3RoKSYmdGhpcy5zdG9yZS51cGRhdGUobyxyKX1fZ2V0VG9BZGQoKXtpZighdGhpcy5fYWRkT3JVcGRhdGVkLnNpemUpcmV0dXJuIG51bGw7Y29uc3QgdD1uZXcgQXJyYXkodGhpcy5fYWRkT3JVcGRhdGVkLnNpemUpO2xldCBlPTA7cmV0dXJuIHRoaXMuX2FkZE9yVXBkYXRlZC5mb3JFYWNoKChzPT50W2UrK109cykpLHRoaXMuX2FkZE9yVXBkYXRlZC5jbGVhcigpLHR9X2dldFRvUmVtb3ZlKCl7Y29uc3QgdD10aGlzLl9yZW1vdmVkO3JldHVybiB0aGlzLl9yZW1vdmVkLmxlbmd0aD8odGhpcy5fcmVtb3ZlZD1bXSx0KTpudWxsfV9uZXh0SWQoKXtjb25zdCB0PXRoaXMuX2lkQ291bnRlcjtyZXR1cm4gdGhpcy5faWRDb3VudGVyPSh0aGlzLl9pZENvdW50ZXIrMSklNDI5NDk2NzI5NCsxLHR9X3B1cmdlKHQpe2NvbnN0IGU9dGhpcy5fcHVyZ2VPcHRpb25zO251bGwhPWUmJih0aGlzLl9wdXJnZVNvbWVCeURpc3BsYXlDb3VudChlKSx0aGlzLl9wdXJnZUJ5QWdlKGUpLHRoaXMuX3B1cmdlQnlBZ2VSZWNlaXZlZCh0LGUpLHRoaXMuX3B1cmdlVHJhY2tzKCkpfV9wdXJnZVNvbWVCeURpc3BsYXlDb3VudCh0KXtpZighdC5kaXNwbGF5Q291bnQpcmV0dXJuO2xldCBlPXRoaXMuc3RvcmUuc2l6ZTtpZihlPnQuZGlzcGxheUNvdW50KXtpZih0aGlzLl90aW1lSW5mby50cmFja0lkRmllbGQpZm9yKGNvbnN0IHMgb2YgdGhpcy5fdHJhY2tJZFRvT2JzZXJ2YXRpb25zLnZhbHVlcygpKWlmKGU+dC5kaXNwbGF5Q291bnQmJnMuc2l6ZSl7Y29uc3QgdD1zLmRlcXVldWUoKTt0aGlzLl9yZW1vdmVkLnB1c2godCksZS0tfWlmKG51bGwhPXRoaXMuX3RyYWNrSWRMZXNzT2JzZXJ2YXRpb25zKXtsZXQgcz1lLXQuZGlzcGxheUNvdW50O2Zvcig7cy0tID4wOyl7Y29uc3QgdD10aGlzLl90cmFja0lkTGVzc09ic2VydmF0aW9ucy5kZXF1ZXVlKCk7bnVsbCE9dCYmdGhpcy5fcmVtb3ZlZC5wdXNoKHQpfX19fV9wdXJnZUJ5QWdlKHQpe2NvbnN0IGU9dGhpcy5fdGltZUluZm8/LnN0YXJ0VGltZUZpZWxkO2lmKCF0LmFnZXx8IWUpcmV0dXJuO2NvbnN0IHM9NjAqdC5hZ2UqMWUzLGk9dGhpcy5fbWF4QWdlLXM7dGhpcy5zdG9yZS5mb3JFYWNoKCh0PT57dC5hdHRyaWJ1dGVzW2VdPGkmJnRoaXMuX3JlbW92ZWQucHVzaCh0Lm9iamVjdElkKX0pKX1fcHVyZ2VCeUFnZVJlY2VpdmVkKHQsZSl7aWYoIWUuYWdlUmVjZWl2ZWQpcmV0dXJuO2NvbnN0IHM9dC02MCplLmFnZVJlY2VpdmVkKjFlMzt0aGlzLnN0b3JlLmZvckVhY2goKHQ9Pnt0LmF0dHJpYnV0ZXNbaV08cyYmdGhpcy5fcmVtb3ZlZC5wdXNoKHQub2JqZWN0SWQpfSkpfV9wdXJnZVRyYWNrcygpe3RoaXMuX3RyYWNrSWRUb09ic2VydmF0aW9ucy5mb3JFYWNoKCgodCxlKT0+ezA9PT10LnNpemUmJnRoaXMuX3RyYWNrSWRUb09ic2VydmF0aW9ucy5kZWxldGUoZSl9KSl9fWV4cG9ydHtzIGFzIERFRkFVTFRfU1RSRUFNX0lEX0ZJRUxELGkgYXMgRVNSSV9USU1FU1RBTVAsbyBhcyBTdHJlYW1GZWF0dXJlTWFuYWdlcn07XG4iLCIvKlxuQWxsIG1hdGVyaWFsIGNvcHlyaWdodCBFU1JJLCBBbGwgUmlnaHRzIFJlc2VydmVkLCB1bmxlc3Mgb3RoZXJ3aXNlIHNwZWNpZmllZC5cblNlZSBodHRwczovL2pzLmFyY2dpcy5jb20vNC4yNy9lc3JpL2NvcHlyaWdodC50eHQgZm9yIGRldGFpbHMuXG4qL1xuaW1wb3J0e18gYXMgZX1mcm9tXCIuLi8uLi9jaHVua3MvdHNsaWIuZXM2LmpzXCI7aW1wb3J0e0pTT05TdXBwb3J0IGFzIG99ZnJvbVwiLi4vLi4vY29yZS9KU09OU3VwcG9ydC5qc1wiO2ltcG9ydHtwcm9wZXJ0eSBhcyByfWZyb21cIi4uLy4uL2NvcmUvYWNjZXNzb3JTdXBwb3J0L2RlY29yYXRvcnMvcHJvcGVydHkuanNcIjtpbXBvcnR7SW50ZWdlciBhcyB0fWZyb21cIi4uLy4uL2NvcmUvYWNjZXNzb3JTdXBwb3J0L2Vuc3VyZVR5cGUuanNcIjtpbXBvcnRcIi4uLy4uL2NvcmUvYXJyYXlVdGlscy5qc1wiO2ltcG9ydFwiLi4vLi4vY29yZS9oYXMuanNcIjtpbXBvcnR7c3ViY2xhc3MgYXMgc31mcm9tXCIuLi8uLi9jb3JlL2FjY2Vzc29yU3VwcG9ydC9kZWNvcmF0b3JzL3N1YmNsYXNzLmpzXCI7dmFyIGk7bGV0IGw9aT1jbGFzcyBleHRlbmRzIG97Y29uc3RydWN0b3IoZSl7c3VwZXIoZSksdGhpcy5jb2xzPW51bGwsdGhpcy5sZXZlbD0wLHRoaXMubGV2ZWxWYWx1ZT1udWxsLHRoaXMub3JpZ2luPW51bGwsdGhpcy5yZXNvbHV0aW9uPTAsdGhpcy5yb3dzPW51bGwsdGhpcy5zY2FsZT0wfWNsb25lKCl7cmV0dXJuIG5ldyBpKHtjb2xzOnRoaXMuY29scyxsZXZlbDp0aGlzLmxldmVsLGxldmVsVmFsdWU6dGhpcy5sZXZlbFZhbHVlLHJlc29sdXRpb246dGhpcy5yZXNvbHV0aW9uLHJvd3M6dGhpcy5yb3dzLHNjYWxlOnRoaXMuc2NhbGV9KX19O2UoW3Ioe2pzb246e3dyaXRlOiEwLG9yaWdpbnM6e1wid2ViLWRvY3VtZW50XCI6e3JlYWQ6ITEsd3JpdGU6ITF9LFwicG9ydGFsLWl0ZW1cIjp7cmVhZDohMSx3cml0ZTohMX19fX0pXSxsLnByb3RvdHlwZSxcImNvbHNcIix2b2lkIDApLGUoW3Ioe3R5cGU6dCxqc29uOnt3cml0ZTohMH19KV0sbC5wcm90b3R5cGUsXCJsZXZlbFwiLHZvaWQgMCksZShbcih7dHlwZTpTdHJpbmcsanNvbjp7d3JpdGU6ITB9fSldLGwucHJvdG90eXBlLFwibGV2ZWxWYWx1ZVwiLHZvaWQgMCksZShbcih7anNvbjp7d3JpdGU6ITAsb3JpZ2luczp7XCJ3ZWItZG9jdW1lbnRcIjp7cmVhZDohMSx3cml0ZTohMX0sXCJwb3J0YWwtaXRlbVwiOntyZWFkOiExLHdyaXRlOiExfX19fSldLGwucHJvdG90eXBlLFwib3JpZ2luXCIsdm9pZCAwKSxlKFtyKHt0eXBlOk51bWJlcixqc29uOnt3cml0ZTohMH19KV0sbC5wcm90b3R5cGUsXCJyZXNvbHV0aW9uXCIsdm9pZCAwKSxlKFtyKHtqc29uOnt3cml0ZTohMCxvcmlnaW5zOntcIndlYi1kb2N1bWVudFwiOntyZWFkOiExLHdyaXRlOiExfSxcInBvcnRhbC1pdGVtXCI6e3JlYWQ6ITEsd3JpdGU6ITF9fX19KV0sbC5wcm90b3R5cGUsXCJyb3dzXCIsdm9pZCAwKSxlKFtyKHt0eXBlOk51bWJlcixqc29uOnt3cml0ZTohMH19KV0sbC5wcm90b3R5cGUsXCJzY2FsZVwiLHZvaWQgMCksbD1pPWUoW3MoXCJlc3JpLmxheWVycy5zdXBwb3J0LkxPRFwiKV0sbCk7Y29uc3QgcD1sO2V4cG9ydHtwIGFzIGRlZmF1bHR9O1xuIiwiLypcbkFsbCBtYXRlcmlhbCBjb3B5cmlnaHQgRVNSSSwgQWxsIFJpZ2h0cyBSZXNlcnZlZCwgdW5sZXNzIG90aGVyd2lzZSBzcGVjaWZpZWQuXG5TZWUgaHR0cHM6Ly9qcy5hcmNnaXMuY29tLzQuMjcvZXNyaS9jb3B5cmlnaHQudHh0IGZvciBkZXRhaWxzLlxuKi9cbmltcG9ydHtfIGFzIGV9ZnJvbVwiLi4vLi4vY2h1bmtzL3RzbGliLmVzNi5qc1wiO2ltcG9ydHtKU09OTWFwIGFzIHR9ZnJvbVwiLi4vLi4vY29yZS9qc29uTWFwLmpzXCI7aW1wb3J0e0pTT05TdXBwb3J0IGFzIG99ZnJvbVwiLi4vLi4vY29yZS9KU09OU3VwcG9ydC5qc1wiO2ltcG9ydHtnZXRNZXRlcnNQZXJVbml0Rm9yU1IgYXMgcn1mcm9tXCIuLi8uLi9jb3JlL3VuaXRVdGlscy5qc1wiO2ltcG9ydHtwcm9wZXJ0eSBhcyBzfWZyb21cIi4uLy4uL2NvcmUvYWNjZXNzb3JTdXBwb3J0L2RlY29yYXRvcnMvcHJvcGVydHkuanNcIjtpbXBvcnR7SW50ZWdlciBhcyBpfWZyb21cIi4uLy4uL2NvcmUvYWNjZXNzb3JTdXBwb3J0L2Vuc3VyZVR5cGUuanNcIjtpbXBvcnRcIi4uLy4uL2NvcmUvYXJyYXlVdGlscy5qc1wiO2ltcG9ydFwiLi4vLi4vY29yZS9oYXMuanNcIjtpbXBvcnR7cmVhZGVyIGFzIGx9ZnJvbVwiLi4vLi4vY29yZS9hY2Nlc3NvclN1cHBvcnQvZGVjb3JhdG9ycy9yZWFkZXIuanNcIjtpbXBvcnR7c3ViY2xhc3MgYXMgbn1mcm9tXCIuLi8uLi9jb3JlL2FjY2Vzc29yU3VwcG9ydC9kZWNvcmF0b3JzL3N1YmNsYXNzLmpzXCI7aW1wb3J0e3dyaXRlciBhcyBhfWZyb21cIi4uLy4uL2NvcmUvYWNjZXNzb3JTdXBwb3J0L2RlY29yYXRvcnMvd3JpdGVyLmpzXCI7aW1wb3J0IHAgZnJvbVwiLi4vLi4vZ2VvbWV0cnkvUG9pbnQuanNcIjtpbXBvcnQgYyBmcm9tXCIuLi8uLi9nZW9tZXRyeS9TcGF0aWFsUmVmZXJlbmNlLmpzXCI7aW1wb3J0e2NyZWF0ZSBhcyB1fWZyb21cIi4uLy4uL2dlb21ldHJ5L3N1cHBvcnQvYWFCb3VuZGluZ1JlY3QuanNcIjtpbXBvcnR7aXNWYWxpZCBhcyBmLGdldEluZm8gYXMgaCxpc0dlb2dyYXBoaWMgYXMgbSxlcXVhbHMgYXMgZH1mcm9tXCIuLi8uLi9nZW9tZXRyeS9zdXBwb3J0L3NwYXRpYWxSZWZlcmVuY2VVdGlscy5qc1wiO2ltcG9ydHtwcm9qZWN0IGFzIGd9ZnJvbVwiLi4vLi4vZ2VvbWV0cnkvc3VwcG9ydC93ZWJNZXJjYXRvclV0aWxzLmpzXCI7aW1wb3J0IHkgZnJvbVwiLi9MT0QuanNcIjtpbXBvcnR7VGlsZUtleSBhcyB2fWZyb21cIi4vVGlsZUtleS5qc1wiO3ZhciB3O2NvbnN0IHg9bmV3IHQoe1BORzpcInBuZ1wiLFBORzg6XCJwbmc4XCIsUE5HMjQ6XCJwbmcyNFwiLFBORzMyOlwicG5nMzJcIixKUEVHOlwianBnXCIsSlBHOlwianBnXCIsRElCOlwiZGliXCIsVElGRjpcInRpZmZcIixFTUY6XCJlbWZcIixQUzpcInBzXCIsUERGOlwicGRmXCIsR0lGOlwiZ2lmXCIsU1ZHOlwic3ZnXCIsU1ZHWjpcInN2Z3pcIixNaXhlZDpcIm1peGVkXCIsTUlYRUQ6XCJtaXhlZFwiLExFUkM6XCJsZXJjXCIsTEVSQzJEOlwibGVyYzJkXCIsUkFXOlwicmF3XCIscGJmOlwicGJmXCJ9KTtsZXQgTz13PWNsYXNzIGV4dGVuZHMgb3tzdGF0aWMgY3JlYXRlKGU9e30pe2NvbnN0e3Jlc29sdXRpb25GYWN0b3I6dD0xLHNjYWxlczpvLHNpemU6cz0yNTYsc3BhdGlhbFJlZmVyZW5jZTppPWMuV2ViTWVyY2F0b3IsbnVtTE9EczpsPTI0fT1lO2lmKCFmKGkpKXtjb25zdCBlPVtdO2lmKG8pZm9yKGxldCB0PTA7dDxvLmxlbmd0aDt0Kyspe2NvbnN0IHI9b1t0XTtlLnB1c2gobmV3IHkoe2xldmVsOnQsc2NhbGU6cixyZXNvbHV0aW9uOnJ9KSl9ZWxzZXtsZXQgdD01ZS00O2ZvcihsZXQgbz1sLTE7bz49MDtvLS0pZS51bnNoaWZ0KG5ldyB5KHtsZXZlbDpvLHNjYWxlOnQscmVzb2x1dGlvbjp0fSkpLHQqPTJ9cmV0dXJuIG5ldyB3KHtkcGk6OTYsbG9kczplLG9yaWdpbjpuZXcgcCgwLDAsaSksc2l6ZTpbcyxzXSxzcGF0aWFsUmVmZXJlbmNlOml9KX1jb25zdCBuPWgoaSksYT1lLm9yaWdpbj9uZXcgcCh7eDplLm9yaWdpbi54LHk6ZS5vcmlnaW4ueSxzcGF0aWFsUmVmZXJlbmNlOml9KTpuZXcgcChuP3t4Om4ub3JpZ2luWzBdLHk6bi5vcmlnaW5bMV0sc3BhdGlhbFJlZmVyZW5jZTppfTp7eDowLHk6MCxzcGF0aWFsUmVmZXJlbmNlOml9KSx1PTk2LGQ9MS8ocihpKSozOS4zNyp1KSxnPVtdO2lmKG8pZm9yKGxldCByPTA7cjxvLmxlbmd0aDtyKyspe2NvbnN0IGU9b1tyXSx0PWUqZDtnLnB1c2gobmV3IHkoe2xldmVsOnIsc2NhbGU6ZSxyZXNvbHV0aW9uOnR9KSl9ZWxzZXtsZXQgZT1tKGkpPzUxMi9zKjU5MTY1NzUyNy41OTE3MDk0OjI1Ni9zKjU5MTY1NzUyNy41OTE1NTU7Y29uc3Qgbz1NYXRoLmNlaWwobC90KTtnLnB1c2gobmV3IHkoe2xldmVsOjAsc2NhbGU6ZSxyZXNvbHV0aW9uOmUqZH0pKTtmb3IobGV0IHI9MTtyPG87cisrKXtjb25zdCBvPWUvMioqdCxzPW8qZDtnLnB1c2gobmV3IHkoe2xldmVsOnIsc2NhbGU6byxyZXNvbHV0aW9uOnN9KSksZT1vfX1yZXR1cm4gbmV3IHcoe2RwaTp1LGxvZHM6ZyxvcmlnaW46YSxzaXplOltzLHNdLHNwYXRpYWxSZWZlcmVuY2U6aX0pfWNvbnN0cnVjdG9yKGUpe3N1cGVyKGUpLHRoaXMuZHBpPTk2LHRoaXMuZm9ybWF0PW51bGwsdGhpcy5vcmlnaW49bnVsbCx0aGlzLnNpemU9bnVsbCx0aGlzLnNwYXRpYWxSZWZlcmVuY2U9bnVsbH1nZXQgaXNXcmFwcGFibGUoKXtjb25zdHtzcGF0aWFsUmVmZXJlbmNlOmUsb3JpZ2luOnR9PXRoaXM7aWYoZSYmdCl7Y29uc3Qgbz1oKGUpO3JldHVybiBlLmlzV3JhcHBhYmxlJiYhIW8mJk1hdGguYWJzKG8ub3JpZ2luWzBdLXQueCk8PW8uZHh9cmV0dXJuITF9cmVhZE9yaWdpbihlLHQpe3JldHVybiBwLmZyb21KU09OKHtzcGF0aWFsUmVmZXJlbmNlOnQuc3BhdGlhbFJlZmVyZW5jZSwuLi5lfSl9c2V0IGxvZHMoZSl7bGV0IHQ9MCxvPTA7Y29uc3Qgcj1bXSxzPXRoaXMuX2xldmVsVG9MT0Q9e307ZSYmKHQ9LTEvMCxvPTEvMCxlLmZvckVhY2goKGU9PntyLnB1c2goZS5zY2FsZSksdD1lLnNjYWxlPnQ/ZS5zY2FsZTp0LG89ZS5zY2FsZTxvP2Uuc2NhbGU6byxzW2UubGV2ZWxdPWV9KSkpLHRoaXMuX3NldChcInNjYWxlc1wiLHIpLHRoaXMuX3NldChcImxvZHNcIixlKSx0aGlzLl9pbml0aWFsaXplVXBzYW1wbGVMZXZlbHMoKX1yZWFkU2l6ZShlLHQpe3JldHVyblt0LmNvbHMsdC5yb3dzXX13cml0ZVNpemUoZSx0KXt0LmNvbHM9ZVswXSx0LnJvd3M9ZVsxXX16b29tVG9TY2FsZShlKXtjb25zdCB0PXRoaXMuc2NhbGVzO2lmKGU8PTApcmV0dXJuIHRbMF07aWYoZT49dC5sZW5ndGgtMSlyZXR1cm4gdFt0Lmxlbmd0aC0xXTtjb25zdCBvPU1hdGguZmxvb3IoZSkscj1vKzE7cmV0dXJuIHRbb10vKHRbb10vdFtyXSkqKihlLW8pfXNjYWxlVG9ab29tKGUpe2NvbnN0IHQ9dGhpcy5zY2FsZXMsbz10Lmxlbmd0aC0xO2xldCByPTA7Zm9yKDtyPG87cisrKXtjb25zdCBvPXRbcl0scz10W3IrMV07aWYobzw9ZSlyZXR1cm4gcjtpZihzPT09ZSlyZXR1cm4gcisxO2lmKG8+ZSYmczxlKXJldHVybiByK01hdGgubG9nKG8vZSkvTWF0aC5sb2coby9zKX1yZXR1cm4gcn1zbmFwU2NhbGUoZSx0PS45NSl7Y29uc3Qgbz10aGlzLnNjYWxlVG9ab29tKGUpO3JldHVybiBvJU1hdGguZmxvb3Iobyk+PXQ/dGhpcy56b29tVG9TY2FsZShNYXRoLmNlaWwobykpOnRoaXMuem9vbVRvU2NhbGUoTWF0aC5mbG9vcihvKSl9dGlsZUF0KGUsdCxvLHIpe2NvbnN0IHM9dGhpcy5sb2RBdChlKTtpZighcylyZXR1cm4gbnVsbDtsZXQgaSxsO2lmKFwibnVtYmVyXCI9PXR5cGVvZiB0KWk9dCxsPW87ZWxzZSBpZihkKHQuc3BhdGlhbFJlZmVyZW5jZSx0aGlzLnNwYXRpYWxSZWZlcmVuY2UpKWk9dC54LGw9dC55LHI9bztlbHNle2NvbnN0IGU9Zyh0LHRoaXMuc3BhdGlhbFJlZmVyZW5jZSk7aWYobnVsbD09ZSlyZXR1cm4gbnVsbDtpPWUueCxsPWUueSxyPW99Y29uc3Qgbj1zLnJlc29sdXRpb24qdGhpcy5zaXplWzBdLGE9cy5yZXNvbHV0aW9uKnRoaXMuc2l6ZVsxXTtyZXR1cm4gcnx8KHI9bmV3IHYobnVsbCwwLDAsMCx1KCkpKSxyLmxldmVsPWUsci5yb3c9TWF0aC5mbG9vcigodGhpcy5vcmlnaW4ueS1sKS9hKy4wMDEpLHIuY29sPU1hdGguZmxvb3IoKGktdGhpcy5vcmlnaW4ueCkvbisuMDAxKSx0aGlzLnVwZGF0ZVRpbGVJbmZvKHIpLHJ9dXBkYXRlVGlsZUluZm8oZSx0PXcuRXh0cmFwb2xhdGVPcHRpb25zLk5PTkUpe2xldCBvPXRoaXMubG9kQXQoZS5sZXZlbCk7aWYoIW8mJnQ9PT13LkV4dHJhcG9sYXRlT3B0aW9ucy5QT1dFUl9PRl9UV08pe2NvbnN0IHQ9dGhpcy5sb2RzW3RoaXMubG9kcy5sZW5ndGgtMV07dC5sZXZlbDxlLmxldmVsJiYobz10KX1pZighbylyZXR1cm47Y29uc3Qgcj1lLmxldmVsLW8ubGV2ZWwscz1vLnJlc29sdXRpb24qdGhpcy5zaXplWzBdLzIqKnIsaT1vLnJlc29sdXRpb24qdGhpcy5zaXplWzFdLzIqKnI7ZS5pZD1gJHtlLmxldmVsfS8ke2Uucm93fS8ke2UuY29sfWAsZS5leHRlbnR8fChlLmV4dGVudD11KCkpLGUuZXh0ZW50WzBdPXRoaXMub3JpZ2luLngrZS5jb2wqcyxlLmV4dGVudFsxXT10aGlzLm9yaWdpbi55LShlLnJvdysxKSppLGUuZXh0ZW50WzJdPWUuZXh0ZW50WzBdK3MsZS5leHRlbnRbM109ZS5leHRlbnRbMV0raX11cHNhbXBsZVRpbGUoZSl7Y29uc3QgdD10aGlzLl91cHNhbXBsZUxldmVsc1tlLmxldmVsXTtyZXR1cm4hKCF0fHwtMT09PXQucGFyZW50TGV2ZWwpJiYoZS5sZXZlbD10LnBhcmVudExldmVsLGUucm93PU1hdGguZmxvb3IoZS5yb3cvdC5mYWN0b3IrLjAwMSksZS5jb2w9TWF0aC5mbG9vcihlLmNvbC90LmZhY3RvcisuMDAxKSx0aGlzLnVwZGF0ZVRpbGVJbmZvKGUpLCEwKX1nZXRUaWxlQm91bmRzKGUsdCl7Y29uc3Qgbz10aGlzLmxvZEF0KHQubGV2ZWwpO2lmKG51bGw9PW8pcmV0dXJuIG51bGw7Y29uc3R7cmVzb2x1dGlvbjpyfT1vLHM9cip0aGlzLnNpemVbMF0saT1yKnRoaXMuc2l6ZVsxXTtyZXR1cm4gZVswXT10aGlzLm9yaWdpbi54K3QuY29sKnMsZVsxXT10aGlzLm9yaWdpbi55LSh0LnJvdysxKSppLGVbMl09ZVswXStzLGVbM109ZVsxXStpLGV9bG9kQXQoZSl7cmV0dXJuIHRoaXMuX2xldmVsVG9MT0Q/LltlXT8/bnVsbH1jbG9uZSgpe3JldHVybiB3LmZyb21KU09OKHRoaXMud3JpdGUoe30pKX1nZXRPckNyZWF0ZUNvbXBhdGlibGUoZSx0KXtpZigyNTY9PT10aGlzLnNpemVbMF0mJjI1Nj09PXRoaXMuc2l6ZVsxXSlyZXR1cm4gMjU2PT09ZT90aGlzOm51bGw7Y29uc3Qgbz1bXSxyPXRoaXMubG9kcy5sZW5ndGg7Zm9yKGxldCBzPTA7czxyO3MrKyl7Y29uc3QgZT10aGlzLmxvZHNbc10scj1lLnJlc29sdXRpb24qdDtvLnB1c2gobmV3IHkoe2xldmVsOmUubGV2ZWwsc2NhbGU6ZS5zY2FsZSxyZXNvbHV0aW9uOnJ9KSl9cmV0dXJuIG5ldyB3KHtzaXplOltlLGVdLGRwaTp0aGlzLmRwaSxmb3JtYXQ6dGhpcy5mb3JtYXQsY29tcHJlc3Npb25RdWFsaXR5OnRoaXMuY29tcHJlc3Npb25RdWFsaXR5LG9yaWdpbjp0aGlzLm9yaWdpbixzcGF0aWFsUmVmZXJlbmNlOnRoaXMuc3BhdGlhbFJlZmVyZW5jZSxsb2RzOm99KX1faW5pdGlhbGl6ZVVwc2FtcGxlTGV2ZWxzKCl7Y29uc3QgZT10aGlzLmxvZHM7dGhpcy5fdXBzYW1wbGVMZXZlbHM9W107bGV0IHQ9bnVsbDtmb3IobGV0IG89MDtvPGUubGVuZ3RoO28rKyl7Y29uc3Qgcj1lW29dO3RoaXMuX3Vwc2FtcGxlTGV2ZWxzW3IubGV2ZWxdPXtwYXJlbnRMZXZlbDp0P3QubGV2ZWw6LTEsZmFjdG9yOnQ/dC5yZXNvbHV0aW9uL3IucmVzb2x1dGlvbjowfSx0PXJ9fX07ZShbcyh7dHlwZTpOdW1iZXIsanNvbjp7d3JpdGU6ITB9fSldLE8ucHJvdG90eXBlLFwiY29tcHJlc3Npb25RdWFsaXR5XCIsdm9pZCAwKSxlKFtzKHt0eXBlOk51bWJlcixqc29uOnt3cml0ZTohMH19KV0sTy5wcm90b3R5cGUsXCJkcGlcIix2b2lkIDApLGUoW3Moe3R5cGU6U3RyaW5nLGpzb246e3JlYWQ6eC5yZWFkLHdyaXRlOngud3JpdGUsb3JpZ2luczp7XCJ3ZWItc2NlbmVcIjp7cmVhZDohMSx3cml0ZTohMX19fX0pXSxPLnByb3RvdHlwZSxcImZvcm1hdFwiLHZvaWQgMCksZShbcyh7cmVhZE9ubHk6ITB9KV0sTy5wcm90b3R5cGUsXCJpc1dyYXBwYWJsZVwiLG51bGwpLGUoW3Moe3R5cGU6cCxqc29uOnt3cml0ZTohMH19KV0sTy5wcm90b3R5cGUsXCJvcmlnaW5cIix2b2lkIDApLGUoW2woXCJvcmlnaW5cIildLE8ucHJvdG90eXBlLFwicmVhZE9yaWdpblwiLG51bGwpLGUoW3Moe3R5cGU6W3ldLHZhbHVlOm51bGwsanNvbjp7d3JpdGU6ITB9fSldLE8ucHJvdG90eXBlLFwibG9kc1wiLG51bGwpLGUoW3Moe3JlYWRPbmx5OiEwfSldLE8ucHJvdG90eXBlLFwic2NhbGVzXCIsdm9pZCAwKSxlKFtzKHtjYXN0OmU9PkFycmF5LmlzQXJyYXkoZSk/ZTpcIm51bWJlclwiPT10eXBlb2YgZT9bZSxlXTpbMjU2LDI1Nl19KV0sTy5wcm90b3R5cGUsXCJzaXplXCIsdm9pZCAwKSxlKFtsKFwic2l6ZVwiLFtcInJvd3NcIixcImNvbHNcIl0pXSxPLnByb3RvdHlwZSxcInJlYWRTaXplXCIsbnVsbCksZShbYShcInNpemVcIix7Y29sczp7dHlwZTppfSxyb3dzOnt0eXBlOml9fSldLE8ucHJvdG90eXBlLFwid3JpdGVTaXplXCIsbnVsbCksZShbcyh7dHlwZTpjLGpzb246e3dyaXRlOiEwfX0pXSxPLnByb3RvdHlwZSxcInNwYXRpYWxSZWZlcmVuY2VcIix2b2lkIDApLE89dz1lKFtuKFwiZXNyaS5sYXllcnMuc3VwcG9ydC5UaWxlSW5mb1wiKV0sTyksZnVuY3Rpb24oZSl7dmFyIHQ7KHQ9ZS5FeHRyYXBvbGF0ZU9wdGlvbnN8fChlLkV4dHJhcG9sYXRlT3B0aW9ucz17fSkpW3QuTk9ORT0wXT1cIk5PTkVcIix0W3QuUE9XRVJfT0ZfVFdPPTFdPVwiUE9XRVJfT0ZfVFdPXCJ9KE98fChPPXt9KSk7Y29uc3Qgaj1PO2V4cG9ydHtqIGFzIGRlZmF1bHR9O1xuIiwiLypcbkFsbCBtYXRlcmlhbCBjb3B5cmlnaHQgRVNSSSwgQWxsIFJpZ2h0cyBSZXNlcnZlZCwgdW5sZXNzIG90aGVyd2lzZSBzcGVjaWZpZWQuXG5TZWUgaHR0cHM6Ly9qcy5hcmNnaXMuY29tLzQuMjcvZXNyaS9jb3B5cmlnaHQudHh0IGZvciBkZXRhaWxzLlxuKi9cbmNsYXNzIHR7Y29uc3RydWN0b3IodCxzLGksbyxlPXZvaWQgMCl7dGhpcy5pZD10LHRoaXMubGV2ZWw9cyx0aGlzLnJvdz1pLHRoaXMuY29sPW8sdGhpcy5leHRlbnQ9ZX19ZXhwb3J0e3QgYXMgVGlsZUtleX07XG4iLCIvKlxuQWxsIG1hdGVyaWFsIGNvcHlyaWdodCBFU1JJLCBBbGwgUmlnaHRzIFJlc2VydmVkLCB1bmxlc3Mgb3RoZXJ3aXNlIHNwZWNpZmllZC5cblNlZSBodHRwczovL2pzLmFyY2dpcy5jb20vNC4yNy9lc3JpL2NvcHlyaWdodC50eHQgZm9yIGRldGFpbHMuXG4qL1xuaW1wb3J0IGUgZnJvbVwiLi4vLi4vLi4vY29yZS9Mb2dnZXIuanNcIjtmdW5jdGlvbiByKHIsYSx0KXtpZihudWxsPT1yKXJldHVybiBudWxsO2NvbnN0IHU9YS5yZWFkQXJjYWRlRmVhdHVyZSgpO3RyeXtyZXR1cm4gci5ldmFsdWF0ZSh7Li4udCwkZmVhdHVyZTp1fSxyLnNlcnZpY2VzKX1jYXRjaChuKXtyZXR1cm4gZS5nZXRMb2dnZXIoXCJlc3JpLnZpZXdzLjJkLnN1cHBvcnQuYXJjYWRlT25EZW1hbmRcIikud2FybihcIkZlYXR1cmUgYXJjYWRlIGV2YWx1YXRpb24gZmFpbGVkOlwiLG4pLG51bGx9fWV4cG9ydHtyIGFzIGRlZmF1bHR9O1xuIiwiLypcbkFsbCBtYXRlcmlhbCBjb3B5cmlnaHQgRVNSSSwgQWxsIFJpZ2h0cyBSZXNlcnZlZCwgdW5sZXNzIG90aGVyd2lzZSBzcGVjaWZpZWQuXG5TZWUgaHR0cHM6Ly9qcy5hcmNnaXMuY29tLzQuMjcvZXNyaS9jb3B5cmlnaHQudHh0IGZvciBkZXRhaWxzLlxuKi9cbmNvbnN0IG49ODM4ODYwNyx0PTgzODg2MDgscj0yNTQsbz0yNTUsdT0wLGM9MSxlPW49PihuJnQpPj4+MjMsZj10PT50Jm4saT1uPT5lKG4pPT09Yz9yOm87ZnVuY3Rpb24gcChuKXtyZXR1cm4gZShuKT09PWN9ZnVuY3Rpb24gcyhuLHIpe3JldHVybigocj90OjApfG4pPj4+MH1leHBvcnR7ciBhcyBBR0dSRUdBVEVfVkFMSURfRklMVEVSU19NQVNLLG4gYXMgRElTUExBWV9JRF9URVhFTF9NQVNLLGMgYXMgRElTUExBWV9JRF9UWVBFX0FHR1JFR0FURSx1IGFzIERJU1BMQVlfSURfVFlQRV9GRUFUVVJFLHQgYXMgRElTUExBWV9JRF9UWVBFX01BU0ssbyBhcyBOT05BR0dSRUdBVEVfVkFMSURfRklMVEVSU19NQVNLLHMgYXMgY3JlYXRlRGlzcGxheUlkLGkgYXMgZ2V0RGlzcGxheUlkRmlsdGVyTWFzayxmIGFzIGdldERpc3BsYXlJZFRleGVsLGUgYXMgZ2V0RGlzcGxheUlkVHlwZSxwIGFzIGlzQWdncmVnYXRlSWR9O1xuIiwiLypcbkFsbCBtYXRlcmlhbCBjb3B5cmlnaHQgRVNSSSwgQWxsIFJpZ2h0cyBSZXNlcnZlZCwgdW5sZXNzIG90aGVyd2lzZSBzcGVjaWZpZWQuXG5TZWUgaHR0cHM6Ly9qcy5hcmNnaXMuY29tLzQuMjcvZXNyaS9jb3B5cmlnaHQudHh0IGZvciBkZXRhaWxzLlxuKi9cbmltcG9ydCBlIGZyb21cIi4uLy4uLy4uLy4uL2NvcmUvRXJyb3IuanNcIjtpbXBvcnQgdCBmcm9tXCIuLi8uLi8uLi8uLi9jb3JlL0xvZ2dlci5qc1wiO2ltcG9ydHtDYXBUeXBlIGFzIG4sSm9pblR5cGUgYXMgcn1mcm9tXCIuLi8uLi8uLi8uLi9zeW1ib2xzL2NpbS9lbnVtcy5qc1wiO2ltcG9ydHtXR0xHZW9tZXRyeVR5cGUgYXMgcyxXR0xTeW1ib2xvZ3lUeXBlIGFzIGEsVlZUeXBlIGFzIGl9ZnJvbVwiLi9lbnVtcy5qc1wiO2ltcG9ydHtVc2FnZSBhcyBjLERhdGFUeXBlIGFzIG8sUGl4ZWxUeXBlIGFzIHV9ZnJvbVwiLi4vLi4vLi4vd2ViZ2wvZW51bXMuanNcIjtpbXBvcnR7VmVydGV4RWxlbWVudERlc2NyaXB0b3IgYXMgbH1mcm9tXCIuLi8uLi8uLi93ZWJnbC9WZXJ0ZXhFbGVtZW50RGVzY3JpcHRvci5qc1wiO2NvbnN0IG09dC5nZXRMb2dnZXIoXCJlc3JpLnZpZXdzLjJkLmVuZ2luZS53ZWJnbC5VdGlsc1wiKSxmPVwiZ2VvbWV0cnlcIixkPVt7bmFtZTpmLHN0cmlkZUluQnl0ZXM6MTJ9XSxwPVt7bmFtZTpmLHN0cmlkZUluQnl0ZXM6MzZ9XSx5PVt7bmFtZTpmLHN0cmlkZUluQnl0ZXM6MjR9XSxJPVt7bmFtZTpmLHN0cmlkZUluQnl0ZXM6MTJ9XSxnPVt7bmFtZTpmLHN0cmlkZUluQnl0ZXM6NDB9XSxTPVt7bmFtZTpmLHN0cmlkZUluQnl0ZXM6MzZ9XSxUPVt7bmFtZTpmLHN0cmlkZUluQnl0ZXM6MzZ9XTtmdW5jdGlvbiB3KGUpe2NvbnN0IHQ9e307Zm9yKGNvbnN0IG4gb2YgZSl0W24ubmFtZV09bi5zdHJpZGVJbkJ5dGVzO3JldHVybiB0fWNvbnN0IEU9dyhbe25hbWU6ZixzdHJpZGVJbkJ5dGVzOjM2fV0pLGg9dyhkKSxMPXcocCksTj13KHkpLEQ9dyhJKSxBPXcoZyksTT13KFMpLFU9dyhUKTtmdW5jdGlvbiBSKGUsdCl7c3dpdGNoKGUpe2Nhc2Ugcy5NQVJLRVI6cmV0dXJuIHQ9PT1hLkhFQVRNQVA/aDpFO2Nhc2Ugcy5GSUxMOnN3aXRjaCh0KXtjYXNlIGEuRE9UX0RFTlNJVFk6cmV0dXJuIEQ7Y2FzZSBhLlNJTVBMRTpjYXNlIGEuT1VUTElORV9GSUxMX1NJTVBMRTpyZXR1cm4gTjtkZWZhdWx0OnJldHVybiBMfWNhc2Ugcy5MSU5FOnJldHVybiBBO2Nhc2Ugcy5URVhUOnJldHVybiBNO2Nhc2Ugcy5MQUJFTDpyZXR1cm4gVX19Y29uc3QgXz1bZl0sdj1bZl0sQj1bZl0sTz1bZl0sQz1bZl07ZnVuY3Rpb24gYihlKXtzd2l0Y2goZSl7Y2FzZSBzLk1BUktFUjpyZXR1cm4gXztjYXNlIHMuRklMTDpyZXR1cm4gdjtjYXNlIHMuTElORTpyZXR1cm4gQjtjYXNlIHMuVEVYVDpyZXR1cm4gTztjYXNlIHMuTEFCRUw6cmV0dXJuIEN9fWZ1bmN0aW9uIEYoZSl7c3dpdGNoKGUlNCl7Y2FzZSAwOmNhc2UgMjpyZXR1cm4gNDtjYXNlIDE6Y2FzZSAzOnJldHVybiAxfX1mdW5jdGlvbiB4KGUsdCl7c3dpdGNoKHQlNCl7Y2FzZSAwOmNhc2UgMjpyZXR1cm4gbmV3IFVpbnQzMkFycmF5KE1hdGguZmxvb3IoZSp0LzQpKTtjYXNlIDE6Y2FzZSAzOnJldHVybiBuZXcgVWludDhBcnJheShlKnQpfX1mdW5jdGlvbiBQKGUsdCl7c3dpdGNoKHQlNCl7Y2FzZSAwOmNhc2UgMjpyZXR1cm4gbmV3IFVpbnQzMkFycmF5KGUpO2Nhc2UgMTpjYXNlIDM6cmV0dXJuIG5ldyBVaW50OEFycmF5KGUpfX1mdW5jdGlvbiB6KGUpe3JldHVybiBudWxsIT1lfWZ1bmN0aW9uICQoZSl7cmV0dXJuXCJudW1iZXJcIj09dHlwZW9mIGV9ZnVuY3Rpb24gayh0KXtzd2l0Y2godCl7Y2FzZVwiYnV0dFwiOnJldHVybiBuLkJVVFQ7Y2FzZVwicm91bmRcIjpyZXR1cm4gbi5ST1VORDtjYXNlXCJzcXVhcmVcIjpyZXR1cm4gbi5TUVVBUkU7ZGVmYXVsdDpyZXR1cm4gbS5lcnJvcihuZXcgZShcIm1hcHZpZXctaW52YWxpZC10eXBlXCIsYENhcCB0eXBlICR7dH0gaXMgbm90IGEgdmFsaWQgb3B0aW9uLiBEZWZhdWx0aW5nIHRvIHJvdW5kYCkpLG4uUk9VTkR9fWZ1bmN0aW9uIEcodCl7c3dpdGNoKHQpe2Nhc2VcIm1pdGVyXCI6cmV0dXJuIHIuTUlURVI7Y2FzZVwiYmV2ZWxcIjpyZXR1cm4gci5CRVZFTDtjYXNlXCJyb3VuZFwiOnJldHVybiByLlJPVU5EO2RlZmF1bHQ6cmV0dXJuIG0uZXJyb3IobmV3IGUoXCJtYXB2aWV3LWludmFsaWQtdHlwZVwiLGBKb2luIHR5cGUgJHt0fSBpcyBub3QgYSB2YWxpZCBvcHRpb24uIERlZmF1bHRpbmcgdG8gcm91bmRgKSksci5ST1VORH19ZnVuY3Rpb24gVihlKXtzd2l0Y2goZSl7Y2FzZVwib3BhY2l0eVwiOnJldHVybiBpLk9QQUNJVFk7Y2FzZVwiY29sb3JcIjpyZXR1cm4gaS5DT0xPUjtjYXNlXCJyb3RhdGlvblwiOnJldHVybiBpLlJPVEFUSU9OO2Nhc2VcInNpemVcIjpyZXR1cm4gaS5TSVpFO2RlZmF1bHQ6cmV0dXJuIG0uZXJyb3IoYENhbm5vdCBpbnRlcnByZXQgdW5rbm93biB2djogJHtlfWApLG51bGx9fWZ1bmN0aW9uIGooZSx0LG4scixzLGEsaSl7Zm9yKGNvbnN0IGMgaW4gYSl7Y29uc3QgdD1hW2NdLnN0cmlkZSxyPUYodCksaT1hW2NdLmRhdGEsbz1uW2NdLmRhdGE7aWYobnVsbD09aXx8bnVsbD09byljb250aW51ZTtjb25zdCB1PXQqcy52ZXJ0ZXhDb3VudC9yLGw9dCplL3IsbT10KnMudmVydGV4RnJvbS9yO2ZvcihsZXQgZT0wO2U8dTsrK2Upb1tlK2xdPWlbZSttXX1pZihudWxsIT1pJiZudWxsIT1yKXtjb25zdCBuPXMuaW5kZXhDb3VudDtmb3IobGV0IGE9MDthPG47KythKXJbYSt0XT1pW2Ercy5pbmRleEZyb21dLXMudmVydGV4RnJvbStlfX1jb25zdCBZPXtbZl06Yy5TVEFUSUNfRFJBV307ZnVuY3Rpb24gSChlLHQpe2NvbnN0IG49W107Zm9yKGxldCByPTA7cjw1Oysrcil7Y29uc3Qgcz1iKHIpLGE9e307Zm9yKGNvbnN0IGUgb2YgcylhW2VdPXtkYXRhOnQocixlKX07bi5wdXNoKHtkYXRhOmUociksYnVmZmVyczphfSl9cmV0dXJuIG59ZnVuY3Rpb24gcShlKXtzd2l0Y2goZSl7Y2FzZSBvLkJZVEU6Y2FzZSBvLlVOU0lHTkVEX0JZVEU6cmV0dXJuIDE7Y2FzZSBvLlNIT1JUOmNhc2Ugby5VTlNJR05FRF9TSE9SVDpyZXR1cm4gMjtjYXNlIG8uRkxPQVQ6Y2FzZSBvLklOVDpjYXNlIG8uVU5TSUdORURfSU5UOnJldHVybiA0fX1mdW5jdGlvbiBLKHQpe3N3aXRjaCh0KXtjYXNlIHUuVU5TSUdORURfQllURTpyZXR1cm4gMTtjYXNlIHUuVU5TSUdORURfU0hPUlRfNF80XzRfNDpyZXR1cm4gMjtjYXNlIHUuRkxPQVQ6cmV0dXJuIDQ7ZGVmYXVsdDpyZXR1cm4gdm9pZCBtLmVycm9yKG5ldyBlKFwid2ViZ2wtdXRpbHNcIixgVW5hYmxlIHRvIGhhbmRsZSB0eXBlICR7dH1gKSl9fWZ1bmN0aW9uIFcodCl7c3dpdGNoKHQpe2Nhc2UgdS5VTlNJR05FRF9CWVRFOnJldHVybiBVaW50OEFycmF5O2Nhc2UgdS5VTlNJR05FRF9TSE9SVF80XzRfNF80OnJldHVybiBVaW50MTZBcnJheTtjYXNlIHUuRkxPQVQ6cmV0dXJuIEZsb2F0MzJBcnJheTtkZWZhdWx0OnJldHVybiB2b2lkIG0uZXJyb3IobmV3IGUoXCJ3ZWJnbC11dGlsc1wiLGBVbmFibGUgdG8gaGFuZGxlIHR5cGUgJHt0fWApKX19ZnVuY3Rpb24gWChlKXtjb25zdCB0PXt9O2Zvcihjb25zdCBuIGluIGUpe2NvbnN0IHI9ZVtuXTtsZXQgcz0wO3Rbbl09ci5tYXAoKGU9Pntjb25zdCB0PW5ldyBsKGUubmFtZSxlLmNvdW50LGUudHlwZSxzLDAsZS5ub3JtYWxpemVkfHwhMSk7cmV0dXJuIHMrPWUuY291bnQqcShlLnR5cGUpLHR9KSksdFtuXT8uZm9yRWFjaCgoZT0+ZS5zdHJpZGU9cykpfXJldHVybiB0fWNvbnN0IEo9ZT0+e2NvbnN0IHQ9bmV3IE1hcDtmb3IoY29uc3QgbiBpbiBlKWZvcihjb25zdCByIG9mIGVbbl0pdC5zZXQoci5uYW1lLHIubG9jYXRpb24pO3JldHVybiB0fSxRPWU9Pntjb25zdCB0PXt9O2Zvcihjb25zdCBuIGluIGUpe2NvbnN0IHI9ZVtuXTt0W25dPXI/Lmxlbmd0aD9yWzBdLnN0cmlkZTowfXJldHVybiB0fSxaPW5ldyBNYXAsZWU9KGUsdCk9PntpZighWi5oYXMoZSkpe2NvbnN0IG49WCh0KSxyPXtzdHJpZGVzOlEobiksYnVmZmVyTGF5b3V0czpuLGF0dHJpYnV0ZXM6Sih0KX07Wi5zZXQoZSxyKX1yZXR1cm4gWi5nZXQoZSl9O2Z1bmN0aW9uIHRlKGUpe2Uocy5GSUxMKSxlKHMuTElORSksZShzLk1BUktFUiksZShzLlRFWFQpLGUocy5MQUJFTCl9Y29uc3QgbmU9ZT0+XCJwYXRoXCJpbiBlJiZ5ZShlLnBhdGgpLHJlPWU9PlwidXJsXCJpbiBlJiZlLnVybHx8XCJpbWFnZURhdGFcImluIGUmJmUuaW1hZ2VEYXRhLHNlPWU9PlwiaW1hZ2VEYXRhXCJpbiBlJiZlLmltYWdlRGF0YSYmXCJjb250ZW50VHlwZVwiaW4gZSYmZS5jb250ZW50VHlwZT9gZGF0YToke2UuY29udGVudFR5cGV9O2Jhc2U2NCwke2UuaW1hZ2VEYXRhfWA6XCJ1cmxcImluIGU/ZS51cmw6bnVsbCxhZT1lPT5udWxsIT1lJiZlLnN0YXJ0c1dpdGgoXCJkYXRhOmltYWdlL2dpZlwiKSxpZT1lPT5cInVybFwiaW4gZSYmZS51cmwmJihlLnVybC5pbmNsdWRlcyhcIi5naWZcIil8fGFlKGUudXJsKSl8fFwiY29udGVudFR5cGVcImluIGUmJlwiaW1hZ2UvZ2lmXCI9PT1lLmNvbnRlbnRUeXBlfHxcImltYWdlRGF0YVwiaW4gZSYmYWUoZS5pbWFnZURhdGEpLGNlPWU9Pm51bGwhPWUmJmUuc3RhcnRzV2l0aChcImRhdGE6aW1hZ2UvcG5nXCIpLG9lPWU9PlwidXJsXCJpbiBlJiZlLnVybCYmKGUudXJsLmluY2x1ZGVzKFwiLnBuZ1wiKXx8Y2UoZS51cmwpKXx8XCJjb250ZW50VHlwZVwiaW4gZSYmXCJpbWFnZS9wbmdcIj09PWUuY29udGVudFR5cGV8fFwiaW1hZ2VEYXRhXCJpbiBlJiZjZShlLmltYWdlRGF0YSksdWU9ZT0+ZS50eXBlJiZlLnR5cGUudG9Mb3dlckNhc2UoKS5pbmNsdWRlcyhcIjNkXCIpO2Z1bmN0aW9uIGxlKGUpe3N3aXRjaChlLnR5cGUpe2Nhc2VcImxpbmVcIjp7Y29uc3QgdD1lO3JldHVyblwiQ0lNU29saWRTdHJva2VcIj09PXQuY2ltLnR5cGUmJiF0LmRhc2hUZW1wbGF0ZX1jYXNlXCJmaWxsXCI6cmV0dXJuXCJDSU1Tb2xpZEZpbGxcIj09PWUuY2ltLnR5cGU7Y2FzZVwiZXNyaVNGU1wiOnJldHVyblwiZXNyaVNGU1NvbGlkXCI9PT1lLnN0eWxlfHxcImVzcmlTRlNOdWxsXCI9PT1lLnN0eWxlO2Nhc2VcImVzcmlTTFNcIjpyZXR1cm5cImVzcmlTTFNTb2xpZFwiPT09ZS5zdHlsZXx8XCJlc3JpU0xTTnVsbFwiPT09ZS5zdHlsZTtkZWZhdWx0OnJldHVybiExfX1jb25zdCBtZT1lPT5lLmluY2x1ZGVzKFwiZGF0YTppbWFnZS9zdmcreG1sXCIpO2Z1bmN0aW9uIGZlKGUpe3N3aXRjaChcImNpbVwiaW4gZT9lLmNpbS50eXBlOmUudHlwZSl7Y2FzZVwiZXNyaVNNU1wiOmNhc2VcImVzcmlQTVNcIjpjYXNlXCJDSU1Qb2ludFN5bWJvbFwiOnJldHVybiExO2Nhc2VcIkNJTVZlY3Rvck1hcmtlclwiOmNhc2VcIkNJTUNoYXJhY3Rlck1hcmtlclwiOmNhc2VcIkNJTVBpY3R1cmVNYXJrZXJcIjpyZXR1cm4gSWUoZSk7ZGVmYXVsdDpyZXR1cm4hMH19ZnVuY3Rpb24gZGUoZSl7Y29uc3QgdD1cIm1heFZWU2l6ZVwiaW4gZSYmZS5tYXhWVlNpemUsbj1cIndpZHRoXCJpbiBlJiZlLndpZHRofHxcInNpemVcImluIGUmJmUuc2l6ZXx8MDtyZXR1cm4gdHx8bn1mdW5jdGlvbiBwZShlKXtjb25zdCB0PVtdO2ZvcihsZXQgbj0wO248ZS5sZW5ndGg7bisrKXQucHVzaChlLmNoYXJDb2RlQXQobikpO3JldHVybiB0fWNvbnN0IHllPWU9PiEhZSYmKGU9ZS50cmltKCksISEoL15bbXpsaHZjc3F0YV1cXHMqWy0rLjAtOV1bXm1saHZ6Y3NxdGFdKy9pLnRlc3QoZSkmJi9bXFxkel0kL2kudGVzdChlKSYmZS5sZW5ndGg+NCkpLEllPWU9PlwiZmlsbFwiPT09ZS50eXBlJiZcIkNJTU1hcmtlclBsYWNlbWVudEluc2lkZVBvbHlnb25cIj09PWU/LmNpbT8ubWFya2VyUGxhY2VtZW50Py50eXBlO2V4cG9ydHtZIGFzIENfVkJPX0lORk8seCBhcyBhbGxvY2F0ZVR5cGVkQXJyYXlCdWZmZXIsUCBhcyBhbGxvY2F0ZVR5cGVkQXJyYXlCdWZmZXJ3aXRoRGF0YSxwZSBhcyBjaGFyQ29kZXMsaiBhcyBjb3B5TWVzaERhdGEsSCBhcyBjcmVhdGVHZW9tZXRyeURhdGEsZWUgYXMgY3JlYXRlUHJvZ3JhbURlc2NyaXB0b3IsdGUgYXMgZm9yRWFjaEdlb21ldHJ5VHlwZSxxIGFzIGdldEJ5dGVzLGsgYXMgZ2V0Q2FwVHlwZSxHIGFzIGdldEpvaW5UeXBlLGIgYXMgZ2V0TmFtZWRCdWZmZXJzLGRlIGFzIGdldFBNU1Jlc291cmNlU2l6ZSxXIGFzIGdldFBpeGVsQXJyYXlDdG9yLEsgYXMgZ2V0UGl4ZWxCeXRlcyxSIGFzIGdldFN0cmlkZXMsc2UgYXMgZ2V0VXJsLFYgYXMgZ2V0VlZUeXBlLHVlIGFzIGlzM0QseiBhcyBpc0RlZmluZWQsaWUgYXMgaXNHSUYsYWUgYXMgaXNHSUZEYXRhVXJpLHJlIGFzIGlzSW1hZ2VSZXNvdXJjZSxJZSBhcyBpc01hcmtlclBsYWNlbWVudEluc2lkZVBvbHlnb24sJCBhcyBpc051bWJlcixvZSBhcyBpc1BORyxjZSBhcyBpc1BOR0RhdGFVcmksbWUgYXMgaXNTVkdJbWFnZSxuZSBhcyBpc1NWR1Jlc291cmNlLGxlIGFzIGlzU2ltcGxlLHllIGFzIGlzVmFsaWRTVkcsZmUgYXMgc2hvdWxkUmVwZWF0LEYgYXMgc3RyaWRlVG9QYWNraW5nRmFjdG9yfTtcbiIsIi8qXG5BbGwgbWF0ZXJpYWwgY29weXJpZ2h0IEVTUkksIEFsbCBSaWdodHMgUmVzZXJ2ZWQsIHVubGVzcyBvdGhlcndpc2Ugc3BlY2lmaWVkLlxuU2VlIGh0dHBzOi8vanMuYXJjZ2lzLmNvbS80LjI3L2VzcmkvY29weXJpZ2h0LnR4dCBmb3IgZGV0YWlscy5cbiovXG5pbXBvcnR7aTg4ODh0bzMyIGFzIG59ZnJvbVwiLi9udW1iZXIuanNcIjtmdW5jdGlvbiByKG4scj0wLHQ9ITEpe2NvbnN0IG89bltyKzNdO3JldHVybiBuW3JdKj1vLG5bcisxXSo9byxuW3IrMl0qPW8sdHx8KG5bciszXSo9MjU1KSxufWZ1bmN0aW9uIHQocil7aWYoIXIpcmV0dXJuIDA7Y29uc3R7cjp0LGc6byxiOnUsYTppfT1yO3JldHVybiBuKHQqaSxvKmksdSppLDI1NSppKX1mdW5jdGlvbiBvKHIpe2lmKCFyKXJldHVybiAwO2NvbnN0W3Qsbyx1LGldPXI7cmV0dXJuIG4odCooaS8yNTUpLG8qKGkvMjU1KSx1KihpLzI1NSksaSl9ZnVuY3Rpb24gdShuLHIsdD0wKXtpZihudWxsPT1yKXJldHVybiBuW3RdPTAsblt0KzFdPTAsblt0KzJdPTAsdm9pZChuW3QrM109MCk7Y29uc3R7cjpvLGc6dSxiOmksYTpjfT1yO25bdF09bypjLzI1NSxuW3QrMV09dSpjLzI1NSxuW3QrMl09aSpjLzI1NSxuW3QrM109Y31leHBvcnR7ciBhcyBwcmVtdWx0aXBseUFscGhhLHQgYXMgcHJlbXVsdGlwbHlBbHBoYVJHQkEsbyBhcyBwcmVtdWx0aXBseUFscGhhUkdCQUFycmF5LHUgYXMgd3JpdGVDb2xvcn07XG4iLCIvKlxuQWxsIG1hdGVyaWFsIGNvcHlyaWdodCBFU1JJLCBBbGwgUmlnaHRzIFJlc2VydmVkLCB1bmxlc3Mgb3RoZXJ3aXNlIHNwZWNpZmllZC5cblNlZSBodHRwczovL2pzLmFyY2dpcy5jb20vNC4yNy9lc3JpL2NvcHlyaWdodC50eHQgZm9yIGRldGFpbHMuXG4qL1xudmFyIEUsVCxJLEwsQSxfLFM7IWZ1bmN0aW9uKEUpe0VbRS5GSUxMPTBdPVwiRklMTFwiLEVbRS5MSU5FPTFdPVwiTElORVwiLEVbRS5NQVJLRVI9Ml09XCJNQVJLRVJcIixFW0UuVEVYVD0zXT1cIlRFWFRcIixFW0UuTEFCRUw9NF09XCJMQUJFTFwifShFfHwoRT17fSkpLGZ1bmN0aW9uKEUpe0VbRS5OT05FPTBdPVwiTk9ORVwiLEVbRS5NQVA9MV09XCJNQVBcIixFW0UuTEFCRUw9Ml09XCJMQUJFTFwiLEVbRS5MQUJFTF9BTFBIQT00XT1cIkxBQkVMX0FMUEhBXCIsRVtFLkhJVFRFU1Q9OF09XCJISVRURVNUXCIsRVtFLkhJR0hMSUdIVD0xNl09XCJISUdITElHSFRcIixFW0UuQ0xJUD0zMl09XCJDTElQXCIsRVtFLkRFQlVHPTY0XT1cIkRFQlVHXCIsRVtFLk5VTV9EUkFXX1BIQVNFUz05XT1cIk5VTV9EUkFXX1BIQVNFU1wifShUfHwoVD17fSkpLGZ1bmN0aW9uKEUpe0VbRS5TSVpFPTBdPVwiU0laRVwiLEVbRS5DT0xPUj0xXT1cIkNPTE9SXCIsRVtFLk9QQUNJVFk9Ml09XCJPUEFDSVRZXCIsRVtFLlJPVEFUSU9OPTNdPVwiUk9UQVRJT05cIn0oSXx8KEk9e30pKSxmdW5jdGlvbihFKXtFW0UuTk9ORT0wXT1cIk5PTkVcIixFW0UuT1BBQ0lUWT0xXT1cIk9QQUNJVFlcIixFW0UuQ09MT1I9Ml09XCJDT0xPUlwiLEVbRS5ST1RBVElPTj00XT1cIlJPVEFUSU9OXCIsRVtFLlNJWkVfTUlOTUFYX1ZBTFVFPThdPVwiU0laRV9NSU5NQVhfVkFMVUVcIixFW0UuU0laRV9TQ0FMRV9TVE9QUz0xNl09XCJTSVpFX1NDQUxFX1NUT1BTXCIsRVtFLlNJWkVfRklFTERfU1RPUFM9MzJdPVwiU0laRV9GSUVMRF9TVE9QU1wiLEVbRS5TSVpFX1VOSVRfVkFMVUU9NjRdPVwiU0laRV9VTklUX1ZBTFVFXCJ9KEx8fChMPXt9KSksZnVuY3Rpb24oRSl7RVtFLk1JTk1BWF9UQVJHRVRTX09VVExJTkU9MTI4XT1cIk1JTk1BWF9UQVJHRVRTX09VVExJTkVcIixFW0UuU0NBTEVfVEFSR0VUU19PVVRMSU5FPTI1Nl09XCJTQ0FMRV9UQVJHRVRTX09VVExJTkVcIixFW0UuRklFTERfVEFSR0VUU19PVVRMSU5FPTUxMl09XCJGSUVMRF9UQVJHRVRTX09VVExJTkVcIixFW0UuVU5JVF9UQVJHRVRTX09VVExJTkU9MTAyNF09XCJVTklUX1RBUkdFVFNfT1VUTElORVwifShBfHwoQT17fSkpLGZ1bmN0aW9uKEUpe0VbRS5TUFJJVEU9MF09XCJTUFJJVEVcIixFW0UuR0xZUEg9MV09XCJHTFlQSFwifShffHwoXz17fSkpLGZ1bmN0aW9uKEUpe0VbRS5ERUZBVUxUPTBdPVwiREVGQVVMVFwiLEVbRS5TSU1QTEU9MV09XCJTSU1QTEVcIixFW0UuRE9UX0RFTlNJVFk9Ml09XCJET1RfREVOU0lUWVwiLEVbRS5PVVRMSU5FX0ZJTEw9M109XCJPVVRMSU5FX0ZJTExcIixFW0UuT1VUTElORV9GSUxMX1NJTVBMRT00XT1cIk9VVExJTkVfRklMTF9TSU1QTEVcIixFW0UuSEVBVE1BUD01XT1cIkhFQVRNQVBcIixFW0UuUElFX0NIQVJUPTZdPVwiUElFX0NIQVJUXCJ9KFN8fChTPXt9KSk7ZXhwb3J0e18gYXMgTW9zYWljVHlwZSxJIGFzIFZWVHlwZSxUIGFzIFdHTERyYXdQaGFzZSxFIGFzIFdHTEdlb21ldHJ5VHlwZSxTIGFzIFdHTFN5bWJvbG9neVR5cGUsTCBhcyBXR0xWVkZsYWcsQSBhcyBXR0xWVlRhcmdldH07XG4iLCIvKlxuQWxsIG1hdGVyaWFsIGNvcHlyaWdodCBFU1JJLCBBbGwgUmlnaHRzIFJlc2VydmVkLCB1bmxlc3Mgb3RoZXJ3aXNlIHNwZWNpZmllZC5cblNlZSBodHRwczovL2pzLmFyY2dpcy5jb20vNC4yNy9lc3JpL2NvcHlyaWdodC50eHQgZm9yIGRldGFpbHMuXG4qL1xuY29uc3Qgbj1uZXcgRmxvYXQzMkFycmF5KDEpLHI9bmV3IFVpbnQzMkFycmF5KG4uYnVmZmVyKTtmdW5jdGlvbiB0KG4scix0KXtyZXR1cm4gTWF0aC5yb3VuZChNYXRoLm1heChNYXRoLm1pbihuLHQpLHIpKX1mdW5jdGlvbiB1KG4pe3JldHVybiB0KG4sLTEyOCwxMjcpfWZ1bmN0aW9uIGUobil7cmV0dXJuIHQobiwtMzI3NjgsMzI3NjcpfWZ1bmN0aW9uIG8obil7cmV0dXJuIHQobiwtMjE0NzQ4MzY0OCwyMTQ3NDgzNjQ3KX1mdW5jdGlvbiBmKG4pe3JldHVybiB0KG4sMCwyNTUpfWZ1bmN0aW9uIGkobil7cmV0dXJuIHQobiwwLDY1NTM1KX1mdW5jdGlvbiBjKG4pe3JldHVybiB0KG4sMCw0Mjk0OTY3Mjk1KX1mdW5jdGlvbiBhKHQpe3JldHVybiBuWzBdPXQsclswXX1mdW5jdGlvbiBoKHQpe3JldHVybiByWzBdPXQsblswXX1mdW5jdGlvbiBNKG4pe3JldHVyblsyNTUmbiwoNjUyODAmbik+Pj44LCgxNjcxMTY4MCZuKT4+PjE2LCg0Mjc4MTkwMDgwJm4pPj4+MjRdfWZ1bmN0aW9uIG0obixyKXtyZXR1cm4gMTUmbnwoMTUmcik8PDR9ZnVuY3Rpb24gdyhuLHIpe3JldHVybiA2NTUzNSZufHI8PDE2fWZ1bmN0aW9uIHgobixyLHQsdSl7cmV0dXJuIDI1NSZufCgyNTUmcik8PDh8KDI1NSZ0KTw8MTZ8dTw8MjR9ZnVuY3Rpb24geShuLHIsdCl7cmV0dXJuIDI1NSZufCgyNTUmcik8PDh8dDw8MTZ9ZnVuY3Rpb24gQShuKXtyZXR1cm4gMHxufWV4cG9ydHtlIGFzIGkxNix3IGFzIGkxNjE2dG8zMixvIGFzIGkzMix1IGFzIGk4LHkgYXMgaTg4MTZ0bzMyLHggYXMgaTg4ODh0bzMyLEEgYXMgbnVtVG8zMixoIGFzIHRvRmxvYXQzMixhIGFzIHRvVWludDMyLGkgYXMgdTE2LGMgYXMgdTMyLE0gYXMgdTMydG80WHU4LG0gYXMgdTR1NHRvOCxmIGFzIHU4fTtcbiIsIi8qXG5BbGwgbWF0ZXJpYWwgY29weXJpZ2h0IEVTUkksIEFsbCBSaWdodHMgUmVzZXJ2ZWQsIHVubGVzcyBvdGhlcndpc2Ugc3BlY2lmaWVkLlxuU2VlIGh0dHBzOi8vanMuYXJjZ2lzLmNvbS80LjI3L2VzcmkvY29weXJpZ2h0LnR4dCBmb3IgZGV0YWlscy5cbiovXG5jb25zdCBuPShuLGwpPT5uJiYoKC4uLm4pPT5sLndhcm4oXCJERUJVRzpcIiwuLi5uKSl8fCgoKT0+bnVsbCksbD0hMTtleHBvcnR7bCBhcyBERUJVR19BVFRSX1VQREFURVMsbiBhcyBjcmVhdGVEZWJ1Z0xvZ2dlcn07XG4iLCIvKlxuQWxsIG1hdGVyaWFsIGNvcHlyaWdodCBFU1JJLCBBbGwgUmlnaHRzIFJlc2VydmVkLCB1bmxlc3Mgb3RoZXJ3aXNlIHNwZWNpZmllZC5cblNlZSBodHRwczovL2pzLmFyY2dpcy5jb20vNC4yNy9lc3JpL2NvcHlyaWdodC50eHQgZm9yIGRldGFpbHMuXG4qL1xuaW1wb3J0IGUgZnJvbVwiLi4vLi4vLi4vLi4vY29yZS9FcnJvci5qc1wiO2ltcG9ydCBzIGZyb21cIi4uLy4uLy4uLy4uL2NvcmUvTG9nZ2VyLmpzXCI7aW1wb3J0e1dHTFZWRmxhZyBhcyBpfWZyb21cIi4vZW51bXMuanNcIjtpbXBvcnR7aXNOdW1iZXIgYXMgcn1mcm9tXCIuL1V0aWxzLmpzXCI7ZnVuY3Rpb24gbChsKXtyZXR1cm4gcihsLm1pbkRhdGFWYWx1ZSkmJnIobC5tYXhEYXRhVmFsdWUpJiZudWxsIT1sLm1pblNpemUmJm51bGwhPWwubWF4U2l6ZT9pLlNJWkVfTUlOTUFYX1ZBTFVFOihsLmV4cHJlc3Npb24mJlwidmlldy5zY2FsZVwiPT09bC5leHByZXNzaW9ufHxsLnZhbHVlRXhwcmVzc2lvbiYmXCIkdmlldy5zY2FsZVwiPT09bC52YWx1ZUV4cHJlc3Npb24pJiZBcnJheS5pc0FycmF5KGwuc3RvcHMpP2kuU0laRV9TQ0FMRV9TVE9QUzoobnVsbCE9bC5maWVsZHx8bC5leHByZXNzaW9uJiZcInZpZXcuc2NhbGVcIiE9PWwuZXhwcmVzc2lvbnx8bC52YWx1ZUV4cHJlc3Npb24mJlwiJHZpZXcuc2NhbGVcIiE9PWwudmFsdWVFeHByZXNzaW9uKSYmKEFycmF5LmlzQXJyYXkobC5zdG9wcyl8fFwibGV2ZWxzXCJpbiBsJiZsLmxldmVscyk/aS5TSVpFX0ZJRUxEX1NUT1BTOihudWxsIT1sLmZpZWxkfHxsLmV4cHJlc3Npb24mJlwidmlldy5zY2FsZVwiIT09bC5leHByZXNzaW9ufHxsLnZhbHVlRXhwcmVzc2lvbiYmXCIkdmlldy5zY2FsZVwiIT09bC52YWx1ZUV4cHJlc3Npb24pJiZudWxsIT1sLnZhbHVlVW5pdD9pLlNJWkVfVU5JVF9WQUxVRToocy5nZXRMb2dnZXIoXCJlc3JpLnZpZXdzLjJkLmVuZ2luZS53ZWJnbFwiKS5lcnJvcihuZXcgZShcIm1hcHZpZXctYmFkLXR5cGVcIixcIkZvdW5kIGludmFsaWQgc2l6ZSBWaXN1YWxWYXJpYWJsZVwiLGwpKSxpLk5PTkUpfWV4cG9ydHtsIGFzIGdldFR5cGVPZlNpemVWaXN1YWxWYXJpYWJsZX07XG4iLCIvKlxuQWxsIG1hdGVyaWFsIGNvcHlyaWdodCBFU1JJLCBBbGwgUmlnaHRzIFJlc2VydmVkLCB1bmxlc3Mgb3RoZXJ3aXNlIHNwZWNpZmllZC5cblNlZSBodHRwczovL2pzLmFyY2dpcy5jb20vNC4yNy9lc3JpL2NvcHlyaWdodC50eHQgZm9yIGRldGFpbHMuXG4qL1xuaW1wb3J0IHQgZnJvbVwiLi4vLi4vLi4vLi4vY29yZS9DaXJjdWxhckFycmF5LmpzXCI7aW1wb3J0IGUgZnJvbVwiLi4vLi4vLi4vLi4vY29yZS9FdmVudGVkLmpzXCI7aW1wb3J0XCIuLi8uLi8uLi8uLi9jb3JlL2hhcy5qc1wiO2ltcG9ydHtyIGFzIHN9ZnJvbVwiLi4vLi4vLi4vLi4vY2h1bmtzL3JidXNoLmpzXCI7aW1wb3J0e2NyZWF0ZSBhcyBhLGZyb21SZWN0VmFsdWVzIGFzIHJ9ZnJvbVwiLi4vLi4vLi4vLi4vZ2VvbWV0cnkvc3VwcG9ydC9hYUJvdW5kaW5nQm94LmpzXCI7aW1wb3J0e1N0b3JlMkQgYXMgbn1mcm9tXCIuL1N0b3JlMkQuanNcIjtpbXBvcnR7RmVhdHVyZVNldFJlYWRlckluZGlyZWN0IGFzIGl9ZnJvbVwiLi9zdXBwb3J0L0ZlYXR1cmVTZXRSZWFkZXJQQkZJbmRpcmVjdC5qc1wiO2NvbnN0IG89YSgpO2Z1bmN0aW9uIGQodCxlKXtyZXR1cm4gdDw8MTZ8ZX1mdW5jdGlvbiBoKHQpe3JldHVybig0Mjk0OTAxNzYwJnQpPj4+MTZ9ZnVuY3Rpb24gYyh0KXtyZXR1cm4gNjU1MzUmdH1jb25zdCBJPXtnZXRPYmplY3RJZDp0PT50LmdldE9iamVjdElkKCksZ2V0QXR0cmlidXRlczp0PT50LnJlYWRBdHRyaWJ1dGVzKCksZ2V0QXR0cmlidXRlOih0LGUpPT50LnJlYWRBdHRyaWJ1dGUoZSksY2xvbmVXaXRoR2VvbWV0cnk6KHQsZSk9PnQsZ2V0R2VvbWV0cnk6dD0+dC5yZWFkSHlkcmF0ZWRHZW9tZXRyeSgpLGdldENlbnRyb2lkOih0LGUpPT50LnJlYWRDZW50cm9pZCgpfTtjbGFzcyB1IGV4dGVuZHMgbntjb25zdHJ1Y3RvcihhLHIsbil7c3VwZXIoYSxyKSx0aGlzLmZlYXR1cmVBZGFwdGVyPUksdGhpcy5ldmVudHM9bmV3IGUsdGhpcy5fZmVhdHVyZVNldHNCeUluc3RhbmNlPW5ldyBNYXAsdGhpcy5fb2JqZWN0SWRUb0Rpc3BsYXlJZD1uZXcgTWFwLHRoaXMuX3NwYXRpYWxJbmRleEludmFsaWQ9ITAsdGhpcy5faW5kZXhTZWFyY2hDYWNoZT1uZXcgdCg1MCksdGhpcy5faW5kZXg9cyg5LCh0PT4oe21pblg6dGhpcy5fc3RvcmFnZS5nZXRYTWluKHQpLG1pblk6dGhpcy5fc3RvcmFnZS5nZXRZTWluKHQpLG1heFg6dGhpcy5fc3RvcmFnZS5nZXRYTWF4KHQpLG1heFk6dGhpcy5fc3RvcmFnZS5nZXRZTWF4KHQpfSkpKSx0aGlzLm1vZGU9bn1nZXQgc3RvcmVTdGF0aXN0aWNzKCl7bGV0IHQ9MCxlPTAscz0wO3JldHVybiB0aGlzLmZvckVhY2goKGE9Pntjb25zdCByPWEucmVhZEdlb21ldHJ5KCk7ciYmKGUrPXIuaXNQb2ludD8xOnIubGVuZ3Rocy5yZWR1Y2UoKCh0LGUpPT50K2UpLDApLHMrPXIuaXNQb2ludD8xOnIubGVuZ3Rocy5sZW5ndGgsdCs9MSl9KSkse2ZlYXR1cmVDb3VudDp0LHZlcnRleENvdW50OmUscmluZ0NvdW50OnN9fWhhc0luc3RhbmNlKHQpe3JldHVybiB0aGlzLl9mZWF0dXJlU2V0c0J5SW5zdGFuY2UuaGFzKHQpfW9uVGlsZURhdGEodCxlKXtpZihudWxsPT1lLmFkZE9yVXBkYXRlKXJldHVybiBlO2lmKGUuYWRkT3JVcGRhdGUuYXR0YWNoU3RvcmFnZSh0aGlzLl9zdG9yYWdlKSxcInNuYXBzaG90XCI9PT10aGlzLm1vZGUpe2NvbnN0IHM9ZS5hZGRPclVwZGF0ZS5nZXRDdXJzb3IoKTtmb3IoO3MubmV4dCgpOyl7Y29uc3QgZT1zLmdldERpc3BsYXlJZCgpO3RoaXMuc2V0Q29tcHV0ZWRBdHRyaWJ1dGVzKHRoaXMuX3N0b3JhZ2UscyxlLHQuc2NhbGUpfXJldHVybiBlfXRoaXMuX2ZlYXR1cmVTZXRzQnlJbnN0YW5jZS5zZXQoZS5hZGRPclVwZGF0ZS5pbnN0YW5jZSxlLmFkZE9yVXBkYXRlKTtjb25zdCBzPWUuYWRkT3JVcGRhdGUuZ2V0Q3Vyc29yKCk7Zm9yKDtzLm5leHQoKTspdGhpcy5faW5zZXJ0RmVhdHVyZShzLHQuc2NhbGUpO3JldHVybiB0aGlzLl9zcGF0aWFsSW5kZXhJbnZhbGlkPSEwLHRoaXMuZXZlbnRzLmVtaXQoXCJjaGFuZ2VkXCIpLGV9c2VhcmNoKHQpe3RoaXMuX3JlYnVpbGRJbmRleCgpO2NvbnN0IGU9dC5pZCxzPXRoaXMuX2luZGV4U2VhcmNoQ2FjaGUuZmluZCgodD0+dC50aWxlSWQ9PT1lKSk7aWYobnVsbCE9cylyZXR1cm4gcy5yZWFkZXJzO2NvbnN0IGE9bmV3IE1hcCxyPXRoaXMuX3NlYXJjaEluZGV4KHQuYm91bmRzKSxuPVtdO2Zvcihjb25zdCBpIG9mIHIpe2NvbnN0IHQ9dGhpcy5fc3RvcmFnZS5nZXRJbnN0YW5jZUlkKGkpLGU9aCh0KSxzPWModCk7YS5oYXMoZSl8fGEuc2V0KGUsW10pO2EuZ2V0KGUpLnB1c2gocyl9cmV0dXJuIGEuZm9yRWFjaCgoKHQsZSk9Pntjb25zdCBzPXRoaXMuX2ZlYXR1cmVTZXRzQnlJbnN0YW5jZS5nZXQoZSk7bi5wdXNoKGkuZnJvbShzLHQpKX0pKSx0aGlzLl9pbmRleFNlYXJjaENhY2hlLmVucXVldWUoe3RpbGVJZDplLHJlYWRlcnM6bn0pLG59aW5zZXJ0KHQpe2NvbnN0IGU9dC5nZXRDdXJzb3IoKSxzPXRoaXMuX3N0b3JhZ2U7Zm9yKDtlLm5leHQoKTspe2NvbnN0IHQ9ZChlLmluc3RhbmNlLGUuZ2V0SW5kZXgoKSksYT1lLmdldE9iamVjdElkKCkscj10aGlzLl9vYmplY3RJZFRvRGlzcGxheUlkLmdldChhKT8/dGhpcy5fc3RvcmFnZS5jcmVhdGVEaXNwbGF5SWQoKTtlLnNldERpc3BsYXlJZChyKSxzLnNldEluc3RhbmNlSWQocix0KSx0aGlzLl9vYmplY3RJZFRvRGlzcGxheUlkLnNldChhLHIpfXRoaXMuX2ZlYXR1cmVTZXRzQnlJbnN0YW5jZS5zZXQodC5pbnN0YW5jZSx0KSx0aGlzLl9zcGF0aWFsSW5kZXhJbnZhbGlkPSEwfXJlbW92ZSh0KXtjb25zdCBlPXRoaXMuX29iamVjdElkVG9EaXNwbGF5SWQuZ2V0KHQpO2lmKCFlKXJldHVybjtjb25zdCBzPXRoaXMuX3N0b3JhZ2UuZ2V0SW5zdGFuY2VJZChlKSxhPWMocykscj1oKHMpLG49dGhpcy5fZmVhdHVyZVNldHNCeUluc3RhbmNlLmdldChyKTt0aGlzLl9vYmplY3RJZFRvRGlzcGxheUlkLmRlbGV0ZSh0KSx0aGlzLl9zdG9yYWdlLnJlbGVhc2VEaXNwbGF5SWQoZSksbi5yZW1vdmVBdEluZGV4KGEpLG4uaXNFbXB0eSYmdGhpcy5fZmVhdHVyZVNldHNCeUluc3RhbmNlLmRlbGV0ZShyKSx0aGlzLl9zcGF0aWFsSW5kZXhJbnZhbGlkPSEwfWZvckVhY2godCl7dGhpcy5fb2JqZWN0SWRUb0Rpc3BsYXlJZC5mb3JFYWNoKChlPT57Y29uc3Qgcz10aGlzLl9zdG9yYWdlLmdldEluc3RhbmNlSWQoZSksYT10aGlzLl9sb29rdXBGZWF0dXJlKHMpO3QoYSl9KSl9Zm9yRWFjaFVuc2FmZSh0KXt0aGlzLl9vYmplY3RJZFRvRGlzcGxheUlkLmZvckVhY2goKGU9Pntjb25zdCBzPXRoaXMuX3N0b3JhZ2UuZ2V0SW5zdGFuY2VJZChlKSxhPWgocykscj1jKHMpLG49dGhpcy5fZ2V0RmVhdHVyZVNldChhKTtuLnNldEluZGV4KHIpLHQobil9KSl9Zm9yRWFjaEluQm91bmRzKHQsZSl7Y29uc3Qgcz10aGlzLl9zZWFyY2hJbmRleCh0KTtmb3IoY29uc3QgYSBvZiBzKXtlKHRoaXMubG9va3VwRmVhdHVyZUJ5RGlzcGxheUlkKGEsdGhpcy5fc3RvcmFnZSkpfX1mb3JFYWNoQm91bmRzKHQsZSl7dGhpcy5fcmVidWlsZEluZGV4KCk7Zm9yKGNvbnN0IHMgb2YgdCl7aWYoIXMucmVhZEdlb21ldHJ5KCkpY29udGludWU7Y29uc3QgdD1zLmdldERpc3BsYXlJZCgpO3Iobyx0aGlzLl9zdG9yYWdlLmdldFhNaW4odCksdGhpcy5fc3RvcmFnZS5nZXRZTWluKHQpLHRoaXMuX3N0b3JhZ2UuZ2V0WE1heCh0KSx0aGlzLl9zdG9yYWdlLmdldFlNYXgodCkpLGUobyl9fXN3ZWVwRmVhdHVyZXModCxlLHMpe3RoaXMuX3NwYXRpYWxJbmRleEludmFsaWQ9ITAsdGhpcy5fb2JqZWN0SWRUb0Rpc3BsYXlJZC5mb3JFYWNoKCgoYSxyKT0+e3QuaGFzKGEpfHwoZS5yZWxlYXNlRGlzcGxheUlkKGEpLHMmJnMudW5zZXRBdHRyaWJ1dGVEYXRhKGEpLHRoaXMuX29iamVjdElkVG9EaXNwbGF5SWQuZGVsZXRlKHIpKX0pKSx0aGlzLmV2ZW50cy5lbWl0KFwiY2hhbmdlZFwiKX1zd2VlcEZlYXR1cmVTZXRzKHQpe3RoaXMuX3NwYXRpYWxJbmRleEludmFsaWQ9ITAsdGhpcy5fZmVhdHVyZVNldHNCeUluc3RhbmNlLmZvckVhY2goKChlLHMpPT57dC5oYXMocyl8fHRoaXMuX2ZlYXR1cmVTZXRzQnlJbnN0YW5jZS5kZWxldGUocyl9KSl9bG9va3VwT2JqZWN0SWQodCxlKXtjb25zdCBzPXRoaXMubG9va3VwRmVhdHVyZUJ5RGlzcGxheUlkKHQsZSk7cmV0dXJuIG51bGw9PXM/bnVsbDpzLmdldE9iamVjdElkKCl9bG9va3VwRGlzcGxheUlkKHQpe3JldHVybiB0aGlzLl9vYmplY3RJZFRvRGlzcGxheUlkLmdldCh0KX1sb29rdXBGZWF0dXJlQnlEaXNwbGF5SWQodCxlKXtjb25zdCBzPWUuZ2V0SW5zdGFuY2VJZCh0KTtyZXR1cm4gdGhpcy5fbG9va3VwRmVhdHVyZShzKX1sb29rdXBCeURpc3BsYXlJZFVuc2FmZSh0KXtjb25zdCBlPXRoaXMuX3N0b3JhZ2UuZ2V0SW5zdGFuY2VJZCh0KSxzPWgoZSksYT1jKGUpLHI9dGhpcy5fZ2V0RmVhdHVyZVNldChzKTtyZXR1cm4gcj8oci5zZXRJbmRleChhKSxyKTpudWxsfV9pbnNlcnRGZWF0dXJlKHQsZSl7Y29uc3Qgcz10aGlzLl9zdG9yYWdlLGE9dC5nZXRPYmplY3RJZCgpLHI9ZCh0Lmluc3RhbmNlLHQuZ2V0SW5kZXgoKSk7cy5nZXRJbnN0YW5jZUlkKHQuZ2V0RGlzcGxheUlkKCkpO2xldCBuPXRoaXMuX29iamVjdElkVG9EaXNwbGF5SWQuZ2V0KGEpO258fChuPXMuY3JlYXRlRGlzcGxheUlkKCksdGhpcy5fb2JqZWN0SWRUb0Rpc3BsYXlJZC5zZXQoYSxuKSx0aGlzLl9zcGF0aWFsSW5kZXhJbnZhbGlkPSEwKSx0LnNldERpc3BsYXlJZChuKSxzLnNldEluc3RhbmNlSWQobixyKSx0aGlzLnNldENvbXB1dGVkQXR0cmlidXRlcyhzLHQsbixlKX1fc2VhcmNoSW5kZXgodCl7dGhpcy5fcmVidWlsZEluZGV4KCk7Y29uc3QgZT17bWluWDp0WzBdLG1pblk6dFsxXSxtYXhYOnRbMl0sbWF4WTp0WzNdfTtyZXR1cm4gdGhpcy5faW5kZXguc2VhcmNoKGUpfV9yZWJ1aWxkSW5kZXgoKXtpZighdGhpcy5fc3BhdGlhbEluZGV4SW52YWxpZClyZXR1cm47Y29uc3QgdD1bXTtcInNuYXBzaG90XCI9PT10aGlzLm1vZGU/dGhpcy5fZmVhdHVyZVNldHNCeUluc3RhbmNlLmZvckVhY2goKGU9Pntjb25zdCBzPWUuZ2V0Q3Vyc29yKCk7Zm9yKDtzLm5leHQoKTspe2NvbnN0IGU9cy5nZXREaXNwbGF5SWQoKTt0aGlzLl9zdG9yYWdlLnNldEJvdW5kcyhlLHMpJiZ0LnB1c2goZSl9fSkpOnRoaXMuX29iamVjdElkVG9EaXNwbGF5SWQuZm9yRWFjaCgoZT0+e2NvbnN0IHM9dGhpcy5fc3RvcmFnZS5nZXRJbnN0YW5jZUlkKGUpO3RoaXMuX3N0b3JhZ2Uuc2V0Qm91bmRzKGUsdGhpcy5fbG9va3VwRmVhdHVyZShzKSkmJnQucHVzaChlKX0pKSx0aGlzLl9pbmRleC5jbGVhcigpLHRoaXMuX2luZGV4LmxvYWQodCksdGhpcy5faW5kZXhTZWFyY2hDYWNoZS5jbGVhcigpLHRoaXMuX3NwYXRpYWxJbmRleEludmFsaWQ9ITF9X2xvb2t1cEZlYXR1cmUodCl7Y29uc3QgZT1oKHQpLHM9dGhpcy5fZ2V0RmVhdHVyZVNldChlKTtpZighcylyZXR1cm47Y29uc3QgYT1zLmdldEN1cnNvcigpLHI9Yyh0KTtyZXR1cm4gYS5zZXRJbmRleChyKSxhfV9nZXRGZWF0dXJlU2V0KHQpe3JldHVybiB0aGlzLl9mZWF0dXJlU2V0c0J5SW5zdGFuY2UuZ2V0KHQpfX1leHBvcnR7dSBhcyBGZWF0dXJlU3RvcmUyRCxJIGFzIGZlYXR1cmVBZGFwdGVyfTtcbiIsIi8qXG5BbGwgbWF0ZXJpYWwgY29weXJpZ2h0IEVTUkksIEFsbCBSaWdodHMgUmVzZXJ2ZWQsIHVubGVzcyBvdGhlcndpc2Ugc3BlY2lmaWVkLlxuU2VlIGh0dHBzOi8vanMuYXJjZ2lzLmNvbS80LjI3L2VzcmkvY29weXJpZ2h0LnR4dCBmb3IgZGV0YWlscy5cbiovXG5pbXBvcnR7XyBhcyBlfWZyb21cIi4uLy4uLy4uLy4uL2NodW5rcy90c2xpYi5lczYuanNcIjtpbXBvcnR7SGFuZGxlT3duZXIgYXMgdH1mcm9tXCIuLi8uLi8uLi8uLi9jb3JlL0hhbmRsZU93bmVyLmpzXCI7aW1wb3J0XCIuLi8uLi8uLi8uLi9jb3JlL2hhcy5qc1wiO2ltcG9ydHt3YXRjaCBhcyByfWZyb21cIi4uLy4uLy4uLy4uL2NvcmUvcmVhY3RpdmVVdGlscy5qc1wiO2ltcG9ydHtwcm9wZXJ0eSBhcyBzfWZyb21cIi4uLy4uLy4uLy4uL2NvcmUvYWNjZXNzb3JTdXBwb3J0L2RlY29yYXRvcnMvcHJvcGVydHkuanNcIjtpbXBvcnRcIi4uLy4uLy4uLy4uL2NvcmUvYWNjZXNzb3JTdXBwb3J0L2Vuc3VyZVR5cGUuanNcIjtpbXBvcnRcIi4uLy4uLy4uLy4uL2NvcmUvYXJyYXlVdGlscy5qc1wiO2ltcG9ydHtzdWJjbGFzcyBhcyBvfWZyb21cIi4uLy4uLy4uLy4uL2NvcmUvYWNjZXNzb3JTdXBwb3J0L2RlY29yYXRvcnMvc3ViY2xhc3MuanNcIjtpbXBvcnR7ZXF1YWxzIGFzIGl9ZnJvbVwiLi4vLi4vLi4vLi4vZ2VvbWV0cnkvc3VwcG9ydC9zcGF0aWFsUmVmZXJlbmNlVXRpbHMuanNcIjtpbXBvcnQgbCBmcm9tXCIuLi8uLi8uLi8uLi9sYXllcnMvc3VwcG9ydC9UaWxlSW5mby5qc1wiO2ltcG9ydHtsb2FkUHJvY2Vzc29yTW9kdWxlIGFzIG59ZnJvbVwiLi9wcm9jZXNzb3JzLmpzXCI7aW1wb3J0IGEgZnJvbVwiLi9jb250cm9sbGVycy9GZWF0dXJlQ29udHJvbGxlcjJELmpzXCI7aW1wb3J0IGMgZnJvbVwiLi9zdXBwb3J0L1RpbGVTdG9yZS5qc1wiO2ltcG9ydHtVcGRhdGVUb2tlbiBhcyBwfWZyb21cIi4vc3VwcG9ydC9VcGRhdGVUb2tlbi5qc1wiO2ltcG9ydCBoIGZyb21cIi4uLy4uL3RpbGluZy9UaWxlSW5mb1ZpZXcuanNcIjtsZXQgZD1jbGFzcyBleHRlbmRzIHR7Y29uc3RydWN0b3IoKXtzdXBlciguLi5hcmd1bWVudHMpLHRoaXMuY29udHJvbGxlcj1udWxsLHRoaXMucHJvY2Vzc29yPW51bGwsdGhpcy5yZW1vdGVDbGllbnQ9bnVsbCx0aGlzLnRpbGVTdG9yZT1udWxsLHRoaXMuc2VydmljZT1udWxsLHRoaXMudmlld1N0YXRlPW51bGwsdGhpcy5fcGF1c2VkPSExLHRoaXMuX3BlbmRpbmdUaWxlVXBkYXRlcz1bXX1pbml0aWFsaXplKCl7dGhpcy5oYW5kbGVzLmFkZChyKCgoKT0+dGhpcy51cGRhdGluZyksKGU9Pnt0aGlzLnJlbW90ZUNsaWVudC5pbnZva2UoXCJzZXRVcGRhdGluZ1wiLGUpLmNhdGNoKChlPT57fSkpfSkpKX1kZXN0cm95KCl7dGhpcy5zdG9wKCksdGhpcy5jb250cm9sbGVyPy5kZXN0cm95KCksdGhpcy5wcm9jZXNzb3I/LmRlc3Ryb3koKSx0aGlzLmNvbnRyb2xsZXI9dGhpcy5wcm9jZXNzb3I9dGhpcy50aWxlU3RvcmU9dGhpcy5yZW1vdGVDbGllbnQ9bnVsbH1nZXQgdXBkYXRpbmcoKXtyZXR1cm4hdGhpcy5jb250cm9sbGVyfHx0aGlzLmNvbnRyb2xsZXIudXBkYXRpbmd9c3RvcCgpe3RoaXMuX3BhdXNlZD0hMCxBcnJheS5pc0FycmF5KHRoaXMuc2VydmljZT8uc291cmNlKSYmKHRoaXMuc2VydmljZS5zb3VyY2UuZm9yRWFjaCgoZT0+ZS5jbG9zZSgpKSksdGhpcy5zZXJ2aWNlLnNvdXJjZS5sZW5ndGg9MCksdGhpcy50aWxlU3RvcmU/LnVwZGF0ZVRpbGVzKHthZGRlZDpbXSxyZW1vdmVkOnRoaXMudGlsZVN0b3JlLnRpbGVzLm1hcCgoZT0+ZS5pZCkpfSksdGhpcy50aWxlU3RvcmU/LmRlc3Ryb3koKSx0aGlzLnRpbGVTdG9yZT1udWxsLHRoaXMuX3BlbmRpbmdUaWxlVXBkYXRlcy5sZW5ndGg9MH1hc3luYyBzdGFydHVwKHtzZXJ2aWNlOmUsY29uZmlnOnQsdGlsZUluZm86cix0aWxlczpzfSl7aWYodGhpcy5fcGF1c2VkPSEwLEFycmF5LmlzQXJyYXkodGhpcy5zZXJ2aWNlPy5zb3VyY2UpJiYodGhpcy5zZXJ2aWNlLnNvdXJjZS5mb3JFYWNoKChlPT5lLmNsb3NlKCkpKSx0aGlzLnNlcnZpY2Uuc291cmNlLmxlbmd0aD0wKSx0aGlzLnNlcnZpY2U9ZSwhdGhpcy50aWxlU3RvcmV8fCFpKHRoaXMudGlsZVN0b3JlLnRpbGVTY2hlbWUuc3BhdGlhbFJlZmVyZW5jZSxyLnNwYXRpYWxSZWZlcmVuY2UpKXtjb25zdCBlPW5ldyBoKGwuZnJvbUpTT04ocikpO3MuYWRkZWQubGVuZ3RoPXMucmVtb3ZlZC5sZW5ndGg9MCx0aGlzLnRpbGVTdG9yZT8udXBkYXRlVGlsZXMoe2FkZGVkOltdLHJlbW92ZWQ6dGhpcy50aWxlU3RvcmUudGlsZXMubWFwKChlPT5lLmlkKSl9KSx0aGlzLnRpbGVTdG9yZT8uZGVzdHJveSgpLHRoaXMudGlsZVN0b3JlPW5ldyBjKGUpLHRoaXMuX3BlbmRpbmdUaWxlVXBkYXRlcy5sZW5ndGg9MH1mb3IoYXdhaXQgdGhpcy5fY3JlYXRlUHJvY2Vzc29yQW5kQ29udHJvbGxlcih0KSxhd2FpdCB0aGlzLnVwZGF0ZSh7Y29uZmlnOnR9KSx0aGlzLmNvbnRyb2xsZXIucmVzdW1lKCksdGhpcy50aWxlU3RvcmUuY2xlYXIoKSx0aGlzLnRpbGVTdG9yZS51cGRhdGVUaWxlcyhzKSx0aGlzLl9wYXVzZWQ9ITE7dGhpcy5fcGVuZGluZ1RpbGVVcGRhdGVzLmxlbmd0aDspdGhpcy50aWxlU3RvcmUudXBkYXRlVGlsZXModGhpcy5fcGVuZGluZ1RpbGVVcGRhdGVzLnBvcCgpKX1hc3luYyB1cGRhdGVUaWxlcyhlKXt0aGlzLl9wYXVzZWQ/dGhpcy5fcGVuZGluZ1RpbGVVcGRhdGVzLnB1c2goZSk6dGhpcy50aWxlU3RvcmU/LnVwZGF0ZVRpbGVzKGUpfWFzeW5jIHVwZGF0ZSh7Y29uZmlnOmV9KXtjb25zdCB0PXAuZW1wdHkoKTtyZXR1cm4gYXdhaXQgUHJvbWlzZS5hbGwoW3RoaXMucHJvY2Vzc29yLnVwZGF0ZSh0LGUpLHRoaXMuY29udHJvbGxlci51cGRhdGUodCxlKV0pLHQudG9KU09OKCl9YXN5bmMgYXBwbHlVcGRhdGUoZSl7cmV0dXJuIHRoaXMuY29udHJvbGxlci5hcHBseVVwZGF0ZShwLmNyZWF0ZShlKSl9YXN5bmMgX2NyZWF0ZVByb2Nlc3NvckFuZENvbnRyb2xsZXIoZSl7YXdhaXQgUHJvbWlzZS5hbGwoW3RoaXMuX2hhbmRsZUNvbnRyb2xsZXJDb25maWcoZSksdGhpcy5faGFuZGxlUHJvY2Vzc29yQ29uZmlnKGUpXSksdGhpcy5jb250cm9sbGVyLnByb2Nlc3Nvcj10aGlzLnByb2Nlc3Nvcn1hc3luYyBfaGFuZGxlQ29udHJvbGxlckNvbmZpZyhlKXtyZXR1cm4gdGhpcy5fY3JlYXRlQ29udHJvbGxlcih0aGlzLnNlcnZpY2UsZSl9YXN5bmMgX2hhbmRsZVByb2Nlc3NvckNvbmZpZyhlKXtyZXR1cm4gdGhpcy5fY3JlYXRlUHJvY2Vzc29yKHRoaXMuc2VydmljZSxlKX1hc3luYyBfY3JlYXRlQ29udHJvbGxlcihlLHQpe3RoaXMuY29udHJvbGxlciYmdGhpcy5jb250cm9sbGVyLmRlc3Ryb3koKTtjb25zdHt0aWxlU3RvcmU6cixyZW1vdGVDbGllbnQ6c309dGhpcyxvPW5ldyBhKHtzZXJ2aWNlOmUsdGlsZVN0b3JlOnIscmVtb3RlQ2xpZW50OnN9KTtyZXR1cm4gdGhpcy5jb250cm9sbGVyPW8sb31hc3luYyBfY3JlYXRlUHJvY2Vzc29yKGUsdCl7Y29uc3Qgcj10LnNjaGVtYS5wcm9jZXNzb3JzWzBdLnR5cGUscz0oYXdhaXQgbihyKSkuZGVmYXVsdCx7cmVtb3RlQ2xpZW50Om8sdGlsZVN0b3JlOml9PXRoaXMsbD1uZXcgcyh7c2VydmljZTplLGNvbmZpZzp0LHRpbGVTdG9yZTppLHJlbW90ZUNsaWVudDpvfSk7cmV0dXJuIHRoaXMucHJvY2Vzc29yJiZ0aGlzLnByb2Nlc3Nvci5kZXN0cm95KCksdGhpcy5wcm9jZXNzb3I9bCxsfX07ZShbcygpXSxkLnByb3RvdHlwZSxcImNvbnRyb2xsZXJcIix2b2lkIDApLGUoW3MoKV0sZC5wcm90b3R5cGUsXCJwcm9jZXNzb3JcIix2b2lkIDApLGUoW3MoKV0sZC5wcm90b3R5cGUsXCJ1cGRhdGluZ1wiLG51bGwpLGUoW3MoKV0sZC5wcm90b3R5cGUsXCJ2aWV3U3RhdGVcIix2b2lkIDApLGQ9ZShbbyhcImVzcmkudmlld3MuMmQubGF5ZXJzLmZlYXR1cmVzLlBpcGVsaW5lXCIpXSxkKTtjb25zdCB1PWQ7ZXhwb3J0e3UgYXMgZGVmYXVsdH07XG4iLCIvKlxuQWxsIG1hdGVyaWFsIGNvcHlyaWdodCBFU1JJLCBBbGwgUmlnaHRzIFJlc2VydmVkLCB1bmxlc3Mgb3RoZXJ3aXNlIHNwZWNpZmllZC5cblNlZSBodHRwczovL2pzLmFyY2dpcy5jb20vNC4yNy9lc3JpL2NvcHlyaWdodC50eHQgZm9yIGRldGFpbHMuXG4qL1xuaW1wb3J0IGhhcyBmcm9tXCIuLi8uLi8uLi8uLi9jb3JlL2hhcy5qc1wiO2ltcG9ydHtkaWZmIGFzIGUsaGFzRGlmZiBhcyBzfWZyb21cIi4uLy4uLy4uLy4uL2NvcmUvYWNjZXNzb3JTdXBwb3J0L2RpZmZVdGlscy5qc1wiO2ltcG9ydHtjcmVhdGVSZW5kZXJlckV4cHJlc3Npb24gYXMgdH1mcm9tXCIuLi8uLi8uLi8uLi9zdXBwb3J0L2FyY2FkZU9uRGVtYW5kLmpzXCI7aW1wb3J0IGkgZnJvbVwiLi4vLi4vYXJjYWRlL2NhbGxFeHByZXNzaW9uV2l0aEN1cnNvci5qc1wiO2NsYXNzIGF7Y29uc3RydWN0b3IoZSxzKXt0aGlzLl9jYW5DYWNoZUV4cHJlc3Npb25WYWx1ZT0hMSx0aGlzLl9zb3VyY2VJbmZvPWUsdGhpcy5fc3RvcmFnZT1zLHRoaXMuX2JpdHNldHM9e2NvbXB1dGVkOnMuZ2V0Qml0c2V0KHMuY3JlYXRlQml0c2V0KCkpfX1nZXQgc3RvcmFnZSgpe3JldHVybiB0aGlzLl9zdG9yYWdlfWludmFsaWRhdGUoKXt0aGlzLl9iaXRzZXRzLmNvbXB1dGVkLmNsZWFyKCl9YXN5bmMgdXBkYXRlU2NoZW1hKHQsaSl7Y29uc3QgYT1lKHRoaXMuX3NjaGVtYSxpKTtpZih0aGlzLl9zY2hlbWE9aSwhaXx8bnVsbD09YXx8IXMoYSxcImF0dHJpYnV0ZXNcIikpcmV0dXJuO2hhcyhcImVzcmktMmQtdXBkYXRlLWRlYnVnXCIpJiZjb25zb2xlLmRlYnVnKFwiQXBwbHlpbmcgVXBkYXRlIC0gU3RvcmU6XCIsYSksdGhpcy5fYml0c2V0cy5jb21wdXRlZC5jbGVhcigpLHQudGFyZ2V0c1tpLm5hbWVdPSEwO2NvbnN0IHI9aS5hdHRyaWJ1dGVzLG89W10sYz1bXTtmb3IoY29uc3QgZSBpbiByKXtjb25zdCBzPXJbZV07c3dpdGNoKHMudHlwZSl7Y2FzZVwiZmllbGRcIjpicmVhaztjYXNlXCJleHByZXNzaW9uXCI6by5wdXNoKHRoaXMuX2NyZWF0ZUFyY2FkZUNvbXB1dGVkRmllbGQocykpO2JyZWFrO2Nhc2VcImxhYmVsLWV4cHJlc3Npb25cIjpvLnB1c2godGhpcy5fY3JlYXRlTGFiZWxBcmNhZGVDb21wdXRlZEZpZWxkKHMpKTticmVhaztjYXNlXCJzdGF0aXN0aWNcIjpjLnB1c2gocyl9fXRoaXMuX2NvbXB1dGVkRmllbGRzPWF3YWl0IFByb21pc2UuYWxsKG8pLHRoaXMuX2NhbkNhY2hlRXhwcmVzc2lvblZhbHVlPSF0aGlzLl9jb21wdXRlZEZpZWxkcy5zb21lKChlPT5cImV4cHJlc3Npb25cIj09PWUudHlwZSYmbnVsbCE9ZS5leHByZXNzaW9uJiZlLmV4cHJlc3Npb24ucmVmZXJlbmNlc1NjYWxlKCkpKSx0aGlzLl9zdGF0aXN0aWNGaWVsZHM9Y31zZXRDb21wdXRlZEF0dHJpYnV0ZXMoZSxzLHQsaSl7Y29uc3QgYT10aGlzLl9iaXRzZXRzLmNvbXB1dGVkO2lmKCF0aGlzLl9jYW5DYWNoZUV4cHJlc3Npb25WYWx1ZXx8IWEuaGFzKHQpKXthLnNldCh0KTtmb3IoY29uc3QgYSBvZiB0aGlzLl9jb21wdXRlZEZpZWxkcyl7Y29uc3Qgcj10aGlzLl9ldmFsdWF0ZUZpZWxkKHMsYSxpKTtzd2l0Y2goYS5yZXN1bHRUeXBlKXtjYXNlXCJudW1lcmljXCI6ZS5zZXRDb21wdXRlZE51bWVyaWNBdEluZGV4KHQsYS5maWVsZEluZGV4LHIpO2JyZWFrO2Nhc2VcInN0cmluZ1wiOmUuc2V0Q29tcHV0ZWRTdHJpbmdBdEluZGV4KHQsYS5maWVsZEluZGV4LHIpfX19fWFzeW5jIF9jcmVhdGVBcmNhZGVDb21wdXRlZEZpZWxkKGUpe2NvbnN0IHM9dGhpcy5fc291cmNlSW5mby5zcGF0aWFsUmVmZXJlbmNlLGk9dGhpcy5fc291cmNlSW5mby5maWVsZHNJbmRleDtyZXR1cm57Li4uZSxleHByZXNzaW9uOmF3YWl0IHQoZS52YWx1ZUV4cHJlc3Npb24scyxpKX19YXN5bmMgX2NyZWF0ZUxhYmVsQXJjYWRlQ29tcHV0ZWRGaWVsZChlKXtjb25zdCBzPXRoaXMuX3NvdXJjZUluZm8uc3BhdGlhbFJlZmVyZW5jZSx0PXRoaXMuX3NvdXJjZUluZm8uZmllbGRzSW5kZXgse2NyZWF0ZUxhYmVsRnVuY3Rpb246aX09YXdhaXQgaW1wb3J0KFwiLi4vLi4vLi4vLi4vbGF5ZXJzL3N1cHBvcnQvbGFiZWxGb3JtYXRVdGlscy5qc1wiKSxhPWF3YWl0IGkoZS5sYWJlbCx0LHMpO3JldHVybnsuLi5lLGJ1aWxkZXI6YX19X2V2YWx1YXRlRmllbGQoZSxzLHQpe3N3aXRjaChzLnR5cGUpe2Nhc2VcImxhYmVsLWV4cHJlc3Npb25cIjp7Y29uc3QgdD1lLnJlYWRBcmNhZGVGZWF0dXJlKCk7cmV0dXJuIHMuYnVpbGRlci5ldmFsdWF0ZSh0KXx8XCJcIn1jYXNlXCJleHByZXNzaW9uXCI6e2NvbnN0e2V4cHJlc3Npb246YX09cztyZXR1cm4gaShhLGUseyR2aWV3OntzY2FsZTp0fX0pfX19fWV4cG9ydHthIGFzIFN0b3JlMkR9O1xuIiwiLypcbkFsbCBtYXRlcmlhbCBjb3B5cmlnaHQgRVNSSSwgQWxsIFJpZ2h0cyBSZXNlcnZlZCwgdW5sZXNzIG90aGVyd2lzZSBzcGVjaWZpZWQuXG5TZWUgaHR0cHM6Ly9qcy5hcmNnaXMuY29tLzQuMjcvZXNyaS9jb3B5cmlnaHQudHh0IGZvciBkZXRhaWxzLlxuKi9cbmltcG9ydHtfIGFzIGV9ZnJvbVwiLi4vLi4vLi4vLi4vLi4vY2h1bmtzL3RzbGliLmVzNi5qc1wiO2ltcG9ydHtpc1NvbWUgYXMgdH1mcm9tXCIuLi8uLi8uLi8uLi8uLi9jb3JlL2FycmF5VXRpbHMuanNcIjtpbXBvcnR7SGFuZGxlT3duZXIgYXMgcn1mcm9tXCIuLi8uLi8uLi8uLi8uLi9jb3JlL0hhbmRsZU93bmVyLmpzXCI7aW1wb3J0IGhhcyBmcm9tXCIuLi8uLi8uLi8uLi8uLi9jb3JlL2hhcy5qc1wiO2ltcG9ydHthcHBseVNvbWUgYXMgc31mcm9tXCIuLi8uLi8uLi8uLi8uLi9jb3JlL21heWJlLmpzXCI7aW1wb3J0e2lnbm9yZUFib3J0RXJyb3JzIGFzIGksYWZ0ZXIgYXMgYSx0aHJvd0lmQWJvcnRlZCBhcyBvLHRocm93SWZOb3RBYm9ydEVycm9yIGFzIG4saXNBYm9ydEVycm9yIGFzIHV9ZnJvbVwiLi4vLi4vLi4vLi4vLi4vY29yZS9wcm9taXNlVXRpbHMuanNcIjtpbXBvcnR7d2hlbiBhcyBnLHdhdGNoIGFzIGwsd2hlbk9uY2UgYXMgZH1mcm9tXCIuLi8uLi8uLi8uLi8uLi9jb3JlL3JlYWN0aXZlVXRpbHMuanNcIjtpbXBvcnR7cHJvcGVydHkgYXMgaH1mcm9tXCIuLi8uLi8uLi8uLi8uLi9jb3JlL2FjY2Vzc29yU3VwcG9ydC9kZWNvcmF0b3JzL3Byb3BlcnR5LmpzXCI7aW1wb3J0XCIuLi8uLi8uLi8uLi8uLi9jb3JlL2FjY2Vzc29yU3VwcG9ydC9lbnN1cmVUeXBlLmpzXCI7aW1wb3J0e3N1YmNsYXNzIGFzIGN9ZnJvbVwiLi4vLi4vLi4vLi4vLi4vY29yZS9hY2Nlc3NvclN1cHBvcnQvZGVjb3JhdG9ycy9zdWJjbGFzcy5qc1wiO2ltcG9ydHtjb252ZXJ0VG9HZW9tZXRyeSBhcyBwfWZyb21cIi4uLy4uLy4uLy4uLy4uL2xheWVycy9ncmFwaGljcy9mZWF0dXJlQ29udmVyc2lvblV0aWxzLmpzXCI7aW1wb3J0e1F1ZXJ5RW5naW5lIGFzIHl9ZnJvbVwiLi4vLi4vLi4vLi4vLi4vbGF5ZXJzL2dyYXBoaWNzL2RhdGEvUXVlcnlFbmdpbmUuanNcIjtpbXBvcnQgZiBmcm9tXCIuLi8uLi8uLi8uLi8uLi9sYXllcnMvc3VwcG9ydC9GaWVsZHNJbmRleC5qc1wiO2ltcG9ydHtGZWF0dXJlU3RvcmUyRCBhcyBtfWZyb21cIi4uL0ZlYXR1cmVTdG9yZTJELmpzXCI7aW1wb3J0e2NyZWF0ZVNvdXJjZSBhcyBTfWZyb21cIi4uL3NvdXJjZXMvY3JlYXRlU291cmNlLmpzXCI7aW1wb3J0IF8gZnJvbVwiLi4vc3VwcG9ydC9BdHRyaWJ1dGVTdG9yZS5qc1wiO2ltcG9ydHtCaW5TdG9yZSBhcyBifWZyb21cIi4uL3N1cHBvcnQvQmluU3RvcmUuanNcIjtpbXBvcnR7Q2x1c3RlclN0b3JlIGFzIHZ9ZnJvbVwiLi4vc3VwcG9ydC9DbHVzdGVyU3RvcmUuanNcIjtpbXBvcnR7Q29tcHV0ZWRBdHRyaWJ1dGVTdG9yYWdlIGFzIEl9ZnJvbVwiLi4vc3VwcG9ydC9Db21wdXRlZEF0dHJpYnV0ZVN0b3JhZ2UuanNcIjtpbXBvcnR7RmVhdHVyZVNldFJlYWRlckpTT04gYXMgUX1mcm9tXCIuLi9zdXBwb3J0L0ZlYXR1cmVTZXRSZWFkZXJKU09OLmpzXCI7aW1wb3J0e1VwZGF0ZVRva2VuIGFzIEN9ZnJvbVwiLi4vc3VwcG9ydC9VcGRhdGVUb2tlbi5qc1wiO2ltcG9ydHtRdWV1ZVByb2Nlc3NvciBhcyBGfWZyb21cIi4uLy4uLy4uLy4uL3N1cHBvcnQvUXVldWVQcm9jZXNzb3IuanNcIjtjb25zdCBFPTVlMyx3PVwidGlsZVJlbmRlcmVyLmZlYXR1cmVzVmlldy5hdHRyaWJ1dGVWaWV3LmluaXRpYWxpemVcIixUPVwidGlsZVJlbmRlcmVyLmZlYXR1cmVzVmlldy5hdHRyaWJ1dGVWaWV3LnJlcXVlc3RVcGRhdGVcIixqPVwidGlsZVJlbmRlcmVyLmZlYXR1cmVzVmlldy5yZXF1ZXN0UmVuZGVyXCI7ZnVuY3Rpb24gayhlKXtyZXR1cm5cIndvcmtlcjpwb3J0LWNsb3NlZFwiPT09ZS5uYW1lfWZ1bmN0aW9uIEEoZSl7aWYoIXUoZSkmJiFrKGUpKXRocm93IGV9ZnVuY3Rpb24geChlKXtyZXR1cm5cImZlYXR1cmVcIj09PWUudHlwZSYmXCJzbmFwc2hvdFwiPT09ZS5tb2RlfWxldCBVPWNsYXNzIGV4dGVuZHMgcntjb25zdHJ1Y3Rvcigpe3N1cGVyKC4uLmFyZ3VtZW50cyksdGhpcy5fc3RvcmFnZT1uZXcgSSx0aGlzLl9tYXJrZWRJZHNCdWZJZD10aGlzLl9zdG9yYWdlLmNyZWF0ZUJpdHNldCgpLHRoaXMuX2xhc3RDbGVhbnVwPXBlcmZvcm1hbmNlLm5vdygpLHRoaXMuX2NsZWFudXBOZWVkZWQ9ITEsdGhpcy5faW52YWxpZGF0ZWQ9ITEsdGhpcy5fdGlsZVRvUmVzb2x2ZXI9bmV3IE1hcCx0aGlzLl9kaWRFZGl0PSExLHRoaXMuX3VwZGF0ZVZlcnNpb249MSx0aGlzLnRpbGVTdG9yZT1udWxsLHRoaXMuY29uZmlnPW51bGwsdGhpcy5wcm9jZXNzb3I9bnVsbCx0aGlzLnJlbW90ZUNsaWVudD1udWxsLHRoaXMuc2VydmljZT1udWxsfWluaXRpYWxpemUoKXt0aGlzLl9pbml0U3RvcmVzKCksdGhpcy5faW5pdFNvdXJjZSgpLHRoaXMuX3VwZGF0ZVF1ZXVlPW5ldyBGKHtjb25jdXJyZW5jeTpcInN0cmVhbVwiPT09dGhpcy5fc291cmNlLnR5cGU/MTo0LHByb2Nlc3M6KGUsdCk9PnRoaXMuX29uVGlsZU1lc3NhZ2UoZSx7c2lnbmFsOnR9KX0pLHRoaXMuYWRkSGFuZGxlcyhbdGhpcy50aWxlU3RvcmUub24oXCJ1cGRhdGVcIix0aGlzLm9uVGlsZVVwZGF0ZS5iaW5kKHRoaXMpKSxnKCgoKT0+IXRoaXMudXBkYXRpbmcpLCgoKT0+dGhpcy5vbklkbGUoKSkpXSl9X2luaXRTb3VyY2UoKXtjb25zdCBlPXRoaXMudGlsZVN0b3JlLnRpbGVTY2hlbWUsdD0oKT0+dGhpcy5fdXBkYXRlUXVldWUmJnRoaXMuX3VwZGF0ZVF1ZXVlLmxlbmd0aDw1MCxyPShlLHQpPT4odGhpcy5faW52YWxpZGF0ZWQ9ITAsdGhpcy5fcGF0Y2hUaWxlKGUsdCkpO3RoaXMuX3NvdXJjZT1TKHRoaXMuc2VydmljZSx0aGlzLnNwYXRpYWxSZWZlcmVuY2UsZSxyLHQsdGhpcy5mZWF0dXJlU3RvcmUpLHRoaXMuX3Byb3h5RXZlbnRzKCl9X3NldFN0cmVhbUNsaWVudFByb3BlcnR5KGUsdCl7dGhpcy5yZW1vdGVDbGllbnQuaW52b2tlKFwic2V0UHJvcGVydHlcIix7cHJvcGVydHlOYW1lOmUsdmFsdWU6dH0pLmNhdGNoKEEpfV9wcm94eUV2ZW50cygpe2lmKFwic3RyZWFtXCI9PT10aGlzLl9zb3VyY2UudHlwZSl7Y29uc3QgZT10aGlzLl9zb3VyY2UuZXZlbnRzLHQ9dGhpcy5fc291cmNlO3RoaXMuYWRkSGFuZGxlcyhbbCgoKCk9PnQuY29ubmVjdGlvblN0YXR1cyksKGU9PnRoaXMuX3NldFN0cmVhbUNsaWVudFByb3BlcnR5KFwicGlwZWxpbmVDb25uZWN0aW9uU3RhdHVzXCIsZSkpLHtpbml0aWFsOiEwfSksbCgoKCk9PnQuZXJyb3JTdHJpbmcpLChlPT50aGlzLl9zZXRTdHJlYW1DbGllbnRQcm9wZXJ0eShcInBpcGVsaW5lRXJyb3JTdHJpbmdcIixlKSkse2luaXRpYWw6ITB9KSxlLm9uKFwiZGF0YS1yZWNlaXZlZFwiLChlPT50aGlzLnJlbW90ZUNsaWVudC5pbnZva2UoXCJlbWl0RXZlbnRcIix7bmFtZTpcImRhdGEtcmVjZWl2ZWRcIixldmVudDp7YXR0cmlidXRlczplLmF0dHJpYnV0ZXMsY2VudHJvaWQ6ZS5jZW50cm9pZCxnZW9tZXRyeTplLmdlb21ldHJ5fX0pLmNhdGNoKEEpKSksZS5vbihcIm1lc3NhZ2UtcmVjZWl2ZWRcIiwoZT0+dGhpcy5yZW1vdGVDbGllbnQuaW52b2tlKFwiZW1pdEV2ZW50XCIse25hbWU6XCJtZXNzYWdlLXJlY2VpdmVkXCIsZXZlbnQ6ZX0pLmNhdGNoKEEpKSksZS5vbihcInVwZGF0ZVJhdGVcIiwoZT0+dGhpcy5yZW1vdGVDbGllbnQuaW52b2tlKFwiZW1pdEV2ZW50XCIse25hbWU6XCJ1cGRhdGUtcmF0ZVwiLGV2ZW50OnsuLi5lfX0pLmNhdGNoKEEpKSldKX19X2luaXRBdHRyaWJ1dGVTdG9yZShlKXt0aGlzLmF0dHJpYnV0ZVN0b3JlfHwodGhpcy5hdHRyaWJ1dGVTdG9yZT1uZXcgXyh7dHlwZTpcInJlbW90ZVwiLGluaXRpYWxpemU6KGUsdCk9PmkodGhpcy5yZW1vdGVDbGllbnQuaW52b2tlKHcsZSx7c2lnbmFsOnR9KS5jYXRjaChBKSksdXBkYXRlOihlLHQpPT5pKHRoaXMucmVtb3RlQ2xpZW50Lmludm9rZShULGUse3NpZ25hbDp0fSkuY2F0Y2goQSkpLHJlbmRlcjplPT5pKHRoaXMucmVtb3RlQ2xpZW50Lmludm9rZShqLHZvaWQgMCx7c2lnbmFsOmV9KS5jYXRjaChBKSl9LGUpKX1faW5pdFN0b3Jlcygpe2NvbnN0IGU9XCJzbmFwc2hvdFwiPT09dGhpcy5zZXJ2aWNlLnR5cGU/XCJzbmFwc2hvdFwiOlwib24tZGVtYW5kXCIsdD17Z2VvbWV0cnlJbmZvOntnZW9tZXRyeVR5cGU6dGhpcy5zZXJ2aWNlLmdlb21ldHJ5VHlwZSxoYXNNOiExLGhhc1o6ITF9LHNwYXRpYWxSZWZlcmVuY2U6dGhpcy5zcGF0aWFsUmVmZXJlbmNlLGZpZWxkc0luZGV4OnRoaXMuZmllbGRzSW5kZXgsZmllbGRzOnRoaXMuc2VydmljZS5maWVsZHN9O3RoaXMuZmVhdHVyZVN0b3JlPW5ldyBtKHQsdGhpcy5fc3RvcmFnZSxlKX1faW5pdFF1ZXJ5RW5naW5lKGUpe2NvbnN0IHQ9dGhpczt0aGlzLmZlYXR1cmVRdWVyeUVuZ2luZT8uZGVzdHJveSgpLHRoaXMuZmVhdHVyZVF1ZXJ5RW5naW5lPW5ldyB5KHtkZWZpbml0aW9uRXhwcmVzc2lvbjplLnNjaGVtYS5zb3VyY2UuZGVmaW5pdGlvbkV4cHJlc3Npb24/P3ZvaWQgMCxmaWVsZHM6dGhpcy5zZXJ2aWNlLmZpZWxkcyxnZW9tZXRyeVR5cGU6dGhpcy5zZXJ2aWNlLmdlb21ldHJ5VHlwZSxvYmplY3RJZEZpZWxkOnRoaXMuc2VydmljZS5vYmplY3RJZEZpZWxkLGhhc006ITEsaGFzWjohMSxzcGF0aWFsUmVmZXJlbmNlOnRoaXMuc3BhdGlhbFJlZmVyZW5jZS50b0pTT04oKSxjYWNoZVNwYXRpYWxRdWVyaWVzOiEwLGZlYXR1cmVTdG9yZTp0aGlzLmZlYXR1cmVTdG9yZSxhZ2dyZWdhdGVBZGFwdGVyOntnZXRGZWF0dXJlT2JqZWN0SWRzKGUpe2lmKG51bGw9PXQuYWdncmVnYXRlU3RvcmUpcmV0dXJuW107cmV0dXJuIHQuYWdncmVnYXRlU3RvcmUuZ2V0RmVhdHVyZURpc3BsYXlJZHNGb3JBZ2dyZWdhdGUoZSkubWFwKChlPT50LmdldE9iamVjdElkKGUpKSl9fSx0aW1lSW5mbzp0aGlzLnNlcnZpY2UudGltZUluZm99KX1faW5pdEFnZ3JlZ2F0ZVF1ZXJ5RW5naW5lKGUsdCl7aWYodGhpcy5hZ2dyZWdhdGVRdWVyeUVuZ2luZT8uZGVzdHJveSgpLG51bGw9PWUpcmV0dXJuO2NvbnN0IHI9dC50YXJnZXRzLmFnZ3JlZ2F0ZS5wYXJhbXMuZmllbGRzLnNsaWNlKCk7dGhpcy5hZ2dyZWdhdGVRdWVyeUVuZ2luZT1uZXcgeSh7ZGVmaW5pdGlvbkV4cHJlc3Npb246dm9pZCAwLGZpZWxkczpyLGdlb21ldHJ5VHlwZTplLmdlb21ldHJ5SW5mby5nZW9tZXRyeVR5cGUsb2JqZWN0SWRGaWVsZDplLm9iamVjdElkRmllbGQsaGFzTTplLmdlb21ldHJ5SW5mby5oYXNNLGhhc1o6ZS5nZW9tZXRyeUluZm8uaGFzWixzcGF0aWFsUmVmZXJlbmNlOnRoaXMuc3BhdGlhbFJlZmVyZW5jZS50b0pTT04oKSxjYWNoZVNwYXRpYWxRdWVyaWVzOiExLGZlYXR1cmVTdG9yZTplLGFnZ3JlZ2F0ZUFkYXB0ZXI6e2dldEZlYXR1cmVPYmplY3RJZHM6ZT0+W119fSl9ZGVzdHJveSgpe3RoaXMuX3VwZGF0ZVF1ZXVlLmRlc3Ryb3koKSx0aGlzLl9zb3VyY2UuZGVzdHJveSgpLHRoaXMuZmVhdHVyZVF1ZXJ5RW5naW5lPy5kZXN0cm95KCksdGhpcy5hZ2dyZWdhdGVRdWVyeUVuZ2luZT8uZGVzdHJveSgpLHRoaXMuYXR0cmlidXRlU3RvcmU/LmRlc3Ryb3koKTtmb3IoY29uc3QgZSBvZiB0aGlzLnRpbGVTdG9yZS50aWxlcyl0aGlzLl9zb3VyY2UudW5zdWJzY3JpYmUoZSk7Y2xlYXJJbnRlcnZhbCh0aGlzLl9jaGVja1VwZGF0aW5nKX1nZXQgZmllbGRzSW5kZXgoKXtyZXR1cm4gbmV3IGYodGhpcy5zZXJ2aWNlLmZpZWxkcyl9Z2V0IHNwYXRpYWxSZWZlcmVuY2UoKXtyZXR1cm4gdGhpcy50aWxlU3RvcmUudGlsZVNjaGVtZS5zcGF0aWFsUmVmZXJlbmNlfWdldCB1cGRhdGluZygpe3JldHVybiB0aGlzLmlzVXBkYXRpbmcoKX1pc1VwZGF0aW5nKCl7Y29uc3QgZT10aGlzLl9zb3VyY2UudXBkYXRpbmdIYW5kbGVzLnVwZGF0aW5nLHQ9IXRoaXMuYXR0cmlidXRlU3RvcmV8fHRoaXMuYXR0cmlidXRlU3RvcmUudXBkYXRpbmdIYW5kbGVzLnVwZGF0aW5nLHI9ZXx8dHx8dGhpcy51cGRhdGluZ0hhbmRsZXMudXBkYXRpbmc7aWYoaGFzKFwiZXNyaS0yZC1sb2ctdXBkYXRpbmdcIikpe2xldCBzPWBVcGRhdGluZyBGZWF0dXJlQ29udHJvbGxlcjJEOiAke3J9XFxuYDtzKz1gICAtPiB1cGRhdGluZ1NvdXJjZSAke2V9XFxuYDtmb3IoY29uc3QgZSBvZiB0aGlzLl9zb3VyY2Uuc3Vic2NyaXB0aW9ucylzKz1gICAgICAke2UudGlsZS5pZH0gJHtlLmlzRG9uZX1cXG5gO3MrPWAgIC0+IHVwZGF0aW5nQXR0cmlidXRlU3RvcmUgJHt0fVxcbmAscys9YCAgLT4gdXBkYXRpbmdIYW5kbGVzICR7dGhpcy51cGRhdGluZ0hhbmRsZXMudXBkYXRpbmd9IChxdWV1ZTogJHt0aGlzLl91cGRhdGVRdWV1ZS5sZW5ndGh9KVxcbmAsY29uc29sZS5sb2cocyl9cmV0dXJuIHJ9dXBkYXRlQ3VzdG9tUGFyYW1ldGVycyhlKXtcInN0cmVhbVwiPT09dGhpcy5fc291cmNlLnR5cGUmJnRoaXMuX3NvdXJjZS51cGRhdGVDdXN0b21QYXJhbWV0ZXJzKGUpfWVuYWJsZUV2ZW50KGUpe3RoaXMuX3NvdXJjZS5lbmFibGVFdmVudChlLm5hbWUsZS52YWx1ZSl9cGF1c2UoKXt0aGlzLl91cGRhdGVRdWV1ZS5wYXVzZSgpLHRoaXMuX3VwZGF0ZVF1ZXVlLmNsZWFyKCl9cmVzdW1lKCl7dGhpcy5fdXBkYXRlUXVldWUucmVzdW1lKCl9cGF1c2VTdHJlYW0oKXtcInN0cmVhbVwiPT09dGhpcy5fc291cmNlLnR5cGUmJnRoaXMuX3NvdXJjZS5wYXVzZVN0cmVhbSgpfXJlc3VtZVN0cmVhbSgpe1wic3RyZWFtXCI9PT10aGlzLl9zb3VyY2UudHlwZSYmdGhpcy5fc291cmNlLnJlc3VtZVN0cmVhbSgpfXNlbmRNZXNzYWdlVG9Tb2NrZXQoZSl7XCJzdHJlYW1cIj09PXRoaXMuX3NvdXJjZS50eXBlJiZ0aGlzLl9zb3VyY2Uuc2VuZE1lc3NhZ2VUb1NvY2tldChlKX1zZW5kTWVzc2FnZVRvQ2xpZW50KGUpe1wic3RyZWFtXCI9PT10aGlzLl9zb3VyY2UudHlwZSYmdGhpcy5fc291cmNlLnNlbmRNZXNzYWdlVG9DbGllbnQoZSl9X2luaXRBZ2dyZWdhdGVTdG9yZShlKXtjb25zdCB0PWUuc2NoZW1hLnRhcmdldHM/LmFnZ3JlZ2F0ZT8udHlwZSxyPXModGhpcy5jb25maWcsKGU9PmUuc2NoZW1hLnRhcmdldHM/LmFnZ3JlZ2F0ZT8udHlwZSkpO2lmKHIhPT10JiYobnVsbCE9dGhpcy5hZ2dyZWdhdGVTdG9yZSYmKHRoaXMucmVtb3ZlSGFuZGxlcyhcInZhbHVlUmFuZ2VzQ2hhbmdlZFwiKSx0aGlzLmFnZ3JlZ2F0ZVN0b3JlLmRlc3Ryb3koKSx0aGlzLmFnZ3JlZ2F0ZVN0b3JlPW51bGwpLHQpKXtzd2l0Y2godCl7Y2FzZVwiY2x1c3RlclwiOntjb25zdCBlPXtnZW9tZXRyeUluZm86e2dlb21ldHJ5VHlwZTpcImVzcmlHZW9tZXRyeVBvaW50XCIsaGFzTTohMSxoYXNaOiExfSxzcGF0aWFsUmVmZXJlbmNlOnRoaXMuc3BhdGlhbFJlZmVyZW5jZSxmaWVsZHNJbmRleDp0aGlzLmZpZWxkc0luZGV4LGZpZWxkczp0aGlzLnNlcnZpY2UuZmllbGRzfTt0aGlzLmFnZ3JlZ2F0ZVN0b3JlPW5ldyB2KGUsdGhpcy5zcGF0aWFsUmVmZXJlbmNlLHRoaXMuX3N0b3JhZ2UsdGhpcy5zZXJ2aWNlKSx0aGlzLmFkZEhhbmRsZXModGhpcy5hZ2dyZWdhdGVTdG9yZS5ldmVudHMub24oXCJ2YWx1ZVJhbmdlc0NoYW5nZWRcIiwoZT0+e3RoaXMucmVtb3RlQ2xpZW50Lmludm9rZShcImVtaXRFdmVudFwiLHtuYW1lOlwidmFsdWVSYW5nZXNDaGFuZ2VkXCIsZXZlbnQ6e3ZhbHVlUmFuZ2VzOmUudmFsdWVSYW5nZXN9fSkuY2F0Y2goQSl9KSksXCJ2YWx1ZVJhbmdlc0NoYW5nZWRcIik7YnJlYWt9Y2FzZVwiYmluXCI6e2NvbnN0IGU9e2dlb21ldHJ5SW5mbzp7Z2VvbWV0cnlUeXBlOlwiZXNyaUdlb21ldHJ5UG9seWdvblwiLGhhc006ITEsaGFzWjohMX0sc3BhdGlhbFJlZmVyZW5jZTp0aGlzLnNwYXRpYWxSZWZlcmVuY2UsZmllbGRzSW5kZXg6dGhpcy5maWVsZHNJbmRleCxmaWVsZHM6dGhpcy5zZXJ2aWNlLmZpZWxkc307dGhpcy5hZ2dyZWdhdGVTdG9yZT1uZXcgYihlLHRoaXMuc3BhdGlhbFJlZmVyZW5jZSx0aGlzLl9zdG9yYWdlLHRoaXMuc2VydmljZSk7YnJlYWt9fXRoaXMuYWdncmVnYXRlU3RvcmUub25UaWxlVXBkYXRlKHthZGRlZDp0aGlzLnRpbGVTdG9yZS50aWxlcyxyZW1vdmVkOltdfSl9fWFzeW5jIHVwZGF0ZShlLHQpe3RoaXMuX3VwZGF0ZVZlcnNpb24rKyxoYXMoXCJlc3JpLTJkLXVwZGF0ZS1kZWJ1Z1wiKSYmY29uc29sZS5kZWJ1ZyhgRmVhdHVyZUNvbnRyb2xsZXIyRDo6dXBkYXRlOiBUb2tlbiB2ZXJzaW9uICR7dGhpcy5fdXBkYXRlVmVyc2lvbn1gKSx0aGlzLl9pbml0UXVlcnlFbmdpbmUodCksdGhpcy5faW5pdEF0dHJpYnV0ZVN0b3JlKHQpLHRoaXMucGF1c2UoKSxhd2FpdCBQcm9taXNlLmFsbChbdGhpcy5fc291cmNlLnVwZGF0ZShlLHQuc2NoZW1hLnNvdXJjZSksdGhpcy5mZWF0dXJlU3RvcmUudXBkYXRlU2NoZW1hKGUsdC5zY2hlbWEudGFyZ2V0cy5mZWF0dXJlKSx0aGlzLmF0dHJpYnV0ZVN0b3JlLnVwZGF0ZShlLHQpLHRoaXMuYXR0cmlidXRlU3RvcmUudXBkYXRlRmlsdGVycyhlLHQsdGhpcyldKSx0aGlzLl9pbml0QWdncmVnYXRlU3RvcmUodCksbnVsbCE9dGhpcy5hZ2dyZWdhdGVTdG9yZSYmYXdhaXQgdGhpcy5hZ2dyZWdhdGVTdG9yZS51cGRhdGVTY2hlbWEoZSx0LnNjaGVtYS50YXJnZXRzLmFnZ3JlZ2F0ZSksdGhpcy5faW5pdEFnZ3JlZ2F0ZVF1ZXJ5RW5naW5lKHRoaXMuYWdncmVnYXRlU3RvcmUsdC5zY2hlbWEpLGhhcyhcImVzcmktMmQtdXBkYXRlLWRlYnVnXCIpJiZlLmRlc2NyaWJlKCksdGhpcy5fc2V0KFwiY29uZmlnXCIsdCl9YXN5bmMgYXBwbHlVcGRhdGUoZSl7ZS52ZXJzaW9uPXRoaXMuX3VwZGF0ZVZlcnNpb24saGFzKFwiZXNyaS0yZC11cGRhdGUtZGVidWdcIikmJmNvbnNvbGUuZGVidWcoYEZlYXR1cmVDb250cm9sbGVyMkQ6OmFwcGx5VXBkYXRlOiBUb2tlbiB2ZXJzaW9uICR7ZS52ZXJzaW9ufWApLGUubWVzaCYmdGhpcy5jbGVhclRpbGVzKCksdGhpcy5fdXBkYXRlUXVldWUucmVzdW1lKCksYXdhaXQgdGhpcy5fc291cmNlLmFwcGx5VXBkYXRlKGUpLGhhcyhcImVzcmktMmQtdXBkYXRlLWRlYnVnXCIpJiZjb25zb2xlLmRlYnVnKFwiRmVhdHVyZUNvbnRyb2xsZXIyRDo6YXBwbHlVcGRhdGUgV2FpdGluZyBmb3Igc291cmNlIHVwZGF0ZSB0byBmaW5pc2hcIiksdGhpcy5ub3RpZnlDaGFuZ2UoXCJ1cGRhdGluZ1wiKSxhd2FpdCBkKCgoKT0+IXRoaXMudXBkYXRpbmcpKSxoYXMoXCJlc3JpLTJkLXVwZGF0ZS1kZWJ1Z1wiKSYmY29uc29sZS5kZWJ1ZyhcIkZlYXR1cmVDb250cm9sbGVyMkQ6OmFwcGx5VXBkYXRlIFNvdXJjZSB1cGRhdGUgZmluc2loZWRcIiksbnVsbCE9dGhpcy5hZ2dyZWdhdGVTdG9yZSYmKGF3YWl0IGEoMTApLGhhcyhcImVzcmktMmQtdXBkYXRlLWRlYnVnXCIpJiZjb25zb2xlLmRlYnVnKFwiRmVhdHVyZUNvbnRyb2xsZXIyRDo6YXBwbHlVcGRhdGUgV2FpdGluZyBmb3IgYWdncmVnYXRlIGlkbGUgY2FsbFwiKSxhd2FpdCBkKCgoKT0+IXRoaXMudXBkYXRpbmcpKSxoYXMoXCJlc3JpLTJkLXVwZGF0ZS1kZWJ1Z1wiKSYmY29uc29sZS5kZWJ1ZyhcIkZlYXR1cmVDb250cm9sbGVyMkQ6OmFwcGx5VXBkYXRlIEFnZ3JlZ2F0ZSBpZGxlIGNhbGxlZFwiKSksaGFzKFwiZXNyaS0yZC11cGRhdGUtZGVidWdcIikmJmNvbnNvbGUuZGVidWcoXCJGZWF0dXJlQ29udHJvbGxlcjJEOjphcHBseVVwZGF0ZSBVcGRhdGUgZmluaXNoZWRcIil9YXN5bmMgb25FZGl0cyh7ZWRpdHM6ZX0pe2hhcyhcImVzcmktMmQtdXBkYXRlLWRlYnVnXCIpJiZjb25zb2xlLmRlYnVnKFwiQXBwbHlpbmcgRWRpdDpcIixlKSx0aGlzLl9kaWRFZGl0PSEwO3RyeXtjb25zdCB0PWUucmVtb3ZlZC5tYXAoKGU9PmUub2JqZWN0SWQmJi0xIT09ZS5vYmplY3RJZD9lLm9iamVjdElkOnRoaXMuX2xvb2t1cE9iamVjdElkQnlHbG9iYWxJZChlLmdsb2JhbElkKSkpLHI9ZS5hZGRPck1vZGlmaWVkLm1hcCgoKHtvYmplY3RJZDplfSk9PmUpKTt0aGlzLmZlYXR1cmVTdG9yZS5pbnZhbGlkYXRlKCksYXdhaXQgdGhpcy5fc291cmNlLmVkaXQocix0KSx0aGlzLmNsZWFyVGlsZXMoKSx0aGlzLm5vdGlmeUNoYW5nZShcInVwZGF0aW5nXCIpLG51bGwhPXRoaXMuYWdncmVnYXRlU3RvcmUmJnRoaXMuYWdncmVnYXRlU3RvcmUuY2xlYXIoKSxhd2FpdCB0aGlzLl9zb3VyY2UucmVzZW5kKCksYXdhaXQgZCgoKCk9PiF0aGlzLnVwZGF0aW5nKSl9Y2F0Y2godCl7fX1hc3luYyByZWZyZXNoKGUpe2lmKCFlLmRhdGFDaGFuZ2VkKXtjb25zdCBlPUMuZW1wdHkoKTtyZXR1cm4gZS5zdG9yYWdlLmZpbHRlcnM9ITAsdGhpcy5hcHBseVVwZGF0ZShlKX10aGlzLmZlYXR1cmVTdG9yZS5pbnZhbGlkYXRlKCksdGhpcy5jbGVhclRpbGVzKCksdGhpcy5fc291cmNlLnJlZnJlc2godGhpcy5fdXBkYXRlVmVyc2lvbixlKSx0aGlzLl9jbGVhbnVwTmVlZGVkPSEwLHRoaXMubm90aWZ5Q2hhbmdlKFwidXBkYXRpbmdcIiksYXdhaXQgZCgoKCk9PiF0aGlzLnVwZGF0aW5nKSl9Y2xlYXJUaWxlcygpe2Zvcihjb25zdCBlIG9mIHRoaXMudGlsZVN0b3JlLnRpbGVzKXRoaXMucHJvY2Vzc29yLm9uVGlsZUNsZWFyKGUsITEpfW9uVGlsZVVwZGF0ZShlKXtudWxsIT10aGlzLmFnZ3JlZ2F0ZVN0b3JlJiZ0aGlzLmFnZ3JlZ2F0ZVN0b3JlLm9uVGlsZVVwZGF0ZShlKTtmb3IoY29uc3QgdCBvZiBlLmFkZGVkKXRoaXMuX3NvdXJjZS5zdWJzY3JpYmUodCx0aGlzLl91cGRhdGVWZXJzaW9uKSx0aGlzLl9sZXZlbD10LmxldmVsO2Zvcihjb25zdCB0IG9mIGUucmVtb3ZlZCl0aGlzLl9zb3VyY2UudW5zdWJzY3JpYmUodCksdGhpcy5fY2xlYW51cE5lZWRlZD0hMCx0aGlzLl90aWxlVG9SZXNvbHZlci5oYXModC5pZCkmJih0aGlzLl90aWxlVG9SZXNvbHZlci5nZXQodC5pZCkucmVzb2x2ZSgpLHRoaXMuX3RpbGVUb1Jlc29sdmVyLmRlbGV0ZSh0LmlkKSk7dGhpcy5ub3RpZnlDaGFuZ2UoXCJ1cGRhdGluZ1wiKX1hc3luYyBvbklkbGUoKXt0aGlzLl9pbnZhbGlkYXRlZCYmKHRoaXMuX2ludmFsaWRhdGVkPSExLG51bGw9PXRoaXMuYWdncmVnYXRlU3RvcmUmJlwiaGVhdG1hcFwiIT09dGhpcy5wcm9jZXNzb3IudHlwZXx8YXdhaXQgdGhpcy5fcmVwdXNoQ3VycmVudExldmVsVGlsZXMoKSksdGhpcy5fbWFya0FuZFN3ZWVwKCl9YXN5bmMgcXVlcnlTdW1tYXJ5U3RhdGlzdGljcyh7cXVlcnk6ZSxwYXJhbXM6dH0pe3JldHVybiB0aGlzLmZlYXR1cmVRdWVyeUVuZ2luZS5leGVjdXRlUXVlcnlGb3JTdW1tYXJ5U3RhdGlzdGljcyhlLHQpfWFzeW5jIHF1ZXJ5QWdncmVnYXRlU3VtbWFyeVN0YXRpc3RpY3Moe3F1ZXJ5OmUscGFyYW1zOnR9KXtyZXR1cm4gdGhpcy5hZ2dyZWdhdGVRdWVyeUVuZ2luZS5leGVjdXRlUXVlcnlGb3JTdW1tYXJ5U3RhdGlzdGljcyh0aGlzLl9ub3JtYWxpemVBZ2dyZWdhdGVRdWVyeShlKSx0KX1hc3luYyBxdWVyeVVuaXF1ZVZhbHVlcyh7cXVlcnk6ZSxwYXJhbXM6dH0pe3JldHVybiB0aGlzLmZlYXR1cmVRdWVyeUVuZ2luZS5leGVjdXRlUXVlcnlGb3JVbmlxdWVWYWx1ZXMoZSx0KX1hc3luYyBxdWVyeUFnZ3JlZ2F0ZVVuaXF1ZVZhbHVlcyh7cXVlcnk6ZSxwYXJhbXM6dH0pe3JldHVybiB0aGlzLmFnZ3JlZ2F0ZVF1ZXJ5RW5naW5lLmV4ZWN1dGVRdWVyeUZvclVuaXF1ZVZhbHVlcyh0aGlzLl9ub3JtYWxpemVBZ2dyZWdhdGVRdWVyeShlKSx0KX1hc3luYyBxdWVyeUNsYXNzQnJlYWtzKHtxdWVyeTplLHBhcmFtczp0fSl7cmV0dXJuIHRoaXMuZmVhdHVyZVF1ZXJ5RW5naW5lLmV4ZWN1dGVRdWVyeUZvckNsYXNzQnJlYWtzKGUsdCl9YXN5bmMgcXVlcnlBZ2dyZWdhdGVDbGFzc0JyZWFrcyh7cXVlcnk6ZSxwYXJhbXM6dH0pe3JldHVybiB0aGlzLmFnZ3JlZ2F0ZVF1ZXJ5RW5naW5lLmV4ZWN1dGVRdWVyeUZvckNsYXNzQnJlYWtzKHRoaXMuX25vcm1hbGl6ZUFnZ3JlZ2F0ZVF1ZXJ5KGUpLHQpfWFzeW5jIHF1ZXJ5SGlzdG9ncmFtKHtxdWVyeTplLHBhcmFtczp0fSl7cmV0dXJuIHRoaXMuZmVhdHVyZVF1ZXJ5RW5naW5lLmV4ZWN1dGVRdWVyeUZvckhpc3RvZ3JhbShlLHQpfWFzeW5jIHF1ZXJ5QWdncmVnYXRlSGlzdG9ncmFtKHtxdWVyeTplLHBhcmFtczp0fSl7cmV0dXJuIHRoaXMuYWdncmVnYXRlUXVlcnlFbmdpbmUuZXhlY3V0ZVF1ZXJ5Rm9ySGlzdG9ncmFtKHRoaXMuX25vcm1hbGl6ZUFnZ3JlZ2F0ZVF1ZXJ5KGUpLHQpfXF1ZXJ5RXh0ZW50KGUpe3JldHVybiB0aGlzLmZlYXR1cmVRdWVyeUVuZ2luZS5leGVjdXRlUXVlcnlGb3JFeHRlbnQoZSl9cXVlcnlBZ2dyZWdhdGVzKGUpe3JldHVybiB0aGlzLmFnZ3JlZ2F0ZVF1ZXJ5RW5naW5lLmV4ZWN1dGVRdWVyeSh0aGlzLl9ub3JtYWxpemVBZ2dyZWdhdGVRdWVyeShlKSl9cXVlcnlBZ2dyZWdhdGVDb3VudChlKXtyZXR1cm4gdGhpcy5hZ2dyZWdhdGVRdWVyeUVuZ2luZS5leGVjdXRlUXVlcnlGb3JDb3VudCh0aGlzLl9ub3JtYWxpemVBZ2dyZWdhdGVRdWVyeShlKSl9cXVlcnlBZ2dyZWdhdGVJZHMoZSl7cmV0dXJuIHRoaXMuYWdncmVnYXRlUXVlcnlFbmdpbmUuZXhlY3V0ZVF1ZXJ5Rm9ySWRzKHRoaXMuX25vcm1hbGl6ZUFnZ3JlZ2F0ZVF1ZXJ5KGUpKX1xdWVyeUZlYXR1cmVzKGUpe3JldHVybiB0aGlzLmZlYXR1cmVRdWVyeUVuZ2luZS5leGVjdXRlUXVlcnkoZSl9YXN5bmMgcXVlcnlWaXNpYmxlRmVhdHVyZXMoZSl7Y29uc3QgdD1hd2FpdCB0aGlzLmZlYXR1cmVRdWVyeUVuZ2luZS5leGVjdXRlUXVlcnkoZSkscj10Lm9iamVjdElkRmllbGROYW1lO3JldHVybiB0LmZlYXR1cmVzPXQuZmVhdHVyZXMuZmlsdGVyKChlPT57Y29uc3QgdD1lLmF0dHJpYnV0ZXNbcl0saT10aGlzLmdldERpc3BsYXlJZCh0KTtyZXR1cm4gcyhpLChlPT50aGlzLmF0dHJpYnV0ZVN0b3JlLmlzVmlzaWJsZShlKSkpfSkpLHR9cXVlcnlGZWF0dXJlQ291bnQoZSl7cmV0dXJuIHRoaXMuZmVhdHVyZVF1ZXJ5RW5naW5lLmV4ZWN1dGVRdWVyeUZvckNvdW50KGUpfXF1ZXJ5TGF0ZXN0T2JzZXJ2YXRpb25zKGUpe3JldHVybiB0aGlzLmZlYXR1cmVRdWVyeUVuZ2luZS5leGVjdXRlUXVlcnlGb3JMYXRlc3RPYnNlcnZhdGlvbnMoZSl9cXVlcnlPYmplY3RJZHMoZSl7cmV0dXJuIHRoaXMuZmVhdHVyZVF1ZXJ5RW5naW5lLmV4ZWN1dGVRdWVyeUZvcklkcyhlKX1hc3luYyBxdWVyeVN0YXRpc3RpY3MoKXtyZXR1cm4gdGhpcy5mZWF0dXJlU3RvcmUuc3RvcmVTdGF0aXN0aWNzfWdldE9iamVjdElkKGUpe3JldHVybiB0aGlzLmZlYXR1cmVTdG9yZS5sb29rdXBPYmplY3RJZChlLHRoaXMuX3N0b3JhZ2UpfWdldERpc3BsYXlJZChlKXtpZihudWxsIT10aGlzLmFnZ3JlZ2F0ZVN0b3JlKXtjb25zdCB0PXRoaXMuYWdncmVnYXRlU3RvcmUuZ2V0RGlzcGxheUlkKGUpO2lmKG51bGw9PXQpe2NvbnN0IHQ9dGhpcy5mZWF0dXJlU3RvcmUubG9va3VwRGlzcGxheUlkKGUpO3JldHVybiB0aGlzLmFnZ3JlZ2F0ZVN0b3JlLmdldERpc3BsYXlJZEZvclJlZmVyZW5jZUlkKHQpfXJldHVybiB0fXJldHVybiB0aGlzLmZlYXR1cmVTdG9yZS5sb29rdXBEaXNwbGF5SWQoZSl9Z2V0RmVhdHVyZXMoZSl7Y29uc3QgdD1bXSxyPVtdO2Zvcihjb25zdCBzIG9mIGUpe2NvbnN0IGU9bnVsbCE9dGhpcy5hZ2dyZWdhdGVTdG9yZT90aGlzLmdldEFnZ3JlZ2F0ZShzKTpudWxsO2lmKG51bGwhPWUpaWYobnVsbCE9ZS5hdHRyaWJ1dGVzLnJlZmVyZW5jZUlkKXtjb25zdCByPXRoaXMuZ2V0RmVhdHVyZShlLmF0dHJpYnV0ZXMucmVmZXJlbmNlSWQpO251bGwhPXImJnQucHVzaChyKX1lbHNlIHIucHVzaChlKTtlbHNle2NvbnN0IGU9dGhpcy5nZXRGZWF0dXJlKHMpO251bGwhPWUmJnQucHVzaChlKX19cmV0dXJue2ZlYXR1cmVzOnQsYWdncmVnYXRlczpyfX1nZXRGZWF0dXJlKGUpe2NvbnN0IHQ9dGhpcy5mZWF0dXJlU3RvcmUubG9va3VwRmVhdHVyZUJ5RGlzcGxheUlkKGUsdGhpcy5fc3RvcmFnZSk7aWYobnVsbD09dClyZXR1cm4gbnVsbDtjb25zdCByPXQucmVhZEh5ZHJhdGVkR2VvbWV0cnkoKSxzPXAocix0Lmdlb21ldHJ5VHlwZSx0Lmhhc1osdC5oYXNNKTtyZXR1cm57YXR0cmlidXRlczp0LnJlYWRBdHRyaWJ1dGVzKCksZ2VvbWV0cnk6c319Z2V0QWdncmVnYXRlKGUpe3JldHVybiBudWxsPT10aGlzLmFnZ3JlZ2F0ZVN0b3JlP251bGw6dGhpcy5hZ2dyZWdhdGVTdG9yZS5nZXRBZ2dyZWdhdGUoZSl9Z2V0QWdncmVnYXRlcygpe3JldHVybiBudWxsPT10aGlzLmFnZ3JlZ2F0ZVN0b3JlP1tdOnRoaXMuYWdncmVnYXRlU3RvcmUuZ2V0QWdncmVnYXRlcygpfWFzeW5jIHNldEhpZ2hsaWdodChlKXtjb25zdCByPWUubWFwKChlPT50aGlzLmdldERpc3BsYXlJZChlKSkpLmZpbHRlcih0KTtyZXR1cm4gdGhpcy5hdHRyaWJ1dGVTdG9yZS5zZXRIaWdobGlnaHQoZSxyKX1fbm9ybWFsaXplQWdncmVnYXRlUXVlcnkoZSl7Y29uc3QgdD1lLm9iamVjdElkcz8/W107Zm9yKGNvbnN0IHIgb2YgZS5hZ2dyZWdhdGVJZHM/P1tdKXQucHVzaChyKTtyZXR1cm4gZS5vYmplY3RJZHM9dCxlLmFnZ3JlZ2F0ZUlkcz1bXSxlfV9sb29rdXBPYmplY3RJZEJ5R2xvYmFsSWQoZSl7Y29uc3QgdD10aGlzLnNlcnZpY2UuZ2xvYmFsSWRGaWVsZDtpZihudWxsPT10KXRocm93IG5ldyBFcnJvcihcIkV4cGVjdGVkIGdsb2JhbElkRmllbGQgdG8gYmUgZGVmaW5lZFwiKTtsZXQgcj1udWxsO2lmKHRoaXMuZmVhdHVyZVN0b3JlLmZvckVhY2goKHM9PntlPT09cy5yZWFkQXR0cmlidXRlKHQpJiYocj1zLmdldE9iamVjdElkKCkpfSkpLG51bGw9PXIpdGhyb3cgbmV3IEVycm9yKGBFeHBlY3RlZCB0byBmaW5kIGEgZmVhdHVyZSB3aXRoIGdsb2JhbElkICR7ZX1gKTtyZXR1cm4gcn1hc3luYyBfcmVwdXNoQ3VycmVudExldmVsVGlsZXMoKXtjb25zdCBlPXRoaXMudGlsZVN0b3JlLnRpbGVzLmZpbHRlcigoZT0+ZS5sZXZlbD09PXRoaXMuX2xldmVsKSk7ZS5tYXAoKGFzeW5jIGU9PnRoaXMuX3BhdGNoVGlsZSh7dHlwZTpcImFwcGVuZFwiLGlkOmUua2V5LmlkLGNsZWFyOiEwLGFkZE9yVXBkYXRlOm51bGwsZW5kOiExfSkpKTtjb25zdCB0PWUubWFwKChhc3luYyBlPT50aGlzLl9wYXRjaFRpbGUoe3R5cGU6XCJhcHBlbmRcIixpZDplLmtleS5pZCxhZGRPclVwZGF0ZTpRLmZyb21PcHRpbWl6ZWRGZWF0dXJlcyhbXSx0aGlzLnNlcnZpY2UpLHJlbW92ZTpbXSxlbmQ6ITAsaXNSZXB1c2g6ITAsc3RhdHVzOkMuZW1wdHkoKX0pKSk7YXdhaXQgUHJvbWlzZS5hbGwodCl9X21heWJlRm9yY2VDbGVhbnVwKCl7cGVyZm9ybWFuY2Uubm93KCktdGhpcy5fbGFzdENsZWFudXA+RSYmdGhpcy5fbWFya0FuZFN3ZWVwKCl9X3BhdGNoVGlsZShlLHQpe2NvbnN0IHI9dGhpcy5fdXBkYXRlUXVldWUucHVzaChlLHQpLmNhdGNoKChlPT57fSkpO3JldHVybiB0aGlzLnVwZGF0aW5nSGFuZGxlcy5hZGRQcm9taXNlKHIpfWFzeW5jIF9vblRpbGVNZXNzYWdlKGUsdCl7aWYobyh0KSxoYXMoXCJlc3JpLTJkLXVwZGF0ZS1kZWJ1Z1wiKSl7Y29uc3QgdD1zKGUuYWRkT3JVcGRhdGUsKGU9PmUuaGFzRmVhdHVyZXMpKTtjb25zb2xlLmRlYnVnKGUuaWQsYEZlYXR1cmVDb250cm9sbGVyOm9uVGlsZU1lc3NhZ2U6IFtjbGVhcjoke2UuY2xlYXJ9LCBlbmQ6JHtlLmVuZH0sIGZlYXR1cmVzOiAke3R9XWApfWNvbnN0IHI9dGhpcy50aWxlU3RvcmUuZ2V0KGUuaWQpO2lmKCFyKXJldHVybjtpZihlLmNsZWFyKXJldHVybiB0aGlzLnByb2Nlc3Nvci5vblRpbGVDbGVhcihyLGUuZW5kKTtjb25zdCBpPWUuc3RhdHVzO3RoaXMuX2NsZWFudXBOZWVkZWQ9ITA7Y29uc3QgYT1bXTtmb3IoY29uc3QgcyBvZiBlLnJlbW92ZT8/W10pe2NvbnN0IGU9dGhpcy5mZWF0dXJlU3RvcmUubG9va3VwRGlzcGxheUlkKHMpO2UmJmEucHVzaChlKX1lLnJlbW92ZT1hO3RyeXtpZihudWxsPT1lLmFkZE9yVXBkYXRlKXJldHVybiB2b2lkIHRoaXMucHJvY2Vzc29yLm9uVGlsZU1lc3NhZ2Uocix7Li4uZSxhZGRPclVwZGF0ZTpudWxsfSxudWxsIT10aGlzLmFnZ3JlZ2F0ZVN0b3JlLHQpLmNhdGNoKG4pO2lmKGUuYWRkT3JVcGRhdGUuc2V0QXJjYWRlU3BhdGlhbFJlZmVyZW5jZSh0aGlzLnNwYXRpYWxSZWZlcmVuY2UpLHRoaXMuZmVhdHVyZVN0b3JlLmhhc0luc3RhbmNlKGUuYWRkT3JVcGRhdGUuaW5zdGFuY2UpJiZpLnRhcmdldHMuZmVhdHVyZXx8KGkudGFyZ2V0cy5mZWF0dXJlPSEwLHRoaXMuZmVhdHVyZVN0b3JlLm9uVGlsZURhdGEocixlKSksIWkuc3RvcmFnZS5kYXRhfHwhaS5zdG9yYWdlLmZpbHRlcnMpe2kuc3RvcmFnZS5kYXRhPSEwLGkuc3RvcmFnZS5maWx0ZXJzPSEwLHRoaXMuYXR0cmlidXRlU3RvcmUub25UaWxlRGF0YShyLGUpO1wic3RyZWFtXCI9PT10aGlzLl9zb3VyY2UudHlwZXx8dGhpcy5fZGlkRWRpdD8oYXdhaXQgdGhpcy5hdHRyaWJ1dGVTdG9yZS5zZW5kVXBkYXRlcygpLG8odCkpOnRoaXMuYXR0cmlidXRlU3RvcmUuc2VuZFVwZGF0ZXMoKX1pZihudWxsIT10aGlzLmFnZ3JlZ2F0ZVN0b3JlJiYhaS50YXJnZXRzLmFnZ3JlZ2F0ZSl7aS50YXJnZXRzLmFnZ3JlZ2F0ZT0hMDtjb25zdCB0PXgodGhpcy5fc291cmNlKSYmdGhpcy5fc291cmNlLmxvYWRpbmcscz0heCh0aGlzLl9zb3VyY2UpfHx0fHxlLmVuZDtpZih0aGlzLmFnZ3JlZ2F0ZVN0b3JlLm9uVGlsZURhdGEocixlLHRoaXMuX3N0b3JhZ2UsdGhpcy5hdHRyaWJ1dGVTdG9yZSxzKSwhcylyZXR1cm47aS5tZXNofHwodGhpcy5hdHRyaWJ1dGVTdG9yZS5vblRpbGVEYXRhKHIsZSksYXdhaXQgdGhpcy5hdHRyaWJ1dGVTdG9yZS5zZW5kVXBkYXRlcygpKX1pZighaS5tZXNoKXtpLm1lc2g9ITA7Y29uc3Qgcz1udWxsIT10aGlzLmFnZ3JlZ2F0ZVN0b3JlJiZcImNsdXN0ZXJcIj09PXRoaXMuYWdncmVnYXRlU3RvcmUudHlwZTthd2FpdCB0aGlzLnByb2Nlc3Nvci5vblRpbGVNZXNzYWdlKHIsZSxzLHQpLG8odCl9dGhpcy5fbWF5YmVGb3JjZUNsZWFudXAoKX1jYXRjaCh1KXtuKHUpfX1fbWFyayhlLHQscil7Y29uc3Qgcz0oNDI5NDkwMTc2MCZ0aGlzLl9zdG9yYWdlLmdldEluc3RhbmNlSWQoZSkpPj4+MTY7ZSYmKHQuYWRkKHMpLHIuc2V0KGUpKX1fbWFya0FuZFN3ZWVwKCl7dGhpcy5fbGFzdENsZWFudXA9cGVyZm9ybWFuY2Uubm93KCk7aWYoISghKFwiZmVhdHVyZVwiPT09dGhpcy5fc291cmNlLnR5cGUmJlwic25hcHNob3RcIj09PXRoaXMuX3NvdXJjZS5tb2RlKSYmKFwic3RyZWFtXCI9PT10aGlzLl9zb3VyY2UudHlwZXx8dGhpcy5fY2xlYW51cE5lZWRlZCkpKXJldHVybjt0aGlzLl9jbGVhbnVwTmVlZGVkPSExO2NvbnN0IGU9dGhpcy5fc3RvcmFnZS5nZXRCaXRzZXQodGhpcy5fbWFya2VkSWRzQnVmSWQpLHQ9bmV3IFNldDtlLmNsZWFyKCk7Zm9yKGNvbnN0IHIgb2YgdGhpcy50aWxlU3RvcmUudGlsZXMpZm9yKGNvbnN0IHMgb2YgdGhpcy5fc291cmNlLnJlYWRlcnMoci5pZCkpe2NvbnN0IHI9cy5nZXRDdXJzb3IoKTtmb3IoO3IubmV4dCgpOyl7bGV0IHM9ci5nZXREaXNwbGF5SWQoKTtpZighcyl7Y29uc3QgZT1yLmdldE9iamVjdElkKCk7cz10aGlzLmZlYXR1cmVTdG9yZS5sb29rdXBEaXNwbGF5SWQoZSl9dGhpcy5fbWFyayhzLHQsZSl9fVwic3ltYm9sXCI9PT10aGlzLnByb2Nlc3Nvci50eXBlJiZ0aGlzLnByb2Nlc3Nvci5mb3JFYWNoQnVmZmVySWQoKHI9Pnt0aGlzLl9tYXJrKHIsdCxlKX0pKSx0aGlzLl91cGRhdGVRdWV1ZS5mb3JFYWNoKChyPT57Zm9yKGNvbnN0IHMgb2Ygci5yZW1vdmU/P1tdKXtjb25zdCByPXRoaXMuZmVhdHVyZVN0b3JlLmxvb2t1cERpc3BsYXlJZChzKTt0aGlzLl9tYXJrKHIsdCxlKX19KSksbnVsbCE9dGhpcy5hZ2dyZWdhdGVTdG9yZSYmKHRoaXMuYWdncmVnYXRlU3RvcmUuc3dlZXBGZWF0dXJlcyhlLHRoaXMuZmVhdHVyZVN0b3JlKSxcInN3ZWVwQWdncmVnYXRlc1wiaW4gdGhpcy5hZ2dyZWdhdGVTdG9yZSYmdGhpcy5hZ2dyZWdhdGVTdG9yZS5zd2VlcEFnZ3JlZ2F0ZXModGhpcy5fc3RvcmFnZSx0aGlzLmF0dHJpYnV0ZVN0b3JlLHRoaXMuX2xldmVsKSksdGhpcy5mZWF0dXJlU3RvcmUuc3dlZXBGZWF0dXJlcyhlLHRoaXMuX3N0b3JhZ2UsdGhpcy5hdHRyaWJ1dGVTdG9yZSksdGhpcy5mZWF0dXJlU3RvcmUuc3dlZXBGZWF0dXJlU2V0cyh0KX19O2UoW2goe2NvbnN0cnVjdE9ubHk6ITB9KV0sVS5wcm90b3R5cGUsXCJ0aWxlU3RvcmVcIix2b2lkIDApLGUoW2goKV0sVS5wcm90b3R5cGUsXCJjb25maWdcIix2b2lkIDApLGUoW2goe3JlYWRPbmx5OiEwfSldLFUucHJvdG90eXBlLFwiZmllbGRzSW5kZXhcIixudWxsKSxlKFtoKCldLFUucHJvdG90eXBlLFwicHJvY2Vzc29yXCIsdm9pZCAwKSxlKFtoKHtjb25zdHJ1Y3RPbmx5OiEwfSldLFUucHJvdG90eXBlLFwicmVtb3RlQ2xpZW50XCIsdm9pZCAwKSxlKFtoKHtjb25zdHJ1Y3RPbmx5OiEwfSldLFUucHJvdG90eXBlLFwic2VydmljZVwiLHZvaWQgMCksZShbaCgpXSxVLnByb3RvdHlwZSxcInNwYXRpYWxSZWZlcmVuY2VcIixudWxsKSxlKFtoKCldLFUucHJvdG90eXBlLFwidXBkYXRpbmdcIixudWxsKSxVPWUoW2MoXCJlc3JpLnZpZXdzLjJkLmxheWVycy5mZWF0dXJlcy5jb250cm9sbGVycy5GZWF0dXJlQ29udHJvbGxlcjJEXCIpXSxVKTtjb25zdCBSPVU7ZXhwb3J0e1IgYXMgZGVmYXVsdH07XG4iLCIvKlxuQWxsIG1hdGVyaWFsIGNvcHlyaWdodCBFU1JJLCBBbGwgUmlnaHRzIFJlc2VydmVkLCB1bmxlc3Mgb3RoZXJ3aXNlIHNwZWNpZmllZC5cblNlZSBodHRwczovL2pzLmFyY2dpcy5jb20vNC4yNy9lc3JpL2NvcHlyaWdodC50eHQgZm9yIGRldGFpbHMuXG4qL1xuaW1wb3J0IGhhcyBmcm9tXCIuLi8uLi8uLi8uLi8uLi8uLi9jb3JlL2hhcy5qc1wiO2ltcG9ydCBlIGZyb21cIi4uLy4uLy4uLy4uLy4uLy4uL2NvcmUvd29ya2Vycy9Db25uZWN0aW9uLmpzXCI7aW1wb3J0e3RvUXVhbnRpemF0aW9uVHJhbnNmb3JtIGFzIHR9ZnJvbVwiLi4vLi4vLi4vLi4vLi4vLi4vZ2VvbWV0cnkvc3VwcG9ydC9xdWFudGl6YXRpb25VdGlscy5qc1wiO2ltcG9ydHtjb252ZXJ0RnJvbUZlYXR1cmVTZXQgYXMgcixxdWFudGl6ZU9wdGltaXplZEZlYXR1cmVTZXQgYXMgc31mcm9tXCIuLi8uLi8uLi8uLi8uLi8uLi9sYXllcnMvZ3JhcGhpY3MvZmVhdHVyZUNvbnZlcnNpb25VdGlscy5qc1wiO2ltcG9ydHtxdWVyeU9wdGltaXplZEZlYXR1cmVTZXQgYXMgaX1mcm9tXCIuLi8uLi8uLi8uLi8uLi8uLi9sYXllcnMvb2djL29nY0ZlYXR1cmVVdGlscy5qc1wiO2ltcG9ydHtleGVjdXRlUXVlcnlQQkZCdWZmZXIgYXMgYSxleGVjdXRlUXVlcnkgYXMgb31mcm9tXCIuLi8uLi8uLi8uLi8uLi8uLi9yZXN0L3F1ZXJ5L29wZXJhdGlvbnMvcXVlcnkuanNcIjtpbXBvcnR7RmVhdHVyZVNldFJlYWRlckpTT04gYXMgbn1mcm9tXCIuLi8uLi9zdXBwb3J0L0ZlYXR1cmVTZXRSZWFkZXJKU09OLmpzXCI7aW1wb3J0e0ZlYXR1cmVTZXRSZWFkZXJQQkYgYXMgdX1mcm9tXCIuLi8uLi9zdXBwb3J0L0ZlYXR1cmVTZXRSZWFkZXJQQkYuanNcIjtjbGFzcyBje2NvbnN0cnVjdG9yKGUpe3RoaXMuc2VydmljZT1lfWRlc3Ryb3koKXt9fWZ1bmN0aW9uIG0oZSl7cmV0dXJuIEFycmF5LmlzQXJyYXkoZS5zb3VyY2UpfWZ1bmN0aW9uIHAoZSl7cmV0dXJuXCJvZ2Mtc291cmNlXCI9PT1lPy50eXBlfWZ1bmN0aW9uIGwoZSl7Y29uc3R7Y2FwYWJpbGl0aWVzOnR9PWU7cmV0dXJuIHAoZS5zb3VyY2UpP25ldyB2KGUpOm0oZSk/bmV3IHkoZSk6dC5xdWVyeS5zdXBwb3J0c0Zvcm1hdFBCRiYmaGFzKFwiZmVhdHVyZWxheWVyLXBiZlwiKT9uZXcgaChlKTpuZXcgZChlKX1hc3luYyBmdW5jdGlvbiBmKHQpe2NvbnN0IHI9bmV3IGU7cmV0dXJuIGF3YWl0IHIub3Blbih0LHt9KSxyfWNsYXNzIHkgZXh0ZW5kcyBje2NvbnN0cnVjdG9yKGUpe3N1cGVyKGUpLHRoaXMuX3BvcnRzT3Blbj1mKGUuc291cmNlKS50aGVuKChlPT50aGlzLmNsaWVudD1lKSl9ZGVzdHJveSgpe3RoaXMuY2xpZW50LmNsb3NlKCksdGhpcy5jbGllbnQ9bnVsbH1hc3luYyBleGVjdXRlUXVlcnkoZSx0KXthd2FpdCB0aGlzLl9wb3J0c09wZW47Y29uc3Qgcj1hd2FpdCB0aGlzLmNsaWVudC5pbnZva2UoXCJxdWVyeUZlYXR1cmVzXCIsZS50b0pTT04oKSx0KTtyZXR1cm4gbi5mcm9tRmVhdHVyZVNldChyLHRoaXMuc2VydmljZSl9fWNsYXNzIGggZXh0ZW5kcyBje2FzeW5jIGV4ZWN1dGVRdWVyeShlLHQpe2NvbnN0e2RhdGE6cn09YXdhaXQgYSh0aGlzLnNlcnZpY2Uuc291cmNlLGUsdCkscz0hZS5xdWFudGl6YXRpb25QYXJhbWV0ZXJzO3JldHVybiB1LmZyb21CdWZmZXIocix0aGlzLnNlcnZpY2Uscyl9fWNsYXNzIGQgZXh0ZW5kcyBje2FzeW5jIGV4ZWN1dGVRdWVyeShlLGkpe2NvbnN0e3NvdXJjZTphLGNhcGFiaWxpdGllczp1LHNwYXRpYWxSZWZlcmVuY2U6YyxvYmplY3RJZEZpZWxkOm0sZ2VvbWV0cnlUeXBlOnB9PXRoaXMuc2VydmljZTtpZihudWxsIT1lLnF1YW50aXphdGlvblBhcmFtZXRlcnMmJiF1LnF1ZXJ5LnN1cHBvcnRzUXVhbnRpemF0aW9uKXtjb25zdCB1PWUuY2xvbmUoKSxwPXQodS5xdWFudGl6YXRpb25QYXJhbWV0ZXJzKTt1LnF1YW50aXphdGlvblBhcmFtZXRlcnM9bnVsbDtjb25zdHtkYXRhOmx9PWF3YWl0IG8oYSx1LGMsaSksZj1yKGwsbSk7cmV0dXJuIHMocCxmKSxuLmZyb21PcHRpbWl6ZWRGZWF0dXJlU2V0KGYsdGhpcy5zZXJ2aWNlKX1jb25zdHtkYXRhOmx9PWF3YWl0IG8oYSxlLHRoaXMuc2VydmljZS5zcGF0aWFsUmVmZXJlbmNlLGkpO3JldHVyblwiZXNyaUdlb21ldHJ5UG9pbnRcIj09PXAmJihsLmZlYXR1cmVzPWwuZmVhdHVyZXM/LmZpbHRlcigoZT0+e2lmKG51bGwhPWUuZ2VvbWV0cnkpe2NvbnN0IHQ9ZS5nZW9tZXRyeTtyZXR1cm4gTnVtYmVyLmlzRmluaXRlKHQueCkmJk51bWJlci5pc0Zpbml0ZSh0LnkpfXJldHVybiEwfSkpKSxuLmZyb21GZWF0dXJlU2V0KGwsdGhpcy5zZXJ2aWNlKX19Y2xhc3MgdiBleHRlbmRzIGN7YXN5bmMgZXhlY3V0ZVF1ZXJ5KGUscil7Y29uc3R7Y2FwYWJpbGl0aWVzOmF9PXRoaXMuc2VydmljZTtpZihlLnF1YW50aXphdGlvblBhcmFtZXRlcnMmJiFhLnF1ZXJ5LnN1cHBvcnRzUXVhbnRpemF0aW9uKXtjb25zdCBhPWUuY2xvbmUoKSxvPXQoYS5xdWFudGl6YXRpb25QYXJhbWV0ZXJzKTthLnF1YW50aXphdGlvblBhcmFtZXRlcnM9bnVsbDtjb25zdCB1PWF3YWl0IGkodGhpcy5zZXJ2aWNlLnNvdXJjZSxlLHIpO3JldHVybiBzKG8sdSksbi5mcm9tT3B0aW1pemVkRmVhdHVyZVNldCh1LHRoaXMuc2VydmljZSl9Y29uc3Qgbz1hd2FpdCBpKHRoaXMuc2VydmljZS5zb3VyY2UsZSxyKTtyZXR1cm4gbi5mcm9tT3B0aW1pemVkRmVhdHVyZVNldChvLHRoaXMuc2VydmljZSl9fWV4cG9ydHtjIGFzIFNvdXJjZUFkYXB0ZXIsbCBhcyBjcmVhdGVTb3VyY2VBZGFwdGVyfTtcbiIsIi8qXG5BbGwgbWF0ZXJpYWwgY29weXJpZ2h0IEVTUkksIEFsbCBSaWdodHMgUmVzZXJ2ZWQsIHVubGVzcyBvdGhlcndpc2Ugc3BlY2lmaWVkLlxuU2VlIGh0dHBzOi8vanMuYXJjZ2lzLmNvbS80LjI3L2VzcmkvY29weXJpZ2h0LnR4dCBmb3IgZGV0YWlscy5cbiovXG5mdW5jdGlvbiBvKG8pe3JldHVyblwiaGVhdG1hcFwiPT09bz9pbXBvcnQoXCIuL3Byb2Nlc3NvcnMvSGVhdG1hcFByb2Nlc3Nvci5qc1wiKTppbXBvcnQoXCIuL3Byb2Nlc3NvcnMvU3ltYm9sUHJvY2Vzc29yLmpzXCIpfWV4cG9ydHtvIGFzIGxvYWRQcm9jZXNzb3JNb2R1bGV9O1xuIiwiLypcbkFsbCBtYXRlcmlhbCBjb3B5cmlnaHQgRVNSSSwgQWxsIFJpZ2h0cyBSZXNlcnZlZCwgdW5sZXNzIG90aGVyd2lzZSBzcGVjaWZpZWQuXG5TZWUgaHR0cHM6Ly9qcy5hcmNnaXMuY29tLzQuMjcvZXNyaS9jb3B5cmlnaHQudHh0IGZvciBkZXRhaWxzLlxuKi9cbmltcG9ydCBlIGZyb21cIi4uLy4uLy4uLy4uLy4uL3JlcXVlc3QuanNcIjtpbXBvcnQgdCBmcm9tXCIuLi8uLi8uLi8uLi8uLi9jb3JlL0Vycm9yLmpzXCI7aW1wb3J0IGhhcyBmcm9tXCIuLi8uLi8uLi8uLi8uLi9jb3JlL2hhcy5qc1wiO2ltcG9ydCByIGZyb21cIi4uLy4uLy4uLy4uLy4uL2NvcmUvTG9nZ2VyLmpzXCI7aW1wb3J0e3Rocm93SWZBYm9ydGVkIGFzIHMsaXNBYm9ydEVycm9yIGFzIGl9ZnJvbVwiLi4vLi4vLi4vLi4vLi4vY29yZS9wcm9taXNlVXRpbHMuanNcIjtpbXBvcnR7Y3JlYXRlU291cmNlQWRhcHRlciBhcyBhfWZyb21cIi4uL2NvbnRyb2xsZXJzL3N1cHBvcnQvc291cmNlQWRhcHRlcnMuanNcIjtpbXBvcnR7RGF0YVRpbGVTb3VyY2UgYXMgb31mcm9tXCIuL0RhdGFUaWxlU291cmNlLmpzXCI7aW1wb3J0e1F1ZXVlUHJvY2Vzc29yIGFzIG59ZnJvbVwiLi4vLi4vLi4vLi4vc3VwcG9ydC9RdWV1ZVByb2Nlc3Nvci5qc1wiO2NvbnN0IHU9NDtjbGFzcyBjIGV4dGVuZHMgb3tjb25zdHJ1Y3RvcihlKXtzdXBlcihlKSx0aGlzLnR5cGU9XCJmZWF0dXJlXCIsdGhpcy5tb2RlPVwib24tZGVtYW5kXCIsdGhpcy5fYWRhcHRlcj1hKGUuc2VydmljZUluZm8pLHRoaXMuX3F1ZXVlPW5ldyBuKHtjb25jdXJyZW5jeTo4LHByb2Nlc3M6YXN5bmMgZT0+e2lmKHMoZSksbnVsbCE9ZS50aWxlKXtjb25zdCB0PWUudGlsZS5rZXkuaWQse3NpZ25hbDpyfT1lLHM9aGFzKFwiZXNyaS10aWxlcy1kZWJ1Z1wiKT97dGlsZTp0LnJlcGxhY2VBbGwoXCIvXCIsXCIuXCIpLGRlcHRoOmUuZGVwdGh9OnZvaWQgMCxpPWF3YWl0IHRoaXMuX2FkYXB0ZXIuZXhlY3V0ZVF1ZXJ5KGUucXVlcnkse3NpZ25hbDpyLHF1ZXJ5OnsuLi5zLC4uLnRoaXMuX3NjaGVtYT8uY3VzdG9tUGFyYW1ldGVyc319KTtyZXR1cm4gaS5sZXZlbD1lLnRpbGUua2V5LmxldmVsLGl9cmV0dXJuIHRoaXMuX2FkYXB0ZXIuZXhlY3V0ZVF1ZXJ5KGUucXVlcnksey4uLmUscXVlcnk6dGhpcy5fc2NoZW1hPy5jdXN0b21QYXJhbWV0ZXJzfSl9fSksdGhpcy5fcGF0Y2hRdWV1ZT1uZXcgbih7Y29uY3VycmVuY3k6OCxwcm9jZXNzOmFzeW5jIGU9PntpZihzKGUpLG51bGwhPWUudGlsZSl7Y29uc3QgdD1lLnRpbGUua2V5LmlkLHtzaWduYWw6cn09ZSxzPWhhcyhcImVzcmktdGlsZXMtZGVidWdcIik/e3RpbGU6dC5yZXBsYWNlQWxsKFwiL1wiLFwiLlwiKSxkZXB0aDplLmRlcHRofTp2b2lkIDAsaT1hd2FpdCB0aGlzLl9hZGFwdGVyLmV4ZWN1dGVRdWVyeShlLnF1ZXJ5LHtzaWduYWw6cixxdWVyeTp7Li4ucywuLi50aGlzLl9zY2hlbWE/LmN1c3RvbVBhcmFtZXRlcnN9fSk7cmV0dXJuIGkubGV2ZWw9ZS50aWxlLmtleS5sZXZlbCxpfXJldHVybiB0aGlzLl9hZGFwdGVyLmV4ZWN1dGVRdWVyeShlLnF1ZXJ5LHsuLi5lLHF1ZXJ5OnRoaXMuX3NjaGVtYT8uY3VzdG9tUGFyYW1ldGVyc30pfX0pfWRlc3Ryb3koKXtzdXBlci5kZXN0cm95KCksdGhpcy5fYWRhcHRlci5kZXN0cm95KCksdGhpcy5fcXVldWUuZGVzdHJveSgpLHRoaXMuX3BhdGNoUXVldWUuZGVzdHJveSgpfWVucXVldWVRdWVyeShlLHQpe3JldHVybiB0aGlzLnVwZGF0aW5nSGFuZGxlcy5hZGRQcm9taXNlKHRoaXMuX3F1ZXVlLnB1c2goZSx0KSl9ZW5xdWV1ZVBhdGNoUXVlcnkoZSx0KXtyZXR1cm4gdGhpcy51cGRhdGluZ0hhbmRsZXMuYWRkUHJvbWlzZSh0aGlzLl9wYXRjaFF1ZXVlLnB1c2goZSx0KSl9Z2V0IG1heFJlY29yZENvdW50RmFjdG9yKCl7Y29uc3R7cXVlcnk6ZX09dGhpcy5fc2VydmljZUluZm8uY2FwYWJpbGl0aWVzO3JldHVybiBlLnN1cHBvcnRzTWF4UmVjb3JkQ291bnRGYWN0b3I/dTpudWxsfWdldCBtYXhQYWdlU2l6ZSgpe2NvbnN0e3F1ZXJ5OmV9PXRoaXMuX3NlcnZpY2VJbmZvLmNhcGFiaWxpdGllcztyZXR1cm4oZS5tYXhSZWNvcmRDb3VudD8/OGUzKSoodGhpcy5tYXhSZWNvcmRDb3VudEZhY3Rvcj8/MSl9Z2V0IHBhZ2VTaXplKCl7cmV0dXJuIE1hdGgubWluKDhlMyx0aGlzLm1heFBhZ2VTaXplKX1lbmFibGVFdmVudChlLHQpe31zdWJzY3JpYmUoZSxzKXtzdXBlci5zdWJzY3JpYmUoZSxzKSx0aGlzLl9mZXRjaERhdGFUaWxlKGUpLmNhdGNoKChzPT57aShzKXx8ci5nZXRMb2dnZXIoXCJlc3JpLnZpZXdzLjJkLmxheWVycy5mZWF0dXJlcy5zb3VyY2VzLkJhc2VGZWF0dXJlU291cmNlXCIpLmVycm9yKG5ldyB0KFwibWFwdmlldy1xdWVyeS1lcnJvclwiLFwiRW5jb3VudGVyZWQgZXJyb3Igd2hlbiBmZXRjaGluZyB0aWxlXCIse3RpbGU6ZSxlcnJvcjpzfSkpfSkpfXVuc3Vic2NyaWJlKGUpe3N1cGVyLnVuc3Vic2NyaWJlKGUpfXJlYWRlcnMoZSl7cmV0dXJuIHRoaXMuX3N1YnNjcmlwdGlvbnMuZ2V0KGUpLnJlYWRlcnMoKX1hc3luYyBxdWVyeShlLHQ9e30pe2NvbnN0IHI9dC5xdWVyeT8/e307cmV0dXJuIHRoaXMuX2FkYXB0ZXIuZXhlY3V0ZVF1ZXJ5KGUsey4uLnQscXVlcnk6ey4uLnIsLi4udGhpcy5fc2NoZW1hPy5jdXN0b21QYXJhbWV0ZXJzfX0pfWFzeW5jIHF1ZXJ5TGFzdEVkaXREYXRlKCl7Y29uc3QgdD10aGlzLl9zZXJ2aWNlSW5mby5zb3VyY2Uscj17Li4udC5xdWVyeSxmOlwianNvblwifTtyZXR1cm4oYXdhaXQgZSh0LnBhdGgse3F1ZXJ5OnIscmVzcG9uc2VUeXBlOlwianNvblwifSkpLmRhdGEuZWRpdGluZ0luZm8ubGFzdEVkaXREYXRlfWNyZWF0ZVRpbGVRdWVyeShlLHQ9e30pe2NvbnN0IHI9dGhpcy5fc2VydmljZUluZm8uZ2VvbWV0cnlUeXBlLHM9dGhpcy5jcmVhdGVRdWVyeSh0KTtzLnF1YW50aXphdGlvblBhcmFtZXRlcnM9dC5xdWFudGl6YXRpb25QYXJhbWV0ZXJzPz9lLmdldFF1YW50aXphdGlvblBhcmFtZXRlcnMoKSxzLnJlc3VsdFR5cGU9XCJ0aWxlXCIscy5nZW9tZXRyeT1lLmV4dGVudCx0aGlzLl9zZXJ2aWNlSW5mby5jYXBhYmlsaXRpZXMucXVlcnkuc3VwcG9ydHNRdWFudGl6YXRpb24/XCJlc3JpR2VvbWV0cnlQb2x5bGluZVwiPT09ciYmKHMubWF4QWxsb3dhYmxlT2Zmc2V0PWUucmVzb2x1dGlvbipoYXMoXCJmZWF0dXJlLXBvbHlsaW5lLWdlbmVyYWxpemF0aW9uLWZhY3RvclwiKSk6XCJlc3JpR2VvbWV0cnlQb2x5bGluZVwiIT09ciYmXCJlc3JpR2VvbWV0cnlQb2x5Z29uXCIhPT1yfHwocy5tYXhBbGxvd2FibGVPZmZzZXQ9ZS5yZXNvbHV0aW9uLFwiZXNyaUdlb21ldHJ5UG9seWxpbmVcIj09PXImJihzLm1heEFsbG93YWJsZU9mZnNldCo9aGFzKFwiZmVhdHVyZS1wb2x5bGluZS1nZW5lcmFsaXphdGlvbi1mYWN0b3JcIikpKTtjb25zdCBpPXRoaXMuX3NlcnZpY2VJbmZvLmNhcGFiaWxpdGllcy5xdWVyeTtyZXR1cm4gcy5kZWZhdWx0U3BhdGlhbFJlZmVyZW5jZUVuYWJsZWQ9aS5zdXBwb3J0c0RlZmF1bHRTcGF0aWFsUmVmZXJlbmNlLHMuY29tcGFjdEdlb21ldHJ5RW5hYmxlZD1pLnN1cHBvcnRzQ29tcGFjdEdlb21ldHJ5LHN9YXN5bmMgX2V4ZWN1dGVQYXRjaFF1ZXJ5KGUsdCxyLHMpe2NvbnN0IGk9dC5jbG9uZSgpO2kub3V0RmllbGRzPVt0aGlzLl9zZXJ2aWNlSW5mby5vYmplY3RJZEZpZWxkLC4uLnJdLGkucmV0dXJuQ2VudHJvaWQ9ITEsaS5yZXR1cm5HZW9tZXRyeT0hMTtjb25zdCBhPW51bGwhPWkuc3RhcnQ/aS5zdGFydC84ZTM6MCxvPXMuc2lnbmFsO3JldHVybiBhd2FpdCB0aGlzLmVucXVldWVQYXRjaFF1ZXJ5KHt0aWxlOmUscXVlcnk6aSxzaWduYWw6byxkZXB0aDphfSl9YXN5bmMgX3Jlc2VuZChlLHQpe2NvbnN0e3F1ZXJ5OnIsbWVzc2FnZTppfT1lLGE9bnVsbCE9ci5vdXRGaWVsZHM/ci5vdXRGaWVsZHM6W10sbz10aGlzLl9xdWVyeUluZm8ub3V0RmllbGRzLG49by5maWx0ZXIoKGU9PiFhLmluY2x1ZGVzKGUpKSk7aWYobnVsbCE9aS5hZGRPclVwZGF0ZSlpZihuLmxlbmd0aCl0cnl7Y29uc3QgZT10aGlzLl9zdWJzY3JpcHRpb25zLmdldChpLmlkKS50aWxlLGE9YXdhaXQgdGhpcy5fZXhlY3V0ZVBhdGNoUXVlcnkoZSxyLG4sdCk7cyh0KSxyLm91dEZpZWxkcz1vLGkuYWRkT3JVcGRhdGUuam9pbkF0dHJpYnV0ZXMoYSksdGhpcy5fb25NZXNzYWdlKHsuLi5pLGVuZDppLmVuZCx0eXBlOlwiYXBwZW5kXCJ9KX1jYXRjaCh1KXt9ZWxzZSB0aGlzLl9vbk1lc3NhZ2Uoey4uLmksdHlwZTpcImFwcGVuZFwifSk7ZWxzZSB0aGlzLl9vbk1lc3NhZ2Uoey4uLmksdHlwZTpcImFwcGVuZFwifSl9YXN5bmMgX3Jlc2VuZFN1YnNjcmlwdGlvbihlKXtpZihoYXMoXCJlc3JpLTJkLXVwZGF0ZS1kZWJ1Z1wiKSYmY29uc29sZS5kZWJ1ZyhlLnRpbGUuaWQsXCJSZXNlbmQgU3Vic2NyaXB0aW9uXCIpLGUuZW1wdHkpcmV0dXJuIHRoaXMuX29uTWVzc2FnZSh7aWQ6ZS50aWxlLmlkLGFkZE9yVXBkYXRlOm51bGwsZW5kOiExLHR5cGU6XCJhcHBlbmRcIn0pO2NvbnN0IHQ9ZS5zaWduYWw7Zm9yKGNvbnN0IHIgb2YgZS5yZXF1ZXN0cy5kb25lKWF3YWl0IHRoaXMuX3Jlc2VuZChyLHtzaWduYWw6dH0pO3JldHVybiBudWxsIT1lLmVkaXRzP3RoaXMuX29uTWVzc2FnZShlLmVkaXRzKTp2b2lkIDB9YXN5bmMgcmVzZW5kKCl7Y29uc3QgZT1BcnJheS5mcm9tKHRoaXMuX3N1YnNjcmlwdGlvbnMudmFsdWVzKCkpO2F3YWl0IFByb21pc2UuYWxsKGUubWFwKChlPT50aGlzLl9yZXNlbmRTdWJzY3JpcHRpb24oZSkpKSl9fWV4cG9ydHtjIGFzIEJhc2VGZWF0dXJlU291cmNlfTtcbiIsIi8qXG5BbGwgbWF0ZXJpYWwgY29weXJpZ2h0IEVTUkksIEFsbCBSaWdodHMgUmVzZXJ2ZWQsIHVubGVzcyBvdGhlcndpc2Ugc3BlY2lmaWVkLlxuU2VlIGh0dHBzOi8vanMuYXJjZ2lzLmNvbS80LjI3L2VzcmkvY29weXJpZ2h0LnR4dCBmb3IgZGV0YWlscy5cbiovXG5pbXBvcnQgZSBmcm9tXCIuLi8uLi8uLi8uLi8uLi9UaW1lRXh0ZW50LmpzXCI7aW1wb3J0IHMgZnJvbVwiLi4vLi4vLi4vLi4vLi4vY29yZS9FdmVudGVkLmpzXCI7aW1wb3J0IGhhcyBmcm9tXCIuLi8uLi8uLi8uLi8uLi9jb3JlL2hhcy5qc1wiO2ltcG9ydHtjcmVhdGVSZXNvbHZlciBhcyB0LGlnbm9yZUFib3J0RXJyb3JzIGFzIGksZWFjaEFsd2F5c1ZhbHVlcyBhcyByLGVhY2hBbHdheXMgYXMgb31mcm9tXCIuLi8uLi8uLi8uLi8uLi9jb3JlL3Byb21pc2VVdGlscy5qc1wiO2ltcG9ydHtkaWZmIGFzIG4saGFzRGlmZiBhcyB1LGhhc0RpZmZBbnkgYXMgY31mcm9tXCIuLi8uLi8uLi8uLi8uLi9jb3JlL2FjY2Vzc29yU3VwcG9ydC9kaWZmVXRpbHMuanNcIjtpbXBvcnR7V2F0Y2hVcGRhdGluZ1RyYWNraW5nIGFzIGF9ZnJvbVwiLi4vLi4vLi4vLi4vLi4vY29yZS9zdXBwb3J0L1dhdGNoVXBkYXRpbmdUcmFja2luZy5qc1wiO2ltcG9ydCBkIGZyb21cIi4uLy4uLy4uLy4uLy4uL3Jlc3Qvc3VwcG9ydC9RdWVyeS5qc1wiO2ltcG9ydHtEYXRhVGlsZVN1YnNjcmlwdGlvbiBhcyBofWZyb21cIi4vRGF0YVRpbGVTdWJzY3JpcHRpb24uanNcIjtpbXBvcnR7VXBkYXRlVG9rZW4gYXMgbH1mcm9tXCIuLi9zdXBwb3J0L1VwZGF0ZVRva2VuLmpzXCI7ZnVuY3Rpb24gcChlLHMpe2NvbnN0IHQ9bmV3IFNldDtyZXR1cm4gZSYmZS5mb3JFYWNoKChlPT50LmFkZChlKSkpLHMmJnMuZm9yRWFjaCgoZT0+dC5hZGQoZSkpKSx0LmhhcyhcIipcIik/W1wiKlwiXTpBcnJheS5mcm9tKHQpfWNsYXNzIG17Y29uc3RydWN0b3IoZSl7dGhpcy51cGRhdGluZ0hhbmRsZXM9bmV3IGEsdGhpcy5ldmVudHM9bmV3IHMsdGhpcy5fcmVzb2x2ZXI9dCgpLHRoaXMuX2RpZEVkaXQ9ITEsdGhpcy5fc3Vic2NyaXB0aW9ucz1uZXcgTWFwLHRoaXMuX291dFNSPWUub3V0U1IsdGhpcy5fc2VydmljZUluZm89ZS5zZXJ2aWNlSW5mbyx0aGlzLl9vblRpbGVVcGRhdGVNZXNzYWdlPWUub25NZXNzYWdlfWRlc3Ryb3koKXtmb3IoY29uc3QgZSBvZiB0aGlzLl9zdWJzY3JpcHRpb25zLnZhbHVlcygpKWUuYWJvcnQoKTt0aGlzLnVwZGF0aW5nSGFuZGxlcy5kZXN0cm95KCl9Z2V0IHN1YnNjcmlwdGlvbnMoKXtyZXR1cm4gdGhpcy5fc3Vic2NyaXB0aW9ucy52YWx1ZXMoKX1hc3luYyBfb25NZXNzYWdlKGUpe2NvbnN0IHM9dGhpcy5fc3Vic2NyaXB0aW9ucy5nZXQoZS5pZCk7aWYoIXMpcmV0dXJuO2NvbnN0IHQ9ey4uLmUscmVtb3ZlOmUucmVtb3ZlPz9bXSxzdGF0dXM6ZS5zdGF0dXM/P2wuZW1wdHkoKX07cmV0dXJuIGkodGhpcy5fb25UaWxlVXBkYXRlTWVzc2FnZSh0LHMub3B0aW9ucykpfXVwZGF0ZShzLHQpe2NvbnN0IGk9dC5maWVsZHMubGVuZ3RoO3Qub3V0RmllbGRzPXAodGhpcy5fc2NoZW1hPy5vdXRGaWVsZHMsdC5vdXRGaWVsZHMpLHQub3V0RmllbGRzPXQub3V0RmllbGRzLmxlbmd0aD49Ljc1Kmk/W1wiKlwiXTp0Lm91dEZpZWxkcyx0Lm91dEZpZWxkcy5zb3J0KCk7Y29uc3Qgcj1uKHRoaXMuX3NjaGVtYSx0KTtpZighcilyZXR1cm47aGFzKFwiZXNyaS0yZC11cGRhdGUtZGVidWdcIikmJmNvbnNvbGUuZGVidWcoXCJBcHBseWluZyBVcGRhdGUgLSBTb3VyY2U6XCIscik7Y29uc3Qgbz1cIm9yZGVyQnlGaWVsZHNcImluIHRoaXMuX3NlcnZpY2VJbmZvJiZ0aGlzLl9zZXJ2aWNlSW5mby5vcmRlckJ5RmllbGRzP3RoaXMuX3NlcnZpY2VJbmZvLm9yZGVyQnlGaWVsZHM6dGhpcy5fc2VydmljZUluZm8ub2JqZWN0SWRGaWVsZCtcIiBBU0NcIixhPXtyZXR1cm5DZW50cm9pZDpcImVzcmlHZW9tZXRyeVBvbHlnb25cIj09PXRoaXMuX3NlcnZpY2VJbmZvLmdlb21ldHJ5VHlwZSxyZXR1cm5HZW9tZXRyeTohMCx0aW1lUmVmZXJlbmNlVW5rbm93bkNsaWVudDpcInN0cmVhbVwiIT09dGhpcy5fc2VydmljZUluZm8udHlwZSYmdGhpcy5fc2VydmljZUluZm8udGltZVJlZmVyZW5jZVVua25vd25DbGllbnQsb3V0RmllbGRzOnQub3V0RmllbGRzLG91dFNwYXRpYWxSZWZlcmVuY2U6dGhpcy5fb3V0U1Isb3JkZXJCeUZpZWxkczpbb10sd2hlcmU6dC5kZWZpbml0aW9uRXhwcmVzc2lvbnx8XCIxPTFcIixnZGJWZXJzaW9uOnQuZ2RiVmVyc2lvbixoaXN0b3JpY01vbWVudDp0Lmhpc3RvcmljTW9tZW50LHRpbWVFeHRlbnQ6dC50aW1lRXh0ZW50P2UuZnJvbUpTT04odC50aW1lRXh0ZW50KTpudWxsfSxkPXRoaXMuX3NjaGVtYSYmdShyLFwib3V0RmllbGRzXCIpO3RoaXMuX3NjaGVtYSYmYyhyLFtcInRpbWVFeHRlbnRcIixcImRlZmluaXRpb25FeHByZXNzaW9uXCIsXCJnZGJWZXJzaW9uXCIsXCJoaXN0b3JpY01vbWVudFwiLFwiY3VzdG9tUGFyYW1ldGVyc1wiXSkmJihzLndoeS5tZXNoLnB1c2goXCJMYXllciBmaWx0ZXIgYW5kL29yIGN1c3RvbSBwYXJhbWV0ZXJzIGNoYW5nZWRcIikscy53aHkuc291cmNlLnB1c2goXCJMYXllciBmaWx0ZXIgYW5kL29yIGN1c3RvbSBwYXJhbWV0ZXJzIGNoYW5nZWRcIikscy5tZXNoPSEwLHMuc291cmNlPSEwLHMucXVlcnlGaWx0ZXI9ITApLGQmJihzLndoeS5zb3VyY2UucHVzaChcIkxheWVyIHJlcXVpcmVkIGZpZWxkcyBjaGFuZ2VkXCIpLHMuc291cmNlPSEwKSxuKGEsdGhpcy5fcXVlcnlJbmZvKSYmKHRoaXMuX3F1ZXJ5SW5mbz1hKSx0aGlzLl9zY2hlbWE9dCx0aGlzLl9yZXNvbHZlci5yZXNvbHZlKCl9d2hlbkluaXRpYWxpemVkKCl7cmV0dXJuIHRoaXMuX3Jlc29sdmVyLnByb21pc2V9YXN5bmMgYXBwbHlVcGRhdGUoZSl7aWYoZS5xdWVyeUZpbHRlcnx8ZS5zb3VyY2UmJnRoaXMuX2RpZEVkaXQpcmV0dXJuIHRoaXMucmVmcmVzaChlLnZlcnNpb24pLHZvaWQodGhpcy5fZGlkRWRpdD0hMSk7dGhpcy5fc3Vic2NyaXB0aW9ucy5mb3JFYWNoKChzPT5zLmFwcGx5VXBkYXRlKGUpKSksYXdhaXQgdGhpcy5yZXNlbmQoKX1yZWZyZXNoKGUscyl7Zm9yKGNvbnN0IHQgb2YgdGhpcy5fdGlsZXMoKSl0aGlzLnVuc3Vic2NyaWJlKHQpLHRoaXMuc3Vic2NyaWJlKHQsZSl9c3Vic2NyaWJlKGUscyl7Y29uc3QgdD1uZXcgaChlLHMpO3RoaXMuX3N1YnNjcmlwdGlvbnMuc2V0KGUuaWQsdCksdGhpcy51cGRhdGluZ0hhbmRsZXMuYWRkUHJvbWlzZSh0LmRvbmUpfXVuc3Vic2NyaWJlKGUpe2NvbnN0IHM9dGhpcy5nZXRTdWJzY3JpcHRpb24oZS5pZCk7bnVsbCE9cyYmcy5hYm9ydCgpLHRoaXMuX3N1YnNjcmlwdGlvbnMuZGVsZXRlKGUuaWQpfWNyZWF0ZVF1ZXJ5KGU9e30pe2NvbnN0IHM9dGhpcy5fcXVlcnlJbmZvLmhpc3RvcmljTW9tZW50P25ldyBEYXRlKHRoaXMuX3F1ZXJ5SW5mby5oaXN0b3JpY01vbWVudCk6bnVsbDtyZXR1cm4gbmV3IGQoey4uLnRoaXMuX3F1ZXJ5SW5mbyxoaXN0b3JpY01vbWVudDpzLC4uLmV9KX1nZXRTdWJzY3JpcHRpb24oZSl7cmV0dXJuIHRoaXMuX3N1YnNjcmlwdGlvbnMuaGFzKGUpP3RoaXMuX3N1YnNjcmlwdGlvbnMuZ2V0KGUpOm51bGx9YXN5bmMgcXVlcnlMYXN0RWRpdERhdGUoKXt0aHJvdyBuZXcgRXJyb3IoXCJTZXJ2aWNlIGRvZXMgbm90IHN1cHBvcnQgcXVlcnkgdHlwZVwiKX1hc3luYyBxdWVyeShlLHMpe3Rocm93IG5ldyBFcnJvcihcIlNlcnZpY2UgZG9lcyBub3Qgc3VwcG9ydCBxdWVyeVwiKX0qX3RpbGVzKCl7Y29uc3QgZT1BcnJheS5mcm9tKHRoaXMuX3N1YnNjcmlwdGlvbnMudmFsdWVzKCkpO2Zvcihjb25zdCBzIG9mIGUpeWllbGQgcy50aWxlfWFzeW5jIGVkaXQoZSxzKXtjb25zdCB0PUFycmF5LmZyb20odGhpcy5fc3Vic2NyaXB0aW9ucy52YWx1ZXMoKSksaT10Lm1hcCgoKHt0aWxlOmV9KT0+ZSkpO2Zvcihjb25zdCByIG9mIHQpci5yZW1vdmVJZHMocyk7aWYoZS5sZW5ndGgpe2NvbnN0IHQ9aS5tYXAoKHM9Pntjb25zdCB0PXRoaXMuY3JlYXRlVGlsZVF1ZXJ5KHMpO3JldHVybiB0Lm9iamVjdElkcz1lLHt0aWxlOnMscXVlcnk6dH19KSkubWFwKChhc3luYyh7dGlsZTplLHF1ZXJ5OnN9KT0+KHt0aWxlOmUscmVzdWx0OmF3YWl0IHRoaXMucXVlcnkocyx7cXVlcnk6e3RpbGU6aGFzKFwiZXNyaS10aWxlcy1kZWJ1Z1wiKT9lLmlkLnJlcGxhY2VBbGwoXCIvXCIsXCIuXCIpOnZvaWQgMH19KSxxdWVyeTpzfSkpKSxuPShhd2FpdCByKHQpKS5tYXAoKGFzeW5jKHt0aWxlOnQscmVzdWx0Oml9KT0+e2lmKCFpLmhhc0ZlYXR1cmVzJiYhcy5sZW5ndGgmJiFlLmxlbmd0aClyZXR1cm47Y29uc3Qgcj10aGlzLl9zdWJzY3JpcHRpb25zLmdldCh0LmtleS5pZCk7ciYmci5lZGl0KGksZSl9KSk7YXdhaXQgbyhuKX10aGlzLl9kaWRFZGl0PSEwfX1leHBvcnR7bSBhcyBEYXRhVGlsZVNvdXJjZX07XG4iLCIvKlxuQWxsIG1hdGVyaWFsIGNvcHlyaWdodCBFU1JJLCBBbGwgUmlnaHRzIFJlc2VydmVkLCB1bmxlc3Mgb3RoZXJ3aXNlIHNwZWNpZmllZC5cblNlZSBodHRwczovL2pzLmFyY2dpcy5jb20vNC4yNy9lc3JpL2NvcHlyaWdodC50eHQgZm9yIGRldGFpbHMuXG4qL1xuaW1wb3J0e2lzU29tZSBhcyBlfWZyb21cIi4uLy4uLy4uLy4uLy4uL2NvcmUvYXJyYXlVdGlscy5qc1wiO2ltcG9ydCBzIGZyb21cIi4uLy4uLy4uLy4uLy4uL2NvcmUvQ2lyY3VsYXJBcnJheS5qc1wiO2ltcG9ydCBoYXMgZnJvbVwiLi4vLi4vLi4vLi4vLi4vY29yZS9oYXMuanNcIjtpbXBvcnR7Y3JlYXRlUmVzb2x2ZXIgYXMgdH1mcm9tXCIuLi8uLi8uLi8uLi8uLi9jb3JlL3Byb21pc2VVdGlscy5qc1wiO2ltcG9ydHtGZWF0dXJlU2V0UmVhZGVySlNPTiBhcyByfWZyb21cIi4uL3N1cHBvcnQvRmVhdHVyZVNldFJlYWRlckpTT04uanNcIjtpbXBvcnR7VXBkYXRlVG9rZW4gYXMgaX1mcm9tXCIuLi9zdXBwb3J0L1VwZGF0ZVRva2VuLmpzXCI7Y2xhc3MgZHtjb25zdHJ1Y3RvcihlLHIpe3RoaXMucmVxdWVzdHM9e2RvbmU6bmV3IEFycmF5LHN0cmVhbTpuZXcgcygxMCl9LHRoaXMuX2VkaXRzPW51bGwsdGhpcy5fYWJvcnRDb250cm9sbGVyPW5ldyBBYm9ydENvbnRyb2xsZXIsdGhpcy5fdmVyc2lvbj0wLHRoaXMuX3Jlc29sdmVyPXQoKSx0aGlzLl9pc0RvbmU9ITEsdGhpcy5kaWRTZW5kPSExLHRoaXMudGlsZT1lLHRoaXMuX3ZlcnNpb249cn1nZXQgc2lnbmFsKCl7cmV0dXJuIHRoaXMuX2Fib3J0Q29udHJvbGxlci5zaWduYWx9Z2V0IG9wdGlvbnMoKXtyZXR1cm57c2lnbmFsOnRoaXMuX2Fib3J0Q29udHJvbGxlci5zaWduYWx9fWdldCBlbXB0eSgpe3JldHVybiF0aGlzLnJlcXVlc3RzLmRvbmUubGVuZ3RoJiZudWxsPT10aGlzLmVkaXRzfWdldCBlZGl0cygpe3JldHVybiB0aGlzLl9lZGl0c31nZXQgZG9uZSgpe3JldHVybiB0aGlzLl9yZXNvbHZlci5wcm9taXNlfWdldCBpc0RvbmUoKXtyZXR1cm4gdGhpcy5faXNEb25lfXJlc29sdmUoKXt0aGlzLl9pc0RvbmU9ITAsdGhpcy5fcmVzb2x2ZXIucmVzb2x2ZSgpfWNsZWFyKCl7dGhpcy5yZXF1ZXN0cy5kb25lPVtdfWFwcGx5VXBkYXRlKGUpe3RoaXMucmVxdWVzdHMuZG9uZS5mb3JFYWNoKChzPT5zLm1lc3NhZ2Uuc3RhdHVzLnVuc2V0KGUpKSksdGhpcy5fdmVyc2lvbj1lLnZlcnNpb24sbnVsbCE9dGhpcy5fZWRpdHMmJnRoaXMuX2VkaXRzLnN0YXR1cy51bnNldChlKX1hZGQoZSl7ZS5tZXNzYWdlLnN0YXR1cz1lLm1lc3NhZ2Uuc3RhdHVzPz9pLmVtcHR5KCksZS5tZXNzYWdlLnN0YXR1cy52ZXJzaW9uPXRoaXMuX3ZlcnNpb24saGFzKFwiZXNyaS0yZC11cGRhdGUtZGVidWdcIikmJmNvbnNvbGUuZGVidWcodGhpcy50aWxlLmlkLFwiRGF0YVRpbGVTdWJzY3JpcHRpb246YWRkXCIsdGhpcy5fdmVyc2lvbiksZS5tZXNzYWdlLmVuZCYmKHRoaXMucmVxdWVzdHMuZG9uZS5mb3JFYWNoKChlPT57bnVsbCE9ZS5tZXNzYWdlJiZlLm1lc3NhZ2UuZW5kJiYoZS5tZXNzYWdlLmVuZD0hMSl9KSksdGhpcy5fcmVzb2x2ZXIucmVzb2x2ZSgpLHRoaXMuX2lzRG9uZT0hMCksdGhpcy5yZXF1ZXN0cy5kb25lLnB1c2goZSl9ZWRpdChzLHQpe2NvbnN0IGQ9cy5nZXRRdWFudGl6YXRpb25UcmFuc2Zvcm0oKSxvPXMuZnVsbFNjaGVtYSgpLGE9QXJyYXkuZnJvbShzLmZlYXR1cmVzKCkpLmZpbHRlcihlKSxuPVsuLi50LC4uLmEubWFwKChlPT5lLm9iamVjdElkKSldO2lmKHRoaXMucmVtb3ZlSWRzKG4pLHRoaXMuX2ludmFsaWRhdGUoKSxudWxsPT10aGlzLl9lZGl0cylyZXR1cm4gdm9pZCh0aGlzLl9lZGl0cz17dHlwZTpcImFwcGVuZFwiLGFkZE9yVXBkYXRlOnIuZnJvbU9wdGltaXplZEZlYXR1cmVzKGEsbyxkKSxpZDp0aGlzLnRpbGUuaWQsc3RhdHVzOmkuZW1wdHkoKSxlbmQ6ITB9KTt0aGlzLnJlcXVlc3RzLmRvbmUuZm9yRWFjaCgoZT0+ZS5tZXNzYWdlLmVuZD0hMSkpO3RoaXMuX2VkaXRzLmFkZE9yVXBkYXRlLmFwcGVuZChzLmZlYXR1cmVzKCkpfSpyZWFkZXJzKCl7Zm9yKGNvbnN0e21lc3NhZ2U6ZX1vZiB0aGlzLnJlcXVlc3RzLmRvbmUpbnVsbCE9ZS5hZGRPclVwZGF0ZSYmKHlpZWxkIGUuYWRkT3JVcGRhdGUpO251bGwhPXRoaXMuX2VkaXRzJiZudWxsIT10aGlzLl9lZGl0cy5hZGRPclVwZGF0ZSYmKHlpZWxkIHRoaXMuX2VkaXRzLmFkZE9yVXBkYXRlKX1faW52YWxpZGF0ZSgpe2Zvcihjb25zdCBlIG9mIHRoaXMucmVxdWVzdHMuZG9uZSllLm1lc3NhZ2Uuc3RhdHVzPWkuZW1wdHkoKTtudWxsIT10aGlzLl9lZGl0cyYmKHRoaXMuX2VkaXRzLnN0YXR1cz1pLmVtcHR5KCkpfXJlbW92ZUlkcyhlKXt0aGlzLl9pbnZhbGlkYXRlKCk7Zm9yKGNvbnN0e21lc3NhZ2U6c31vZiB0aGlzLnJlcXVlc3RzLmRvbmUpe2NvbnN0IHQ9cy5hZGRPclVwZGF0ZTtudWxsIT10JiYodC5yZW1vdmVJZHMoZSksdC5pc0VtcHR5JiYoaGFzKFwiZXNyaS0yZC11cGRhdGUtZGVidWdcIikmJmNvbnNvbGUuZGVidWcoXCJSZW1vdmluZyBGZWF0dXJlU2V0UmVhZGVyXCIpLHMuYWRkT3JVcGRhdGU9bnVsbCkpfW51bGwhPXRoaXMuX2VkaXRzJiZudWxsIT10aGlzLl9lZGl0cy5hZGRPclVwZGF0ZSYmdGhpcy5fZWRpdHMuYWRkT3JVcGRhdGUucmVtb3ZlSWRzKGUpLHRoaXMucmVxdWVzdHMuZG9uZT10aGlzLnJlcXVlc3RzLmRvbmUuZmlsdGVyKChlPT5lLm1lc3NhZ2UuYWRkT3JVcGRhdGV8fGUubWVzc2FnZS5lbmQpKX1hYm9ydCgpe3RoaXMuX2Fib3J0Q29udHJvbGxlci5hYm9ydCgpLHRoaXMuX3Jlc29sdmVyLnJlamVjdCgpfX1leHBvcnR7ZCBhcyBEYXRhVGlsZVN1YnNjcmlwdGlvbn07XG4iLCIvKlxuQWxsIG1hdGVyaWFsIGNvcHlyaWdodCBFU1JJLCBBbGwgUmlnaHRzIFJlc2VydmVkLCB1bmxlc3Mgb3RoZXJ3aXNlIHNwZWNpZmllZC5cblNlZSBodHRwczovL2pzLmFyY2dpcy5jb20vNC4yNy9lc3JpL2NvcHlyaWdodC50eHQgZm9yIGRldGFpbHMuXG4qL1xuaW1wb3J0IGhhcyBmcm9tXCIuLi8uLi8uLi8uLi8uLi9jb3JlL2hhcy5qc1wiO2ltcG9ydHt0aHJvd0lmQWJvcnRlZCBhcyBlLGlzQWJvcnRFcnJvciBhcyB0fWZyb21cIi4uLy4uLy4uLy4uLy4uL2NvcmUvcHJvbWlzZVV0aWxzLmpzXCI7aW1wb3J0e0Jhc2VGZWF0dXJlU291cmNlIGFzIHJ9ZnJvbVwiLi9CYXNlRmVhdHVyZVNvdXJjZS5qc1wiO2NvbnN0IHM9aGFzKFwiZXNyaS1tb2JpbGVcIiksaT17bWF4RHJpbGxMZXZlbDpzPzE6NCxtYXhSZWNvcmRDb3VudEZhY3RvcjpzPzE6M307Y2xhc3MgYSBleHRlbmRzIHJ7Y29uc3RydWN0b3IoZSl7c3VwZXIoZSl9YXN5bmMgX2ZldGNoRGF0YVRpbGUocil7Y29uc3Qgcz10aGlzLl9zZXJ2aWNlSW5mby5jYXBhYmlsaXRpZXMucXVlcnkuc3VwcG9ydHNNYXhSZWNvcmRDb3VudEZhY3RvcixhPXRoaXMuX3N1YnNjcmlwdGlvbnMuZ2V0KHIua2V5LmlkKSxvPWEuc2lnbmFsLG49ci5nZXRRdWFudGl6YXRpb25QYXJhbWV0ZXJzKCk7bGV0IGM9MDtjb25zdCBkPWFzeW5jKHUsbCk9Pntjb25zdCBtPXRoaXMuX3F1ZXJ5SW5mbyxwPXRoaXMuY3JlYXRlVGlsZVF1ZXJ5KHUse21heFJlY29yZENvdW50RmFjdG9yOnM/aS5tYXhSZWNvcmRDb3VudEZhY3Rvcjp2b2lkIDAscmV0dXJuRXhjZWVkZWRMaW1pdEZlYXR1cmVzOiExLHF1YW50aXphdGlvblBhcmFtZXRlcnM6bn0pO2MrKzt0cnl7Y29uc3QgdD1hd2FpdCB0aGlzLmVucXVldWVRdWVyeSh7dGlsZTpyLHF1ZXJ5OnAsc2lnbmFsOm8sZGVwdGg6bH0pO2lmKGMtLSxlKG8pLCF0KXJldHVybjtpZihtIT09dGhpcy5fcXVlcnlJbmZvKXJldHVybiB2b2lkIGQodSxsKTtpZih0LmV4Y2VlZGVkVHJhbnNmZXJMaW1pdCYmbDxpLm1heERyaWxsTGV2ZWwpe2Zvcihjb25zdCBlIG9mIHUuY3JlYXRlQ2hpbGRUaWxlcygpKWQoZSxsKzEpO3JldHVybn1jb25zdCBzPXtpZDpyLmlkLGFkZE9yVXBkYXRlOnQsZW5kOjA9PT1jLHR5cGU6XCJhcHBlbmRcIn07YS5hZGQoe3F1ZXJ5OnAsbWVzc2FnZTpzfSksdGhpcy5fb25NZXNzYWdlKHMpfWNhdGNoKGYpe2lmKCF0KGYpKXtjb25zdCBlPXtpZDpyLmlkLGFkZE9yVXBkYXRlOm51bGwsZW5kOiEwLHR5cGU6XCJhcHBlbmRcIn07YS5hZGQoe3F1ZXJ5OnAsbWVzc2FnZTplfSksdGhpcy5fb25NZXNzYWdlKGUpfX19O2QociwwKX19ZXhwb3J0e2EgYXMgRHJpbGxEb3duRmVhdHVyZVNvdXJjZX07XG4iLCIvKlxuQWxsIG1hdGVyaWFsIGNvcHlyaWdodCBFU1JJLCBBbGwgUmlnaHRzIFJlc2VydmVkLCB1bmxlc3Mgb3RoZXJ3aXNlIHNwZWNpZmllZC5cblNlZSBodHRwczovL2pzLmFyY2dpcy5jb20vNC4yNy9lc3JpL2NvcHlyaWdodC50eHQgZm9yIGRldGFpbHMuXG4qL1xuaW1wb3J0IGUgZnJvbVwiLi4vLi4vLi4vLi4vLi4vY29yZS9FcnJvci5qc1wiO2ltcG9ydCB0IGZyb21cIi4uLy4uLy4uLy4uLy4uL2NvcmUvTG9nZ2VyLmpzXCI7aW1wb3J0e2lzQWJvcnRFcnJvciBhcyByLHRocm93SWZBYm9ydGVkIGFzIGEsdGhyb3dJZk5vdEFib3J0RXJyb3IgYXMgc31mcm9tXCIuLi8uLi8uLi8uLi8uLi9jb3JlL3Byb21pc2VVdGlscy5qc1wiO2ltcG9ydHtCYXNlRmVhdHVyZVNvdXJjZSBhcyBpfWZyb21cIi4vQmFzZUZlYXR1cmVTb3VyY2UuanNcIjtjbGFzcyBvIGV4dGVuZHMgaXtjb25zdHJ1Y3RvcihlKXtzdXBlcihlKX1hc3luYyBfZmV0Y2hEYXRhVGlsZShzKXtjb25zdCBpPTYsbz0yMCxuPXRoaXMuX3N1YnNjcmlwdGlvbnMuZ2V0KHMua2V5LmlkKTtsZXQgZD0hMSxjPTAsdT0wO2NvbnN0IGg9KGUsdCk9Pnt1LS0sYShuKTtjb25zdCByPXMuaWQsaT1lLnJlYWRlcixvPWUucXVlcnk7aWYoIWkuZXhjZWVkZWRUcmFuc2ZlckxpbWl0KXtpZihkPSEwLDAhPT10JiYhaS5oYXNGZWF0dXJlcyl7Y29uc3QgZT17aWQ6cixhZGRPclVwZGF0ZTppLGVuZDowPT09dSx0eXBlOlwiYXBwZW5kXCJ9O3JldHVybiBuLmFkZCh7bWVzc2FnZTplLHF1ZXJ5Om99KSx2b2lkIHRoaXMuX29uTWVzc2FnZShlKX1jb25zdCBlPXtpZDpyLGFkZE9yVXBkYXRlOmksZW5kOjA9PT11LHR5cGU6XCJhcHBlbmRcIn07cmV0dXJuIG4uYWRkKHttZXNzYWdlOmUscXVlcnk6b30pLHZvaWQgdGhpcy5fb25NZXNzYWdlKGUpfWNvbnN0IGM9e2lkOnIsYWRkT3JVcGRhdGU6aSxlbmQ6ZCYmMD09PXUsdHlwZTpcImFwcGVuZFwifTtuLmFkZCh7bWVzc2FnZTpjLHF1ZXJ5Om99KSx0aGlzLl9vbk1lc3NhZ2UoYyl9O2xldCBtPTAscD0wO2Zvcig7IWQmJnArKzxvOyl7bGV0IG87Zm9yKGxldCBhPTA7YTxtKzE7YSsrKXtjb25zdCBhPWMrKzt1Kyssbz10aGlzLl9mZXRjaERhdGFUaWxlUGFnZShzLGEsbikudGhlbigoZT0+ZSYmaChlLGEpKSkuY2F0Y2goKGE9PntpZihkPSEwLCFyKGEpKXt0LmdldExvZ2dlcihcImVzcmkudmlld3MuMmQubGF5ZXJzLmZlYXR1cmVzLnNvdXJjZXMuUGFnZWRGZWF0dXJlU291cmNlXCIpLmVycm9yKG5ldyBlKFwibWFwdmlldy1xdWVyeS1lcnJvclwiLFwiRW5jb3VudGVyZWQgZXJyb3Igd2hlbiBmZXRjaGluZyB0aWxlXCIse3RpbGU6cyxlcnJvcjphfSkpO2NvbnN0IHI9e2lkOnMuaWQsYWRkT3JVcGRhdGU6bnVsbCxlbmQ6ZCx0eXBlOlwiYXBwZW5kXCJ9LGk9e3N0YXJ0OnRoaXMucGFnZVNpemUqYyxudW06dGhpcy5wYWdlU2l6ZSxyZXR1cm5FeGNlZWRlZExpbWl0RmVhdHVyZXM6ITAscXVhbnRpemF0aW9uUGFyYW1ldGVyczpzLmdldFF1YW50aXphdGlvblBhcmFtZXRlcnMoKX07bnVsbCE9dGhpcy5tYXhSZWNvcmRDb3VudEZhY3RvciYmKGkubWF4UmVjb3JkQ291bnRGYWN0b3I9dGhpcy5tYXhSZWNvcmRDb3VudEZhY3Rvcik7Y29uc3Qgbz10aGlzLmNyZWF0ZVRpbGVRdWVyeShzLGkpO24uYWRkKHttZXNzYWdlOnIscXVlcnk6b30pLHRoaXMuX29uTWVzc2FnZShyKX19KSl9YXdhaXQgbyxhKG4pLG09TWF0aC5taW4obSsyLGkpfX1hc3luYyBfZmV0Y2hEYXRhVGlsZVBhZ2UoZSx0LHIpe2Eocik7Y29uc3QgaT10aGlzLl9xdWVyeUluZm8sbz17c3RhcnQ6dGhpcy5wYWdlU2l6ZSp0LG51bTp0aGlzLnBhZ2VTaXplLHJldHVybkV4Y2VlZGVkTGltaXRGZWF0dXJlczohMCxxdWFudGl6YXRpb25QYXJhbWV0ZXJzOmUuZ2V0UXVhbnRpemF0aW9uUGFyYW1ldGVycygpfTtudWxsIT10aGlzLm1heFJlY29yZENvdW50RmFjdG9yJiYoby5tYXhSZWNvcmRDb3VudEZhY3Rvcj10aGlzLm1heFJlY29yZENvdW50RmFjdG9yKTtjb25zdCBuPXRoaXMuY3JlYXRlVGlsZVF1ZXJ5KGUsbyk7dHJ5e2NvbnN0IHM9ci5zaWduYWwsbz1hd2FpdCB0aGlzLmVucXVldWVRdWVyeSh7dGlsZTplLHF1ZXJ5Om4sc2lnbmFsOnMsZGVwdGg6dH0pO3JldHVybiBhKHIpLG8/aSE9PXRoaXMuX3F1ZXJ5SW5mbz90aGlzLl9mZXRjaERhdGFUaWxlUGFnZShlLHQscik6e3JlYWRlcjpvLHF1ZXJ5Om59Om51bGx9Y2F0Y2goZCl7cmV0dXJuIHMoZCksbnVsbH19fWV4cG9ydHtvIGFzIFBhZ2VkRmVhdHVyZVNvdXJjZX07XG4iLCIvKlxuQWxsIG1hdGVyaWFsIGNvcHlyaWdodCBFU1JJLCBBbGwgUmlnaHRzIFJlc2VydmVkLCB1bmxlc3Mgb3RoZXJ3aXNlIHNwZWNpZmllZC5cblNlZSBodHRwczovL2pzLmFyY2dpcy5jb20vNC4yNy9lc3JpL2NvcHlyaWdodC50eHQgZm9yIGRldGFpbHMuXG4qL1xuaW1wb3J0e18gYXMgZX1mcm9tXCIuLi8uLi8uLi8uLi8uLi9jaHVua3MvdHNsaWIuZXM2LmpzXCI7aW1wb3J0XCIuLi8uLi8uLi8uLi8uLi9jb3JlL2hhcy5qc1wiO2ltcG9ydCB0IGZyb21cIi4uLy4uLy4uLy4uLy4uL2NvcmUvTG9nZ2VyLmpzXCI7aW1wb3J0e3Vud3JhcE9yVGhyb3cgYXMgc31mcm9tXCIuLi8uLi8uLi8uLi8uLi9jb3JlL21heWJlLmpzXCI7aW1wb3J0e3Rocm93SWZBYm9ydGVkIGFzIHIsYWZ0ZXIgYXMgb31mcm9tXCIuLi8uLi8uLi8uLi8uLi9jb3JlL3Byb21pc2VVdGlscy5qc1wiO2ltcG9ydCBuIGZyb21cIi4uLy4uLy4uLy4uLy4uL2NvcmUvUmFuZG9tTENHLmpzXCI7aW1wb3J0e3N1YmNsYXNzIGFzIGF9ZnJvbVwiLi4vLi4vLi4vLi4vLi4vY29yZS9hY2Nlc3NvclN1cHBvcnQvZGVjb3JhdG9ycy9zdWJjbGFzcy5qc1wiO2ltcG9ydHtCYXNlRmVhdHVyZVNvdXJjZSBhcyBpfWZyb21cIi4vQmFzZUZlYXR1cmVTb3VyY2UuanNcIjtpbXBvcnR7RmVhdHVyZVNldFJlYWRlckluZGlyZWN0IGFzIGR9ZnJvbVwiLi4vc3VwcG9ydC9GZWF0dXJlU2V0UmVhZGVyUEJGSW5kaXJlY3QuanNcIjtpbXBvcnR7VXBkYXRlVG9rZW4gYXMgdX1mcm9tXCIuLi9zdXBwb3J0L1VwZGF0ZVRva2VuLmpzXCI7ZnVuY3Rpb24gbChlLHQscyl7Y29uc3Qgcj1lLmdldFhIeWRyYXRlZCgpLG89ZS5nZXRZSHlkcmF0ZWQoKSxuPXQuZ2V0Q29sdW1uRm9yWChyKSxhPU1hdGguZmxvb3IodC5ub3JtYWxpemVDb2wobikpO3JldHVybmAke3N9LyR7TWF0aC5mbG9vcih0LmdldFJvd0ZvclkobykpfS8ke2F9YH1mdW5jdGlvbiBoKGUsdCl7aWYobnVsbD09ZSlyZXR1cm4gbnVsbDtjb25zdCBzPXQudHJhbnNmb3JtLHI9ZS5nZXRRdWFudGl6YXRpb25UcmFuc2Zvcm0oKTtpZihudWxsPT1yKXtjb25zdFt0LHJdPXMuc2NhbGUsW28sbl09cy50cmFuc2xhdGUsYT0tby90LGk9MS90LGQ9bi9yLHU9MS8tcjtyZXR1cm4gZS50cmFuc2Zvcm0oYSxkLGksdSl9Y29uc3RbbyxuXT1yLnNjYWxlLFthLGldPXIudHJhbnNsYXRlLFtkLHVdPXMuc2NhbGUsW2wsaF09cy50cmFuc2xhdGUsYz1vL2QsZz0oYS1sKS9kLHA9bi91LF89KC1pK2gpL3U7cmV0dXJuIGUudHJhbnNmb3JtKGcsXyxjLHApfWxldCBjPWNsYXNzIGV4dGVuZHMgaXtjb25zdHJ1Y3RvcihlKXtzdXBlcihlKSx0aGlzLm1vZGU9XCJzbmFwc2hvdFwiLHRoaXMuX2xvYWRpbmc9ITAsdGhpcy5fY29udHJvbGxlcj1uZXcgQWJvcnRDb250cm9sbGVyLHRoaXMuX2Rvd25sb2FkUHJvbWlzZT1udWxsLHRoaXMuX2RpZFNlbmRFbmQ9ITEsdGhpcy5fcXVlcmllcz1uZXcgQXJyYXksdGhpcy5faW52YWxpZGF0ZWQ9ITEsdGhpcy5faGFzQWdncmVnYXRlcz0hMSx0aGlzLl9yYW5kb209bmV3IG4oMWUzKSx0aGlzLl9zdG9yZT1lLnN0b3JlLHRoaXMuX21hcmtlZElkc0J1ZklkPXRoaXMuX3N0b3JlLnN0b3JhZ2UuY3JlYXRlQml0c2V0KCl9ZGVzdHJveSgpe3N1cGVyLmRlc3Ryb3koKSx0aGlzLl9jb250cm9sbGVyLmFib3J0KCl9Z2V0IGxvYWRpbmcoKXtyZXR1cm4gdGhpcy5fbG9hZGluZ31nZXQgX3NpZ25hbCgpe3JldHVybiB0aGlzLl9jb250cm9sbGVyLnNpZ25hbH11cGRhdGUoZSx0KXtzdXBlci51cGRhdGUoZSx0KSxudWxsPT10aGlzLl9mZWF0dXJlQ291bnQmJih0aGlzLl9mZWF0dXJlQ291bnQ9dC5pbml0aWFsRmVhdHVyZUNvdW50KSxudWxsIT10LmNoYW5nZWRGZWF0dXJlQ291bnQmJih0aGlzLl9mZWF0dXJlQ291bnQ9dC5jaGFuZ2VkRmVhdHVyZUNvdW50KSx0aGlzLl9oYXNBZ2dyZWdhdGVzPSEhZS50YXJnZXRzPy5hZ2dyZWdhdGV9YXN5bmMgcmVzZW5kKGU9ITEpe2lmKGF3YWl0IHRoaXMuX2Rvd25sb2FkUHJvbWlzZSx0aGlzLl9pbnZhbGlkYXRlZHx8ZSl7Y29uc3QgZT1zKHRoaXMuX2ZlYXR1cmVDb3VudCxcIkV4cGVjdGVkIGZlYXR1cmVDb3VudCB0byBiZSBkZWZpbmVkXCIpO3JldHVybiB0aGlzLl9pbnZhbGlkYXRlZD0hMSx0aGlzLl9zdWJzY3JpcHRpb25zLmZvckVhY2goKGU9PmUuY2xlYXIoKSkpLHRoaXMuX2Rvd25sb2FkUHJvbWlzZT10aGlzLl9kb3dubG9hZChlKSx2b2lkIGF3YWl0IHRoaXMuX2Rvd25sb2FkUHJvbWlzZX1jb25zdCB0PXRoaXMuX3F1ZXJpZXMubWFwKCgoe3F1ZXJ5OmUscmVhZGVyOnR9KT0+dGhpcy5fc2VuZFBhdGNoUXVlcnkoZSx0KSkpO2F3YWl0IFByb21pc2UuYWxsKHQpLHRoaXMuX3N1YnNjcmlwdGlvbnMuZm9yRWFjaCgoZT0+e2UucmVxdWVzdHMuZG9uZS5mb3JFYWNoKChlPT50aGlzLl9vbk1lc3NhZ2UoZS5tZXNzYWdlKSkpfSkpfWFzeW5jIHJlZnJlc2goZSx0KXt0JiYodGhpcy5fZmVhdHVyZUNvdW50PXQuZmVhdHVyZUNvdW50KSxhd2FpdCB0aGlzLnJlc2VuZCghMCl9YXN5bmMgX3NlbmRQYXRjaFF1ZXJ5KGUsdCl7Y29uc3Qgcz1udWxsIT1lLm91dEZpZWxkcz9lLm91dEZpZWxkczpbXSxvPXRoaXMuX3F1ZXJ5SW5mby5vdXRGaWVsZHMsbj1vLmZpbHRlcigoZT0+IXMuaW5jbHVkZXMoZSkpKTtpZighbi5sZW5ndGgpcmV0dXJuO2NvbnN0IGE9ZS5jbG9uZSgpLGk9dGhpcy5fc2lnbmFsO2EucmV0dXJuR2VvbWV0cnk9ITEsYS5yZXR1cm5DZW50cm9pZD0hMSxhLm91dEZpZWxkcz1uLGUub3V0RmllbGRzPW87Y29uc3QgZD1hd2FpdCB0aGlzLmVucXVldWVRdWVyeSh7cXVlcnk6YSxkZXB0aDowLHNpZ25hbDppfSk7cih7c2lnbmFsOml9KSx0LmpvaW5BdHRyaWJ1dGVzKGQpfWFzeW5jIF9mZXRjaERhdGFUaWxlKGUpe2lmKCF0aGlzLl9kb3dubG9hZFByb21pc2Upe2NvbnN0IGU9cyh0aGlzLl9mZWF0dXJlQ291bnQsXCJFeHBlY3RlZCBmZWF0dXJlQ291bnQgdG8gYmUgZGVmaW5lZFwiKTt0aGlzLl9kb3dubG9hZFByb21pc2U9dGhpcy5fZG93bmxvYWQoZSl9Y29uc3QgdD10aGlzLl9zdG9yZS5zZWFyY2goZSkscj10aGlzLl9zdWJzY3JpcHRpb25zLmdldChlLmtleS5pZCksbj10Lmxlbmd0aC0xO2ZvcihsZXQgcz0wO3M8bjtzKyspe2NvbnN0IG49aCh0W3NdLGUpLGE9e3R5cGU6XCJhcHBlbmRcIixpZDplLmlkLGFkZE9yVXBkYXRlOm4sZW5kOiExLHN0YXR1czp1LmVtcHR5KCl9O3IuYWRkKHtxdWVyeTpudWxsLG1lc3NhZ2U6YX0pLHRoaXMuX2hhc0FnZ3JlZ2F0ZXN8fGF3YWl0IG8oMSksdGhpcy5fb25NZXNzYWdlKGEpfWNvbnN0IGE9aChuPj0wP3Rbbl06bnVsbCxlKSxpPXRoaXMuX2RpZFNlbmRFbmQsZD17dHlwZTpcImFwcGVuZFwiLGlkOmUuaWQsYWRkT3JVcGRhdGU6YSxlbmQ6aSxzdGF0dXM6dS5lbXB0eSgpfTtyLmFkZCh7cXVlcnk6bnVsbCxtZXNzYWdlOmR9KSx0aGlzLl9vbk1lc3NhZ2UoZCl9YXN5bmMgX2Rvd25sb2FkKGUpe3RyeXthd2FpdCB0aGlzLndoZW5Jbml0aWFsaXplZCgpO2NvbnN0IHQ9dGhpcy5fc3RvcmUuc3RvcmFnZS5nZXRCaXRzZXQodGhpcy5fbWFya2VkSWRzQnVmSWQpLHM9bmV3IFNldDt0LmNsZWFyKCk7Y29uc3Qgcj1NYXRoLmNlaWwoZS90aGlzLnBhZ2VTaXplKSxvPUFycmF5LmZyb20oe2xlbmd0aDpyfSwoKGUsdCk9PnQpKS5zb3J0KCgoZSx0KT0+dGhpcy5fcmFuZG9tLmdldEludCgpLXRoaXMuX3JhbmRvbS5nZXRJbnQoKSkpLm1hcCgoZT0+dGhpcy5fZG93bmxvYWRQYWdlKGUsdCxzKSkpO2F3YWl0IFByb21pc2UuYWxsKG8pLHRoaXMuX3N0b3JlLnN3ZWVwRmVhdHVyZXModCx0aGlzLl9zdG9yZS5zdG9yYWdlKSx0aGlzLl9zdG9yZS5zd2VlcEZlYXR1cmVTZXRzKHMpfWNhdGNoKHMpe3QuZ2V0TG9nZ2VyKFwiZXNyaS52aWV3cy4yZC5sYXllcnMuZmVhdHVyZXMuc291cmNlcy5TbmFwc2hvdEZlYXR1cmVTb3VyY2VcIikuZXJyb3IoXCJtYXB2aWV3LXNuYXBzaG90LXNvdXJjZVwiLFwiRW5jb3VudGVyZWQgYW5kIGVycm9yIHdoZW4gZG93bmxvYWRpbmcgZmVhdHVyZSBzbmFwc2hvdFwiLHMpfXRoaXMuX3NlbmRFbmQoKSx0aGlzLl9sb2FkaW5nPSExfWFzeW5jIF9kb3dubG9hZFBhZ2UoZSx0LHMpe2NvbnN0IG89dGhpcy5wYWdlU2l6ZSxuPXtzdGFydDplKm8sbnVtOm8sY2FjaGVIaW50OiEwfTtudWxsIT10aGlzLm1heFJlY29yZENvdW50RmFjdG9yJiYobi5tYXhSZWNvcmRDb3VudEZhY3Rvcj10aGlzLm1heFJlY29yZENvdW50RmFjdG9yKTtjb25zdCBhPXRoaXMuY3JlYXRlUXVlcnkobiksaT10aGlzLl9zaWduYWwsZD1hd2FpdCB0aGlzLmVucXVldWVRdWVyeSh7cXVlcnk6YSxkZXB0aDplLHNpZ25hbDppfSk7cih7c2lnbmFsOml9KSx0aGlzLl9xdWVyaWVzLnB1c2goe3F1ZXJ5OmEscmVhZGVyOmR9KSx0aGlzLl9zdG9yZS5pbnNlcnQoZCkscy5hZGQoZC5pbnN0YW5jZSk7Y29uc3QgdT1kLmdldEN1cnNvcigpO2Zvcig7dS5uZXh0KCk7KXQuc2V0KHUuZ2V0RGlzcGxheUlkKCkpO3RoaXMuX3NlbmQoZCl9X3NlbmQoZSl7aWYoIXRoaXMuX3N1YnNjcmlwdGlvbnMuc2l6ZSlyZXR1cm47bGV0IHQ9bnVsbDtjb25zdCBzPW5ldyBNYXAscj1uZXcgU2V0LG89bmV3IE1hcDt0aGlzLl9zdWJzY3JpcHRpb25zLmZvckVhY2goKGU9Pntjb25zdCBuPWUudGlsZTtzLnNldChuLmtleS5pZCxudWxsKSx0PW4udGlsZUluZm9WaWV3LHIuYWRkKG4ubGV2ZWwpO2NvbnN0e3JvdzphLGNvbDppfT1uLmtleSxkPWAke24ubGV2ZWx9LyR7YX0vJHtpfWAsdT1vLmdldChkKT8/W107dS5wdXNoKGUpLG8uc2V0KGQsdSl9KSk7Zm9yKGNvbnN0IG4gb2Ygcil7Y29uc3Qgcj10LmdldExPREluZm9BdChuKSxhPWUuZ2V0Q3Vyc29yKCk7Zm9yKDthLm5leHQoKTspe2NvbnN0IGU9bChhLHIsbiksdD1hLmdldEluZGV4KCk7aWYoby5oYXMoZSkpZm9yKGNvbnN0IHIgb2Ygby5nZXQoZSkpe2NvbnN0IGU9ci50aWxlLmlkO2xldCBvPXMuZ2V0KGUpO251bGw9PW8mJihvPVtdLHMuc2V0KGUsbykpLG8ucHVzaCh0KX19fXMuZm9yRWFjaCgoKHQscyk9PntpZihudWxsIT10KXtjb25zdCByPXRoaXMuX3N1YnNjcmlwdGlvbnMuZ2V0KHMpLG89e3R5cGU6XCJhcHBlbmRcIixpZDpzLGFkZE9yVXBkYXRlOmgoZC5mcm9tKGUsdCksci50aWxlKSxlbmQ6ITEsc3RhdHVzOnUuZW1wdHkoKX07ci5hZGQoe3F1ZXJ5Om51bGwsbWVzc2FnZTpvfSksdGhpcy5fb25NZXNzYWdlKG8pfX0pKX1fc2VuZEVuZCgpe3RoaXMuX3N1YnNjcmlwdGlvbnMuZm9yRWFjaCgoZT0+e2NvbnN0IHQ9e3R5cGU6XCJhcHBlbmRcIixpZDplLnRpbGUuaWQsYWRkT3JVcGRhdGU6bnVsbCxlbmQ6ITAsc3RhdHVzOnUuZW1wdHkoKX07ZS5hZGQoe3F1ZXJ5Om51bGwsbWVzc2FnZTp0fSksdGhpcy5fb25NZXNzYWdlKHQpfSkpLHRoaXMuX2RpZFNlbmRFbmQ9ITB9fTtjPWUoW2EoXCJlc3JpLnZpZXcuMmQubGF5ZXJzLmZlYXR1cmVzLnNvdXJjZXMuU25hcHNob3RGZWF0dXJlU291cmNlXCIpXSxjKTtleHBvcnR7YyBhcyBTbmFwc2hvdEZlYXR1cmVTb3VyY2V9O1xuIiwiLypcbkFsbCBtYXRlcmlhbCBjb3B5cmlnaHQgRVNSSSwgQWxsIFJpZ2h0cyBSZXNlcnZlZCwgdW5sZXNzIG90aGVyd2lzZSBzcGVjaWZpZWQuXG5TZWUgaHR0cHM6Ly9qcy5hcmNnaXMuY29tLzQuMjcvZXNyaS9jb3B5cmlnaHQudHh0IGZvciBkZXRhaWxzLlxuKi9cbmltcG9ydHtfIGFzIHJ9ZnJvbVwiLi4vLi4vLi4vLi4vLi4vY2h1bmtzL3RzbGliLmVzNi5qc1wiO2ltcG9ydCBvIGZyb21cIi4uLy4uLy4uLy4uLy4uL2NvcmUvQWNjZXNzb3IuanNcIjtpbXBvcnR7cHJvcGVydHkgYXMgdH1mcm9tXCIuLi8uLi8uLi8uLi8uLi9jb3JlL2FjY2Vzc29yU3VwcG9ydC9kZWNvcmF0b3JzL3Byb3BlcnR5LmpzXCI7aW1wb3J0e3N1YmNsYXNzIGFzIGV9ZnJvbVwiLi4vLi4vLi4vLi4vLi4vY29yZS9hY2Nlc3NvclN1cHBvcnQvZGVjb3JhdG9ycy9zdWJjbGFzcy5qc1wiO2xldCBzPWNsYXNzIGV4dGVuZHMgb3tjb25zdHJ1Y3RvcihyKXtzdXBlcihyKX1nZXQgY29ubmVjdGlvblN0YXR1cygpe3JldHVybiB0aGlzLmNvbm5lY3Rpb24/LmNvbm5lY3Rpb25TdGF0dXN9Z2V0IGVycm9yU3RyaW5nKCl7cmV0dXJuIHRoaXMuY29ubmVjdGlvbj8uZXJyb3JTdHJpbmd9fTtyKFt0KCldLHMucHJvdG90eXBlLFwiY29ubmVjdGlvblwiLHZvaWQgMCkscihbdCgpXSxzLnByb3RvdHlwZSxcImNvbm5lY3Rpb25TdGF0dXNcIixudWxsKSxyKFt0KCldLHMucHJvdG90eXBlLFwiZXJyb3JTdHJpbmdcIixudWxsKSxzPXIoW2UoXCJlc3JpLnZpZXdzLjJkLmxheWVycy5mZWF0dXJlcy5zb3VyY2VzLlN0cmVhbUNvbm5lY3Rpb25TdGF0ZVwiKV0scyk7ZXhwb3J0e3MgYXMgU3RyZWFtQ29ubmVjdGlvblN0YXRlfTtcbiIsIi8qXG5BbGwgbWF0ZXJpYWwgY29weXJpZ2h0IEVTUkksIEFsbCBSaWdodHMgUmVzZXJ2ZWQsIHVubGVzcyBvdGhlcndpc2Ugc3BlY2lmaWVkLlxuU2VlIGh0dHBzOi8vanMuYXJjZ2lzLmNvbS80LjI3L2VzcmkvY29weXJpZ2h0LnR4dCBmb3IgZGV0YWlscy5cbiovXG5pbXBvcnR7aGFuZGxlc0dyb3VwIGFzIGV9ZnJvbVwiLi4vLi4vLi4vLi4vLi4vY29yZS9oYW5kbGVVdGlscy5qc1wiO2ltcG9ydFwiLi4vLi4vLi4vLi4vLi4vY29yZS9oYXMuanNcIjtpbXBvcnR7ciBhcyB0fWZyb21cIi4uLy4uLy4uLy4uLy4uL2NodW5rcy9yYnVzaC5qc1wiO2ltcG9ydHtjb252ZXJ0RnJvbUZlYXR1cmUgYXMgcyxxdWFudGl6ZU9wdGltaXplZEdlb21ldHJ5IGFzIGkscXVhbnRpemVYIGFzIG4scXVhbnRpemVZIGFzIHJ9ZnJvbVwiLi4vLi4vLi4vLi4vLi4vbGF5ZXJzL2dyYXBoaWNzL2ZlYXR1cmVDb252ZXJzaW9uVXRpbHMuanNcIjtpbXBvcnQgbyBmcm9tXCIuLi8uLi8uLi8uLi8uLi9sYXllcnMvZ3JhcGhpY3MvT3B0aW1pemVkR2VvbWV0cnkuanNcIjtpbXBvcnR7U3RyZWFtRmVhdHVyZU1hbmFnZXIgYXMgYX1mcm9tXCIuLi8uLi8uLi8uLi8uLi9sYXllcnMvZ3JhcGhpY3MvZGF0YS9TdHJlYW1GZWF0dXJlTWFuYWdlci5qc1wiO2ltcG9ydHtjcmVhdGVDb25uZWN0aW9uIGFzIGR9ZnJvbVwiLi4vLi4vLi4vLi4vLi4vbGF5ZXJzL2dyYXBoaWNzL3NvdXJjZXMvY29ubmVjdGlvbnMvY3JlYXRlQ29ubmVjdGlvbi5qc1wiO2ltcG9ydHtEYXRhVGlsZVNvdXJjZSBhcyBjfWZyb21cIi4vRGF0YVRpbGVTb3VyY2UuanNcIjtpbXBvcnR7U3RyZWFtQ29ubmVjdGlvblN0YXRlIGFzIGh9ZnJvbVwiLi9TdHJlYW1Db25uZWN0aW9uU3RhdGUuanNcIjtpbXBvcnR7RmVhdHVyZVNldFJlYWRlckpTT04gYXMgdX1mcm9tXCIuLi9zdXBwb3J0L0ZlYXR1cmVTZXRSZWFkZXJKU09OLmpzXCI7aW1wb3J0e1VwZGF0ZVRva2VuIGFzIGx9ZnJvbVwiLi4vc3VwcG9ydC9VcGRhdGVUb2tlbi5qc1wiO2NvbnN0IHA9MjUwMDtmdW5jdGlvbiBfKGUsdCl7Y29uc3Qgcz1lLndlYWtDbG9uZSgpO2lmKG51bGwhPWUuZ2VvbWV0cnkpe2NvbnN0IGk9bih0LGUuZ2VvbWV0cnkuY29vcmRzWzBdKSxhPXIodCxlLmdlb21ldHJ5LmNvb3Jkc1sxXSk7cy5nZW9tZXRyeT1uZXcgbyhbXSxbaSxhXSl9cmV0dXJuIHN9ZnVuY3Rpb24gbShlKXtyZXR1cm5cImVzcmlHZW9tZXRyeVBvaW50XCI9PT1lP186KHQscyk9Pntjb25zdCBuPXQud2Vha0Nsb25lKCkscj1uZXcgbyxhPSExLGQ9ITEsYz1pKHIsdC5nZW9tZXRyeSxhLGQsZSxzLCExLCExKTtyZXR1cm4gbi5nZW9tZXRyeT1jLG59fWZ1bmN0aW9uIGcoZSl7cmV0dXJuXCJlc3JpR2VvbWV0cnlQb2ludFwiPT09ZT9lPT5udWxsIT1lLmdlb21ldHJ5P3ttaW5YOmUuZ2VvbWV0cnkuY29vcmRzWzBdLG1pblk6ZS5nZW9tZXRyeS5jb29yZHNbMV0sbWF4WDplLmdlb21ldHJ5LmNvb3Jkc1swXSxtYXhZOmUuZ2VvbWV0cnkuY29vcmRzWzFdfTp7bWluWDoxLzAsbWluWToxLzAsbWF4WDotMS8wLG1heFk6LTEvMH06ZT0+e2xldCB0PTEvMCxzPTEvMCxpPS0xLzAsbj0tMS8wO3JldHVybiBudWxsIT1lLmdlb21ldHJ5JiZlLmdlb21ldHJ5LmZvckVhY2hWZXJ0ZXgoKChlLHIpPT57dD1NYXRoLm1pbih0LGUpLHM9TWF0aC5taW4ocyxyKSxpPU1hdGgubWF4KGksZSksbj1NYXRoLm1heChuLHIpfSkpLHttaW5YOnQsbWluWTpzLG1heFg6aSxtYXhZOm59fX1mdW5jdGlvbiB5KGUscyl7Y29uc3QgaT10KDksZyhzKSk7cmV0dXJuIGkubG9hZChlKSxpfWZ1bmN0aW9uIGYoZSx0KXtyZXR1cm4gZS5zZWFyY2goe21pblg6dC5ib3VuZHNbMF0sbWluWTp0LmJvdW5kc1sxXSxtYXhYOnQuYm91bmRzWzJdLG1heFk6dC5ib3VuZHNbM119KX1jbGFzcyB2e2NvbnN0cnVjdG9yKGUsdCl7dGhpcy5vblVwZGF0ZT1lLHRoaXMuX2dlb21ldHJ5VHlwZT10LHRoaXMuX29iamVjdElkVG9GZWF0dXJlPW5ldyBNYXAsdGhpcy5faW5kZXg9bnVsbH1nZXQgX2ZlYXR1cmVzKCl7Y29uc3QgZT1bXTtyZXR1cm4gdGhpcy5fb2JqZWN0SWRUb0ZlYXR1cmUuZm9yRWFjaCgodD0+ZS5wdXNoKHQpKSksZX1hZGQoZSl7dGhpcy5fb2JqZWN0SWRUb0ZlYXR1cmUuc2V0KGUub2JqZWN0SWQsZSksdGhpcy5faW5kZXg9bnVsbH1nZXQoZSl7cmV0dXJuIHRoaXMuX29iamVjdElkVG9GZWF0dXJlLmhhcyhlKT90aGlzLl9vYmplY3RJZFRvRmVhdHVyZS5nZXQoZSk6bnVsbH1mb3JFYWNoKGUpe3RoaXMuX29iamVjdElkVG9GZWF0dXJlLmZvckVhY2goZSl9c2VhcmNoKGUpe3JldHVybiB0aGlzLl9pbmRleHx8KHRoaXMuX2luZGV4PXkodGhpcy5fZmVhdHVyZXMsdGhpcy5fZ2VvbWV0cnlUeXBlKSksZih0aGlzLl9pbmRleCxlKX1jbGVhcigpe3RoaXMuX2luZGV4PW51bGwsdGhpcy5fb2JqZWN0SWRUb0ZlYXR1cmUuY2xlYXIoKX1yZW1vdmVCeUlkKGUpe2NvbnN0IHQ9dGhpcy5fb2JqZWN0SWRUb0ZlYXR1cmUuZ2V0KGUpO3JldHVybiB0Pyh0aGlzLl9vYmplY3RJZFRvRmVhdHVyZS5kZWxldGUoZSksdGhpcy5faW5kZXg9bnVsbCx0KTpudWxsfXVwZGF0ZShlLHQpe3RoaXMub25VcGRhdGUoZSx0KX1nZXQgc2l6ZSgpe3JldHVybiB0aGlzLl9vYmplY3RJZFRvRmVhdHVyZS5zaXplfX1jbGFzcyBJIGV4dGVuZHMgY3tjb25zdHJ1Y3Rvcih0KXtzdXBlcih0KSx0aGlzLnR5cGU9XCJzdHJlYW1cIix0aGlzLl91cGRhdGVJbnRlcnZhbElkPTAsdGhpcy5fbGV2ZWw9MCx0aGlzLl9pc1BhdXNlZD0hMSx0aGlzLl91cGRhdGVJbmZvPXt3ZWJzb2NrZXQ6MCxjbGllbnQ6MH0sdGhpcy5faW5VcGRhdGU9ITE7Y29uc3R7b3V0U1I6c309dCx7Z2VvbWV0cnlUeXBlOmksb2JqZWN0SWRGaWVsZDpuLHRpbWVJbmZvOnIscHVyZ2VPcHRpb25zOm8sc291cmNlOmMsc3BhdGlhbFJlZmVyZW5jZTp1LHNlcnZpY2VGaWx0ZXI6bCxtYXhSZWNvbm5lY3Rpb25BdHRlbXB0czpfLG1heFJlY29ubmVjdGlvbkludGVydmFsOmcsdXBkYXRlSW50ZXJ2YWw6eSxjdXN0b21QYXJhbWV0ZXJzOmYsZW5hYmxlZEV2ZW50VHlwZXM6SX09dC5zZXJ2aWNlSW5mbyxiPW5ldyB2KHRoaXMuX29uVXBkYXRlLmJpbmQodGhpcyksaSksVD1uZXcgYShiLG4scixvKSxqPWQoYyx1LHMsaSxsLF8sZyxmPz97fSk7dGhpcy5fY29ubmVjdGlvblN0YXRlPW5ldyBoKHtjb25uZWN0aW9uOmp9KSx0aGlzLl9zdG9yZT1iLHRoaXMuX21hbmFnZXI9VCx0aGlzLl9jb25uZWN0aW9uPWosdGhpcy5fcXVhbnRpemU9bShpKSx0aGlzLl9lbmFibGVkRXZlbnRUeXBlcz1uZXcgU2V0KEkpLHRoaXMuX2hhbmRsZXNHcm91cD1lKFt0aGlzLl9jb25uZWN0aW9uLm9uKFwiZGF0YS1yZWNlaXZlZFwiLChlPT50aGlzLl9vbkZlYXR1cmUoZSkpKSx0aGlzLl9jb25uZWN0aW9uLm9uKFwibWVzc2FnZS1yZWNlaXZlZFwiLChlPT50aGlzLl9vbldlYlNvY2tldE1lc3NhZ2UoZSkpKV0pLHRoaXMuX2luaXRVcGRhdGVJbnRlcnZhbD0oKT0+e2xldCBlPXBlcmZvcm1hbmNlLm5vdygpO3RoaXMuX3VwZGF0ZUludGVydmFsSWQ9c2V0SW50ZXJ2YWwoKCgpPT57Y29uc3Qgcz1wZXJmb3JtYW5jZS5ub3coKSxpPXMtZTtpZihpPnApe2U9cztjb25zdCB0PU1hdGgucm91bmQodGhpcy5fdXBkYXRlSW5mby5jbGllbnQvKGkvMWUzKSksbj1NYXRoLnJvdW5kKHRoaXMuX3VwZGF0ZUluZm8ud2Vic29ja2V0LyhpLzFlMykpO3RoaXMuX3VwZGF0ZUluZm8uY2xpZW50PTAsdGhpcy5fdXBkYXRlSW5mby53ZWJzb2NrZXQ9MCx0aGlzLmV2ZW50cy5lbWl0KFwidXBkYXRlUmF0ZVwiLHtjbGllbnQ6dCx3ZWJzb2NrZXQ6bn0pfXQuY2FuQWNjZXB0UmVxdWVzdCgpJiYhdGhpcy5faW5VcGRhdGUmJnRoaXMuX21hbmFnZXIuY2hlY2tGb3JVcGRhdGVzKCl9KSx5KX0sdGhpcy5faXNQYXVzZWQ9dC5zZXJ2aWNlSW5mby5pc1BhdXNlZCx0aGlzLl9pc1BhdXNlZHx8dGhpcy5faW5pdFVwZGF0ZUludGVydmFsKCl9ZGVzdHJveSgpe3N1cGVyLmRlc3Ryb3koKSx0aGlzLl9jbGVhclVwZGF0ZUludGVydmFsKCksdGhpcy5fY29ubmVjdGlvbi5kZXN0cm95KCksdGhpcy5faGFuZGxlc0dyb3VwPy5yZW1vdmUoKX1fZmV0Y2hEYXRhVGlsZSgpe31nZXQgY29ubmVjdGlvblN0YXR1cygpe3JldHVybiB0aGlzLl9jb25uZWN0aW9uU3RhdGUuY29ubmVjdGlvblN0YXR1c31nZXQgZXJyb3JTdHJpbmcoKXtyZXR1cm4gdGhpcy5fY29ubmVjdGlvblN0YXRlLmVycm9yU3RyaW5nfXVwZGF0ZUN1c3RvbVBhcmFtZXRlcnMoZSl7dGhpcy5fY29ubmVjdGlvbi51cGRhdGVDdXN0b21QYXJhbWV0ZXJzKGUpfXBhdXNlU3RyZWFtKCl7dGhpcy5faXNQYXVzZWR8fCh0aGlzLl9pc1BhdXNlZD0hMCx0aGlzLl9jbGVhclVwZGF0ZUludGVydmFsKCkpfXJlc3VtZVN0cmVhbSgpe3RoaXMuX2lzUGF1c2VkJiYodGhpcy5faXNQYXVzZWQ9ITEsdGhpcy5faW5pdFVwZGF0ZUludGVydmFsKCkpfXNlbmRNZXNzYWdlVG9Tb2NrZXQoZSl7dGhpcy5fY29ubmVjdGlvbi5zZW5kTWVzc2FnZVRvU29ja2V0KGUpfXNlbmRNZXNzYWdlVG9DbGllbnQoZSl7dGhpcy5faXNQYXVzZWQmJlwidHlwZVwiaW4gZSYmXCJjbGVhclwiPT09ZS50eXBlPyh0aGlzLl9zdG9yZS5jbGVhcigpLHRoaXMuX3N1YnNjcmlwdGlvbnMuZm9yRWFjaCgoKGUsdCk9PntlLmRpZFNlbmQmJmUudGlsZS5sZXZlbD09PXRoaXMuX2xldmVsJiZ0aGlzLl9vbk1lc3NhZ2Uoe3R5cGU6XCJhcHBlbmRcIixpZDp0LGFkZE9yVXBkYXRlOm51bGwsY2xlYXI6ITAsZW5kOiEwfSl9KSkpOnRoaXMuX2Nvbm5lY3Rpb24uc2VuZE1lc3NhZ2VUb0NsaWVudChlKX1lbmFibGVFdmVudChlLHQpe3Q/dGhpcy5fZW5hYmxlZEV2ZW50VHlwZXMuYWRkKGUpOnRoaXMuX2VuYWJsZWRFdmVudFR5cGVzLmRlbGV0ZShlKX1zdWJzY3JpYmUoZSx0KXtzdXBlci5zdWJzY3JpYmUoZSx0KTtjb25zdCBzPXRoaXMuX3N1YnNjcmlwdGlvbnMuZ2V0KGUuaWQpO3MucmVzb2x2ZSgpLHRoaXMuX2xldmVsPWUubGV2ZWw7Y29uc3QgaT10aGlzLl9nZXRUaWxlRmVhdHVyZXMoZSk7dGhpcy5fb25NZXNzYWdlKHt0eXBlOlwiYXBwZW5kXCIsaWQ6ZS5rZXkuaWQsYWRkT3JVcGRhdGU6aSxlbmQ6ITB9KSxzLmRpZFNlbmQ9ITB9dW5zdWJzY3JpYmUoZSl7c3VwZXIudW5zdWJzY3JpYmUoZSl9KnJlYWRlcnMoZSl7Y29uc3QgdD10aGlzLl9zdWJzY3JpcHRpb25zLmdldChlKSx7dGlsZTpzfT10O3lpZWxkIHRoaXMuX2dldFRpbGVGZWF0dXJlcyhzKX1jcmVhdGVUaWxlUXVlcnkoZSl7dGhyb3cgbmV3IEVycm9yKFwiU2VydmljZSBkb2VzIG5vdCBzdXBwb3J0IHRpbGUgIHF1ZXJpZXNcIil9YXN5bmMgcmVzZW5kKCl7dGhpcy5fc3Vic2NyaXB0aW9ucy5mb3JFYWNoKChlPT57Y29uc3R7dGlsZTp0fT1lLHM9e3R5cGU6XCJhcHBlbmRcIixpZDp0LmlkLGFkZE9yVXBkYXRlOnRoaXMuX2dldFRpbGVGZWF0dXJlcyh0KSxlbmQ6ITB9O3RoaXMuX29uTWVzc2FnZShzKX0pKX1fZ2V0VGlsZUZlYXR1cmVzKGUpe2NvbnN0IHQ9dGhpcy5fc3RvcmUuc2VhcmNoKGUpLm1hcCgodD0+dGhpcy5fcXVhbnRpemUodCxlLnRyYW5zZm9ybSkpKTtyZXR1cm4gdS5mcm9tT3B0aW1pemVkRmVhdHVyZXModCx0aGlzLl9zZXJ2aWNlSW5mbyxlLnRyYW5zZm9ybSl9X29uV2ViU29ja2V0TWVzc2FnZShlKXtpZih0aGlzLl9lbmFibGVkRXZlbnRUeXBlcy5oYXMoXCJtZXNzYWdlLXJlY2VpdmVkXCIpJiZ0aGlzLmV2ZW50cy5lbWl0KFwibWVzc2FnZS1yZWNlaXZlZFwiLGUpLFwidHlwZVwiaW4gZSlzd2l0Y2goZS50eXBlKXtjYXNlXCJkZWxldGVcIjppZihlLm9iamVjdElkcylmb3IoY29uc3QgdCBvZiBlLm9iamVjdElkcyl0aGlzLl9tYW5hZ2VyLnJlbW92ZUJ5SWQodCk7aWYoZS50cmFja0lkcylmb3IoY29uc3QgdCBvZiBlLnRyYWNrSWRzKXRoaXMuX21hbmFnZXIucmVtb3ZlQnlUcmFja0lkKHQpO2JyZWFrO2Nhc2VcImNsZWFyXCI6dGhpcy5fc3RvcmUuZm9yRWFjaCgoZT0+dGhpcy5fbWFuYWdlci5yZW1vdmVCeUlkKGUub2JqZWN0SWQpKSl9fV9vbkZlYXR1cmUoZSl7dGhpcy5fdXBkYXRlSW5mby53ZWJzb2NrZXQrKzt0cnl7dGhpcy5fZW5hYmxlZEV2ZW50VHlwZXMuaGFzKFwiZGF0YS1yZWNlaXZlZFwiKSYmdGhpcy5ldmVudHMuZW1pdChcImRhdGEtcmVjZWl2ZWRcIixlKTtjb25zdCB0PXMoZSx0aGlzLl9zZXJ2aWNlSW5mby5nZW9tZXRyeVR5cGUsITEsITEsdGhpcy5fc2VydmljZUluZm8ub2JqZWN0SWRGaWVsZCk7dGhpcy5fbWFuYWdlci5hZGQodCl9Y2F0Y2godCl7fX1fY2xlYXJVcGRhdGVJbnRlcnZhbCgpe2NsZWFySW50ZXJ2YWwodGhpcy5fdXBkYXRlSW50ZXJ2YWxJZCksdGhpcy5fdXBkYXRlSW50ZXJ2YWxJZD0wfWFzeW5jIF9vblVwZGF0ZShlLHQpe3RoaXMuX2luVXBkYXRlPSEwO3RyeXtudWxsIT1lJiYodGhpcy5fdXBkYXRlSW5mby5jbGllbnQrPWUubGVuZ3RoKSx0aGlzLl9zdWJzY3JpcHRpb25zLmZvckVhY2goKChlLHQpPT57ZS5kaWRTZW5kJiZlLnRpbGUubGV2ZWw9PT10aGlzLl9sZXZlbCYmdGhpcy5fb25NZXNzYWdlKHt0eXBlOlwiYXBwZW5kXCIsaWQ6dCxhZGRPclVwZGF0ZTpudWxsLGNsZWFyOiEwLGVuZDohMX0pfSkpO2NvbnN0IHQ9W107dGhpcy5fc3Vic2NyaXB0aW9ucy5mb3JFYWNoKCgoZSxzKT0+e2lmKCFlLmRpZFNlbmR8fGUudGlsZS5sZXZlbCE9PXRoaXMuX2xldmVsKXJldHVybjtjb25zdCBpPWUudGlsZSxuPXt0eXBlOlwiYXBwZW5kXCIsaWQ6cyxhZGRPclVwZGF0ZTp0aGlzLl9nZXRUaWxlRmVhdHVyZXMoaSkscmVtb3ZlOltdLGVuZDohMSxzdGF0dXM6bC5lbXB0eSgpfTtlLnJlcXVlc3RzLnN0cmVhbS5lbnF1ZXVlKG4pLHQucHVzaCh0aGlzLl9vbk1lc3NhZ2UobikpfSkpLGF3YWl0IFByb21pc2UuYWxsKHQpLHRoaXMuX3N1YnNjcmlwdGlvbnMuZm9yRWFjaCgoKGUsdCk9PntlLmRpZFNlbmQmJmUudGlsZS5sZXZlbD09PXRoaXMuX2xldmVsJiZ0aGlzLl9vbk1lc3NhZ2Uoe3R5cGU6XCJhcHBlbmRcIixpZDp0LGFkZE9yVXBkYXRlOm51bGwsZW5kOiEwfSl9KSl9Y2F0Y2h7fXRoaXMuX2luVXBkYXRlPSExfX1leHBvcnR7SSBhcyBTdHJlYW1Tb3VyY2V9O1xuIiwiLypcbkFsbCBtYXRlcmlhbCBjb3B5cmlnaHQgRVNSSSwgQWxsIFJpZ2h0cyBSZXNlcnZlZCwgdW5sZXNzIG90aGVyd2lzZSBzcGVjaWZpZWQuXG5TZWUgaHR0cHM6Ly9qcy5hcmNnaXMuY29tLzQuMjcvZXNyaS9jb3B5cmlnaHQudHh0IGZvciBkZXRhaWxzLlxuKi9cbmltcG9ydHtpc0hvc3RlZEFnb2xTZXJ2aWNlIGFzIGV9ZnJvbVwiLi4vLi4vLi4vLi4vLi4vbGF5ZXJzL3N1cHBvcnQvYXJjZ2lzTGF5ZXJVcmwuanNcIjtpbXBvcnR7RHJpbGxEb3duRmVhdHVyZVNvdXJjZSBhcyByfWZyb21cIi4vRHJpbGxEb3duRmVhdHVyZVNvdXJjZS5qc1wiO2ltcG9ydHtQYWdlZEZlYXR1cmVTb3VyY2UgYXMgdH1mcm9tXCIuL1BhZ2VkRmVhdHVyZVNvdXJjZS5qc1wiO2ltcG9ydHtTbmFwc2hvdEZlYXR1cmVTb3VyY2UgYXMgb31mcm9tXCIuL1NuYXBzaG90RmVhdHVyZVNvdXJjZS5qc1wiO2ltcG9ydHtTdHJlYW1Tb3VyY2UgYXMgc31mcm9tXCIuL1N0cmVhbVNvdXJjZS5qc1wiO2Z1bmN0aW9uIG4oZSxuLGMsdSxpLHApe2NvbnN0IGY9YShlLG4sYyx1LGkscCk7c3dpdGNoKGYudHlwZSl7Y2FzZVwiZmVhdHVyZVwiOnN3aXRjaChmLm9yaWdpbil7Y2FzZVwiaG9zdGVkXCI6Y2FzZVwibG9jYWxcIjpyZXR1cm4gbmV3IHQoZik7Y2FzZVwic25hcHNob3RcIjpyZXR1cm4gbmV3IG8oZik7ZGVmYXVsdDpyZXR1cm4gbmV3IHIoZil9Y2FzZVwic3RyZWFtXCI6cmV0dXJuIG5ldyBzKGYpfX1mdW5jdGlvbiBhKHIsdCxvLHMsbixhKXtzd2l0Y2goci50eXBlKXtjYXNlXCJzbmFwc2hvdFwiOnJldHVybnt0eXBlOlwiZmVhdHVyZVwiLG9yaWdpbjpcInNuYXBzaG90XCIsZmVhdHVyZUNvdW50OnIuZmVhdHVyZUNvdW50Pz8wLHNlcnZpY2VJbmZvOnIsb25NZXNzYWdlOnMsb3V0U1I6dCx0aWxlSW5mb1ZpZXc6byxjYW5BY2NlcHRSZXF1ZXN0Om4sc3RvcmU6YX07Y2FzZVwic3RyZWFtXCI6cmV0dXJue3R5cGU6XCJzdHJlYW1cIixzZXJ2aWNlSW5mbzpyLG9uTWVzc2FnZTpzLG91dFNSOnQsY2FuQWNjZXB0UmVxdWVzdDpufTtjYXNlXCJtZW1vcnlcIjpjYXNlXCJvbi1kZW1hbmRcIjpyZXR1cm57dHlwZTpcImZlYXR1cmVcIixzZXJ2aWNlSW5mbzpyLG9uTWVzc2FnZTpzLG91dFNSOnQsb3JpZ2luOmMoci5zb3VyY2UpLHRpbGVJbmZvVmlldzpvLGNhbkFjY2VwdFJlcXVlc3Q6bn19ZnVuY3Rpb24gYyhyKXtyZXR1cm4gQXJyYXkuaXNBcnJheShyKT9cImxvY2FsXCI6XCJwYXRoXCJpbiByJiZlKHIucGF0aCk/XCJob3N0ZWRcIjpcInVua25vd25cIn19ZXhwb3J0e24gYXMgY3JlYXRlU291cmNlfTtcbiIsIi8qXG5BbGwgbWF0ZXJpYWwgY29weXJpZ2h0IEVTUkksIEFsbCBSaWdodHMgUmVzZXJ2ZWQsIHVubGVzcyBvdGhlcndpc2Ugc3BlY2lmaWVkLlxuU2VlIGh0dHBzOi8vanMuYXJjZ2lzLmNvbS80LjI3L2VzcmkvY29weXJpZ2h0LnR4dCBmb3IgZGV0YWlscy5cbiovXG5pbXBvcnQgdCBmcm9tXCIuLi8uLi8uLi8uLi8uLi9jb3JlL0Vycm9yLmpzXCI7aW1wb3J0IGhhcyBmcm9tXCIuLi8uLi8uLi8uLi8uLi9jb3JlL2hhcy5qc1wiO2ltcG9ydCBlIGZyb21cIi4uLy4uLy4uLy4uLy4uL2NvcmUvTG9nZ2VyLmpzXCI7aW1wb3J0e2NsYW1wIGFzIGl9ZnJvbVwiLi4vLi4vLi4vLi4vLi4vY29yZS9tYXRoVXRpbHMuanNcIjtpbXBvcnR7bWFwTWFueSBhcyBzLGZvckVhY2hTb21lIGFzIHIsYXBwbHlTb21lIGFzIGF9ZnJvbVwiLi4vLi4vLi4vLi4vLi4vY29yZS9tYXliZS5qc1wiO2ltcG9ydHtjcmVhdGVSZXNvbHZlciBhcyBuLGlzQWJvcnRFcnJvciBhcyBvfWZyb21cIi4uLy4uLy4uLy4uLy4uL2NvcmUvcHJvbWlzZVV0aWxzLmpzXCI7aW1wb3J0e2RpZmYgYXMgbH1mcm9tXCIuLi8uLi8uLi8uLi8uLi9jb3JlL2FjY2Vzc29yU3VwcG9ydC9kaWZmVXRpbHMuanNcIjtpbXBvcnR7V2F0Y2hVcGRhdGluZ1RyYWNraW5nIGFzIGh9ZnJvbVwiLi4vLi4vLi4vLi4vLi4vY29yZS9zdXBwb3J0L1dhdGNoVXBkYXRpbmdUcmFja2luZy5qc1wiO2ltcG9ydCB1IGZyb21cIi4uLy4uLy4uLy4uLy4uL2xheWVycy9zdXBwb3J0L0ZpZWxkc0luZGV4LmpzXCI7aW1wb3J0e01BWF9GSUxURVJTIGFzIGQsSElHSExJR0hUX0ZMQUcgYXMgcCxBVFRSSUJVVEVfREFUQV9WViBhcyBjLE5BTl9NQUdJQ19OVU1CRVIgYXMgZyxBVFRSSUJVVEVfREFUQV9BTklNQVRJT04gYXMgXyxBVFRSSUJVVEVfREFUQV9HUEdQVSBhcyBmfWZyb21cIi4uLy4uLy4uL2VuZ2luZS93ZWJnbC9kZWZpbml0aW9ucy5qc1wiO2ltcG9ydHtESVNQTEFZX0lEX1RZUEVfQUdHUkVHQVRFIGFzIG0sRElTUExBWV9JRF9UWVBFX0ZFQVRVUkUgYXMgeSxnZXREaXNwbGF5SWRUZXhlbCBhcyBiLGdldERpc3BsYXlJZFR5cGUgYXMgeCxnZXREaXNwbGF5SWRGaWx0ZXJNYXNrIGFzIFN9ZnJvbVwiLi4vLi4vLi4vZW5naW5lL3dlYmdsL0Rpc3BsYXlJZC5qc1wiO2ltcG9ydHtnZXRQaXhlbEFycmF5Q3RvciBhcyBUfWZyb21cIi4uLy4uLy4uL2VuZ2luZS93ZWJnbC9VdGlscy5qc1wiO2ltcG9ydHtjcmVhdGVEZWJ1Z0xvZ2dlciBhcyB6LERFQlVHX0FUVFJfVVBEQVRFUyBhcyBVfWZyb21cIi4uLy4uLy4uL2VuZ2luZS93ZWJnbC91dGlsL2RlYnVnLmpzXCI7aW1wb3J0e2dldFZpc3VhbFZhcmlhYmxlU2l6ZVZhbHVlUmVwcmVzZW50YXRpb25SYXRpbyBhcyBBfWZyb21cIi4uL3RpbGVSZW5kZXJlcnMvc3VwcG9ydC92aXN1YWxWYXJpYWJsZXNVdGlscy5qc1wiO2ltcG9ydHtQaXhlbFR5cGUgYXMgd31mcm9tXCIuLi8uLi8uLi8uLi93ZWJnbC9lbnVtcy5qc1wiO2NvbnN0IEU9ZS5nZXRMb2dnZXIoXCJlc3JpLnZpZXdzLmxheWVycy4yZC5mZWF0dXJlcy5zdXBwb3J0LkF0dHJpYnV0ZVN0b3JlXCIpLGs9eihVLEUpLEQ9e3NoYXJlZEFycmF5QnVmZmVyOmhhcyhcImVzcmktc2hhcmVkLWFycmF5LWJ1ZmZlclwiKSxhdG9taWNzOmhhcyhcImVzcmktYXRvbWljc1wiKX07ZnVuY3Rpb24gRih0LGUpe3JldHVybiBpPT5lKHQoaSkpfWNsYXNzIEl7Y29uc3RydWN0b3IodCxlLGkscyl7dGhpcy5zaXplPTAsdGhpcy50ZXhlbFNpemU9NCx0aGlzLmRpcnR5U3RhcnQ9MCx0aGlzLmRpcnR5RW5kPTA7Y29uc3R7cGl4ZWxUeXBlOnIsbGF5b3V0OmEsdGV4dHVyZU9ubHk6bn09czt0aGlzLnRleHR1cmVPbmx5PW58fCExLHRoaXMucGl4ZWxUeXBlPXIsdGhpcy5fY3R5cGU9ZSx0aGlzLmxheW91dD1hLHRoaXMuX3Jlc2V0UmFuZ2UoKSx0aGlzLl9zaGFyZWQ9dCx0aGlzLnNpemU9aSxufHwodGhpcy5kYXRhPXRoaXMuX2luaXREYXRhKHIsaSx0LGUpKX1nZXQgYnVmZmVyKCl7cmV0dXJuIGEodGhpcy5kYXRhLCh0PT50LmJ1ZmZlcikpfXVuc2V0Q29tcG9uZW50QWxsVGV4ZWxzKHQsZSl7Y29uc3QgaT10aGlzLmRhdGE7Zm9yKGxldCBzPTA7czx0aGlzLnNpemUqdGhpcy5zaXplO3MrKylpW3MqdGhpcy50ZXhlbFNpemUrdF0mPX5lO3RoaXMuZGlydHlTdGFydD0wLHRoaXMuZGlydHlFbmQ9dGhpcy5zaXplKnRoaXMuc2l6ZS0xfXNldENvbXBvbmVudEFsbFRleGVscyh0LGUpe2NvbnN0IGk9dGhpcy5kYXRhO2ZvcihsZXQgcz0wO3M8dGhpcy5zaXplKnRoaXMuc2l6ZTtzKyspaVtzKnRoaXMudGV4ZWxTaXplK3RdfD0yNTUmZTt0aGlzLmRpcnR5U3RhcnQ9MCx0aGlzLmRpcnR5RW5kPXRoaXMuc2l6ZSp0aGlzLnNpemUtMX1zZXRDb21wb25lbnQodCxlLGkpe2NvbnN0IHM9dGhpcy5kYXRhO2Zvcihjb25zdCByIG9mIGkpc1tyKnRoaXMudGV4ZWxTaXplK3RdfD1lLHRoaXMuZGlydHlTdGFydD1NYXRoLm1pbih0aGlzLmRpcnR5U3RhcnQsciksdGhpcy5kaXJ0eUVuZD1NYXRoLm1heCh0aGlzLmRpcnR5RW5kLHIpfXNldENvbXBvbmVudFRleGVsKHQsZSxpKXt0aGlzLmRhdGFbaSp0aGlzLnRleGVsU2l6ZSt0XXw9ZSx0aGlzLmRpcnR5U3RhcnQ9TWF0aC5taW4odGhpcy5kaXJ0eVN0YXJ0LGkpLHRoaXMuZGlydHlFbmQ9TWF0aC5tYXgodGhpcy5kaXJ0eUVuZCxpKX11bnNldENvbXBvbmVudFRleGVsKHQsZSxpKXt0aGlzLmRhdGFbaSp0aGlzLnRleGVsU2l6ZSt0XSY9fmUsdGhpcy5kaXJ0eVN0YXJ0PU1hdGgubWluKHRoaXMuZGlydHlTdGFydCxpKSx0aGlzLmRpcnR5RW5kPU1hdGgubWF4KHRoaXMuZGlydHlFbmQsaSl9Z2V0RGF0YSh0LGUpe2NvbnN0IGk9Yih0KTtyZXR1cm4gdGhpcy5kYXRhW2kqdGhpcy50ZXhlbFNpemUrZV19c2V0RGF0YSh0LGUsaSl7Y29uc3Qgcz1iKHQpLHI9MTw8ZTswIT0odGhpcy5sYXlvdXQmcik/bnVsbCE9dGhpcy5kYXRhJiYodGhpcy5kYXRhW3MqdGhpcy50ZXhlbFNpemUrZV09aSx0aGlzLmRpcnR5U3RhcnQ9TWF0aC5taW4odGhpcy5kaXJ0eVN0YXJ0LHMpLHRoaXMuZGlydHlFbmQ9TWF0aC5tYXgodGhpcy5kaXJ0eUVuZCxzKSk6RS5lcnJvcihcIm1hcHZpZXctYXR0cmlidXRlcy1zdG9yZVwiLFwiVHJpZWQgdG8gc2V0IGEgdmFsdWUgZm9yIGEgdGV4ZWwncyByZWFkb25seSBjb21wb25lbnRcIil9bG9jaygpe3RoaXMucGl4ZWxUeXBlPT09dy5VTlNJR05FRF9CWVRFJiZ0aGlzLl9zaGFyZWQmJkQuYXRvbWljcyYmXCJsb2NhbFwiIT09dGhpcy5fY3R5cGUmJkF0b21pY3Muc3RvcmUodGhpcy5kYXRhLDAsMSl9dW5sb2NrKCl7dGhpcy5waXhlbFR5cGU9PT13LlVOU0lHTkVEX0JZVEUmJnRoaXMuX3NoYXJlZCYmRC5hdG9taWNzJiZcImxvY2FsXCIhPT10aGlzLl9jdHlwZSYmQXRvbWljcy5zdG9yZSh0aGlzLmRhdGEsMCwwKX1leHBhbmQodCl7aWYodGhpcy5zaXplPXQsIXRoaXMudGV4dHVyZU9ubHkpe2NvbnN0IGU9dGhpcy5faW5pdERhdGEodGhpcy5waXhlbFR5cGUsdCx0aGlzLl9zaGFyZWQsdGhpcy5fY3R5cGUpLGk9dGhpcy5kYXRhO2Uuc2V0KGkpLHRoaXMuZGF0YT1lfX10b01lc3NhZ2UoKXtjb25zdCB0PXRoaXMuZGlydHlTdGFydCxlPXRoaXMuZGlydHlFbmQsaT10aGlzLnRleGVsU2l6ZTtpZih0PmUpcmV0dXJuIG51bGw7dGhpcy5fcmVzZXRSYW5nZSgpO2NvbnN0IHM9ISh0aGlzLl9zaGFyZWR8fFwibG9jYWxcIj09PXRoaXMuX2N0eXBlKSxyPXRoaXMucGl4ZWxUeXBlLGE9dGhpcy5sYXlvdXQsbj10aGlzLmRhdGE7cmV0dXJue3N0YXJ0OnQsZW5kOmUsZGF0YTpzJiZuLnNsaWNlKHQqaSwoZSsxKSppKXx8bnVsbCxwaXhlbFR5cGU6cixsYXlvdXQ6YX19X2luaXREYXRhKHQsZSxpLHMpe2NvbnN0IHI9aSYmXCJsb2NhbFwiIT09cz9TaGFyZWRBcnJheUJ1ZmZlcjpBcnJheUJ1ZmZlcixhPVQodCksbj1uZXcgYShuZXcgcihlKmUqNCphLkJZVEVTX1BFUl9FTEVNRU5UKSk7Zm9yKGxldCBvPTA7bzxuLmxlbmd0aDtvKz00KW5bbysxXT0yNTU7cmV0dXJuIG59X3Jlc2V0UmFuZ2UoKXt0aGlzLmRpcnR5U3RhcnQ9MjE0NzQ4MzY0Nyx0aGlzLmRpcnR5RW5kPTB9fWNsYXNzIEJ7Y29uc3RydWN0b3IodCxlKXt0aGlzLl9jbGllbnQ9dCx0aGlzLmNvbmZpZz1lLHRoaXMudXBkYXRpbmdIYW5kbGVzPW5ldyBoLHRoaXMuX2Jsb2Nrcz1uZXcgQXJyYXksdGhpcy5fZmlsdGVycz1uZXcgQXJyYXkoZCksdGhpcy5fYXR0cmlidXRlQ29tcHV0ZUluZm89bnVsbCx0aGlzLl90YXJnZXRUeXBlPTAsdGhpcy5fYWJvcnRDb250cm9sbGVyPW5ldyBBYm9ydENvbnRyb2xsZXIsdGhpcy5faGFzU2NhbGVFeHByPSExLHRoaXMuX3NpemU9MzIsdGhpcy5fbmV4dFVwZGF0ZT1udWxsLHRoaXMuX2N1cnJVcGRhdGU9bnVsbCx0aGlzLl9pZHNUb0hpZ2hsaWdodD1uZXcgU2V0O2NvbnN0IGk9ZS5zdXBwb3J0c1RleHR1cmVGbG9hdD93LkZMT0FUOncuVU5TSUdORURfQllURTtrKGBDcmVhdGluZyBBdHRyaWJ1dGVTdG9yZSAke0Quc2hhcmVkQXJyYXlCdWZmZXI/XCJ3aXRoXCI6XCJ3aXRob3V0XCJ9IHNoYXJlZCBtZW1vcnlgKSx0aGlzLl9ibG9ja0Rlc2NyaXB0b3JzPVt7cGl4ZWxUeXBlOncuVU5TSUdORURfQllURSxsYXlvdXQ6MX0se3BpeGVsVHlwZTp3LlVOU0lHTkVEX0JZVEUsbGF5b3V0OjE1LHRleHR1cmVPbmx5OiEwfSx7cGl4ZWxUeXBlOncuVU5TSUdORURfQllURSxsYXlvdXQ6MTUsdGV4dHVyZU9ubHk6ITB9LHtwaXhlbFR5cGU6aSxsYXlvdXQ6MTV9LHtwaXhlbFR5cGU6aSxsYXlvdXQ6MTV9LHtwaXhlbFR5cGU6aSxsYXlvdXQ6MTV9LHtwaXhlbFR5cGU6aSxsYXlvdXQ6MTV9XSx0aGlzLl9ibG9ja3M9dGhpcy5fYmxvY2tEZXNjcmlwdG9ycy5tYXAoKCgpPT5udWxsKSl9ZGVzdHJveSgpe3RoaXMuX2Fib3J0Q29udHJvbGxlci5hYm9ydCgpLHRoaXMudXBkYXRpbmdIYW5kbGVzLmRlc3Ryb3koKX1nZXQgaGFzU2NhbGVFeHByKCl7cmV0dXJuIHRoaXMuX2hhc1NjYWxlRXhwcn1nZXQgX3NpZ25hbCgpe3JldHVybiB0aGlzLl9hYm9ydENvbnRyb2xsZXIuc2lnbmFsfWdldCBoYXNIaWdobGlnaHQoKXtyZXR1cm4gdGhpcy5faWRzVG9IaWdobGlnaHQuc2l6ZT4wfWlzVXBkYXRpbmcoKXtjb25zdCB0PXRoaXMudXBkYXRpbmdIYW5kbGVzLnVwZGF0aW5nfHwhIXRoaXMuX25leHRVcGRhdGU7cmV0dXJuIGhhcyhcImVzcmktMmQtbG9nLXVwZGF0aW5nXCIpJiZjb25zb2xlLmxvZyhgVXBkYXRpbmcgQXR0cmlidXRlU3RvcmU6ICR7dH1cXG4gIC0+IHVwZGF0aW5nSGFuZGxlcyAke3RoaXMudXBkYXRpbmdIYW5kbGVzLnVwZGF0aW5nfSAoY3VyclVwZGF0ZTogJHshIXRoaXMuX2N1cnJVcGRhdGV9KVxcbiAgLT4gbmV4dFVwZGF0ZTogJHshIXRoaXMuX25leHRVcGRhdGV9XFxuYCksdH11cGRhdGUodCxlKXt0aGlzLmNvbmZpZz1lO2NvbnN0IGk9ZS5zY2hlbWEucHJvY2Vzc29yc1swXS5zdG9yYWdlLHM9bCh0aGlzLl9zY2hlbWEsaSk7aWYoKHQudGFyZ2V0cy5mZWF0dXJlfHx0LnRhcmdldHMuYWdncmVnYXRlKSYmKHQuc3RvcmFnZS5kYXRhPSEwKSxzJiYoaGFzKFwiZXNyaS0yZC11cGRhdGUtZGVidWdcIikmJmNvbnNvbGUuZGVidWcoXCJBcHBseWluZyBVcGRhdGUgLSBBdHRyaWJ1dGVTdG9yZTpcIixzKSx0LnN0b3JhZ2UuZGF0YT0hMCx0aGlzLl9zY2hlbWE9aSx0aGlzLl9hdHRyaWJ1dGVDb21wdXRlSW5mbz1udWxsLG51bGwhPWkpKXtzd2l0Y2goaS50YXJnZXQpe2Nhc2VcImZlYXR1cmVcIjp0aGlzLl90YXJnZXRUeXBlPXk7YnJlYWs7Y2FzZVwiYWdncmVnYXRlXCI6dGhpcy5fdGFyZ2V0VHlwZT1tfWlmKFwic3VidHlwZVwiPT09aS50eXBlKXt0aGlzLl9hdHRyaWJ1dGVDb21wdXRlSW5mbz17aXNTdWJ0eXBlOiEwLHN1YnR5cGVGaWVsZDppLnN1YnR5cGVGaWVsZCxtYXA6bmV3IE1hcH07Zm9yKGNvbnN0IHQgaW4gaS5tYXBwaW5nKXtjb25zdCBlPWkubWFwcGluZ1t0XTtpZihudWxsIT1lJiZudWxsIT1lLnZ2TWFwcGluZylmb3IoY29uc3QgaSBvZiBlLnZ2TWFwcGluZyl0aGlzLl9iaW5kQXR0cmlidXRlKGkscGFyc2VJbnQodCwxMCkpfX1lbHNle2lmKHRoaXMuX2F0dHJpYnV0ZUNvbXB1dGVJbmZvPXtpc1N1YnR5cGU6ITEsbWFwOm5ldyBNYXB9LG51bGwhPWkudnZNYXBwaW5nKWZvcihjb25zdCB0IG9mIGkudnZNYXBwaW5nKXRoaXMuX2JpbmRBdHRyaWJ1dGUodCk7aWYobnVsbCE9aS5hdHRyaWJ1dGVNYXBwaW5nKWZvcihjb25zdCB0IG9mIGkuYXR0cmlidXRlTWFwcGluZyl0aGlzLl9iaW5kQXR0cmlidXRlKHQpfX19b25UaWxlRGF0YSh0LGUpe2lmKG51bGw9PWUuYWRkT3JVcGRhdGUpcmV0dXJuO2NvbnN0IGk9ZS5hZGRPclVwZGF0ZS5nZXRDdXJzb3IoKTtmb3IoO2kubmV4dCgpOyl7Y29uc3QgdD1pLmdldERpc3BsYXlJZCgpO3RoaXMuc2V0QXR0cmlidXRlRGF0YSh0LGkpfX1hc3luYyBzZXRIaWdobGlnaHQodCxlKXtjb25zdCBpPTEscz10aGlzLl9nZXRCbG9jaygwKSxyPWUubWFwKCh0PT5iKHQpKSk7cy5sb2NrKCkscy51bnNldENvbXBvbmVudEFsbFRleGVscygwLGkpLHMuc2V0Q29tcG9uZW50KDAsaSxyKSxzLnVubG9jaygpLHRoaXMuX2lkc1RvSGlnaGxpZ2h0LmNsZWFyKCk7Zm9yKGNvbnN0IGEgb2YgdCl0aGlzLl9pZHNUb0hpZ2hsaWdodC5hZGQoYSk7YXdhaXQgdGhpcy5zZW5kVXBkYXRlcygpfWFzeW5jIHVwZGF0ZUZpbHRlcnModCxlLGkpe2hhcyhcImVzcmktMmQtdXBkYXRlLWRlYnVnXCIpJiZjb25zb2xlLmRlYnVnKFwiQXR0cmlidXRlU3RvcmU6OnVwZGF0ZUZpbHRlcnNcIik7Y29uc3R7c2VydmljZTpzLHNwYXRpYWxSZWZlcmVuY2U6cn09aSx7ZmlsdGVyczphfT1lLG49YS5tYXAoKCh0LGUpPT50aGlzLl91cGRhdGVGaWx0ZXIodCxlLHMscikpKSxvPShhd2FpdCBQcm9taXNlLmFsbChuKSkuc29tZSgodD0+dCkpO2hhcyhcImVzcmktMmQtdXBkYXRlLWRlYnVnXCIpJiZjb25zb2xlLmRlYnVnKFwiQXR0cmlidXRlU3RvcmU6OnVwZGF0ZUZpbHRlcnMgLSBmaW5zaWhlZFwiKSxvJiYodC5zdG9yYWdlLmZpbHRlcnM9ITAsaGFzKFwiZXNyaS0yZC11cGRhdGUtZGVidWdcIikmJmNvbnNvbGUuZGVidWcoXCJBcHBseWluZyBVcGRhdGUgLSBBdHRyaWJ1dGVTdG9yZTpcIixcIkZpbHRlcnMgY2hhbmdlZFwiKSl9c2V0RGF0YSh0LGUsaSxzKXtjb25zdCByPWIodCk7dGhpcy5fZW5zdXJlU2l6ZUZvclRleGVsKHIpLHRoaXMuX2dldEJsb2NrKGUpLnNldERhdGEodCxpLHMpfWdldERhdGEodCxlLGkpe3JldHVybiB0aGlzLl9nZXRCbG9jayhlKS5nZXREYXRhKHQsaSl9Z2V0SGlnaGxpZ2h0RmxhZyh0KXtyZXR1cm4gdGhpcy5faWRzVG9IaWdobGlnaHQuaGFzKHQpP3A6MH11bnNldEF0dHJpYnV0ZURhdGEodCl7Y29uc3QgZT1iKHQpO3RoaXMuX2dldEJsb2NrKDApLnNldERhdGEoZSwwLDApfXNldEF0dHJpYnV0ZURhdGEodCxlKXtjb25zdCBzPWIodCk7aWYodGhpcy5fZW5zdXJlU2l6ZUZvclRleGVsKHMpLHRoaXMuX2dldEJsb2NrKDApLnNldERhdGEocywwLHRoaXMuZ2V0RmlsdGVyRmxhZ3MoZSkpLHRoaXMuX3RhcmdldFR5cGUhPT14KHQpKXJldHVybjtjb25zdCByPXRoaXMuX2F0dHJpYnV0ZUNvbXB1dGVJbmZvLGE9dGhpcy5jb25maWcuc3VwcG9ydHNUZXh0dXJlRmxvYXQ/MToyLG49NDtsZXQgbz1udWxsO3ImJihvPXIuaXNTdWJ0eXBlP3IubWFwLmdldChlLnJlYWRBdHRyaWJ1dGUoci5zdWJ0eXBlRmllbGQpKTpyLm1hcCxvJiZvLnNpemUmJm8uZm9yRWFjaCgoKHQscik9Pntjb25zdCBvPXIqYSVuLGw9TWF0aC5mbG9vcihyKmEvbiksaD10aGlzLl9nZXRCbG9jayhsK2MpLHU9dChlKTtpZih0aGlzLmNvbmZpZy5zdXBwb3J0c1RleHR1cmVGbG9hdCloLnNldERhdGEocyxvLHUpO2Vsc2UgaWYodT09PWcpaC5zZXREYXRhKHMsbywyNTUpLGguc2V0RGF0YShzLG8rMSwyNTUpO2Vsc2V7Y29uc3QgdD1pKE1hdGgucm91bmQodSksLTMyNzY3LDMyNzY2KSszMjc2OCxlPTI1NSZ0LHI9KDY1MjgwJnQpPj44O2guc2V0RGF0YShzLG8sZSksaC5zZXREYXRhKHMsbysxLHIpfX0pKSl9c2VuZFVwZGF0ZXMoKXtpZihoYXMoXCJlc3JpLTJkLXVwZGF0ZS1kZWJ1Z1wiKSYmY29uc29sZS5kZWJ1ZyhcIkF0dHJpYnV0ZVN0b3JlOjpzZW5kVXBkYXRlXCIpLHRoaXMuX25leHRVcGRhdGUpcmV0dXJuIHRoaXMuX25leHRVcGRhdGUucHJvbWlzZTtpZih0aGlzLl9jdXJyVXBkYXRlKXJldHVybiB0aGlzLl9uZXh0VXBkYXRlPW4oKSx0aGlzLnVwZGF0aW5nSGFuZGxlcy5hZGRQcm9taXNlKHRoaXMuX25leHRVcGRhdGUucHJvbWlzZSksdGhpcy5fbmV4dFVwZGF0ZS5wcm9taXNlO2NvbnN0IGU9e2Jsb2Nrczp0aGlzLl9ibG9ja3MubWFwKCh0PT5udWxsIT10P3QudG9NZXNzYWdlKCk6bnVsbCkpfTtyZXR1cm4gdGhpcy5fY3VyclVwZGF0ZT10aGlzLl9jcmVhdGVSZXNvdXJjZXMoKS50aGVuKCgoKT0+e2NvbnN0IHQ9KCk9PntpZih0aGlzLl9jdXJyVXBkYXRlPW51bGwsdGhpcy5fbmV4dFVwZGF0ZSl7Y29uc3QgdD10aGlzLl9uZXh0VXBkYXRlO3RoaXMuX25leHRVcGRhdGU9bnVsbCx0aGlzLnNlbmRVcGRhdGVzKCkudGhlbigoKCk9PnQucmVzb2x2ZSgpKSl9ZWxzZSBoYXMoXCJlc3JpLTJkLXVwZGF0ZS1kZWJ1Z1wiKSYmY29uc29sZS5kZWJ1ZyhcIkF0dHJpYnV0ZVN0b3JlOjpzZW5kVXBkYXRlOjpObyBhZGRpdGlvbmFsIHVwZGF0ZXMgcXVldWVkXCIpfTtoYXMoXCJlc3JpLTJkLXVwZGF0ZS1kZWJ1Z1wiKSYmY29uc29sZS5kZWJ1ZyhcIkF0dHJpYnV0ZVN0b3JlOjpzZW5kVXBkYXRlOjpjbGllbnQudXBkYXRlXCIpO2NvbnN0IGk9dGhpcy51cGRhdGluZ0hhbmRsZXMuYWRkUHJvbWlzZSh0aGlzLl9jbGllbnQudXBkYXRlKGUsdGhpcy5fc2lnbmFsKS50aGVuKHQpLmNhdGNoKHQpKTtyZXR1cm4gdGhpcy5fY2xpZW50LnJlbmRlcih0aGlzLl9zaWduYWwpLGl9KSkuY2F0Y2goKGU9PntpZihvKGUpKXJldHVybiB0aGlzLl9jcmVhdGVSZXNvdXJjZXNQcm9taXNlPW51bGwsdGhpcy5fY3JlYXRlUmVzb3VyY2VzKCk7RS5lcnJvcihuZXcgdChcIm1hcHZpZXctYXR0cmlidXRlLXN0b3JlXCIsXCJFbmNvdW50ZXJlZCBhbiBlcnJvciBkdXJpbmcgY2xpZW50IHVwZGF0ZVwiLGUpKX0pKSx0aGlzLl9jdXJyVXBkYXRlfV9lbnN1cmVTaXplRm9yVGV4ZWwodCl7Zm9yKDt0Pj10aGlzLl9zaXplKnRoaXMuX3NpemU7KWlmKHRoaXMuX2V4cGFuZCgpKXJldHVybn1fYmluZEF0dHJpYnV0ZSh0LGUpe2Z1bmN0aW9uIGkoKXtjb25zdHtub3JtYWxpemF0aW9uRmllbGQ6ZX09dDtyZXR1cm4gZT9pPT57Y29uc3Qgcz1pLnJlYWRBdHRyaWJ1dGUoZSk7aWYoIXMpcmV0dXJuIG51bGw7cmV0dXJuIGkucmVhZEF0dHJpYnV0ZSh0LmZpZWxkKS9zfTplPT5lLnJlYWRBdHRyaWJ1dGUodC5maWVsZCl9ZnVuY3Rpb24gcygpe3JldHVybiB0Lm5vcm1hbGl6YXRpb25GaWVsZCYmRS53YXJuKFwibWFwdmlldy1hcmNhZGVcIixcIklnbm9yaW5nIG5vcm1hbGl6YXRpb25GaWVsZCBzcGVjaWZpZWQgd2l0aCBhbiBhcmNhZGUgZXhwcmVzc2lvbiB3aGljaCBpcyBub3Qgc3VwcG9ydGVkLlwiKSxlPT5lLmdldENvbXB1dGVkTnVtZXJpY0F0SW5kZXgodC5maWVsZEluZGV4KX1sZXQgcjtpZihudWxsIT10LmZpZWxkSW5kZXgpcj1zKCk7ZWxzZXtpZighdC5maWVsZClyZXR1cm47cj1pKCl9Y29uc3R7dmFsdWVSZXByZXNlbnRhdGlvbjphfT10O2lmKGEpe3I9RihyLCh0PT5BKHQsYSkpKX1jb25zdCBuPXQ9Pm51bGw9PT10fHxpc05hTih0KXx8dD09PTEvMHx8dD09PS0xLzA/Zzp0LG89dGhpcy5fYXR0cmlidXRlQ29tcHV0ZUluZm87aWYoby5pc1N1YnR5cGUpe2NvbnN0IGk9by5tYXAuZ2V0KGUpPz9uZXcgTWFwO2kuc2V0KHQuYmluZGluZyxGKHIsbikpLG8ubWFwLnNldChlLGkpfWVsc2Ugby5tYXAuc2V0KHQuYmluZGluZyxGKHIsbikpfV9jcmVhdGVSZXNvdXJjZXMoKXtpZihudWxsIT10aGlzLl9jcmVhdGVSZXNvdXJjZXNQcm9taXNlKXJldHVybiB0aGlzLl9jcmVhdGVSZXNvdXJjZXNQcm9taXNlO3RoaXMuX2dldEJsb2NrKF8pLHRoaXMuX2dldEJsb2NrKGYpLGsoXCJJbml0aWFsaXppbmcgQXR0cmlidXRlU3RvcmVcIik7Y29uc3QgZT17c2hhcmVkOkQuc2hhcmVkQXJyYXlCdWZmZXImJiEoXCJsb2NhbFwiPT09dGhpcy5fY2xpZW50LnR5cGUpLHNpemU6dGhpcy5fc2l6ZSxibG9ja3M6cyh0aGlzLl9ibG9ja3MsKHQ9Pih7dGV4dHVyZU9ubHk6dC50ZXh0dXJlT25seSxidWZmZXI6dC5idWZmZXIscGl4ZWxUeXBlOnQucGl4ZWxUeXBlfSkpKX0saT10aGlzLl9jbGllbnQuaW5pdGlhbGl6ZShlLHRoaXMuX3NpZ25hbCkuY2F0Y2goKGU9PntvKGUpP3RoaXMuX2NyZWF0ZVJlc291cmNlc1Byb21pc2U9bnVsbDpFLmVycm9yKG5ldyB0KFwibWFwdmlldy1hdHRyaWJ1dGUtc3RvcmVcIixcIkVuY291bnRlcmVkIGFuIGVycm9yIGR1cmluZyBjbGllbnQgaW5pdGlhbGl6YXRpb25cIixlKSl9KSk7cmV0dXJuIHRoaXMuX2NyZWF0ZVJlc291cmNlc1Byb21pc2U9aSxpLnRoZW4oKCgpPT5udWxsPT10aGlzLl9jcmVhdGVSZXNvdXJjZXNQcm9taXNlP3RoaXMuX2NyZWF0ZVJlc291cmNlcygpOnZvaWQgMCkpLGl9X2dldEJsb2NrKHQpe2NvbnN0IGU9dGhpcy5fYmxvY2tzW3RdO2lmKG51bGwhPWUpcmV0dXJuIGU7ayhgSW5pdGlhbGl6aW5nIEF0dHJpYnV0ZUJsb2NrIGF0IGluZGV4ICR7dH1gKTtjb25zdCBpPUQuc2hhcmVkQXJyYXlCdWZmZXIscz10aGlzLl9jbGllbnQudHlwZSxyPW5ldyBJKGkscyx0aGlzLl9zaXplLHRoaXMuX2Jsb2NrRGVzY3JpcHRvcnNbdF0pO3JldHVybiB0aGlzLl9ibG9ja3NbdF09cix0aGlzLl9jcmVhdGVSZXNvdXJjZXNQcm9taXNlPW51bGwscn1fZXhwYW5kKCl7aWYodGhpcy5fc2l6ZTx0aGlzLmNvbmZpZy5tYXhUZXh0dXJlU2l6ZSl7Y29uc3QgdD10aGlzLl9zaXplPDw9MTtyZXR1cm4gayhcIkV4cGFuZGluZyBibG9jayBzaXplIHRvXCIsdCx0aGlzLl9ibG9ja3MpLHIodGhpcy5fYmxvY2tzLChlPT5lLmV4cGFuZCh0KSkpLHRoaXMuX2NyZWF0ZVJlc291cmNlc1Byb21pc2U9bnVsbCx0aGlzLl9zaXplPXQsMH1yZXR1cm4gRS5lcnJvcihuZXcgdChcIm1hcHZpZXctbGltaXRhdGlvbnNcIixcIk1heGltdW0gbnVtYmVyIG9mIG9uc2NyZWVuIGZlYXR1cmVzIGV4Y2VlZGVkLlwiKSksLTF9YXN5bmMgX3VwZGF0ZUZpbHRlcih0LGUsaSxzKXtjb25zdCByPXRoaXMuX2ZpbHRlcnNbZV0sYT1udWxsIT1yJiZyLmhhc2g7aWYoIXImJiF0KXJldHVybiExO2lmKGE9PT1KU09OLnN0cmluZ2lmeSh0KSlyZXR1cm4hMTtpZihudWxsPT10KXtpZighcilyZXR1cm4hMTtjb25zdCB0PTE8PGUrMSxpPXRoaXMuX2dldEJsb2NrKDApO3JldHVybiB0aGlzLl9maWx0ZXJzW2VdPW51bGwsaS5zZXRDb21wb25lbnRBbGxUZXhlbHMoMCx0KSx0aGlzLnNlbmRVcGRhdGVzKCksITB9Y29uc3Qgbj1hd2FpdCB0aGlzLl9nZXRGaWx0ZXIoZSxpKTtyZXR1cm4gYXdhaXQgbi51cGRhdGUodCxzKSwhMH1hc3luYyBfZ2V0RmlsdGVyKHQsZSl7Y29uc3QgaT10aGlzLl9maWx0ZXJzW3RdO2lmKG51bGwhPWkpcmV0dXJuIGk7Y29uc3R7ZGVmYXVsdDpzfT1hd2FpdCBpbXBvcnQoXCIuL0ZlYXR1cmVGaWx0ZXIuanNcIikscj1uZXcgcyh7Z2VvbWV0cnlUeXBlOmUuZ2VvbWV0cnlUeXBlLGhhc006ITEsaGFzWjohMSx0aW1lSW5mbzplLnRpbWVJbmZvLGZpZWxkc0luZGV4Om5ldyB1KGUuZmllbGRzKX0pO3JldHVybiB0aGlzLl9maWx0ZXJzW3RdPXIscn1pc1Zpc2libGUodCl7cmV0dXJuISEoMiZ0aGlzLl9nZXRCbG9jaygwKS5nZXREYXRhKHQsMCkpfWdldEZpbHRlckZsYWdzKHQpe2xldCBlPTA7Y29uc3QgaT1TKHQuZ2V0RGlzcGxheUlkKCkpO2ZvcihsZXQgcj0wO3I8dGhpcy5fZmlsdGVycy5sZW5ndGg7cisrKXtjb25zdCBzPSEhKGkmMTw8ciksYT10aGlzLl9maWx0ZXJzW3JdO2V8PSghc3x8bnVsbD09YXx8YS5jaGVjayh0KT8xOjApPDxyfWxldCBzPTA7aWYodGhpcy5faWRzVG9IaWdobGlnaHQuc2l6ZSl7Y29uc3QgZT10LmdldE9iamVjdElkKCk7cz10aGlzLmdldEhpZ2hsaWdodEZsYWcoZSl9cmV0dXJuIGU8PDF8c319ZXhwb3J0e0IgYXMgZGVmYXVsdH07XG4iLCIvKlxuQWxsIG1hdGVyaWFsIGNvcHlyaWdodCBFU1JJLCBBbGwgUmlnaHRzIFJlc2VydmVkLCB1bmxlc3Mgb3RoZXJ3aXNlIHNwZWNpZmllZC5cblNlZSBodHRwczovL2pzLmFyY2dpcy5jb20vNC4yNy9lc3JpL2NvcHlyaWdodC50eHQgZm9yIGRldGFpbHMuXG4qL1xuaW1wb3J0XCIuLi8uLi8uLi8uLi8uLi9nZW9tZXRyeS5qc1wiO2ltcG9ydCBlIGZyb21cIi4uLy4uLy4uLy4uLy4uL2NvcmUvRXZlbnRlZC5qc1wiO2ltcG9ydCBoYXMgZnJvbVwiLi4vLi4vLi4vLi4vLi4vY29yZS9oYXMuanNcIjtpbXBvcnQgdCBmcm9tXCIuLi8uLi8uLi8uLi8uLi9jb3JlL0xvZ2dlci5qc1wiO2ltcG9ydHthcHBseVNvbWUgYXMgc31mcm9tXCIuLi8uLi8uLi8uLi8uLi9jb3JlL21heWJlLmpzXCI7aW1wb3J0e2RpZmYgYXMgcixoYXNEaWZmIGFzIGl9ZnJvbVwiLi4vLi4vLi4vLi4vLi4vY29yZS9hY2Nlc3NvclN1cHBvcnQvZGlmZlV0aWxzLmpzXCI7aW1wb3J0e0dlb2hhc2hUcmVlIGFzIG99ZnJvbVwiLi4vLi4vLi4vLi4vLi4vZ2VvaGFzaC9HZW9oYXNoVHJlZS5qc1wiO2ltcG9ydHtzZXRHZW9oYXNoQnVmIGFzIGEsc2V0R2VvaGFzaFhZIGFzIGh9ZnJvbVwiLi4vLi4vLi4vLi4vLi4vZ2VvaGFzaC9nZW9oYXNoVXRpbHMuanNcIjtpbXBvcnR7Y3JlYXRlIGFzIG59ZnJvbVwiLi4vLi4vLi4vLi4vLi4vZ2VvbWV0cnkvc3VwcG9ydC9hYUJvdW5kaW5nQm94LmpzXCI7aW1wb3J0e2VhcnRoIGFzIGR9ZnJvbVwiLi4vLi4vLi4vLi4vLi4vZ2VvbWV0cnkvc3VwcG9ydC9FbGxpcHNvaWQuanNcIjtpbXBvcnR7Z2V0SW5mbyBhcyBsfWZyb21cIi4uLy4uLy4uLy4uLy4uL2dlb21ldHJ5L3N1cHBvcnQvc3BhdGlhbFJlZmVyZW5jZVV0aWxzLmpzXCI7aW1wb3J0e2dldEJvdW5kc09wdGltaXplZEdlb21ldHJ5IGFzIGcsY29udmVydFRvR2VvbWV0cnkgYXMgcCxjb252ZXJ0RnJvbVBvbHlnb24gYXMgdX1mcm9tXCIuLi8uLi8uLi8uLi8uLi9sYXllcnMvZ3JhcGhpY3MvZmVhdHVyZUNvbnZlcnNpb25VdGlscy5qc1wiO2ltcG9ydHtPcHRpbWl6ZWRGZWF0dXJlIGFzIGN9ZnJvbVwiLi4vLi4vLi4vLi4vLi4vbGF5ZXJzL2dyYXBoaWNzL09wdGltaXplZEZlYXR1cmUuanNcIjtpbXBvcnQgZiBmcm9tXCIuLi8uLi8uLi8uLi8uLi9sYXllcnMvZ3JhcGhpY3MvT3B0aW1pemVkR2VvbWV0cnkuanNcIjtpbXBvcnR7Y2hlY2tQcm9qZWN0aW9uU3VwcG9ydCBhcyBtLHByb2plY3QgYXMgX31mcm9tXCIuLi8uLi8uLi8uLi8uLi9sYXllcnMvZ3JhcGhpY3MvZGF0YS9wcm9qZWN0aW9uU3VwcG9ydC5qc1wiO2ltcG9ydHtjcmVhdGVEaXNwbGF5SWQgYXMgeX1mcm9tXCIuLi8uLi8uLi9lbmdpbmUvd2ViZ2wvRGlzcGxheUlkLmpzXCI7aW1wb3J0e2ZlYXR1cmVBZGFwdGVyIGFzIEl9ZnJvbVwiLi4vRmVhdHVyZVN0b3JlMkQuanNcIjtpbXBvcnR7U3RvcmUyRCBhcyBifWZyb21cIi4uL1N0b3JlMkQuanNcIjtpbXBvcnR7RmVhdHVyZVNldFJlYWRlckpTT04gYXMgan1mcm9tXCIuL0ZlYXR1cmVTZXRSZWFkZXJKU09OLmpzXCI7aW1wb3J0IHYgZnJvbVwiLi4vLi4vLi4vLi4vLi4vZ2VvbWV0cnkvU3BhdGlhbFJlZmVyZW5jZS5qc1wiO2ltcG9ydCBCIGZyb21cIi4uLy4uLy4uLy4uLy4uL2dlb21ldHJ5L1BvbHlnb24uanNcIjtpbXBvcnQgeCBmcm9tXCIuLi8uLi8uLi8uLi8uLi9nZW9tZXRyeS9FeHRlbnQuanNcIjtjb25zdCBTPXQuZ2V0TG9nZ2VyKFwiZXNyaS52aWV3LjJkLmxheWVycy5mZWF0dXJlcy5zdXBwb3J0LkJpblN0b3JlXCIpLEY9MTIsRz02NCxSPW4oKSxMPTU7ZnVuY3Rpb24gVChlKXtyZXR1cm4gNTcuMjk1Nzc5NTEzMDgyMzIqZX1jbGFzcyBBIGV4dGVuZHMgYntjb25zdHJ1Y3Rvcih0LHMscixpKXtzdXBlcih0LHIpLHRoaXMudHlwZT1cImJpblwiLHRoaXMuZXZlbnRzPW5ldyBlLHRoaXMub2JqZWN0SWRGaWVsZD1cImFnZ3JlZ2F0ZUlkXCIsdGhpcy5mZWF0dXJlQWRhcHRlcj1JLHRoaXMuX2dlb2hhc2hMZXZlbD1MLHRoaXMuX2dlb2hhc2hCdWY9W10sdGhpcy5fc2VydmljZUluZm89aSx0aGlzLmdlb21ldHJ5SW5mbz10Lmdlb21ldHJ5SW5mbyx0aGlzLl9zcGF0aWFsUmVmZXJlbmNlPXMsdGhpcy5fcHJvamVjdGlvblN1cHBvcnRDaGVjaz1tKHMsdi5XR1M4NCksdGhpcy5fYml0c2V0cy5nZW9oYXNoPXIuZ2V0Qml0c2V0KHIuY3JlYXRlQml0c2V0KCkpLHRoaXMuX2JpdHNldHMuaW5zZXJ0ZWQ9ci5nZXRCaXRzZXQoci5jcmVhdGVCaXRzZXQoKSl9ZGVzdHJveSgpe3RoaXMuX3RyZWUmJnRoaXMuX3RyZWUuZGVzdHJveSgpfWdldCBmZWF0dXJlU3BhdGlhbFJlZmVyZW5jZSgpe3JldHVybiB0aGlzLl9zcGF0aWFsUmVmZXJlbmNlfWdldCBmaWVsZHMoKXtyZXR1cm4gdGhpcy5fZmllbGRzfWFzeW5jIHVwZGF0ZVNjaGVtYShlLHQpe2NvbnN0IHM9dGhpcy5fc2NoZW1hO3RyeXthd2FpdCBzdXBlci51cGRhdGVTY2hlbWEoZSx0KSxhd2FpdCB0aGlzLl9wcm9qZWN0aW9uU3VwcG9ydENoZWNrfWNhdGNoKGgpe310aGlzLl9maWVsZHM9dGhpcy5fc2NoZW1hLnBhcmFtcy5maWVsZHM7Y29uc3QgYT1yKHMsdCk7dCYmKG51bGwhPWF8fGUuc291cmNlfHxlLnN0b3JhZ2UuZmlsdGVycyk/KChpKGEsXCJwYXJhbXMuZmllbGRzXCIpfHxpKGEsXCJwYXJhbXNcIil8fCF0aGlzLl90cmVlfHxlLnNvdXJjZSkmJih0aGlzLl90cmVlJiZ0aGlzLl90cmVlLmRlc3Ryb3koKSx0aGlzLl90cmVlPW5ldyBvKHRoaXMuX3N0YXRpc3RpY0ZpZWxkcyx0aGlzLl9zZXJ2aWNlSW5mbyksdGhpcy5fdHJlZS5vblJlbGVhc2U9ZT0+ZS5kaXNwbGF5SWQmJnRoaXMuX3N0b3JhZ2UucmVsZWFzZURpc3BsYXlJZChlLmRpc3BsYXlJZCksdGhpcy5fZ2VvaGFzaExldmVsPXRoaXMuX3NjaGVtYS5wYXJhbXMuZml4ZWRCaW5MZXZlbCx0aGlzLl9yZWJ1aWxkVHJlZSgpLGhhcyhcImVzcmktMmQtdXBkYXRlLWRlYnVnXCIpJiZTLmluZm8oXCJBZ2dyZWdhdGUgbWVzaCBuZWVkcyB1cGRhdGUgZHVlIHRvIHRyZWUgY2hhbmdpbmdcIikpLGhhcyhcImVzcmktMmQtdXBkYXRlLWRlYnVnXCIpJiZTLmluZm8oXCJBZ2dyZWdhdGUgbWVzaCBuZWVkcyB1cGRhdGUgZHVlIHRvIHRyZWUgY2hhbmdpbmdcIiksZS50YXJnZXRzW3QubmFtZV09ITAsZS5tZXNoPSExKTpzJiYoZS5tZXNoPSEwKX1jbGVhcigpe3RoaXMuX3JlYnVpbGRUcmVlKCl9c3dlZXBGZWF0dXJlcyhlLHQpe3RoaXMuX2JpdHNldHMuaW5zZXJ0ZWQuZm9yRWFjaFNldCgocz0+e2lmKCFlLmhhcyhzKSl7Y29uc3QgZT10Lmxvb2t1cEJ5RGlzcGxheUlkVW5zYWZlKHMpO3RoaXMuX3JlbW92ZShlKX19KSl9c3dlZXBBZ2dyZWdhdGVzKGUsdCxzKXt9b25UaWxlRGF0YShlLHQscyxyLGk9ITApe2lmKCF0aGlzLl9zY2hlbWF8fG51bGw9PXQuYWRkT3JVcGRhdGUpcmV0dXJuIHQ7dGhpcy5ldmVudHMuZW1pdChcImNoYW5nZWRcIik7Y29uc3Qgbz10aGlzLl9nZXRUcmFuc2Zvcm1zKGUsdGhpcy5fc3BhdGlhbFJlZmVyZW5jZSk7e2NvbnN0IGU9dC5hZGRPclVwZGF0ZS5nZXRDdXJzb3IoKTtmb3IoO2UubmV4dCgpOyl0aGlzLl91cGRhdGUoZSxyKX1pZih0LnN0YXR1cy5tZXNofHwhaSlyZXR1cm4gdDtjb25zdCBhPW5ldyBBcnJheTt0aGlzLl9nZXRCaW5zRm9yVGlsZShhLGUsbyxzKSx0LmFkZE9yVXBkYXRlPWouZnJvbU9wdGltaXplZEZlYXR1cmVzKGEse2ZpZWxkczp0aGlzLmZpZWxkcyxnZW9tZXRyeVR5cGU6XCJlc3JpR2VvbWV0cnlQb2x5Z29uXCIsb2JqZWN0SWRGaWVsZDp0aGlzLm9iamVjdElkRmllbGR9KSx0LmFkZE9yVXBkYXRlLmF0dGFjaFN0b3JhZ2UocyksdC5lbmQ9ITAsdC5pc1JlcHVzaHx8KHQuY2xlYXI9ITApO3tjb25zdCByPXQuYWRkT3JVcGRhdGUuZ2V0Q3Vyc29yKCk7Zm9yKDtyLm5leHQoKTspe2NvbnN0IHQ9ci5nZXREaXNwbGF5SWQoKTt0aGlzLl9iaXRzZXRzLmNvbXB1dGVkLnVuc2V0KHQpLHRoaXMuc2V0Q29tcHV0ZWRBdHRyaWJ1dGVzKHMscix0LGUuc2NhbGUpfX1yZXR1cm4gdH1mb3JFYWNoQmluKGUpe3RoaXMuX3RyZWUuZm9yRWFjaChlKX1mb3JFYWNoKGUpe3RoaXMuX3RyZWUuZm9yRWFjaCgodD0+e2lmKHQuZGVwdGghPT10aGlzLl9nZW9oYXNoTGV2ZWwpcmV0dXJuO2NvbnN0IHM9dGhpcy5fdG9GZWF0dXJlSlNPTih0KSxyPWouZnJvbUZlYXR1cmVzKFtzXSx7b2JqZWN0SWRGaWVsZDp0aGlzLm9iamVjdElkRmllbGQsZ2xvYmFsSWRGaWVsZDpudWxsLGdlb21ldHJ5VHlwZTp0aGlzLmdlb21ldHJ5SW5mby5nZW9tZXRyeVR5cGUsZmllbGRzOnRoaXMuZmllbGRzfSkuZ2V0Q3Vyc29yKCk7ci5uZXh0KCksZShyKX0pKX1mb3JFYWNoSW5Cb3VuZHMoZSx0KXt9Zm9yRWFjaEJvdW5kcyhlLHQpe2NvbnN0e2hhc006cyxoYXNaOnJ9PXRoaXMuZ2VvbWV0cnlJbmZvO2Zvcihjb25zdCBpIG9mIGUpe2NvbnN0IGU9ZyhSLGkucmVhZEdlb21ldHJ5KCkscixzKTtudWxsIT1lJiZ0KGUpfX1vblRpbGVVcGRhdGUoZSl7fWdldEFnZ3JlZ2F0ZShlKXtjb25zdCB0PXkoZSwhMCkscj10aGlzLl90cmVlLmZpbmRJZigoZT0+ZS5kaXNwbGF5SWQ9PT10KSk7cmV0dXJuIHMociwoZT0+dGhpcy5fdG9GZWF0dXJlSlNPTihlKSkpfWdldEFnZ3JlZ2F0ZXMoKXtyZXR1cm4gdGhpcy5fdHJlZS5maW5kQWxsSWYoKGU9PmUuZGVwdGg9PT10aGlzLl9nZW9oYXNoTGV2ZWwpKS5tYXAodGhpcy5fdG9GZWF0dXJlSlNPTi5iaW5kKHRoaXMpKX1nZXREaXNwbGF5SWQoZSl7Y29uc3QgdD10aGlzLl90cmVlLmZpbmRJZigodD0+dC5pZD09PWUpKTtyZXR1cm4gcyh0LChlPT5lLmRpc3BsYXlJZCkpfWdldEZlYXR1cmVEaXNwbGF5SWRzRm9yQWdncmVnYXRlKGUpe2NvbnN0IHQ9dGhpcy5fdHJlZS5maW5kSWYoKHQ9PnQuaWQ9PT1lKSk7cmV0dXJuIG51bGwhPXQ/QXJyYXkuZnJvbSh0LmRpc3BsYXlJZHMpOltdfWdldERpc3BsYXlJZEZvclJlZmVyZW5jZUlkKGUpe2NvbnN0IHQ9dGhpcy5fdHJlZS5maW5kSWYoKHQ9PjE9PT10LmRpc3BsYXlJZHMuc2l6ZSYmdC5kaXNwbGF5SWRzLmhhcyhlKSkpO3JldHVybiBzKHQsKGU9PmUuZGlzcGxheUlkKSl9X3RvRmVhdHVyZUpTT04oZSl7Y29uc3QgdD10aGlzLl9zcGF0aWFsUmVmZXJlbmNlO3JldHVybntkaXNwbGF5SWQ6ZS5kaXNwbGF5SWQsYXR0cmlidXRlczplLmdldEF0dHJpYnV0ZXMoKSxnZW9tZXRyeTpwKGUuZ2V0R2VvbWV0cnkodCksXCJlc3JpR2VvbWV0cnlQb2x5Z29uXCIsITEsITEpLGNlbnRyb2lkOm51bGx9fV9yZWJ1aWxkVHJlZSgpe3RoaXMuX2JpdHNldHMuY29tcHV0ZWQuY2xlYXIoKSx0aGlzLl9iaXRzZXRzLmluc2VydGVkLmNsZWFyKCksdGhpcy5fdHJlZSYmdGhpcy5fdHJlZS5jbGVhcigpfV9yZW1vdmUoZSl7Y29uc3QgdD1lLmdldERpc3BsYXlJZCgpLHM9ZS5nZXRYSHlkcmF0ZWQoKSxyPWUuZ2V0WUh5ZHJhdGVkKCksaT10aGlzLl9nZW9oYXNoQnVmWzIqdF0sbz10aGlzLl9nZW9oYXNoQnVmWzIqdCsxXTt0aGlzLl9iaXRzZXRzLmluc2VydGVkLmhhcyh0KSYmKHRoaXMuX2JpdHNldHMuaW5zZXJ0ZWQudW5zZXQodCksdGhpcy5fdHJlZS5yZW1vdmVDdXJzb3IoZSxzLHIsaSxvLHRoaXMuX2dlb2hhc2hMZXZlbCkpfV91cGRhdGUoZSx0KXtjb25zdCBzPWUuZ2V0RGlzcGxheUlkKCkscj10aGlzLl9iaXRzZXRzLmluc2VydGVkLGk9dC5pc1Zpc2libGUocyk7aWYoaT09PXIuaGFzKHMpKXJldHVybjtpZighaSlyZXR1cm4gdm9pZCB0aGlzLl9yZW1vdmUoZSk7Y29uc3Qgbz1lLmdldFhIeWRyYXRlZCgpLGE9ZS5nZXRZSHlkcmF0ZWQoKTtpZighdGhpcy5fc2V0R2VvaGFzaChzLG8sYSkpcmV0dXJuO2NvbnN0IGg9dGhpcy5fZ2VvaGFzaEJ1ZlsyKnNdLG49dGhpcy5fZ2VvaGFzaEJ1ZlsyKnMrMV07dGhpcy5fdHJlZS5pbnNlcnRDdXJzb3IoZSxzLG8sYSxoLG4sdGhpcy5fZ2VvaGFzaExldmVsKSxyLnNldChzKX1fc2V0R2VvaGFzaChlLHQscyl7aWYodGhpcy5fYml0c2V0cy5nZW9oYXNoLmhhcyhlKSlyZXR1cm4hMDtjb25zdCByPXRoaXMuX2dlb2hhc2hCdWY7aWYodGhpcy5fc3BhdGlhbFJlZmVyZW5jZS5pc1dlYk1lcmNhdG9yKXtjb25zdCBpPVQodC9kLnJhZGl1cyksbz1pLTM2MCpNYXRoLmZsb29yKChpKzE4MCkvMzYwKSxoPVQoTWF0aC5QSS8yLTIqTWF0aC5hdGFuKE1hdGguZXhwKC1zL2QucmFkaXVzKSkpO2EocixlLGgsbyxGKX1lbHNle2NvbnN0IGk9Xyh7eDp0LHk6c30sdGhpcy5fc3BhdGlhbFJlZmVyZW5jZSx2LldHUzg0KTtpZighaSlyZXR1cm4hMTthKHIsZSxpLnksaS54LEYpfXJldHVybiB0aGlzLl9iaXRzZXRzLmdlb2hhc2guc2V0KGUpLCEwfV9nZXRCaW5zRm9yVGlsZShlLHQscyxyKXt0cnl7Y29uc3QgaT10aGlzLl9nZXRHZW9oYXNoQm91bmRzKHQpLG89dGhpcy5fdHJlZS5nZXRCaW5zKGkpO2Zvcihjb25zdCB0IG9mIG8pe3QuZGlzcGxheUlkfHwodC5kaXNwbGF5SWQ9ci5jcmVhdGVEaXNwbGF5SWQoITApKTtsZXQgaT1udWxsO2NvbnN0IG89dC5nZXRHZW9tZXRyeSh0aGlzLl9zcGF0aWFsUmVmZXJlbmNlLHMudGlsZSk7b3x8KGk9dC5nZXRHZW9tZXRyeUNlbnRyb2lkKHRoaXMuX3NwYXRpYWxSZWZlcmVuY2Uscy50aWxlKSk7Y29uc3QgYT1uZXcgYyhvLHQuZ2V0QXR0cmlidXRlcygpLGkpO2Eub2JqZWN0SWQ9dC5pZCxhLmRpc3BsYXlJZD10LmRpc3BsYXlJZCxlLnB1c2goYSl9fWNhdGNoKGkpe3JldHVybiB2b2lkIFMuZXJyb3IoXCJVbmFibGUgdG8gZ2V0IGJpbnMgZm9yIHRpbGVcIix0LmtleS5pZCl9fV9nZXRHZW9oYXNoKGUsdCxzKXtjb25zdCByPXtnZW9oYXNoWDowLGdlb2hhc2hZOjB9O3JldHVybiBoKHIsdCxlLHMpLHJ9X2dldEdlb2hhc2hCb3VuZHMoZSl7Y29uc3QgdD10aGlzLl9nZXRHZW9oYXNoTGV2ZWwoZS5rZXkubGV2ZWwpLHM9W2UuZXh0ZW50LnhtaW4sZS5leHRlbnQueW1pbixlLmV4dGVudC54bWF4LGUuZXh0ZW50LnltYXhdLHI9Qi5mcm9tRXh0ZW50KHguZnJvbUJvdW5kcyhzLHRoaXMuX3NwYXRpYWxSZWZlcmVuY2UpKSxpPV8ocix0aGlzLl9zcGF0aWFsUmVmZXJlbmNlLHYuV0dTODQse2RlbnNpZmljYXRpb25TdGVwOmUucmVzb2x1dGlvbipHfSksbz11KG5ldyBmLGksITEsITEpLGE9by5jb29yZHMuZmlsdGVyKCgoZSx0KT0+ISh0JTIpKSksaD1vLmNvb3Jkcy5maWx0ZXIoKChlLHQpPT50JTIpKSxuPU1hdGgubWluKC4uLmEpLGQ9TWF0aC5taW4oLi4uaCksbD1NYXRoLm1heCguLi5hKSxnPU1hdGgubWF4KC4uLmgpLHA9dGhpcy5fZ2V0R2VvaGFzaChuLGQsdCksYz10aGlzLl9nZXRHZW9oYXNoKGwsZyx0KTtyZXR1cm57Ym91bmRzOnMsZ2VvaGFzaEJvdW5kczp7eExMOnAuZ2VvaGFzaFgseUxMOnAuZ2VvaGFzaFkseFRSOmMuZ2VvaGFzaFgseVRSOmMuZ2VvaGFzaFl9LGxldmVsOnR9fV9nZXRHZW9oYXNoTGV2ZWwoZSl7cmV0dXJuIHRoaXMuX3NjaGVtYS5wYXJhbXMuZml4ZWRCaW5MZXZlbH1fZ2V0VHJhbnNmb3JtcyhlLHQpe2NvbnN0IHM9e29yaWdpblBvc2l0aW9uOlwidXBwZXJMZWZ0XCIsc2NhbGU6W2UucmVzb2x1dGlvbixlLnJlc29sdXRpb25dLHRyYW5zbGF0ZTpbZS5ib3VuZHNbMF0sZS5ib3VuZHNbM11dfSxyPWwodCk7aWYoIXIpcmV0dXJue3RpbGU6cyxsZWZ0Om51bGwscmlnaHQ6bnVsbH07Y29uc3RbaSxvXT1yLnZhbGlkO3JldHVybnt0aWxlOnMsbGVmdDp7Li4ucyx0cmFuc2xhdGU6W28sZS5ib3VuZHNbM11dfSxyaWdodDp7Li4ucyx0cmFuc2xhdGU6W2ktbytlLmJvdW5kc1swXSxlLmJvdW5kc1szXV19fX19ZXhwb3J0e0EgYXMgQmluU3RvcmV9O1xuIiwiLypcbkFsbCBtYXRlcmlhbCBjb3B5cmlnaHQgRVNSSSwgQWxsIFJpZ2h0cyBSZXNlcnZlZCwgdW5sZXNzIG90aGVyd2lzZSBzcGVjaWZpZWQuXG5TZWUgaHR0cHM6Ly9qcy5hcmNnaXMuY29tLzQuMjcvZXNyaS9jb3B5cmlnaHQudHh0IGZvciBkZXRhaWxzLlxuKi9cbmltcG9ydFwiLi4vLi4vLi4vLi4vLi4vZ2VvbWV0cnkuanNcIjtpbXBvcnQgZSBmcm9tXCIuLi8uLi8uLi8uLi8uLi9jb3JlL0V2ZW50ZWQuanNcIjtpbXBvcnQgaGFzIGZyb21cIi4uLy4uLy4uLy4uLy4uL2NvcmUvaGFzLmpzXCI7aW1wb3J0e2FwcGx5U29tZSBhcyB0fWZyb21cIi4uLy4uLy4uLy4uLy4uL2NvcmUvbWF5YmUuanNcIjtpbXBvcnR7ZGlmZiBhcyBzLGhhc0RpZmYgYXMgcn1mcm9tXCIuLi8uLi8uLi8uLi8uLi9jb3JlL2FjY2Vzc29yU3VwcG9ydC9kaWZmVXRpbHMuanNcIjtpbXBvcnR7R2VvaGFzaFRyZWUgYXMgb31mcm9tXCIuLi8uLi8uLi8uLi8uLi9nZW9oYXNoL0dlb2hhc2hUcmVlLmpzXCI7aW1wb3J0e3NldEdlb2hhc2hCdWYgYXMgaSxzZXRHZW9oYXNoWFkgYXMgYX1mcm9tXCIuLi8uLi8uLi8uLi8uLi9nZW9oYXNoL2dlb2hhc2hVdGlscy5qc1wiO2ltcG9ydHtjcmVhdGUgYXMgaH1mcm9tXCIuLi8uLi8uLi8uLi8uLi9nZW9tZXRyeS9zdXBwb3J0L2FhQm91bmRpbmdCb3guanNcIjtpbXBvcnR7ZWFydGggYXMgbn1mcm9tXCIuLi8uLi8uLi8uLi8uLi9nZW9tZXRyeS9zdXBwb3J0L0VsbGlwc29pZC5qc1wiO2ltcG9ydHtnZXRJbmZvIGFzIGx9ZnJvbVwiLi4vLi4vLi4vLi4vLi4vZ2VvbWV0cnkvc3VwcG9ydC9zcGF0aWFsUmVmZXJlbmNlVXRpbHMuanNcIjtpbXBvcnR7Z2V0Qm91bmRzT3B0aW1pemVkR2VvbWV0cnkgYXMgdSxxdWFudGl6ZVggYXMgZyxxdWFudGl6ZVkgYXMgYyxjb252ZXJ0RnJvbVBvbHlnb24gYXMgZH1mcm9tXCIuLi8uLi8uLi8uLi8uLi9sYXllcnMvZ3JhcGhpY3MvZmVhdHVyZUNvbnZlcnNpb25VdGlscy5qc1wiO2ltcG9ydHtPcHRpbWl6ZWRGZWF0dXJlV2l0aEdlb21ldHJ5IGFzIGYsT3B0aW1pemVkRmVhdHVyZSBhcyBwfWZyb21cIi4uLy4uLy4uLy4uLy4uL2xheWVycy9ncmFwaGljcy9PcHRpbWl6ZWRGZWF0dXJlLmpzXCI7aW1wb3J0IG0gZnJvbVwiLi4vLi4vLi4vLi4vLi4vbGF5ZXJzL2dyYXBoaWNzL09wdGltaXplZEdlb21ldHJ5LmpzXCI7aW1wb3J0e2NoZWNrUHJvamVjdGlvblN1cHBvcnQgYXMgXyxwcm9qZWN0IGFzIHl9ZnJvbVwiLi4vLi4vLi4vLi4vLi4vbGF5ZXJzL2dyYXBoaWNzL2RhdGEvcHJvamVjdGlvblN1cHBvcnQuanNcIjtpbXBvcnR7VElMRV9TSVpFIGFzIEl9ZnJvbVwiLi4vLi4vLi4vZW5naW5lL3dlYmdsL2RlZmluaXRpb25zLmpzXCI7aW1wb3J0e0RJU1BMQVlfSURfVEVYRUxfTUFTSyBhcyBifWZyb21cIi4uLy4uLy4uL2VuZ2luZS93ZWJnbC9EaXNwbGF5SWQuanNcIjtpbXBvcnR7ZmVhdHVyZUFkYXB0ZXIgYXMgdn1mcm9tXCIuLi9GZWF0dXJlU3RvcmUyRC5qc1wiO2ltcG9ydHtTdG9yZTJEIGFzIFJ9ZnJvbVwiLi4vU3RvcmUyRC5qc1wiO2ltcG9ydHtGZWF0dXJlU2V0UmVhZGVySlNPTiBhcyBNfWZyb21cIi4vRmVhdHVyZVNldFJlYWRlckpTT04uanNcIjtpbXBvcnQgeCBmcm9tXCIuLi8uLi8uLi8uLi8uLi9nZW9tZXRyeS9TcGF0aWFsUmVmZXJlbmNlLmpzXCI7aW1wb3J0IGogZnJvbVwiLi4vLi4vLi4vLi4vLi4vZ2VvbWV0cnkvUG9seWdvbi5qc1wiO2ltcG9ydCBDIGZyb21cIi4uLy4uLy4uLy4uLy4uL2dlb21ldHJ5L0V4dGVudC5qc1wiO2NvbnN0IEY9MTIsTD02NCxCPTEsdz1oKCk7Y2xhc3MgUyBleHRlbmRzIGZ7Y29uc3RydWN0b3IoZSx0LHMscixvKXtzdXBlcihuZXcgbShbXSxbdCxzXSkscixudWxsLGUpLHRoaXMuZ2VvaGFzaEJvdW5kc0luZm89b31nZXQgY291bnQoKXtyZXR1cm4gdGhpcy5hdHRyaWJ1dGVzLmNsdXN0ZXJfY291bnR9c3RhdGljIGNyZWF0ZShlLHQscyxyLG8saSxhLGgpe2NvbnN0IG49bmV3IFModCxzLHIsaSxhKTtyZXR1cm4gbi5kaXNwbGF5SWQ9ZS5jcmVhdGVEaXNwbGF5SWQoITApLG4ucmVmZXJlbmNlSWQ9aCxuLnRpbGVMZXZlbD1vLG59dXBkYXRlKGUsdCxzLHIsbyxpKXtyZXR1cm4gdGhpcy5nZW9tZXRyeS5jb29yZHNbMF09ZSx0aGlzLmdlb21ldHJ5LmNvb3Jkc1sxXT10LHRoaXMudGlsZUxldmVsPXMsdGhpcy5hdHRyaWJ1dGVzPXIsdGhpcy5nZW9oYXNoQm91bmRzSW5mbz1vLHRoaXMucmVmZXJlbmNlSWQ9bnVsbCx0aGlzLnJlZmVyZW5jZUlkPWksdGhpc310b0pTT04oKXtyZXR1cm57YXR0cmlidXRlczp7Li4udGhpcy5hdHRyaWJ1dGVzLGFnZ3JlZ2F0ZUlkOnRoaXMub2JqZWN0SWQscmVmZXJlbmNlSWQ6MT09PXRoaXMuYXR0cmlidXRlcy5jbHVzdGVyX2NvdW50P3RoaXMucmVmZXJlbmNlSWQ6bnVsbH0sZ2VvbWV0cnk6e3g6dGhpcy5nZW9tZXRyeS5jb29yZHNbMF0seTp0aGlzLmdlb21ldHJ5LmNvb3Jkc1sxXX19fX1mdW5jdGlvbiBUKGUpe3JldHVybiA1Ny4yOTU3Nzk1MTMwODIzMiplfWNsYXNzIFYgZXh0ZW5kcyBSe2NvbnN0cnVjdG9yKHQscyxyLG8pe3N1cGVyKHQsciksdGhpcy50eXBlPVwiY2x1c3RlclwiLHRoaXMuZXZlbnRzPW5ldyBlLHRoaXMub2JqZWN0SWRGaWVsZD1cImFnZ3JlZ2F0ZUlkXCIsdGhpcy5mZWF0dXJlQWRhcHRlcj12LHRoaXMuX2dlb2hhc2hMZXZlbD0wLHRoaXMuX3RpbGVMZXZlbD0wLHRoaXMuX2FnZ3JlZ2F0ZVZhbHVlUmFuZ2VzPXt9LHRoaXMuX2FnZ3JlZ2F0ZVZhbHVlUmFuZ2VzQ2hhbmdlZD0hMSx0aGlzLl9nZW9oYXNoQnVmPVtdLHRoaXMuX2NsdXN0ZXJzPW5ldyBNYXAsdGhpcy5fdGlsZXM9bmV3IE1hcCx0aGlzLl9zZXJ2aWNlSW5mbz1vLHRoaXMuZ2VvbWV0cnlJbmZvPXQuZ2VvbWV0cnlJbmZvLHRoaXMuX3NwYXRpYWxSZWZlcmVuY2U9cyx0aGlzLl9wcm9qZWN0aW9uU3VwcG9ydENoZWNrPV8ocyx4LldHUzg0KSx0aGlzLl9iaXRzZXRzLmdlb2hhc2g9ci5nZXRCaXRzZXQoci5jcmVhdGVCaXRzZXQoKSksdGhpcy5fYml0c2V0cy5pbnNlcnRlZD1yLmdldEJpdHNldChyLmNyZWF0ZUJpdHNldCgpKX1kZXN0cm95KCl7dGhpcy5fdHJlZS5kZXN0cm95KCl9Z2V0IGZlYXR1cmVTcGF0aWFsUmVmZXJlbmNlKCl7cmV0dXJuIHRoaXMuX3NwYXRpYWxSZWZlcmVuY2V9Z2V0IGZpZWxkcygpe3JldHVybiB0aGlzLl9maWVsZHN9YXN5bmMgdXBkYXRlU2NoZW1hKGUsdCl7Y29uc3QgaT10aGlzLl9zY2hlbWE7dHJ5e2F3YWl0IHN1cGVyLnVwZGF0ZVNjaGVtYShlLHQpLGF3YWl0IHRoaXMuX3Byb2plY3Rpb25TdXBwb3J0Q2hlY2t9Y2F0Y2goaCl7fXRoaXMuX2ZpZWxkcz1bLi4udGhpcy5fc2NoZW1hLnBhcmFtcy5maWVsZHMse25hbWU6XCJyZWZlcmVuY2VJZFwiLGFsaWFzOlwicmVmZXJlbmNlSWRcIix0eXBlOlwiZXNyaUZpZWxkVHlwZUludGVnZXJcIn1dOyEhdGhpcy5fZmllbGRzLnNvbWUoKGU9PlwiY2x1c3Rlcl9jb3VudFwiPT09ZS5uYW1lKSl8fHRoaXMuX2ZpZWxkcy5wdXNoKHtuYW1lOlwiY2x1c3Rlcl9jb3VudFwiLGFsaWFzOlwiY2x1c3Rlcl9jb3VudFwiLHR5cGU6XCJlc3JpRmllbGRUeXBlSW50ZWdlclwifSk7Y29uc3QgYT1zKGksdCk7dCYmKG51bGwhPWF8fGUuc291cmNlfHxlLnN0b3JhZ2UuZmlsdGVycyk/KChyKGEsXCJwYXJhbXMuZmllbGRzXCIpfHwhdGhpcy5fdHJlZXx8ZS5zb3VyY2UpJiYodGhpcy5fdHJlZSYmdGhpcy5fdHJlZS5kZXN0cm95KCksdGhpcy5fdHJlZT1uZXcgbyh0aGlzLl9zdGF0aXN0aWNGaWVsZHMsdGhpcy5fc2VydmljZUluZm8pLHRoaXMuX3JlYnVpbGRUcmVlKCksaGFzKFwiZXNyaS0yZC11cGRhdGUtZGVidWdcIikmJmNvbnNvbGUuZGVidWcoXCJBZ2dyZWdhdGUgbWVzaCBuZWVkcyB1cGRhdGUgZHVlIHRvIHRyZWUgY2hhbmdpbmdcIikpLGhhcyhcImVzcmktMmQtdXBkYXRlLWRlYnVnXCIpJiZjb25zb2xlLmRlYnVnKFwiQXBwbHlpbmcgVXBkYXRlIC0gQ2x1c3RlclN0b3JlOlwiLGEpLGUudGFyZ2V0c1t0Lm5hbWVdPSEwLGUubWVzaD0hMSx0aGlzLl9hZ2dyZWdhdGVWYWx1ZVJhbmdlcz17fSk6aSYmKGUubWVzaD0hMCl9Y2xlYXIoKXt0aGlzLl9yZWJ1aWxkVHJlZSgpfXN3ZWVwRmVhdHVyZXMoZSx0KXt0aGlzLl9iaXRzZXRzLmluc2VydGVkLmZvckVhY2hTZXQoKHM9PntpZighZS5oYXMocykpe2NvbnN0IGU9dC5sb29rdXBCeURpc3BsYXlJZFVuc2FmZShzKTt0aGlzLl9yZW1vdmUoZSl9fSkpfXN3ZWVwQWdncmVnYXRlcyhlLHQscyl7dGhpcy5fY2x1c3RlcnMuZm9yRWFjaCgoKHIsbyk9PntyJiZyLnRpbGVMZXZlbCE9PXMmJihlLnJlbGVhc2VEaXNwbGF5SWQoci5kaXNwbGF5SWQpLHQudW5zZXRBdHRyaWJ1dGVEYXRhKHIuZGlzcGxheUlkKSx0aGlzLl9jbHVzdGVycy5kZWxldGUobykpfSkpfW9uVGlsZURhdGEoZSx0LHMscixvPSEwKXtpZighdGhpcy5fc2NoZW1hfHxudWxsPT10LmFkZE9yVXBkYXRlKXJldHVybiB0O3RoaXMuZXZlbnRzLmVtaXQoXCJjaGFuZ2VkXCIpO2NvbnN0IGk9dGhpcy5fZ2V0VHJhbnNmb3JtcyhlLHRoaXMuX3NwYXRpYWxSZWZlcmVuY2UpO3tjb25zdCBlPXQuYWRkT3JVcGRhdGUuZ2V0Q3Vyc29yKCk7Zm9yKDtlLm5leHQoKTspdGhpcy5fdXBkYXRlKGUscil9aWYodC5zdGF0dXMubWVzaHx8IW8pcmV0dXJuIHQ7Y29uc3QgYT1uZXcgQXJyYXksaD10aGlzLl9zY2hlbWEucGFyYW1zLmNsdXN0ZXJSYWRpdXM7dGhpcy5fZ2V0Q2x1c3RlcnNGb3JUaWxlKGEsZSxoLHMsaSksdC5hZGRPclVwZGF0ZT1NLmZyb21PcHRpbWl6ZWRGZWF0dXJlcyhhLHtmaWVsZHM6dGhpcy5maWVsZHMsZ2VvbWV0cnlUeXBlOlwiZXNyaUdlb21ldHJ5UG9pbnRcIixvYmplY3RJZEZpZWxkOnRoaXMub2JqZWN0SWRGaWVsZH0pLHQuYWRkT3JVcGRhdGUuYXR0YWNoU3RvcmFnZShzKSx0LmNsZWFyPSEwLHQuZW5kPSEwO3tjb25zdCByPXQuYWRkT3JVcGRhdGUuZ2V0Q3Vyc29yKCk7Zm9yKDtyLm5leHQoKTspe2NvbnN0IHQ9ci5nZXREaXNwbGF5SWQoKTt0aGlzLl9iaXRzZXRzLmNvbXB1dGVkLnVuc2V0KHQpLHRoaXMuc2V0Q29tcHV0ZWRBdHRyaWJ1dGVzKHMscix0LGUuc2NhbGUpfX1yZXR1cm4gdGhpcy5fYWdncmVnYXRlVmFsdWVSYW5nZXNDaGFuZ2VkJiZ0LmVuZCYmKHRoaXMuZXZlbnRzLmVtaXQoXCJ2YWx1ZVJhbmdlc0NoYW5nZWRcIix7dmFsdWVSYW5nZXM6dGhpcy5fYWdncmVnYXRlVmFsdWVSYW5nZXN9KSx0aGlzLl9hZ2dyZWdhdGVWYWx1ZVJhbmdlc0NoYW5nZWQ9ITEpLHR9b25UaWxlVXBkYXRlKHthZGRlZDplLHJlbW92ZWQ6dH0pe2lmKGUubGVuZ3RoKXtjb25zdCB0PWVbMF0ubGV2ZWw7dGhpcy5fdGlsZUxldmVsPXQsdGhpcy5fc2V0R2VvaGFzaExldmVsKHQpfWlmKCF0aGlzLl9zY2hlbWEpcmV0dXJuO2NvbnN0IHM9dGhpcy5fc2NoZW1hLnBhcmFtcy5jbHVzdGVyUmFkaXVzO3QuZm9yRWFjaCgoZT0+e3RoaXMuX3RpbGVzLmRlbGV0ZShlLmtleS5pZCksdGhpcy5fbWFya1RpbGVDbHVzdGVyc0ZvckRlbGV0aW9uKGUscyl9KSl9Z2V0QWdncmVnYXRlKGUpe2Zvcihjb25zdCB0IG9mIHRoaXMuX2NsdXN0ZXJzLnZhbHVlcygpKWlmKCh0Py5kaXNwbGF5SWQmYik9PShlJmIpKXJldHVybiB0LnRvSlNPTigpO3JldHVybiBudWxsfWdldEFnZ3JlZ2F0ZXMoKXtjb25zdCBlPVtdO2Zvcihjb25zdCB0IG9mIHRoaXMuX2NsdXN0ZXJzLnZhbHVlcygpKXQ/LnRpbGVMZXZlbD09PXRoaXMuX3RpbGVMZXZlbCYmZS5wdXNoKHQudG9KU09OKCkpO3JldHVybiBlfWdldERpc3BsYXlJZChlKXtjb25zdCB0PXRoaXMuX2NsdXN0ZXJzLmdldChlKTtyZXR1cm4gdD90LmRpc3BsYXlJZDpudWxsfWdldEZlYXR1cmVEaXNwbGF5SWRzRm9yQWdncmVnYXRlKGUpe2NvbnN0IHQ9dGhpcy5fY2x1c3RlcnMuZ2V0KGUpO3JldHVybiB0P3RoaXMuX3RyZWUuZ2V0UmVnaW9uRGlzcGxheUlkcyh0Lmdlb2hhc2hCb3VuZHNJbmZvKTpbXX1nZXREaXNwbGF5SWRGb3JSZWZlcmVuY2VJZChlKXtmb3IoY29uc3QgdCBvZiB0aGlzLl9jbHVzdGVycy52YWx1ZXMoKSlpZih0Py5yZWZlcmVuY2VJZD09PWUpcmV0dXJuIHQuZGlzcGxheUlkO3JldHVybiBudWxsfWdldEFnZ3JlZ2F0ZVZhbHVlUmFuZ2VzKCl7cmV0dXJuIHRoaXMuX2FnZ3JlZ2F0ZVZhbHVlUmFuZ2VzfWZvckVhY2goZSl7dGhpcy5fY2x1c3RlcnMuZm9yRWFjaCgodD0+e2lmKCF0KXJldHVybjtjb25zdCBzPXQudG9KU09OKCkscj1NLmZyb21GZWF0dXJlcyhbc10se29iamVjdElkRmllbGQ6dGhpcy5vYmplY3RJZEZpZWxkLGdsb2JhbElkRmllbGQ6bnVsbCxnZW9tZXRyeVR5cGU6dGhpcy5nZW9tZXRyeUluZm8uZ2VvbWV0cnlUeXBlLGZpZWxkczp0aGlzLmZpZWxkc30pLmdldEN1cnNvcigpO3IubmV4dCgpLGUocil9KSl9Zm9yRWFjaEluQm91bmRzKGUsdCl7fWZvckVhY2hCb3VuZHMoZSx0KXtjb25zdHtoYXNNOnMsaGFzWjpyfT10aGlzLmdlb21ldHJ5SW5mbztmb3IoY29uc3QgbyBvZiBlKXtjb25zdCBlPXUodyxvLnJlYWRHZW9tZXRyeSgpLHIscyk7bnVsbCE9ZSYmdChlKX19c2l6ZSgpe2xldCBlPTA7cmV0dXJuIHRoaXMuZm9yRWFjaCgodD0+ZSsrKSksZX1fcmVidWlsZFRyZWUoKXt0aGlzLl9iaXRzZXRzLmNvbXB1dGVkLmNsZWFyKCksdGhpcy5fYml0c2V0cy5pbnNlcnRlZC5jbGVhcigpLHRoaXMuX3RyZWUmJnRoaXMuX3RyZWUuY2xlYXIoKX1fcmVtb3ZlKGUpe2NvbnN0IHQ9ZS5nZXREaXNwbGF5SWQoKSxzPWUuZ2V0WEh5ZHJhdGVkKCkscj1lLmdldFlIeWRyYXRlZCgpLG89dGhpcy5fZ2VvaGFzaEJ1ZlsyKnRdLGk9dGhpcy5fZ2VvaGFzaEJ1ZlsyKnQrMV07dGhpcy5fYml0c2V0cy5pbnNlcnRlZC5oYXModCkmJih0aGlzLl9iaXRzZXRzLmluc2VydGVkLnVuc2V0KHQpLHRoaXMuX3RyZWUucmVtb3ZlQ3Vyc29yKGUscyxyLG8saSx0aGlzLl9nZW9oYXNoTGV2ZWwpKX1fdXBkYXRlKGUsdCl7Y29uc3Qgcz1lLmdldERpc3BsYXlJZCgpLHI9dGhpcy5fYml0c2V0cy5pbnNlcnRlZCxvPXQuaXNWaXNpYmxlKHMpO2lmKG89PT1yLmhhcyhzKSlyZXR1cm47aWYoIW8pcmV0dXJuIHZvaWQgdGhpcy5fcmVtb3ZlKGUpO2NvbnN0IGk9ZS5nZXRYSHlkcmF0ZWQoKSxhPWUuZ2V0WUh5ZHJhdGVkKCk7aWYoIXRoaXMuX3NldEdlb2hhc2gocyxpLGEpKXJldHVybjtjb25zdCBoPXRoaXMuX2dlb2hhc2hCdWZbMipzXSxuPXRoaXMuX2dlb2hhc2hCdWZbMipzKzFdO3RoaXMuX3RyZWUuaW5zZXJ0Q3Vyc29yKGUscyxpLGEsaCxuLHRoaXMuX2dlb2hhc2hMZXZlbCksci5zZXQocyl9X3NldEdlb2hhc2goZSx0LHMpe2lmKHRoaXMuX2JpdHNldHMuZ2VvaGFzaC5oYXMoZSkpcmV0dXJuITA7Y29uc3Qgcj10aGlzLl9nZW9oYXNoQnVmO2lmKHRoaXMuX3NwYXRpYWxSZWZlcmVuY2UuaXNXZWJNZXJjYXRvcil7Y29uc3Qgbz1UKHQvbi5yYWRpdXMpLGE9by0zNjAqTWF0aC5mbG9vcigobysxODApLzM2MCksaD1UKE1hdGguUEkvMi0yKk1hdGguYXRhbihNYXRoLmV4cCgtcy9uLnJhZGl1cykpKTtpKHIsZSxoLGEsRil9ZWxzZXtjb25zdCBvPXkoe3g6dCx5OnN9LHRoaXMuX3NwYXRpYWxSZWZlcmVuY2UseC5XR1M4NCk7aWYoIW8pcmV0dXJuITE7aShyLGUsby55LG8ueCxGKX1yZXR1cm4gdGhpcy5fYml0c2V0cy5nZW9oYXNoLnNldChlKSwhMH1fZ2V0Q2x1c3RlcnNGb3JUaWxlKGUscyxyLG8saSxhPSEwKXtjb25zdCBoPXRoaXMuX3NjaGVtYS5wYXJhbXMuY2x1c3RlclBpeGVsQnVmZmVyLG49MipyLGw9TWF0aC5jZWlsKDIqKnMua2V5LmxldmVsKkkvbikrMSx1PU1hdGguY2VpbChoL24pKzAsZD1NYXRoLmNlaWwoSS9uKSx7cm93OmYsY29sOm19PXMua2V5LF89bSpJLHk9ZipJLGI9TWF0aC5mbG9vcihfL24pLXUsdj1NYXRoLmZsb29yKHkvbiktdSxSPWIrZCsyKnUsTT12K2QrMip1LHg9cy50aWxlSW5mb1ZpZXcuZ2V0TE9ESW5mb0F0KHMua2V5LmxldmVsKTtmb3IobGV0IEk9YjtJPD1SO0krKylmb3IobGV0IHI9djtyPD1NO3IrKyl7bGV0IGg9STt4LndyYXAmJihoPUk8MD9JK2w6SSVsKTtjb25zdCBuPXgud3JhcCYmSTwwLHU9eC53cmFwJiZJJWwhPT1JLGQ9dGhpcy5fbG9va3VwQ2x1c3RlcihvLHgscy5rZXkubGV2ZWwsaCxyLHMpO2lmKG51bGwhPWQpe2NvbnN0IHM9dChpLChlPT5uP2UubGVmdDp1P2UucmlnaHQ6ZS50aWxlKSk7aWYoYSYmbnVsbD09cyljb250aW51ZTtpZighZC5jb3VudCljb250aW51ZTtpZihudWxsIT1zJiZhKXtjb25zdCB0PWQuZ2VvbWV0cnkuY2xvbmUoKTtsZXQgcj1kLmF0dHJpYnV0ZXM7dC5jb29yZHNbMF09ZyhzLHQuY29vcmRzWzBdKSx0LmNvb3Jkc1sxXT1jKHMsdC5jb29yZHNbMV0pLDE9PT1kLmNvdW50JiZudWxsIT1kLnJlZmVyZW5jZUlkJiYocj17Li4uZC5hdHRyaWJ1dGVzLHJlZmVyZW5jZUlkOmQucmVmZXJlbmNlSWR9KTtjb25zdCBvPW5ldyBwKHQscik7by5kaXNwbGF5SWQ9ZC5kaXNwbGF5SWQsZS5wdXNoKG8pfX19fV9nZXRHZW9oYXNoTGV2ZWwoZSl7cmV0dXJuIE1hdGgubWluKE1hdGguY2VpbChlLzIrMiksRil9X3NldEdlb2hhc2hMZXZlbChlKXtjb25zdCB0PXRoaXMuX2dldEdlb2hhc2hMZXZlbChlKSxzPShNYXRoLmZsb29yKHQvQikrMSkqQi0xO2lmKHRoaXMuX2dlb2hhc2hMZXZlbCE9PXMpcmV0dXJuIHRoaXMuX2dlb2hhc2hMZXZlbD1zLHRoaXMuX3JlYnVpbGRUcmVlKCksdm9pZCB0aGlzLl9iaXRzZXRzLmdlb2hhc2guY2xlYXIoKX1fZ2V0VHJhbnNmb3JtcyhlLHQpe2NvbnN0IHM9e29yaWdpblBvc2l0aW9uOlwidXBwZXJMZWZ0XCIsc2NhbGU6W2UucmVzb2x1dGlvbixlLnJlc29sdXRpb25dLHRyYW5zbGF0ZTpbZS5ib3VuZHNbMF0sZS5ib3VuZHNbM11dfSxyPWwodCk7aWYoIXIpcmV0dXJue3RpbGU6cyxsZWZ0Om51bGwscmlnaHQ6bnVsbH07Y29uc3RbbyxpXT1yLnZhbGlkO3JldHVybnt0aWxlOnMsbGVmdDp7Li4ucyx0cmFuc2xhdGU6W2ksZS5ib3VuZHNbM11dfSxyaWdodDp7Li4ucyx0cmFuc2xhdGU6W28taStlLmJvdW5kc1swXSxlLmJvdW5kc1szXV19fX1fZ2V0Q2x1c3RlcklkKGUsdCxzKXtyZXR1cm4oMTUmZSk8PDI4fCgxNjM4MyZ0KTw8MTR8MTYzODMmc31fbWFya0ZvckRlbGV0aW9uKGUsdCxzKXtjb25zdCByPXRoaXMuX2dldENsdXN0ZXJJZChlLHQscyk7dGhpcy5fY2x1c3RlcnMuZGVsZXRlKHIpfV9nZXRDbHVzdGVyQm91bmRzKGUsdCxzKXtjb25zdCByPXRoaXMuX3NjaGVtYS5wYXJhbXMuY2x1c3RlclJhZGl1cyxvPTIqcjtsZXQgaT1zJTI/dCpvOnQqby1yO2NvbnN0IGE9cypvO2xldCBoPWkrbztjb25zdCBuPWEtbyxsPTIqKmUubGV2ZWwqSTtlLndyYXAmJmk8MCYmKGk9MCksZS53cmFwJiZoPmwmJihoPWwpO2NvbnN0IHU9aS9JLGc9YS9JLGM9aC9JLGQ9bi9JO3JldHVybltlLmdldFhGb3JDb2x1bW4odSksZS5nZXRZRm9yUm93KGcpLGUuZ2V0WEZvckNvbHVtbihjKSxlLmdldFlGb3JSb3coZCldfV9nZXRHZW9oYXNoKGUsdCxzKXtjb25zdCByPXtnZW9oYXNoWDowLGdlb2hhc2hZOjB9O3JldHVybiBhKHIsdCxlLHMpLHJ9X2dldEdlb2hhc2hCb3VuZHMoZSx0KXtjb25zdCBzPXRoaXMuX2dldEdlb2hhc2hMZXZlbChlLmtleS5sZXZlbCk7aWYodGhpcy5fc3BhdGlhbFJlZmVyZW5jZS5pc1dlYk1lcmNhdG9yKXtjb25zdFtlLHIsbyxpXT10LGg9e3g6ZSx5OnJ9LGw9e3g6byx5Oml9O2xldCB1PTAsZz0wLGM9MCxkPTA7e2NvbnN0IGU9VChoLngvbi5yYWRpdXMpO3U9ZS0zNjAqTWF0aC5mbG9vcigoZSsxODApLzM2MCksZz1UKE1hdGguUEkvMi0yKk1hdGguYXRhbihNYXRoLmV4cCgtaC55L24ucmFkaXVzKSkpfXtjb25zdCBlPVQobC54L24ucmFkaXVzKTtjPWUtMzYwKk1hdGguZmxvb3IoKGUrMTgwKS8zNjApLGQ9VChNYXRoLlBJLzItMipNYXRoLmF0YW4oTWF0aC5leHAoLWwueS9uLnJhZGl1cykpKX1jb25zdCBmPXtnZW9oYXNoWDowLGdlb2hhc2hZOjB9LHA9e2dlb2hhc2hYOjAsZ2VvaGFzaFk6MH07YShmLGcsdSxzKSxhKHAsZCxjLHMpO3JldHVybntib3VuZHM6W2UscixvLGldLGdlb2hhc2hCb3VuZHM6e3hMTDpmLmdlb2hhc2hYLHlMTDpmLmdlb2hhc2hZLHhUUjpwLmdlb2hhc2hYLHlUUjpwLmdlb2hhc2hZfSxsZXZlbDpzfX1jb25zdCByPWouZnJvbUV4dGVudChDLmZyb21Cb3VuZHModCx0aGlzLl9zcGF0aWFsUmVmZXJlbmNlKSksbz15KHIsdGhpcy5fc3BhdGlhbFJlZmVyZW5jZSx4LldHUzg0LHtkZW5zaWZpY2F0aW9uU3RlcDplLnJlc29sdXRpb24qTH0pO2lmKCFvKXJldHVybiBudWxsO2NvbnN0IGk9ZChuZXcgbSxvLCExLCExKSxoPWkuY29vcmRzLmZpbHRlcigoKGUsdCk9PiEodCUyKSkpLGw9aS5jb29yZHMuZmlsdGVyKCgoZSx0KT0+dCUyKSksdT1NYXRoLm1pbiguLi5oKSxnPU1hdGgubWluKC4uLmwpLGM9TWF0aC5tYXgoLi4uaCksZj1NYXRoLm1heCguLi5sKSxwPXRoaXMuX2dldEdlb2hhc2godSxnLHMpLF89dGhpcy5fZ2V0R2VvaGFzaChjLGYscyk7cmV0dXJue2JvdW5kczp0LGdlb2hhc2hCb3VuZHM6e3hMTDpwLmdlb2hhc2hYLHlMTDpwLmdlb2hhc2hZLHhUUjpfLmdlb2hhc2hYLHlUUjpfLmdlb2hhc2hZfSxsZXZlbDpzfX1fbG9va3VwQ2x1c3RlcihlLHQscyxyLG8saSl7Y29uc3QgYT10aGlzLl9nZXRDbHVzdGVySWQocyxyLG8pLGg9dGhpcy5fY2x1c3RlcnMuZ2V0KGEpLG49dGhpcy5fZ2V0Q2x1c3RlckJvdW5kcyh0LHIsbyksbD10aGlzLl9nZXRHZW9oYXNoQm91bmRzKGksbik7aWYobnVsbD09bClyZXR1cm4gbnVsbDtjb25zdCB1PXRoaXMuX3RyZWUuZ2V0UmVnaW9uU3RhdGlzdGljcyhsKSx7Y291bnQ6Zyx4VG90YWw6Yyx5VG90YWw6ZCxyZWZlcmVuY2VJZDpmfT11LHA9Zz9jL2c6MCxtPWc/ZC9nOjA7aWYoMD09PWcpcmV0dXJuIHRoaXMuX2NsdXN0ZXJzLnNldChhLG51bGwpLG51bGw7Y29uc3QgXz17Y2x1c3Rlcl9jb3VudDpnLC4uLnUuYXR0cmlidXRlc30seT1udWxsIT1oP2gudXBkYXRlKHAsbSxzLF8sbCxmKTpTLmNyZWF0ZShlLGEscCxtLHMsXyxsLGYpO2lmKDA9PT1nKXtjb25zdFtlLHQscyxyXT1uO3kuZ2VvbWV0cnkuY29vcmRzWzBdPShlK3MpLzIseS5nZW9tZXRyeS5jb29yZHNbMV09KHQrcikvMn1yZXR1cm4gdGhpcy5fY2x1c3RlcnMuc2V0KGEseSksdGhpcy5fdXBkYXRlQWdncmVnYXRlVmFsdWVSYW5nZUZvckNsdXN0ZXIoeSx5LnRpbGVMZXZlbCkseX1fdXBkYXRlQWdncmVnYXRlVmFsdWVSYW5nZUZvckNsdXN0ZXIoZSx0KXtjb25zdCBzPXRoaXMuX2FnZ3JlZ2F0ZVZhbHVlUmFuZ2VzW3RdfHx7bWluVmFsdWU6MS8wLG1heFZhbHVlOjB9LHI9cy5taW5WYWx1ZSxvPXMubWF4VmFsdWU7cy5taW5WYWx1ZT1NYXRoLm1pbihyLGUuY291bnQpLHMubWF4VmFsdWU9TWF0aC5tYXgobyxlLmNvdW50KSx0aGlzLl9hZ2dyZWdhdGVWYWx1ZVJhbmdlc1t0XT1zLHI9PT1zLm1pblZhbHVlJiZvPT09cy5tYXhWYWx1ZXx8KHRoaXMuX2FnZ3JlZ2F0ZVZhbHVlUmFuZ2VzQ2hhbmdlZD0hMCl9X21hcmtUaWxlQ2x1c3RlcnNGb3JEZWxldGlvbihlLHQpe2NvbnN0IHM9Mip0LHI9TWF0aC5jZWlsKEkvcykse3JvdzpvLGNvbDppfT1lLmtleSxhPWkqSSxoPW8qSSxuPU1hdGguZmxvb3IoYS9zKSxsPU1hdGguZmxvb3IoaC9zKTtmb3IobGV0IHU9bjt1PG4rcjt1KyspZm9yKGxldCB0PWw7dDxsK3I7dCsrKXRoaXMuX21hcmtGb3JEZWxldGlvbihlLmtleS5sZXZlbCx1LHQpfX1leHBvcnR7UyBhcyBDbHVzdGVySW5mbyxWIGFzIENsdXN0ZXJTdG9yZX07XG4iLCIvKlxuQWxsIG1hdGVyaWFsIGNvcHlyaWdodCBFU1JJLCBBbGwgUmlnaHRzIFJlc2VydmVkLCB1bmxlc3Mgb3RoZXJ3aXNlIHNwZWNpZmllZC5cblNlZSBodHRwczovL2pzLmFyY2dpcy5jb20vNC4yNy9lc3JpL2NvcHlyaWdodC50eHQgZm9yIGRldGFpbHMuXG4qL1xuaW1wb3J0e0RJU1BMQVlfSURfVEVYRUxfTUFTSyBhcyB0LGNyZWF0ZURpc3BsYXlJZCBhcyBlfWZyb21cIi4uLy4uLy4uL2VuZ2luZS93ZWJnbC9EaXNwbGF5SWQuanNcIjtpbXBvcnR7RGlzcGxheUlkR2VuZXJhdG9yIGFzIHN9ZnJvbVwiLi9EaXNwbGF5SWRHZW5lcmF0b3IuanNcIjtpbXBvcnR7U3RhdGljQml0U2V0IGFzIGl9ZnJvbVwiLi9TdGF0aWNCaXRTZXQuanNcIjtmdW5jdGlvbiBuKHQsZSxzKXtpZighKHQubGVuZ3RoPmUpKWZvcig7dC5sZW5ndGg8PWU7KXQucHVzaChzKX1jbGFzcyBye2NvbnN0cnVjdG9yKCl7dGhpcy5fbnVtZXJpY3M9W10sdGhpcy5fc3RyaW5ncz1bXSx0aGlzLl9pZEdlbmVyYXRvcj1uZXcgcyx0aGlzLl9hbGxvY2F0ZWRTaXplPTI1Nix0aGlzLl9iaXRzZXRzPVtdLHRoaXMuX2luc3RhbmNlSWRzPVtdLHRoaXMuX2JvdW5kcz1bXX1jcmVhdGVCaXRzZXQoKXtjb25zdCBlPXRoaXMuX2JpdHNldHMubGVuZ3RoO3JldHVybiB0aGlzLl9iaXRzZXRzLnB1c2goaS5jcmVhdGUodGhpcy5fYWxsb2NhdGVkU2l6ZSx0KSksZSsxfWdldEJpdHNldCh0KXtyZXR1cm4gdGhpcy5fYml0c2V0c1t0LTFdfV9leHBhbmQoKXt0aGlzLl9hbGxvY2F0ZWRTaXplPDw9MTtmb3IoY29uc3QgdCBvZiB0aGlzLl9iaXRzZXRzKXQucmVzaXplKHRoaXMuX2FsbG9jYXRlZFNpemUpfV9lbnN1cmVOdW1lcmljKHQsZSl7dGhpcy5fbnVtZXJpY3NbdF18fCh0aGlzLl9udW1lcmljc1t0XT1bXSk7bih0aGlzLl9udW1lcmljc1t0XSxlLDApfV9lbnN1cmVJbnN0YW5jZUlkKHQpe24odGhpcy5faW5zdGFuY2VJZHMsdCwwKX1fZW5zdXJlU3RyaW5nKHQsZSl7dGhpcy5fc3RyaW5nc1t0XXx8KHRoaXMuX3N0cmluZ3NbdF09W10pO24odGhpcy5fc3RyaW5nc1t0XSxlLG51bGwpfWNyZWF0ZURpc3BsYXlJZCh0PSExKXtjb25zdCBzPXRoaXMuX2lkR2VuZXJhdG9yLmNyZWF0ZUlkKCk7cmV0dXJuIHM+dGhpcy5fYWxsb2NhdGVkU2l6ZSYmdGhpcy5fZXhwYW5kKCksZShzLHQpfXJlbGVhc2VEaXNwbGF5SWQoZSl7Zm9yKGNvbnN0IHQgb2YgdGhpcy5fYml0c2V0cyl0LnVuc2V0KGUpO3JldHVybiB0aGlzLl9pZEdlbmVyYXRvci5yZWxlYXNlSWQoZSZ0KX1nZXRDb21wdXRlZE51bWVyaWMoZSxzKXtyZXR1cm4gdGhpcy5nZXRDb21wdXRlZE51bWVyaWNBdEluZGV4KGUmdCwwKX1zZXRDb21wdXRlZE51bWVyaWMoZSxzLGkpe3JldHVybiB0aGlzLnNldENvbXB1dGVkTnVtZXJpY0F0SW5kZXgoZSZ0LGksMCl9Z2V0Q29tcHV0ZWRTdHJpbmcoZSxzKXtyZXR1cm4gdGhpcy5nZXRDb21wdXRlZFN0cmluZ0F0SW5kZXgoZSZ0LDApfXNldENvbXB1dGVkU3RyaW5nKGUscyxpKXtyZXR1cm4gdGhpcy5zZXRDb21wdXRlZFN0cmluZ0F0SW5kZXgoZSZ0LDAsaSl9Z2V0Q29tcHV0ZWROdW1lcmljQXRJbmRleChlLHMpe2NvbnN0IGk9ZSZ0O3JldHVybiB0aGlzLl9lbnN1cmVOdW1lcmljKHMsaSksdGhpcy5fbnVtZXJpY3Nbc11baV19c2V0Q29tcHV0ZWROdW1lcmljQXRJbmRleChlLHMsaSl7Y29uc3Qgbj1lJnQ7dGhpcy5fZW5zdXJlTnVtZXJpYyhzLG4pLHRoaXMuX251bWVyaWNzW3NdW25dPWl9Z2V0SW5zdGFuY2VJZChlKXtjb25zdCBzPWUmdDtyZXR1cm4gdGhpcy5fZW5zdXJlSW5zdGFuY2VJZChzKSx0aGlzLl9pbnN0YW5jZUlkc1tzXX1zZXRJbnN0YW5jZUlkKGUscyl7Y29uc3QgaT1lJnQ7dGhpcy5fZW5zdXJlSW5zdGFuY2VJZChpKSx0aGlzLl9pbnN0YW5jZUlkc1tpXT1zfWdldENvbXB1dGVkU3RyaW5nQXRJbmRleChlLHMpe2NvbnN0IGk9ZSZ0O3JldHVybiB0aGlzLl9lbnN1cmVTdHJpbmcocyxpKSx0aGlzLl9zdHJpbmdzW3NdW2ldfXNldENvbXB1dGVkU3RyaW5nQXRJbmRleChlLHMsaSl7Y29uc3Qgbj1lJnQ7dGhpcy5fZW5zdXJlU3RyaW5nKHMsbiksdGhpcy5fc3RyaW5nc1tzXVtuXT1pfWdldFhNaW4oZSl7cmV0dXJuIHRoaXMuX2JvdW5kc1s0KihlJnQpXX1nZXRZTWluKGUpe3JldHVybiB0aGlzLl9ib3VuZHNbNCooZSZ0KSsxXX1nZXRYTWF4KGUpe3JldHVybiB0aGlzLl9ib3VuZHNbNCooZSZ0KSsyXX1nZXRZTWF4KGUpe3JldHVybiB0aGlzLl9ib3VuZHNbNCooZSZ0KSszXX1zZXRCb3VuZHMoZSxzKXtjb25zdCBpPXMucmVhZEh5ZHJhdGVkR2VvbWV0cnkoKTtpZighaXx8IWkuY29vcmRzLmxlbmd0aClyZXR1cm4hMTtsZXQgcj0xLzAsdT0xLzAsbz0tMS8wLGg9LTEvMDtpLmZvckVhY2hWZXJ0ZXgoKCh0LGUpPT57cj1NYXRoLm1pbihyLHQpLHU9TWF0aC5taW4odSxlKSxvPU1hdGgubWF4KG8sdCksaD1NYXRoLm1heChoLGUpfSkpO2NvbnN0IGQ9ZSZ0O3JldHVybiBuKHRoaXMuX2JvdW5kcyw0KmQrNCwwKSx0aGlzLl9ib3VuZHNbNCpkXT1yLHRoaXMuX2JvdW5kc1s0KmQrMV09dSx0aGlzLl9ib3VuZHNbNCpkKzJdPW8sdGhpcy5fYm91bmRzWzQqZCszXT1oLCEwfX1leHBvcnR7ciBhcyBDb21wdXRlZEF0dHJpYnV0ZVN0b3JhZ2V9O1xuIiwiLypcbkFsbCBtYXRlcmlhbCBjb3B5cmlnaHQgRVNSSSwgQWxsIFJpZ2h0cyBSZXNlcnZlZCwgdW5sZXNzIG90aGVyd2lzZSBzcGVjaWZpZWQuXG5TZWUgaHR0cHM6Ly9qcy5hcmNnaXMuY29tLzQuMjcvZXNyaS9jb3B5cmlnaHQudHh0IGZvciBkZXRhaWxzLlxuKi9cbmltcG9ydHtjcmVhdGVEaXNwbGF5SWQgYXMgZX1mcm9tXCIuLi8uLi8uLi9lbmdpbmUvd2ViZ2wvRGlzcGxheUlkLmpzXCI7Y2xhc3Mgcntjb25zdHJ1Y3Rvcigpe3RoaXMuX2ZyZWVJZHM9W10sdGhpcy5faWRDb3VudGVyPTF9Y3JlYXRlSWQocj0hMSl7cmV0dXJuIGUodGhpcy5fZ2V0RnJlZUlkKCkscil9cmVsZWFzZUlkKGUpe3RoaXMuX2ZyZWVJZHMucHVzaChlKX1fZ2V0RnJlZUlkKCl7cmV0dXJuIHRoaXMuX2ZyZWVJZHMubGVuZ3RoP3RoaXMuX2ZyZWVJZHMucG9wKCk6dGhpcy5faWRDb3VudGVyKyt9fWV4cG9ydHtyIGFzIERpc3BsYXlJZEdlbmVyYXRvcn07XG4iLCIvKlxuQWxsIG1hdGVyaWFsIGNvcHlyaWdodCBFU1JJLCBBbGwgUmlnaHRzIFJlc2VydmVkLCB1bmxlc3Mgb3RoZXJ3aXNlIHNwZWNpZmllZC5cblNlZSBodHRwczovL2pzLmFyY2dpcy5jb20vNC4yNy9lc3JpL2NvcHlyaWdodC50eHQgZm9yIGRldGFpbHMuXG4qL1xuaW1wb3J0XCIuLi8uLi8uLi8uLi8uLi9nZW9tZXRyeS5qc1wiO2ltcG9ydHtBcmNhZGVEYXRlIGFzIGV9ZnJvbVwiLi4vLi4vLi4vLi4vLi4vYXJjYWRlL0FyY2FkZURhdGUuanNcIjtpbXBvcnR7RGF0ZVRpbWVSZWZlcmVuY2VGaWVsZEluZGV4IGFzIHR9ZnJvbVwiLi4vLi4vLi4vLi4vLi4vYXJjYWRlL2FyY2FkZVRpbWVVdGlscy5qc1wiO2ltcG9ydCBoYXMgZnJvbVwiLi4vLi4vLi4vLi4vLi4vY29yZS9oYXMuanNcIjtpbXBvcnR7dW53cmFwT3JUaHJvdyBhcyByfWZyb21cIi4uLy4uLy4uLy4uLy4uL2NvcmUvbWF5YmUuanNcIjtpbXBvcnR7Z2V0Q2VudHJvaWRPcHRpbWl6ZWRHZW9tZXRyeSBhcyBzfWZyb21cIi4uLy4uLy4uLy4uLy4uL2xheWVycy9ncmFwaGljcy9jZW50cm9pZC5qc1wiO2ltcG9ydHtjb252ZXJ0VG9HZW9tZXRyeSBhcyBpfWZyb21cIi4uLy4uLy4uLy4uLy4uL2xheWVycy9ncmFwaGljcy9mZWF0dXJlQ29udmVyc2lvblV0aWxzLmpzXCI7aW1wb3J0IG4gZnJvbVwiLi4vLi4vLi4vLi4vLi4vbGF5ZXJzL2dyYXBoaWNzL09wdGltaXplZEdlb21ldHJ5LmpzXCI7aW1wb3J0e1N0YXRpY0JpdFNldCBhcyBhfWZyb21cIi4vU3RhdGljQml0U2V0LmpzXCI7aW1wb3J0e2Zyb21KU09OIGFzIG99ZnJvbVwiLi4vLi4vLi4vLi4vLi4vZ2VvbWV0cnkvc3VwcG9ydC9qc29uVXRpbHMuanNcIjtsZXQgZD0wO2NvbnN0IGg9aGFzKFwiZmVhdHVyZWxheWVyLXNpbXBsaWZ5LXRocmVzaG9sZHNcIik/P1suNSwuNSwuNSwuNV0sdT1oWzBdLGw9aFsxXSxjPWhbMl0sbT1oWzNdLGY9aGFzKFwiZmVhdHVyZWxheWVyLXNpbXBsaWZ5LXBheWxvYWQtc2l6ZS1mYWN0b3JzXCIpPz9bMSwyLDRdLGc9ZlswXSx5PWZbMV0sXz1mWzJdLHA9aGFzKFwiZmVhdHVyZWxheWVyLXNpbXBsaWZ5LW1vYmlsZS1mYWN0b3JcIik/PzIseD1oYXMoXCJlc3JpLW1vYmlsZVwiKTtjbGFzcyBJe2NvbnN0cnVjdG9yKGUsdCl7dGhpcy50eXBlPVwiRmVhdHVyZVNldFJlYWRlclwiLHRoaXMuYXJjYWRlRGVjbGFyZWRDbGFzcz1cImVzcmkuYXJjYWRlLkZlYXR1cmVcIix0aGlzLnNlZW49ITEsdGhpcy5pbnN0YW5jZT0wLHRoaXMuX3R4PTAsdGhpcy5fdHk9MCx0aGlzLl9zeD0xLHRoaXMuX3N5PTEsdGhpcy5fZGVsZXRlZD1udWxsLHRoaXMuX2pvaW5lZD1bXSx0aGlzLl9vYmplY3RJZFRvSW5kZXg9bnVsbCx0aGlzLl9sZXZlbD0wLHRoaXMuX2RhdGV0aW1lTWV0YWRhdGE9bnVsbCx0aGlzLmNvbnRleHRUaW1lUmVmZXJlbmNlPW51bGwsdGhpcy5pbnN0YW5jZT1lLHRoaXMuX2xheWVyU2NoZW1hPXR9c3RhdGljIGNyZWF0ZUluc3RhbmNlKCl7cmV0dXJuIGQrKyxkPWQ+NjU1MzU/MDpkLGR9Z2V0IGlzRW1wdHkoKXtyZXR1cm4gbnVsbCE9dGhpcy5fZGVsZXRlZCYmdGhpcy5fZGVsZXRlZC5jb3VudFNldCgpPT09dGhpcy5nZXRTaXplKCl9c2V0IGxldmVsKGUpe3RoaXMuX2xldmVsPWV9Z2V0QXJlYVNpbXBsaWZpY2F0aW9uVGhyZXNob2xkKGUsdCl7bGV0IHI9MTtjb25zdCBzPXg/cDoxO3Q+NGU2P3I9XypzOnQ+MWU2P3I9eSpzOnQ+NWU1P3I9ZypzOnQ+MWU1JiYocj1zKTtsZXQgaT0wO2U+NGUzP2k9bSpyOmU+MmUzP2k9YypyOmU+MTAwP2k9bDplPjE1JiYoaT11KTtsZXQgbj04O3JldHVybiB0aGlzLl9sZXZlbDw0P249MTp0aGlzLl9sZXZlbDw1P249Mjp0aGlzLl9sZXZlbDw2JiYobj00KSxpKm59Y3JlYXRlUXVhbnRpemVkRXh0cnVkZWRRdWFkKGUsdCl7cmV0dXJuIG5ldyBuKFs1XSxbZS0xLHQsMSwtMSwxLDEsLTEsMSwtMSwtMV0pfXBhcnNlVGltZXN0YW1wT2Zmc2V0KGUpe3JldHVybiBlfXNldEFyY2FkZVNwYXRpYWxSZWZlcmVuY2UoZSl7dGhpcy5fYXJjYWRlU3BhdGlhbFJlZmVyZW5jZT1lfWF0dGFjaFN0b3JhZ2UoZSl7dGhpcy5fc3RvcmFnZT1lfWdldFF1YW50aXphdGlvblRyYW5zZm9ybSgpe3Rocm93IG5ldyBFcnJvcihcIlVuYWJsZSB0byBmaW5kIHRyYW5zZm9ybSBmb3IgZmVhdHVyZVNldFwiKX1nZXRTdG9yYWdlKCl7cmV0dXJuIHRoaXMuX3N0b3JhZ2V9Z2V0Q29tcHV0ZWROdW1lcmljKGUpe3JldHVybiB0aGlzLmdldENvbXB1dGVkTnVtZXJpY0F0SW5kZXgoMCl9c2V0Q29tcHV0ZWROdW1lcmljKGUsdCl7cmV0dXJuIHRoaXMuc2V0Q29tcHV0ZWROdW1lcmljQXRJbmRleCh0LDApfWdldENvbXB1dGVkU3RyaW5nKGUpe3JldHVybiB0aGlzLmdldENvbXB1dGVkU3RyaW5nQXRJbmRleCgwKX1zZXRDb21wdXRlZFN0cmluZyhlLHQpe3JldHVybiB0aGlzLnNldENvbXB1dGVkU3RyaW5nQXRJbmRleCgwLHQpfWdldENvbXB1dGVkTnVtZXJpY0F0SW5kZXgoZSl7cmV0dXJuIHRoaXMuX3N0b3JhZ2UuZ2V0Q29tcHV0ZWROdW1lcmljQXRJbmRleCh0aGlzLmdldERpc3BsYXlJZCgpLGUpfXNldENvbXB1dGVkTnVtZXJpY0F0SW5kZXgoZSx0KXt0aGlzLl9zdG9yYWdlLnNldENvbXB1dGVkTnVtZXJpY0F0SW5kZXgodGhpcy5nZXREaXNwbGF5SWQoKSxlLHQpfWdldENvbXB1dGVkU3RyaW5nQXRJbmRleChlKXtyZXR1cm4gdGhpcy5fc3RvcmFnZS5nZXRDb21wdXRlZFN0cmluZ0F0SW5kZXgodGhpcy5nZXREaXNwbGF5SWQoKSxlKX1zZXRDb21wdXRlZFN0cmluZ0F0SW5kZXgoZSx0KXtyZXR1cm4gdGhpcy5fc3RvcmFnZS5zZXRDb21wdXRlZFN0cmluZ0F0SW5kZXgodGhpcy5nZXREaXNwbGF5SWQoKSxlLHQpfXRyYW5zZm9ybShlLHQscixzKXtjb25zdCBpPXRoaXMuY29weSgpO3JldHVybiBpLl90eCs9ZSxpLl90eSs9dCxpLl9zeCo9cixpLl9zeSo9cyxpfXJlYWRBdHRyaWJ1dGUoZSx0PSExKXtjb25zdCByPXRoaXMuX3JlYWRBdHRyaWJ1dGUoZSx0KTtpZih2b2lkIDAhPT1yKXJldHVybiByO2Zvcihjb25zdCBzIG9mIHRoaXMuX2pvaW5lZCl7cy5zZXRJbmRleCh0aGlzLmdldEluZGV4KCkpO2NvbnN0IHI9cy5fcmVhZEF0dHJpYnV0ZShlLHQpO2lmKHZvaWQgMCE9PXIpcmV0dXJuIHJ9fXJlYWRBdHRyaWJ1dGVzKCl7Y29uc3QgZT10aGlzLl9yZWFkQXR0cmlidXRlcygpO2Zvcihjb25zdCB0IG9mIHRoaXMuX2pvaW5lZCl7dC5zZXRJbmRleCh0aGlzLmdldEluZGV4KCkpO2NvbnN0IHI9dC5fcmVhZEF0dHJpYnV0ZXMoKTtmb3IoY29uc3QgdCBvZiBPYmplY3Qua2V5cyhyKSllW3RdPXJbdF19cmV0dXJuIGV9am9pbkF0dHJpYnV0ZXMoZSl7dGhpcy5fam9pbmVkLnB1c2goZSl9cmVhZEFyY2FkZUZlYXR1cmUoKXtyZXR1cm4gdGhpc31oYXNGaWVsZChlKXtyZXR1cm4gdGhpcy5maWVsZHMuaGFzKGUpfWdlb21ldHJ5KCl7Y29uc3QgZT10aGlzLnJlYWRIeWRyYXRlZEdlb21ldHJ5KCksdD1pKGUsdGhpcy5nZW9tZXRyeVR5cGUsdGhpcy5oYXNaLHRoaXMuaGFzTSkscj1vKHQpO3JldHVybiByJiYoci5zcGF0aWFsUmVmZXJlbmNlPXRoaXMuX2FyY2FkZVNwYXRpYWxSZWZlcmVuY2UpLHJ9Z2V0IGRhdGVUaW1lUmVmZXJlbmNlRmllbGRJbmRleCgpe3JldHVybiB0aGlzLl9kYXRldGltZU1ldGFkYXRhfHwodGhpcy5fZGF0ZXRpbWVNZXRhZGF0YT10LmNyZWF0ZSh0aGlzLl9sYXllclNjaGVtYS5maWVsZHMsdGhpcy5fbGF5ZXJTY2hlbWEpKSx0aGlzLl9kYXRldGltZU1ldGFkYXRhfWF1dG9jYXN0QXJjYWRlRGF0ZSh0LHIpe3JldHVybiByJiZyIGluc3RhbmNlb2YgRGF0ZT90aGlzLmlzVW5rbm93bkRhdGVUaW1lRmllbGQodCk/ZS51bmtub3duRGF0ZUpTVG9BcmNhZGVEYXRlKHIpOmUuZGF0ZUpTQW5kWm9uZVRvQXJjYWRlRGF0ZShyLHRoaXMuY29udGV4dFRpbWVSZWZlcmVuY2U/LnRpbWVab25lPz9cInN5c3RlbVwiKTpyfWlzVW5rbm93bkRhdGVUaW1lRmllbGQoZSl7cmV0dXJuXCJ1bmtub3duXCI9PT10aGlzLmRhdGVUaW1lUmVmZXJlbmNlRmllbGRJbmRleD8uZmllbGRUaW1lWm9uZShlKX1maWVsZFNvdXJjZVRpbWVab25lKGUpe3JldHVybiB0aGlzLmRhdGVUaW1lUmVmZXJlbmNlRmllbGRJbmRleD8uZmllbGRUaW1lWm9uZShlKT8/XCJcIn1nZXQgbGF5ZXJQcmVmZXJyZWRUaW1lWm9uZSgpe3JldHVybiB0aGlzLmRhdGVUaW1lUmVmZXJlbmNlRmllbGRJbmRleD8ubGF5ZXJQcmVmZXJyZWRUaW1lWm9uZT8/XCJcIn1maWVsZChlKXtpZih0aGlzLmhhc0ZpZWxkKGUpKXJldHVybiB0aGlzLmF1dG9jYXN0QXJjYWRlRGF0ZShlLHRoaXMucmVhZEF0dHJpYnV0ZShlLCEwKSk7Zm9yKGNvbnN0IHQgb2YgdGhpcy5fam9pbmVkKWlmKHQuc2V0SW5kZXgodGhpcy5nZXRJbmRleCgpKSx0Lmhhc0ZpZWxkKGUpKXtjb25zdCByPXQuX3JlYWRBdHRyaWJ1dGUoZSwhMCk7cmV0dXJuIHRoaXMuYXV0b2Nhc3RBcmNhZGVEYXRlKGUscil9dGhyb3cgbmV3IEVycm9yKGBGaWVsZCAke2V9IGRvZXMgbm90IGV4aXN0YCl9c2V0RmllbGQoZSx0KXt0aHJvdyBuZXcgRXJyb3IoXCJVbmFibGUgdG8gdXBkYXRlIGZlYXR1cmUgYXR0cmlidXRlIHZhbHVlcywgZmVhdHVyZSBpcyByZWFkb25seVwiKX1rZXlzKCl7cmV0dXJuIHRoaXMuZmllbGRzLmZpZWxkcy5tYXAoKGU9PmUubmFtZSkpfWNhc3RUb1RleHQoZT0hMSl7aWYoIWUpcmV0dXJuIEpTT04uc3RyaW5naWZ5KHRoaXMucmVhZExlZ2FjeUZlYXR1cmUoKSk7Y29uc3QgdD10aGlzLnJlYWRMZWdhY3lGZWF0dXJlKCk7aWYoIXQpcmV0dXJuIEpTT04uc3RyaW5naWZ5KG51bGwpO2NvbnN0IHI9e2dlb21ldHJ5OnQuZ2VvbWV0cnksYXR0cmlidXRlczp7Li4udC5hdHRyaWJ1dGVzPz97fX19O2Zvcihjb25zdCBzIGluIHIuYXR0cmlidXRlcyl7Y29uc3QgZT1yLmF0dHJpYnV0ZXNbc107ZSBpbnN0YW5jZW9mIERhdGUmJihyLmF0dHJpYnV0ZXNbc109ZS5nZXRUaW1lKCkpfXJldHVybiBKU09OLnN0cmluZ2lmeShyKX1nZGJWZXJzaW9uKCl7cmV0dXJuIG51bGx9ZnVsbFNjaGVtYSgpe3JldHVybiB0aGlzLl9sYXllclNjaGVtYX1jYXN0QXNKc29uKGU9bnVsbCl7cmV0dXJue2F0dHJpYnV0ZXM6dGhpcy5fcmVhZEF0dHJpYnV0ZXMoKSxnZW9tZXRyeTohMD09PWU/LmtlZXBHZW9tZXRyeVR5cGU/dGhpcy5nZW9tZXRyeSgpOnRoaXMuZ2VvbWV0cnkoKT8udG9KU09OKCk/P251bGx9fWNhc3RBc0pzb25Bc3luYyhlPW51bGwsdD1udWxsKXtyZXR1cm4gUHJvbWlzZS5yZXNvbHZlKHRoaXMuY2FzdEFzSnNvbih0KSl9cmVtb3ZlSWRzKGUpe2lmKG51bGw9PXRoaXMuX29iamVjdElkVG9JbmRleCl7Y29uc3QgZT1uZXcgTWFwLHQ9dGhpcy5nZXRDdXJzb3IoKTtmb3IoO3QubmV4dCgpOyl7Y29uc3Qgcz1yKHQuZ2V0T2JqZWN0SWQoKSk7ZS5zZXQocyx0LmdldEluZGV4KCkpfXRoaXMuX29iamVjdElkVG9JbmRleD1lfWNvbnN0IHQ9dGhpcy5fb2JqZWN0SWRUb0luZGV4O2Zvcihjb25zdCByIG9mIGUpdC5oYXMocikmJnRoaXMucmVtb3ZlQXRJbmRleCh0LmdldChyKSl9cmVtb3ZlQXRJbmRleChlKXtudWxsPT10aGlzLl9kZWxldGVkJiYodGhpcy5fZGVsZXRlZD1hLmNyZWF0ZSh0aGlzLmdldFNpemUoKSkpLHRoaXMuX2RlbGV0ZWQuc2V0KGUpfXJlYWRHZW9tZXRyeUZvckRpc3BsYXkoKXtyZXR1cm4gdGhpcy5yZWFkVW5xdWFudGl6ZWRHZW9tZXRyeSghMCl9cmVhZExlZ2FjeUdlb21ldHJ5Rm9yRGlzcGxheSgpe3JldHVybiB0aGlzLnJlYWRMZWdhY3lHZW9tZXRyeSghMCl9KmZlYXR1cmVzKCl7Y29uc3QgZT10aGlzLmdldEN1cnNvcigpO2Zvcig7ZS5uZXh0KCk7KXlpZWxkIGUucmVhZE9wdGltaXplZEZlYXR1cmUoKX1fZ2V0RXhpc3RzKCl7cmV0dXJuIG51bGw9PXRoaXMuX2RlbGV0ZWR8fCF0aGlzLl9kZWxldGVkLmhhcyh0aGlzLmdldEluZGV4KCkpfV9jb21wdXRlQ2VudHJvaWQoKXtpZihcImVzcmlHZW9tZXRyeVBvbHlnb25cIiE9PXRoaXMuZ2VvbWV0cnlUeXBlKXJldHVybiBudWxsO2NvbnN0IGU9dGhpcy5yZWFkVW5xdWFudGl6ZWRHZW9tZXRyeSgpO2lmKCFlfHxlLmhhc0luZGV0ZXJtaW5hdGVSaW5nT3JkZXIpcmV0dXJuIG51bGw7Y29uc3QgdD10aGlzLmdldFF1YW50aXphdGlvblRyYW5zZm9ybSgpPz9udWxsO3JldHVybiBzKG5ldyBuLGUsdGhpcy5oYXNNLHRoaXMuaGFzWix0KX1jb3B5SW50byhlKXtlLnNlZW49dGhpcy5zZWVuLGUuX3N0b3JhZ2U9dGhpcy5fc3RvcmFnZSxlLl9hcmNhZGVTcGF0aWFsUmVmZXJlbmNlPXRoaXMuX2FyY2FkZVNwYXRpYWxSZWZlcmVuY2UsZS5fam9pbmVkPXRoaXMuX2pvaW5lZCxlLl90eD10aGlzLl90eCxlLl90eT10aGlzLl90eSxlLl9zeD10aGlzLl9zeCxlLl9zeT10aGlzLl9zeSxlLl9kZWxldGVkPXRoaXMuX2RlbGV0ZWQsZS5fb2JqZWN0SWRUb0luZGV4PXRoaXMuX29iamVjdElkVG9JbmRleH19ZXhwb3J0e0kgYXMgRmVhdHVyZVNldFJlYWRlcn07XG4iLCIvKlxuQWxsIG1hdGVyaWFsIGNvcHlyaWdodCBFU1JJLCBBbGwgUmlnaHRzIFJlc2VydmVkLCB1bmxlc3Mgb3RoZXJ3aXNlIHNwZWNpZmllZC5cblNlZSBodHRwczovL2pzLmFyY2dpcy5jb20vNC4yNy9lc3JpL2NvcHlyaWdodC50eHQgZm9yIGRldGFpbHMuXG4qL1xuaW1wb3J0e2NvbnZlcnRGcm9tRmVhdHVyZXMgYXMgdCxjb252ZXJ0RnJvbUZlYXR1cmVTZXQgYXMgZSxjb252ZXJ0VG9GZWF0dXJlIGFzIHIsY29udmVydFRvR2VvbWV0cnkgYXMgcyxnZXRRdWFudGl6ZWRBcmVhIGFzIGksdW5xdWFudGl6ZU9wdGltaXplZEdlb21ldHJ5IGFzIG59ZnJvbVwiLi4vLi4vLi4vLi4vLi4vbGF5ZXJzL2dyYXBoaWNzL2ZlYXR1cmVDb252ZXJzaW9uVXRpbHMuanNcIjtpbXBvcnR7aGFzR2VvbWV0cnkgYXMgb31mcm9tXCIuLi8uLi8uLi8uLi8uLi9sYXllcnMvZ3JhcGhpY3MvT3B0aW1pemVkRmVhdHVyZS5qc1wiO2ltcG9ydCB1IGZyb21cIi4uLy4uLy4uLy4uLy4uL2xheWVycy9zdXBwb3J0L0ZpZWxkc0luZGV4LmpzXCI7aW1wb3J0e0ZlYXR1cmVTZXRSZWFkZXIgYXMgYX1mcm9tXCIuL0ZlYXR1cmVTZXRSZWFkZXIuanNcIjtmdW5jdGlvbiBkKHtjb29yZHM6dCxsZW5ndGhzOmV9KXtsZXQgcj0wO2Zvcihjb25zdCBzIG9mIGUpe2ZvcihsZXQgZT0xO2U8cztlKyspdFsyKihyK2UpXSs9dFsyKihyK2UpLTJdLHRbMioocitlKSsxXSs9dFsyKihyK2UpLTFdO3IrPXN9fWNsYXNzIGggZXh0ZW5kcyBhe3N0YXRpYyBmcm9tRmVhdHVyZXMoZSxyKXtjb25zdHtvYmplY3RJZEZpZWxkOnMsZ2VvbWV0cnlUeXBlOml9PXIsbj10KFtdLGUsaSwhMSwhMSxzKTtmb3IobGV0IHQ9MDt0PG4ubGVuZ3RoO3QrKyluW3RdLmRpc3BsYXlJZD1lW3RdLmRpc3BsYXlJZDtyZXR1cm4gaC5mcm9tT3B0aW1pemVkRmVhdHVyZXMobixyKX1zdGF0aWMgZnJvbUZlYXR1cmVTZXQodCxyKXtjb25zdCBzPWUodCxyLm9iamVjdElkRmllbGQpO3JldHVybiBoLmZyb21PcHRpbWl6ZWRGZWF0dXJlU2V0KHMscil9c3RhdGljIGZyb21PcHRpbWl6ZWRGZWF0dXJlU2V0KHQsZSl7Y29uc3R7ZmVhdHVyZXM6cn09dCxzPWguZnJvbU9wdGltaXplZEZlYXR1cmVzKHIsZSk7cmV0dXJuIHMuX2V4Y2VlZGVkVHJhbnNmZXJMaW1pdD10LmV4Y2VlZGVkVHJhbnNmZXJMaW1pdCxzLl90cmFuc2Zvcm09dC50cmFuc2Zvcm0scy5fZmllbGRzSW5kZXg9bmV3IHUoZS5maWVsZHMpLHN9c3RhdGljIGZyb21PcHRpbWl6ZWRGZWF0dXJlcyh0LGUscil7Y29uc3Qgcz1hLmNyZWF0ZUluc3RhbmNlKCksaT1uZXcgaChzLHQsZSk7cmV0dXJuIGkuX2ZpZWxkc0luZGV4PW5ldyB1KGUuZmllbGRzKSxpLl90cmFuc2Zvcm09cixpfWNvbnN0cnVjdG9yKHQsZSxyKXtzdXBlcih0LHIpLHRoaXMuX2V4Y2VlZGVkVHJhbnNmZXJMaW1pdD0hMSx0aGlzLl9mZWF0dXJlSW5kZXg9LTEsdGhpcy5fZmllbGRzSW5kZXg9bnVsbCx0aGlzLl9nZW9tZXRyeVR5cGU9cj8uZ2VvbWV0cnlUeXBlLHRoaXMuX2ZlYXR1cmVzPWV9Z2V0IGZpZWxkcygpe3JldHVybiB0aGlzLl9maWVsZHNJbmRleH1nZXQgX2N1cnJlbnQoKXtyZXR1cm4gdGhpcy5fZmVhdHVyZXNbdGhpcy5fZmVhdHVyZUluZGV4XX1nZXQgZ2VvbWV0cnlUeXBlKCl7cmV0dXJuIHRoaXMuX2dlb21ldHJ5VHlwZX1nZXQgaGFzRmVhdHVyZXMoKXtyZXR1cm4hIXRoaXMuX2ZlYXR1cmVzLmxlbmd0aH1nZXQgaGFzTmV4dCgpe3JldHVybiB0aGlzLl9mZWF0dXJlSW5kZXgrMTx0aGlzLl9mZWF0dXJlcy5sZW5ndGh9Z2V0IGV4Y2VlZGVkVHJhbnNmZXJMaW1pdCgpe3JldHVybiB0aGlzLl9leGNlZWRlZFRyYW5zZmVyTGltaXR9Z2V0IGhhc1ooKXtyZXR1cm4hMX1nZXQgaGFzTSgpe3JldHVybiExfXJlbW92ZUlkcyh0KXtjb25zdCBlPW5ldyBTZXQodCk7dGhpcy5fZmVhdHVyZXM9dGhpcy5fZmVhdHVyZXMuZmlsdGVyKCh0PT4hKG51bGwhPXQub2JqZWN0SWQmJmUuaGFzKHQub2JqZWN0SWQpKSkpfWFwcGVuZCh0KXtmb3IoY29uc3QgZSBvZiB0KXRoaXMuX2ZlYXR1cmVzLnB1c2goZSl9Z2V0U2l6ZSgpe3JldHVybiB0aGlzLl9mZWF0dXJlcy5sZW5ndGh9Z2V0Q3Vyc29yKCl7cmV0dXJuIHRoaXMuY29weSgpfWdldFF1YW50aXphdGlvblRyYW5zZm9ybSgpe3JldHVybiB0aGlzLl90cmFuc2Zvcm19Z2V0QXR0cmlidXRlSGFzaCgpe2xldCB0PVwiXCI7Zm9yKGNvbnN0IGUgaW4gdGhpcy5fY3VycmVudC5hdHRyaWJ1dGVzKXQrPXRoaXMuX2N1cnJlbnQuYXR0cmlidXRlc1tlXTtyZXR1cm4gdH1nZXRJbmRleCgpe3JldHVybiB0aGlzLl9mZWF0dXJlSW5kZXh9c2V0SW5kZXgodCl7dGhpcy5fZmVhdHVyZUluZGV4PXR9Z2V0T2JqZWN0SWQoKXtyZXR1cm4gdGhpcy5fY3VycmVudD8ub2JqZWN0SWR9Z2V0RGlzcGxheUlkKCl7cmV0dXJuIHRoaXMuX2N1cnJlbnQuZGlzcGxheUlkfXNldERpc3BsYXlJZCh0KXt0aGlzLl9jdXJyZW50LmRpc3BsYXlJZD10fWdldEdyb3VwSWQoKXtyZXR1cm4gdGhpcy5fY3VycmVudC5ncm91cElkfXNldEdyb3VwSWQodCl7dGhpcy5fY3VycmVudC5ncm91cElkPXR9Y29weSgpe2NvbnN0IHQ9bmV3IGgodGhpcy5pbnN0YW5jZSx0aGlzLl9mZWF0dXJlcyx0aGlzLmZ1bGxTY2hlbWEoKSk7cmV0dXJuIHRoaXMuY29weUludG8odCksdH1uZXh0KCl7Zm9yKDsrK3RoaXMuX2ZlYXR1cmVJbmRleDx0aGlzLl9mZWF0dXJlcy5sZW5ndGgmJiF0aGlzLl9nZXRFeGlzdHMoKTspO3JldHVybiB0aGlzLl9mZWF0dXJlSW5kZXg8dGhpcy5fZmVhdHVyZXMubGVuZ3RofXJlYWRMZWdhY3lGZWF0dXJlKCl7cmV0dXJuIHIodGhpcy5fY3VycmVudCx0aGlzLmdlb21ldHJ5VHlwZSx0aGlzLmhhc1osdGhpcy5oYXNNKX1yZWFkT3B0aW1pemVkRmVhdHVyZSgpe3JldHVybiB0aGlzLl9jdXJyZW50fXJlYWRMZWdhY3lQb2ludEdlb21ldHJ5KCl7cmV0dXJuIHRoaXMucmVhZEdlb21ldHJ5KCk/e3g6dGhpcy5nZXRYKCkseTp0aGlzLmdldFkoKX06bnVsbH1yZWFkTGVnYWN5R2VvbWV0cnkoKXtjb25zdCB0PXRoaXMucmVhZFVucXVhbnRpemVkR2VvbWV0cnkoKTtyZXR1cm4gcyh0LHRoaXMuZ2VvbWV0cnlUeXBlLHRoaXMuaGFzWix0aGlzLmhhc00pfXJlYWRMZWdhY3lDZW50cm9pZCgpe2NvbnN0IHQ9dGhpcy5yZWFkQ2VudHJvaWQoKTtyZXR1cm4gbnVsbD09dD9udWxsOnt4OnQuY29vcmRzWzBdKnRoaXMuX3N4K3RoaXMuX3R4LHk6dC5jb29yZHNbMV0qdGhpcy5fc3krdGhpcy5fdHl9fXJlYWRHZW9tZXRyeUFyZWEoKXtyZXR1cm4gbyh0aGlzLl9jdXJyZW50KT9pKHRoaXMuX2N1cnJlbnQuZ2VvbWV0cnksMik6MH1yZWFkVW5xdWFudGl6ZWRHZW9tZXRyeSgpe2NvbnN0IHQ9dGhpcy5yZWFkR2VvbWV0cnkoKTtpZihcImVzcmlHZW9tZXRyeVBvaW50XCI9PT10aGlzLmdlb21ldHJ5VHlwZXx8IXQpcmV0dXJuIHQ7Y29uc3QgZT10LmNsb25lKCk7cmV0dXJuIGQoZSksZX1yZWFkSHlkcmF0ZWRHZW9tZXRyeSgpe2NvbnN0IHQ9dGhpcy5fY3VycmVudC5nZW9tZXRyeTtpZihudWxsPT10KXJldHVybiBudWxsO2NvbnN0IGU9dC5jbG9uZSgpO3JldHVybiBudWxsIT10aGlzLl90cmFuc2Zvcm0mJm4oZSxlLHRoaXMuaGFzWix0aGlzLmhhc00sdGhpcy5fdHJhbnNmb3JtKSxlfWdldFhIeWRyYXRlZCgpe2lmKCFvKHRoaXMuX2N1cnJlbnQpKXJldHVybiAwO2NvbnN0IHQ9dGhpcy5fY3VycmVudC5nZW9tZXRyeS5jb29yZHNbMF0sZT10aGlzLmdldFF1YW50aXphdGlvblRyYW5zZm9ybSgpO3JldHVybiBudWxsPT1lP3Q6dCplLnNjYWxlWzBdK2UudHJhbnNsYXRlWzBdfWdldFlIeWRyYXRlZCgpe2lmKCFvKHRoaXMuX2N1cnJlbnQpKXJldHVybiAwO2NvbnN0IHQ9dGhpcy5fY3VycmVudC5nZW9tZXRyeS5jb29yZHNbMV0sZT10aGlzLmdldFF1YW50aXphdGlvblRyYW5zZm9ybSgpO3JldHVybiBudWxsPT1lP3Q6ZS50cmFuc2xhdGVbMV0tdCplLnNjYWxlWzFdfWdldFgoKXtyZXR1cm4gbyh0aGlzLl9jdXJyZW50KT90aGlzLl9jdXJyZW50Lmdlb21ldHJ5LmNvb3Jkc1swXSp0aGlzLl9zeCt0aGlzLl90eDowfWdldFkoKXtyZXR1cm4gbyh0aGlzLl9jdXJyZW50KT90aGlzLl9jdXJyZW50Lmdlb21ldHJ5LmNvb3Jkc1sxXSp0aGlzLl9zeSt0aGlzLl90eTowfXJlYWRHZW9tZXRyeSgpe2lmKCFvKHRoaXMuX2N1cnJlbnQpKXtpZihudWxsIT10aGlzLl9jdXJyZW50LmNlbnRyb2lkKXtjb25zdFt0LGVdPXRoaXMuX2N1cnJlbnQuY2VudHJvaWQuY29vcmRzO3JldHVybiB0aGlzLmNyZWF0ZVF1YW50aXplZEV4dHJ1ZGVkUXVhZCh0LGUpfXJldHVybiBudWxsfWNvbnN0IHQ9dGhpcy5fY3VycmVudC5nZW9tZXRyeS5jbG9uZSgpO2lmKHQuaXNQb2ludClyZXR1cm4gdC5jb29yZHNbMF09dC5jb29yZHNbMF0qdGhpcy5fc3grdGhpcy5fdHgsdC5jb29yZHNbMV09dC5jb29yZHNbMV0qdGhpcy5fc3krdGhpcy5fdHksdDtsZXQgZT0wO2Zvcihjb25zdCByIG9mIHQubGVuZ3Rocyl0LmNvb3Jkc1syKmVdPXQuY29vcmRzWzIqZV0qdGhpcy5fc3grdGhpcy5fdHgsdC5jb29yZHNbMiplKzFdPXQuY29vcmRzWzIqZSsxXSp0aGlzLl9zeSt0aGlzLl90eSxlKz1yO3JldHVybiB0fXJlYWRDZW50cm9pZCgpe3JldHVybiBvKHRoaXMuX2N1cnJlbnQpP3RoaXMuX2NvbXB1dGVDZW50cm9pZCgpOnRoaXMuX2N1cnJlbnQuY2VudHJvaWR9X3JlYWRBdHRyaWJ1dGUodCxlKXtjb25zdCByPXRoaXMuX2ZpZWxkc0luZGV4LmdldCh0KTtpZighcilyZXR1cm47bGV0IHM9dGhpcy5fY3VycmVudC5hdHRyaWJ1dGVzW3IubmFtZV07cmV0dXJuIG51bGw9PXM/czooXCJlc3JpRmllbGRUeXBlVGltZXN0YW1wT2Zmc2V0XCI9PT10aGlzLmZpZWxkcy5nZXQodCk/LnR5cGUmJihzPXRoaXMucGFyc2VUaW1lc3RhbXBPZmZzZXQocykpLGUmJnRoaXMuZmllbGRzLmlzRGF0ZUZpZWxkKHQpP25ldyBEYXRlKHMpOnMpfWNvcHlJbnRvKHQpe3N1cGVyLmNvcHlJbnRvKHQpLHQuX2ZlYXR1cmVJbmRleD10aGlzLl9mZWF0dXJlSW5kZXgsdC5fdHJhbnNmb3JtPXRoaXMuX3RyYW5zZm9ybSx0Ll9maWVsZHNJbmRleD10aGlzLl9maWVsZHNJbmRleH1fcmVhZEF0dHJpYnV0ZXMoKXtyZXR1cm4gdGhpcy5fY3VycmVudC5hdHRyaWJ1dGVzfX1leHBvcnR7aCBhcyBGZWF0dXJlU2V0UmVhZGVySlNPTn07XG4iLCIvKlxuQWxsIG1hdGVyaWFsIGNvcHlyaWdodCBFU1JJLCBBbGwgUmlnaHRzIFJlc2VydmVkLCB1bmxlc3Mgb3RoZXJ3aXNlIHNwZWNpZmllZC5cblNlZSBodHRwczovL2pzLmFyY2dpcy5jb20vNC4yNy9lc3JpL2NvcHlyaWdodC50eHQgZm9yIGRldGFpbHMuXG4qL1xuaW1wb3J0IGUgZnJvbVwiLi4vLi4vLi4vLi4vLi4vY29yZS9FcnJvci5qc1wiO2ltcG9ydCB0IGZyb21cIi4uLy4uLy4uLy4uLy4uL2NvcmUvTG9nZ2VyLmpzXCI7aW1wb3J0e2Fzc2VydElzU29tZSBhcyByfWZyb21cIi4uLy4uLy4uLy4uLy4uL2NvcmUvbWF5YmUuanNcIjtpbXBvcnQgcyBmcm9tXCIuLi8uLi8uLi8uLi8uLi9jb3JlL3BiZi5qc1wiO2ltcG9ydHtjb252ZXJ0VG9HZW9tZXRyeSBhcyBpLHVucXVhbnRpemVPcHRpbWl6ZWRHZW9tZXRyeSBhcyBufWZyb21cIi4uLy4uLy4uLy4uLy4uL2xheWVycy9ncmFwaGljcy9mZWF0dXJlQ29udmVyc2lvblV0aWxzLmpzXCI7aW1wb3J0e09wdGltaXplZEZlYXR1cmUgYXMgYX1mcm9tXCIuLi8uLi8uLi8uLi8uLi9sYXllcnMvZ3JhcGhpY3MvT3B0aW1pemVkRmVhdHVyZS5qc1wiO2ltcG9ydCBoIGZyb21cIi4uLy4uLy4uLy4uLy4uL2xheWVycy9ncmFwaGljcy9PcHRpbWl6ZWRHZW9tZXRyeS5qc1wiO2ltcG9ydHtGZWF0dXJlU2V0UmVhZGVyIGFzIG99ZnJvbVwiLi9GZWF0dXJlU2V0UmVhZGVyLmpzXCI7aW1wb3J0e3BhcnNlSGVhZGVyIGFzIGR9ZnJvbVwiLi9GZWF0dXJlU2V0UmVhZGVyUEJGSGVhZGVyLmpzXCI7Y29uc3QgdT0hMCxjPTI2ODQzNTQ1NSxnPTEyOCxsPTEyOGUzLF89e3NtYWxsOntkZWx0YTpuZXcgSW50MzJBcnJheShnKSxkZWNvZGVkOm5ldyBJbnQzMkFycmF5KGcpfSxsYXJnZTp7ZGVsdGE6bmV3IEludDMyQXJyYXkobCksZGVjb2RlZDpuZXcgSW50MzJBcnJheShsKX19O2Z1bmN0aW9uIGYoZSl7cmV0dXJuIGU8PV8uc21hbGwuZGVsdGEubGVuZ3RoP18uc21hbGw6KGU8PV8ubGFyZ2UuZGVsdGEubGVuZ3RofHwoXy5sYXJnZS5kZWx0YT1uZXcgSW50MzJBcnJheShNYXRoLnJvdW5kKDEuMjUqZSkpLF8ubGFyZ2UuZGVjb2RlZD1uZXcgSW50MzJBcnJheShNYXRoLnJvdW5kKDEuMjUqZSkpKSxfLmxhcmdlKX1mdW5jdGlvbiB5KHIpe3RyeXtjb25zdCBlPTIsdD1uZXcgcyhuZXcgVWludDhBcnJheShyKSxuZXcgRGF0YVZpZXcocikpO2Zvcig7dC5uZXh0KCk7KXtpZih0LnRhZygpPT09ZSlyZXR1cm4gSSh0LmdldE1lc3NhZ2UoKSk7dC5za2lwKCl9fWNhdGNoKGkpe2NvbnN0IHI9bmV3IGUoXCJxdWVyeTpwYXJzaW5nLXBiZlwiLFwiRXJyb3Igd2hpbGUgcGFyc2luZyBGZWF0dXJlU2V0IFBCRiBwYXlsb2FkXCIse2Vycm9yOml9KTt0LmdldExvZ2dlcihcImVzcmkudmlldy4yZC5sYXllcnMuZmVhdHVyZXMuc3VwcG9ydC5GZWF0dXJlU2V0UmVhZGVyUEJGXCIpLmVycm9yKHIpfXJldHVybiBudWxsfWZ1bmN0aW9uIEkoZSl7Y29uc3QgdD0xO2Zvcig7ZS5uZXh0KCk7KXtpZihlLnRhZygpPT09dClyZXR1cm4gZS5nZXRNZXNzYWdlKCk7ZS5za2lwKCl9cmV0dXJuIG51bGx9ZnVuY3Rpb24gcChlKXtjb25zdCB0PTEscj0yLHM9MyxpPTQsbj01LGE9NixoPTcsbz04LGQ9OSx1PWUuZ2V0TGVuZ3RoKCksYz1lLnBvcygpK3U7Zm9yKDtlLnBvcygpPGMmJmUubmV4dCgpOylzd2l0Y2goZS50YWcoKSl7Y2FzZSB0OnJldHVybiBlLmdldFN0cmluZygpO2Nhc2UgcjpyZXR1cm4gZS5nZXRGbG9hdCgpO2Nhc2UgczpyZXR1cm4gZS5nZXREb3VibGUoKTtjYXNlIGk6cmV0dXJuIGUuZ2V0U0ludDMyKCk7Y2FzZSBuOnJldHVybiBlLmdldFVJbnQzMigpO2Nhc2UgYTpyZXR1cm4gZS5nZXRJbnQ2NCgpO2Nhc2UgaDpyZXR1cm4gZS5nZXRVSW50NjQoKTtjYXNlIG86cmV0dXJuIGUuZ2V0U0ludDY0KCk7Y2FzZSBkOnJldHVybiBlLmdldEJvb2woKTtkZWZhdWx0OnJldHVybiBlLnNraXAoKSxudWxsfXJldHVybiBudWxsfWZ1bmN0aW9uIG0oZSx0LHIscyxpLG4pe3JldHVybi41Kk1hdGguYWJzKGUqcytyKm4raSp0LWUqbi1yKnQtaSpzKX1mdW5jdGlvbiB4KGUsdCxyLHMpe3JldHVybiAwPT09ZSpzLXIqdCYmZSpyK3Qqcz4wfWNsYXNzIFMgZXh0ZW5kcyBve3N0YXRpYyBmcm9tQnVmZmVyKGUsdCxyPSExKXtjb25zdCBzPXQuZ2VvbWV0cnlUeXBlLGk9eShlKSxuPWQoaSxcImVzcmlHZW9tZXRyeVBvaW50XCI9PT1zLHIpLGE9by5jcmVhdGVJbnN0YW5jZSgpO3JldHVybiBuZXcgUyhhLGksbix0KX1jb25zdHJ1Y3RvcihlLHQscixzKXtzdXBlcihlLHMpLHRoaXMuX2hhc05leHQ9ITEsdGhpcy5faXNQb2ludHM9ITEsdGhpcy5fZmVhdHVyZUluZGV4PS0xLHRoaXMuX2ZlYXR1cmVPZmZzZXQ9MCx0aGlzLl9jYWNoZT17YXJlYTowLHVucXVhbnRHZW9tZXRyeTp2b2lkIDAsZ2VvbWV0cnk6dm9pZCAwLGNlbnRyb2lkOnZvaWQgMCxsZWdhY3lGZWF0dXJlOnZvaWQgMCxvcHRGZWF0dXJlOnZvaWQgMH0sdGhpcy5fZ2VvbWV0cnlUeXBlPXMuZ2VvbWV0cnlUeXBlLHRoaXMuX3JlYWRlcj10LHRoaXMuX2hlYWRlcj1yLHRoaXMuX2hhc05leHQ9ci5oYXNGZWF0dXJlcyx0aGlzLl9pc1BvaW50cz1cImVzcmlHZW9tZXRyeVBvaW50XCI9PT1zLmdlb21ldHJ5VHlwZX1nZXQgZmllbGRzKCl7cmV0dXJuIHRoaXMuX2hlYWRlci5maWVsZHN9Z2V0IGdlb21ldHJ5VHlwZSgpe3JldHVybiB0aGlzLl9nZW9tZXRyeVR5cGV9Z2V0IF9zaXplKCl7cmV0dXJuIHRoaXMuX2hlYWRlci5mZWF0dXJlQ291bnR9Z2V0IGhhc1ooKXtyZXR1cm4hMX1nZXQgaGFzTSgpe3JldHVybiExfWdldCBzdHJpZGUoKXtyZXR1cm4gMisodGhpcy5oYXNaPzE6MCkrKHRoaXMuaGFzTT8xOjApfWdldCBoYXNGZWF0dXJlcygpe3JldHVybiB0aGlzLl9oZWFkZXIuaGFzRmVhdHVyZXN9Z2V0IGhhc05leHQoKXtyZXR1cm4gdGhpcy5faGFzTmV4dH1nZXQgZXhjZWVkZWRUcmFuc2ZlckxpbWl0KCl7cmV0dXJuIHRoaXMuX2hlYWRlci5leGNlZWRlZFRyYW5zZmVyTGltaXR9Z2V0U2l6ZSgpe3JldHVybiB0aGlzLl9zaXplfWdldFF1YW50aXphdGlvblRyYW5zZm9ybSgpe3JldHVybiB0aGlzLl9oZWFkZXIudHJhbnNmb3JtfWdldEN1cnNvcigpe3JldHVybiB0aGlzLmNvcHkoKX1nZXRJbmRleCgpe3JldHVybiB0aGlzLl9mZWF0dXJlSW5kZXh9c2V0SW5kZXgoZSl7dGhpcy5fY2FjaGUuYXJlYT0wLHRoaXMuX2NhY2hlLnVucXVhbnRHZW9tZXRyeT12b2lkIDAsdGhpcy5fY2FjaGUuZ2VvbWV0cnk9dm9pZCAwLHRoaXMuX2NhY2hlLmNlbnRyb2lkPXZvaWQgMCx0aGlzLl9jYWNoZS5sZWdhY3lGZWF0dXJlPXZvaWQgMCx0aGlzLl9jYWNoZS5vcHRGZWF0dXJlPXZvaWQgMCx0aGlzLl9mZWF0dXJlSW5kZXg9ZX1nZXRBdHRyaWJ1dGVIYXNoKCl7bGV0IGU9XCJcIjtmb3IoY29uc3QgdCBvZiB0aGlzLl9oZWFkZXIuZmllbGRzLmZpZWxkcyllKz10aGlzLl9yZWFkQXR0cmlidXRlQXRJbmRleCh0LmluZGV4KStcIi5cIjtyZXR1cm4gZX1nZXRPYmplY3RJZCgpe3JldHVybiB0aGlzLl9yZWFkQXR0cmlidXRlQXRJbmRleCh0aGlzLl9oZWFkZXIub2JqZWN0SWRGaWVsZEluZGV4KX1nZXREaXNwbGF5SWQoKXtyZXR1cm4gdGhpcy5faGVhZGVyLmRpc3BsYXlJZHNbdGhpcy5fZmVhdHVyZUluZGV4XX1zZXREaXNwbGF5SWQoZSl7dGhpcy5faGVhZGVyLmRpc3BsYXlJZHNbdGhpcy5fZmVhdHVyZUluZGV4XT1lfWdldEdyb3VwSWQoKXtyZXR1cm4gdGhpcy5faGVhZGVyLmdyb3VwSWRzW3RoaXMuX2ZlYXR1cmVJbmRleF19c2V0R3JvdXBJZChlKXt0aGlzLl9oZWFkZXIuZ3JvdXBJZHNbdGhpcy5fZmVhdHVyZUluZGV4XT1lfXJlYWRMZWdhY3lGZWF0dXJlKCl7aWYodm9pZCAwPT09dGhpcy5fY2FjaGUubGVnYWN5RmVhdHVyZSl7Y29uc3QgZT10aGlzLnJlYWRDZW50cm9pZCgpLHQ9e2F0dHJpYnV0ZXM6dGhpcy5yZWFkQXR0cmlidXRlcygpLGdlb21ldHJ5OnRoaXMuX2lzUG9pbnRzP3RoaXMucmVhZExlZ2FjeVBvaW50R2VvbWV0cnkoKTp0aGlzLnJlYWRMZWdhY3lHZW9tZXRyeSgpLGNlbnRyb2lkOihlJiZ7eDplLmNvb3Jkc1swXSx5OmUuY29vcmRzWzFdfSk/P251bGx9O3JldHVybiB0aGlzLl9jYWNoZS5sZWdhY3lGZWF0dXJlPXQsdH1yZXR1cm4gdGhpcy5fY2FjaGUubGVnYWN5RmVhdHVyZX1yZWFkT3B0aW1pemVkRmVhdHVyZSgpe2lmKHZvaWQgMD09PXRoaXMuX2NhY2hlLm9wdEZlYXR1cmUpe2NvbnN0IGU9bmV3IGEodGhpcy5yZWFkR2VvbWV0cnkoKSx0aGlzLnJlYWRBdHRyaWJ1dGVzKCksdGhpcy5yZWFkQ2VudHJvaWQoKSk7cmV0dXJuIGUub2JqZWN0SWQ9dGhpcy5nZXRPYmplY3RJZCgpLGUuZGlzcGxheUlkPXRoaXMuZ2V0RGlzcGxheUlkKCksdGhpcy5fY2FjaGUub3B0RmVhdHVyZT1lLGV9cmV0dXJuIHRoaXMuX2NhY2hlLm9wdEZlYXR1cmV9Z2V0WEh5ZHJhdGVkKCl7Y29uc3QgZT10aGlzLl9oZWFkZXIuY2VudHJvaWRbMip0aGlzLl9mZWF0dXJlSW5kZXhdLHQ9dGhpcy5nZXRRdWFudGl6YXRpb25UcmFuc2Zvcm0oKTtyZXR1cm4gbnVsbD09dD9lOmUqdC5zY2FsZVswXSt0LnRyYW5zbGF0ZVswXX1nZXRZSHlkcmF0ZWQoKXtjb25zdCBlPXRoaXMuX2hlYWRlci5jZW50cm9pZFsyKnRoaXMuX2ZlYXR1cmVJbmRleCsxXSx0PXRoaXMuZ2V0UXVhbnRpemF0aW9uVHJhbnNmb3JtKCk7cmV0dXJuIG51bGw9PXQ/ZTp0LnRyYW5zbGF0ZVsxXS1lKnQuc2NhbGVbMV19Z2V0WCgpe3JldHVybiB0aGlzLl9oZWFkZXIuY2VudHJvaWRbMip0aGlzLl9mZWF0dXJlSW5kZXhdKnRoaXMuX3N4K3RoaXMuX3R4fWdldFkoKXtyZXR1cm4gdGhpcy5faGVhZGVyLmNlbnRyb2lkWzIqdGhpcy5fZmVhdHVyZUluZGV4KzFdKnRoaXMuX3N5K3RoaXMuX3R5fXJlYWRMZWdhY3lQb2ludEdlb21ldHJ5KCl7cmV0dXJue3g6dGhpcy5nZXRYKCkseTp0aGlzLmdldFkoKX19cmVhZExlZ2FjeUdlb21ldHJ5KGUpe2NvbnN0IHQ9dGhpcy5yZWFkVW5xdWFudGl6ZWRHZW9tZXRyeShlKTtyZXR1cm4gaSh0LHRoaXMuZ2VvbWV0cnlUeXBlLCExLCExKX1yZWFkTGVnYWN5Q2VudHJvaWQoKXtjb25zdCBlPXRoaXMucmVhZENlbnRyb2lkKCk7aWYoIWUpcmV0dXJuIG51bGw7Y29uc3RbdCxyXT1lLmNvb3JkcztyZXR1cm57eDp0LHk6cn19cmVhZEdlb21ldHJ5QXJlYSgpe3JldHVybiB0aGlzLl9jYWNoZS5hcmVhfHx0aGlzLnJlYWRHZW9tZXRyeSghMCksdGhpcy5fY2FjaGUuYXJlYX1yZWFkVW5xdWFudGl6ZWRHZW9tZXRyeShlPSExKXtpZih2b2lkIDA9PT10aGlzLl9jYWNoZS51bnF1YW50R2VvbWV0cnkpe2NvbnN0IHQ9dGhpcy5yZWFkR2VvbWV0cnkoZSk7aWYoIXQpcmV0dXJuIHRoaXMuX2NhY2hlLnVucXVhbnRHZW9tZXRyeT12b2lkIDAsbnVsbDtjb25zdCByPWYodC5jb29yZHMubGVuZ3RoKS5kZWNvZGVkLHM9dC5jbG9uZShyKSxpPXMuY29vcmRzO2xldCBuPTA7Zm9yKGNvbnN0IGUgb2Ygcy5sZW5ndGhzKXtmb3IobGV0IHQ9MTt0PGU7dCsrKXtjb25zdCBlPTIqKG4rdCkscj0yKihuK3QtMSk7aVtlXSs9aVtyXSxpW2UrMV0rPWlbcisxXX1uKz1lfXJldHVybiB0aGlzLl9jYWNoZS51bnF1YW50R2VvbWV0cnk9cyxzfXJldHVybiB0aGlzLl9jYWNoZS51bnF1YW50R2VvbWV0cnl9cmVhZEh5ZHJhdGVkR2VvbWV0cnkoKXtpZih0aGlzLl9pc1BvaW50cyl7aWYodGhpcy5faGVhZGVyLmNlbnRyb2lkWzIqdGhpcy5fZmVhdHVyZUluZGV4XT09PWMpcmV0dXJuIG51bGw7Y29uc3QgZT10aGlzLmdldFhIeWRyYXRlZCgpLHQ9dGhpcy5nZXRZSHlkcmF0ZWQoKTtyZXR1cm4gbmV3IGgoW10sW2UsdF0pfWNvbnN0IGU9dGhpcy5yZWFkR2VvbWV0cnkoKTtpZighZSlyZXR1cm4gbnVsbDtjb25zdCB0PWUuY2xvbmUoKSxyPXRoaXMuZ2V0UXVhbnRpemF0aW9uVHJhbnNmb3JtKCk7cmV0dXJuIG51bGwhPXImJm4odCx0LHRoaXMuaGFzWix0aGlzLmhhc00sciksdH1yZWFkR2VvbWV0cnkoZT0hMSl7aWYodm9pZCAwPT09dGhpcy5fY2FjaGUuZ2VvbWV0cnkpe2xldCByPW51bGw7aWYodGhpcy5faXNQb2ludHMpe2lmKHRoaXMuX2hlYWRlci5jZW50cm9pZFsyKnRoaXMuX2ZlYXR1cmVJbmRleF09PT1jKXJldHVybiBudWxsO2NvbnN0IGU9dGhpcy5nZXRYKCksdD10aGlzLmdldFkoKTtyPW5ldyBoKFtdLFtlLHRdKX1lbHNle2NvbnN0IHM9dGhpcy5faGVhZGVyLm9mZnNldHMuZ2VvbWV0cnlbdGhpcy5fZmVhdHVyZUluZGV4XSxpPXRoaXMuX3JlYWRlcjtpZigwPT09cyl7Y29uc3QgZT10aGlzLl9yZWFkU2VydmVyQ2VudHJvaWQoKTtpZighZSlyZXR1cm4gbnVsbDtjb25zdFt0LHJdPWUuY29vcmRzO3JldHVybiB0aGlzLmNyZWF0ZVF1YW50aXplZEV4dHJ1ZGVkUXVhZCh0LHIpfWkubW92ZShzKTt0cnl7aWYocj1lP3RoaXMuX3BhcnNlR2VvbWV0cnlGb3JEaXNwbGF5KGkpOnRoaXMuX3BhcnNlR2VvbWV0cnkoaSksbnVsbD09PXIpe2NvbnN0IGU9dGhpcy5fcmVhZFNlcnZlckNlbnRyb2lkKCk7aWYoIWUpcmV0dXJuIG51bGw7Y29uc3RbdCxyXT1lLmNvb3JkcztyZXR1cm4gdGhpcy5jcmVhdGVRdWFudGl6ZWRFeHRydWRlZFF1YWQodCxyKX19Y2F0Y2godCl7cmV0dXJuIGNvbnNvbGUuZXJyb3IoXCJGYWlsZWQgdG8gcGFyc2UgZ2VvbWV0cnkhXCIsdCksbnVsbH19cmV0dXJuIHRoaXMuX2NhY2hlLmdlb21ldHJ5PXIscn1yZXR1cm4gdGhpcy5fY2FjaGUuZ2VvbWV0cnl9cmVhZENlbnRyb2lkKCl7aWYodm9pZCAwPT09dGhpcy5fY2FjaGUuY2VudHJvaWQpe2xldCBlO3JldHVybiBlPXRoaXMuX2NvbXB1dGVDZW50cm9pZCgpLGV8fChlPXRoaXMuX3JlYWRTZXJ2ZXJDZW50cm9pZCgpKSx0aGlzLl9jYWNoZS5jZW50cm9pZD1lPz92b2lkIDAsZT8/bnVsbH1yZXR1cm4gdGhpcy5fY2FjaGUuY2VudHJvaWR9Y29weSgpe2NvbnN0IGU9dGhpcy5fcmVhZGVyLmNsb25lKCksdD1uZXcgUyh0aGlzLmluc3RhbmNlLGUsdGhpcy5faGVhZGVyLHRoaXMuZnVsbFNjaGVtYSgpKTtyZXR1cm4gdGhpcy5jb3B5SW50byh0KSx0fW5leHQoKXtmb3IodGhpcy5fY2FjaGUuYXJlYT0wLHRoaXMuX2NhY2hlLnVucXVhbnRHZW9tZXRyeT12b2lkIDAsdGhpcy5fY2FjaGUuZ2VvbWV0cnk9dm9pZCAwLHRoaXMuX2NhY2hlLmNlbnRyb2lkPXZvaWQgMCx0aGlzLl9jYWNoZS5sZWdhY3lGZWF0dXJlPXZvaWQgMCx0aGlzLl9jYWNoZS5vcHRGZWF0dXJlPXZvaWQgMDsrK3RoaXMuX2ZlYXR1cmVJbmRleDx0aGlzLl9zaXplJiYhdGhpcy5fZ2V0RXhpc3RzKCk7KTtyZXR1cm4gdGhpcy5fZmVhdHVyZUluZGV4PHRoaXMuX3NpemV9X3JlYWRBdHRyaWJ1dGUoZSx0KXtjb25zdCByPXRoaXMuX2hlYWRlci5maWVsZHMuZ2V0KGUpO2lmKG51bGw9PXIpcmV0dXJuO2xldCBzPXRoaXMuX3JlYWRBdHRyaWJ1dGVBdEluZGV4KHIuaW5kZXgpO1wiZXNyaUZpZWxkVHlwZVRpbWVzdGFtcE9mZnNldFwiPT09dGhpcy5maWVsZHMuZ2V0KGUpPy50eXBlJiYocz10aGlzLnBhcnNlVGltZXN0YW1wT2Zmc2V0KHMpKTtjb25zdCBpPXRoaXMuX2hlYWRlci5maWVsZHMuaXNEYXRlRmllbGQoci5uYW1lKTtyZXR1cm4gdD9udWxsPT1zP3M6aT9uZXcgRGF0ZShzKTpzOnN9X3JlYWRBdHRyaWJ1dGVzKCl7Y29uc3QgZT17fTtmb3IoY29uc3QgdCBvZiB0aGlzLl9oZWFkZXIuZmllbGRzLmZpZWxkcyllW3QubmFtZV09dGhpcy5fcmVhZEF0dHJpYnV0ZUF0SW5kZXgodC5pbmRleCk7cmV0dXJuIGV9Y29weUludG8oZSl7c3VwZXIuY29weUludG8oZSksZS5fZmVhdHVyZUluZGV4PXRoaXMuX2ZlYXR1cmVJbmRleCxlLl9mZWF0dXJlT2Zmc2V0PXRoaXMuX2ZlYXR1cmVPZmZzZXQsZS5faGFzTmV4dD10aGlzLl9oYXNOZXh0fV9yZWFkQXR0cmlidXRlQXRJbmRleChlKXtjb25zdCB0PXRoaXMuX2hlYWRlci5vZmZzZXRzLmF0dHJpYnV0ZXNbdGhpcy5fZmVhdHVyZUluZGV4KnRoaXMuX2hlYWRlci5maWVsZENvdW50K2VdLHI9dGhpcy5fcmVhZGVyO3JldHVybiByLm1vdmUodCkscChyKX1fcmVhZFNlcnZlckNlbnRyb2lkKCl7Y29uc3QgZT10aGlzLl9oZWFkZXIuY2VudHJvaWRbMip0aGlzLl9mZWF0dXJlSW5kZXhdK3RoaXMuX3R4LHQ9dGhpcy5faGVhZGVyLmNlbnRyb2lkWzIqdGhpcy5fZmVhdHVyZUluZGV4KzFdK3RoaXMuX3R5O3JldHVybiBlPT09Yz9udWxsOm5ldyBoKFtdLFtlLHRdKX1fcGFyc2VHZW9tZXRyeShlKXtjb25zdCB0PTIscj0zLHM9ZS5hc1Vuc2FmZSgpLGk9cy5nZXRMZW5ndGgoKSxuPXMucG9zKCkraSxhPVtdLG89W107Zm9yKDtzLnBvcygpPG4mJnMubmV4dCgpOylzd2l0Y2gocy50YWcoKSl7Y2FzZSB0Ontjb25zdCBlPXMuZ2V0VUludDMyKCksdD1zLnBvcygpK2U7Zm9yKDtzLnBvcygpPHQ7KW8ucHVzaChzLmdldFVJbnQzMigpKTticmVha31jYXNlIHI6e2NvbnN0IGU9cy5nZXRVSW50MzIoKSx0PXMucG9zKCkrZTtmb3IoYS5wdXNoKHMuZ2V0U0ludDMyKCkrdGhpcy5fdHgpLGEucHVzaChzLmdldFNJbnQzMigpK3RoaXMuX3R5KSx0aGlzLmhhc1omJnMuZ2V0U0ludDMyKCksdGhpcy5oYXNNJiZzLmdldFNJbnQzMigpO3MucG9zKCk8dDspYS5wdXNoKHMuZ2V0U0ludDMyKCkpLGEucHVzaChzLmdldFNJbnQzMigpKSx0aGlzLmhhc1omJnMuZ2V0U0ludDMyKCksdGhpcy5oYXNNJiZzLmdldFNJbnQzMigpO2JyZWFrfWRlZmF1bHQ6cy5za2lwKCl9cmV0dXJuIG5ldyBoKG8sYSl9X3BhcnNlR2VvbWV0cnlGb3JEaXNwbGF5KGUpe2NvbnN0IHQ9MixzPTMsaT1lLmFzVW5zYWZlKCksbj1pLmdldExlbmd0aCgpLGE9aS5wb3MoKStuLG89W10sZD1bXTtsZXQgYz0wLGc9MCxsPW51bGwsXz0wO2NvbnN0IHk9XCJlc3JpR2VvbWV0cnlQb2x5Z29uXCI9PT10aGlzLmdlb21ldHJ5VHlwZTtmb3IoO2kucG9zKCk8YSYmaS5uZXh0KCk7KXN3aXRjaChpLnRhZygpKXtjYXNlIHQ6e2NvbnN0IGU9aS5nZXRVSW50MzIoKSx0PWkucG9zKCkrZTtmb3IoO2kucG9zKCk8dDspe2NvbnN0IGU9aS5nZXRVSW50MzIoKTtvLnB1c2goZSksYys9ZX1sPWYoMipjKS5kZWx0YTticmVha31jYXNlIHM6e2kuZ2V0VUludDMyKCk7Y29uc3QgZT0yKyh0aGlzLmhhc1o/MTowKSsodGhpcy5oYXNNPzE6MCk7cihsKTtmb3IoY29uc3QgdCBvZiBvKWlmKGcrZSp0PmwubGVuZ3RoKWZvcihsZXQgZT0wO2U8dDtlKyspaS5nZXRTSW50MzIoKSxpLmdldFNJbnQzMigpLHRoaXMuaGFzWiYmaS5nZXRTSW50MzIoKSx0aGlzLmhhc00mJmkuZ2V0U0ludDMyKCk7ZWxzZSBpZih5JiZ1KXtjb25zdCBlPXRoaXMuZ2V0QXJlYVNpbXBsaWZpY2F0aW9uVGhyZXNob2xkKHQsdGhpcy5faGVhZGVyLnZlcnRleENvdW50KTtsZXQgcj0yLHM9MTtjb25zdCBuPSExO2xldCBhPWkuZ2V0U0ludDMyKCksaD1pLmdldFNJbnQzMigpO2xbZysrXT1hLGxbZysrXT1oLHRoaXMuaGFzWiYmaS5nZXRTSW50MzIoKSx0aGlzLmhhc00mJmkuZ2V0U0ludDMyKCk7bGV0IG89aS5nZXRTSW50MzIoKSx1PWkuZ2V0U0ludDMyKCk7Zm9yKHRoaXMuaGFzWiYmaS5nZXRTSW50MzIoKSx0aGlzLmhhc00mJmkuZ2V0U0ludDMyKCk7cjx0Oyl7bGV0IHQ9aS5nZXRTSW50MzIoKSxuPWkuZ2V0U0ludDMyKCk7dGhpcy5oYXNaJiZpLmdldFNJbnQzMigpLHRoaXMuaGFzTSYmaS5nZXRTSW50MzIoKTtjb25zdCBkPWErbyxjPWgrdTttKGEsaCxkLGMsZCt0LGMrbik+PWU/KF8rPS0uNSooZC1hKSooYytoKSxzPjEmJngobFtnLTJdLGxbZy0xXSxvLHUpPyhsW2ctMl0rPW8sbFtnLTFdKz11KToobFtnKytdPW8sbFtnKytdPXUscysrKSxhPWQsaD1jKToodCs9byxuKz11KSxvPXQsdT1uLHIrK31zPDN8fG4/Zy09MipzOihfKz0tLjUqKGErby1hKSooaCt1K2gpLHgobFtnLTJdLGxbZy0xXSxvLHUpPyhsW2ctMl0rPW8sbFtnLTFdKz11LGQucHVzaChzKSk6KGxbZysrXT1vLGxbZysrXT11LGQucHVzaCgrK3MpKSl9ZWxzZXtsZXQgZT0wLHI9aS5nZXRTSW50MzIoKSxzPWkuZ2V0U0ludDMyKCk7dGhpcy5oYXNaJiZpLmdldFNJbnQzMigpLHRoaXMuaGFzTSYmaS5nZXRTSW50MzIoKSxsW2crK109cixsW2crK109cyxlKz0xO2ZvcihsZXQgbj0xO248dDtuKyspe2NvbnN0IHQ9aS5nZXRTSW50MzIoKSxhPWkuZ2V0U0ludDMyKCksaD1yK3Qsbz1zK2E7Xys9LS41KihoLXIpKihvK3MpLHRoaXMuaGFzWiYmaS5nZXRTSW50MzIoKSx0aGlzLmhhc00mJmkuZ2V0U0ludDMyKCksbj4yJiZ4KGxbZy0yXSxsW2ctMV0sdCxhKT8obFtnLTJdKz10LGxbZy0xXSs9YSk6KGxbZysrXT10LGxbZysrXT1hLGUrPTEpLHI9aCxzPW99ZC5wdXNoKGUpfWJyZWFrfWRlZmF1bHQ6aS5za2lwKCl9aWYodGhpcy5fY2FjaGUuYXJlYT1fLCFkLmxlbmd0aClyZXR1cm4gbnVsbDtpZih0aGlzLl90eHx8dGhpcy5fdHkpe2xldCBlPTA7cihsKTtmb3IoY29uc3QgdCBvZiBkKWxbMiplXSs9dGhpcy5fdHgsbFsyKmUrMV0rPXRoaXMuX3R5LGUrPXR9cmV0dXJuIG5ldyBoKGQsbCl9fWV4cG9ydHtTIGFzIEZlYXR1cmVTZXRSZWFkZXJQQkZ9O1xuIiwiLypcbkFsbCBtYXRlcmlhbCBjb3B5cmlnaHQgRVNSSSwgQWxsIFJpZ2h0cyBSZXNlcnZlZCwgdW5sZXNzIG90aGVyd2lzZSBzcGVjaWZpZWQuXG5TZWUgaHR0cHM6Ly9qcy5hcmNnaXMuY29tLzQuMjcvZXNyaS9jb3B5cmlnaHQudHh0IGZvciBkZXRhaWxzLlxuKi9cbmltcG9ydCBlIGZyb21cIi4uLy4uLy4uLy4uLy4uL2NvcmUvRXJyb3IuanNcIjtpbXBvcnQgdCBmcm9tXCIuLi8uLi8uLi8uLi8uLi9sYXllcnMvc3VwcG9ydC9GaWVsZHNJbmRleC5qc1wiO2ltcG9ydHtwYXJzZUZpZWxkIGFzIHMscGFyc2VUcmFuc2Zvcm0gYXMgcn1mcm9tXCIuLi8uLi8uLi8uLi8uLi9yZXN0L3F1ZXJ5L29wZXJhdGlvbnMvcGJmRmVhdHVyZVNlcnZpY2VQYXJzZXIuanNcIjtjb25zdCBuPTI2ODQzNTQ1NTtjbGFzcyBve2NvbnN0cnVjdG9yKCl7dGhpcy5oYXNGZWF0dXJlcz0hMSx0aGlzLmV4Y2VlZGVkVHJhbnNmZXJMaW1pdD0hMSx0aGlzLmZpZWxkQ291bnQ9MCx0aGlzLmZlYXR1cmVDb3VudD0wLHRoaXMub2JqZWN0SWRGaWVsZEluZGV4PTAsdGhpcy52ZXJ0ZXhDb3VudD0wLHRoaXMub2Zmc2V0cz17YXR0cmlidXRlczpuZXcgQXJyYXksZ2VvbWV0cnk6bmV3IEFycmF5fSx0aGlzLmNlbnRyb2lkPW5ldyBBcnJheX19ZnVuY3Rpb24gYShhLGksYz0hMSl7Y29uc3QgZj0xLGQ9Myx1PTksZz0xMixsPTEzLHA9MTUsaD1hLmFzVW5zYWZlKCksYj1oLnBvcygpLHc9bmV3IG87bGV0IG09MCx5PTA7Y29uc3Qgaz0xLHg9MixJPTQsTD0zO2xldCBBPW51bGwsRj1udWxsLEM9bnVsbCxTPSExO2NvbnN0IGo9W107Zm9yKDtoLm5leHQoKTspc3dpdGNoKGgudGFnKCkpe2Nhc2UgZjpBPWguZ2V0U3RyaW5nKCk7YnJlYWs7Y2FzZSBkOkY9aC5nZXRTdHJpbmcoKTticmVhaztjYXNlIGc6Qz1oLnByb2Nlc3NNZXNzYWdlKHIpO2JyZWFrO2Nhc2UgdTppZih3LmV4Y2VlZGVkVHJhbnNmZXJMaW1pdD1oLmdldEJvb2woKSx3LmV4Y2VlZGVkVHJhbnNmZXJMaW1pdCl7dy5vZmZzZXRzLmdlb21ldHJ5PWM/bmV3IEZsb2F0NjRBcnJheSg4ZTMpOm5ldyBJbnQzMkFycmF5KDhlMyksdy5jZW50cm9pZD1jP25ldyBGbG9hdDY0QXJyYXkoMTZlMyk6bmV3IEludDMyQXJyYXkoMTZlMyk7Zm9yKGxldCBlPTA7ZTx3LmNlbnRyb2lkLmxlbmd0aDtlKyspdy5jZW50cm9pZFtlXT1ufWJyZWFrO2Nhc2UgbDp7Y29uc3QgZT1oLnByb2Nlc3NNZXNzYWdlKHMpO2UuaW5kZXg9bSsrLGoucHVzaChlKTticmVha31jYXNlIHA6e2NvbnN0IGU9aC5nZXRMZW5ndGgoKSx0PWgucG9zKCkrZTtpZighdy5leGNlZWRlZFRyYW5zZmVyTGltaXQpe2NvbnN0IGU9dy5vZmZzZXRzLmdlb21ldHJ5LHQ9dy5jZW50cm9pZDtlLnB1c2goMCksdC5wdXNoKG4pLHQucHVzaChuKX0hUyYmdy5leGNlZWRlZFRyYW5zZmVyTGltaXQmJihTPSEwLHcub2Zmc2V0cy5hdHRyaWJ1dGVzPWM/bmV3IEZsb2F0NjRBcnJheSg4ZTMqbSk6bmV3IFVpbnQzMkFycmF5KDhlMyptKSk7bGV0IHM9eSptO2Zvcig7aC5wb3MoKTx0JiZoLm5leHQoKTspc3dpdGNoKGgudGFnKCkpe2Nhc2Ugazp7aWYoUyl3Lm9mZnNldHMuYXR0cmlidXRlc1tzKytdPWgucG9zKCk7ZWxzZXt3Lm9mZnNldHMuYXR0cmlidXRlcy5wdXNoKGgucG9zKCkpfWNvbnN0IGU9aC5nZXRMZW5ndGgoKTtoLnNraXBMZW4oZSk7YnJlYWt9Y2FzZSB4OmlmKGkpe2NvbnN0IGU9aC5nZXRMZW5ndGgoKSx0PWgucG9zKCkrZTtmb3IoO2gucG9zKCk8dCYmaC5uZXh0KCk7KXN3aXRjaChoLnRhZygpKXtjYXNlIEw6e2guZ2V0VUludDMyKCk7Y29uc3QgZT1oLmdldFNJbnQ2NCgpLHQ9aC5nZXRTSW50NjQoKTt3LmNlbnRyb2lkWzIqeV09ZSx3LmNlbnRyb2lkWzIqeSsxXT10O2JyZWFrfWRlZmF1bHQ6aC5za2lwKCl9fWVsc2V7dy5vZmZzZXRzLmdlb21ldHJ5W3ldPWgucG9zKCk7Y29uc3QgZT1oLmdldExlbmd0aCgpO3cudmVydGV4Q291bnQrPWUsaC5za2lwTGVuKGUpfWJyZWFrO2Nhc2UgSTp7Y29uc3QgZT1oLmdldExlbmd0aCgpLHQ9aC5wb3MoKStlO2Zvcig7aC5wb3MoKTx0JiZoLm5leHQoKTspc3dpdGNoKGgudGFnKCkpe2Nhc2UgTDp7aC5nZXRVSW50MzIoKTtjb25zdCBlPWguZ2V0U0ludDY0KCksdD1oLmdldFNJbnQ2NCgpO3cuY2VudHJvaWRbMip5XT1lLHcuY2VudHJvaWRbMip5KzFdPXQ7YnJlYWt9ZGVmYXVsdDpoLnNraXAoKX1icmVha31kZWZhdWx0Omguc2tpcCgpfXkrKyx3Lmhhc0ZlYXR1cmVzPSEwO2JyZWFrfWRlZmF1bHQ6aC5za2lwKCl9Y29uc3QgVT1BfHxGO2lmKCFVKXRocm93IG5ldyBlKFwiRmVhdHVyZVNldCBoYXMgbm8gb2JqZWN0SWQgb3IgZ2xvYmFsSWQgZmllbGQgbmFtZVwiKTtyZXR1cm4gdy5maWVsZHM9bmV3IHQoaiksdy5mZWF0dXJlQ291bnQ9eSx3LmZpZWxkQ291bnQ9bSx3Lm9iamVjdElkRmllbGRJbmRleD13LmZpZWxkcy5nZXQoVSk/LmluZGV4LHcudHJhbnNmb3JtPUMsdy5kaXNwbGF5SWRzPW5ldyBVaW50MzJBcnJheSh3LmZlYXR1cmVDb3VudCksdy5ncm91cElkcz1uZXcgVWludDE2QXJyYXkody5mZWF0dXJlQ291bnQpLGgubW92ZShiKSx3fWV4cG9ydHtvIGFzIEZlYXR1cmVTZXRIZWFkZXIsYSBhcyBwYXJzZUhlYWRlcn07XG4iLCIvKlxuQWxsIG1hdGVyaWFsIGNvcHlyaWdodCBFU1JJLCBBbGwgUmlnaHRzIFJlc2VydmVkLCB1bmxlc3Mgb3RoZXJ3aXNlIHNwZWNpZmllZC5cblNlZSBodHRwczovL2pzLmFyY2dpcy5jb20vNC4yNy9lc3JpL2NvcHlyaWdodC50eHQgZm9yIGRldGFpbHMuXG4qL1xuaW1wb3J0e0ZlYXR1cmVTZXRSZWFkZXIgYXMgZX1mcm9tXCIuL0ZlYXR1cmVTZXRSZWFkZXIuanNcIjtjbGFzcyByIGV4dGVuZHMgZXtzdGF0aWMgZnJvbShlLHQpe3JldHVybiBuZXcgcihlLmNvcHkoKSx0KX1jb25zdHJ1Y3RvcihyLHQpe3N1cGVyKGUuY3JlYXRlSW5zdGFuY2UoKSxyLmZ1bGxTY2hlbWEoKSksdGhpcy5fY3VycmVudEluZGV4PS0xLHRoaXMuX3JlYWRlcj1yLHRoaXMuX2luZGljZXM9dH1nZXQgZmllbGRzKCl7cmV0dXJuIHRoaXMuX3JlYWRlci5maWVsZHN9Z2V0IGhhc05leHQoKXtyZXR1cm4gdGhpcy5fY3VycmVudEluZGV4KzE8dGhpcy5faW5kaWNlcy5sZW5ndGh9Z2V0U2l6ZSgpe3JldHVybiB0aGlzLl9pbmRpY2VzLmxlbmd0aH1nZXRDdXJzb3IoKXtyZXR1cm4gdGhpcy5jb3B5KCl9Y29weSgpe2NvbnN0IGU9bmV3IHIodGhpcy5fcmVhZGVyLmNvcHkoKSx0aGlzLl9pbmRpY2VzKTtyZXR1cm4gZS5fY3VycmVudEluZGV4PXRoaXMuX2N1cnJlbnRJbmRleCxlfW5leHQoKXtmb3IoO3RoaXMuX25leHRJbmRleCgpJiYhdGhpcy5fcmVhZGVyLl9nZXRFeGlzdHMoKTspO3JldHVybiB0aGlzLl9jdXJyZW50SW5kZXg8dGhpcy5faW5kaWNlcy5sZW5ndGh9X25leHRJbmRleCgpe3JldHVybisrdGhpcy5fY3VycmVudEluZGV4PHRoaXMuX2luZGljZXMubGVuZ3RoJiYodGhpcy5fcmVhZGVyLnNldEluZGV4KHRoaXMuX2luZGljZXNbdGhpcy5fY3VycmVudEluZGV4XSksITApfXNldEFyY2FkZVNwYXRpYWxSZWZlcmVuY2UoZSl7dGhpcy5fcmVhZGVyLnNldEFyY2FkZVNwYXRpYWxSZWZlcmVuY2UoZSl9YXR0YWNoU3RvcmFnZShlKXt0aGlzLl9yZWFkZXIuYXR0YWNoU3RvcmFnZShlKX1nZXQgZ2VvbWV0cnlUeXBlKCl7cmV0dXJuIHRoaXMuX3JlYWRlci5nZW9tZXRyeVR5cGV9Z2V0IGhhc0ZlYXR1cmVzKCl7cmV0dXJuIHRoaXMuX3JlYWRlci5oYXNGZWF0dXJlc31nZXQgZXhjZWVkZWRUcmFuc2ZlckxpbWl0KCl7cmV0dXJuIHRoaXMuX3JlYWRlci5leGNlZWRlZFRyYW5zZmVyTGltaXR9Z2V0IGhhc1ooKXtyZXR1cm4gdGhpcy5fcmVhZGVyLmhhc1p9Z2V0IGhhc00oKXtyZXR1cm4gdGhpcy5fcmVhZGVyLmhhc019Z2V0U3RvcmFnZSgpe3JldHVybiB0aGlzLl9yZWFkZXIuZ2V0U3RvcmFnZSgpfWdldENvbXB1dGVkTnVtZXJpYyhlKXtyZXR1cm4gdGhpcy5fcmVhZGVyLmdldENvbXB1dGVkTnVtZXJpY0F0SW5kZXgoMCl9c2V0Q29tcHV0ZWROdW1lcmljKGUscil7cmV0dXJuIHRoaXMuX3JlYWRlci5zZXRDb21wdXRlZE51bWVyaWNBdEluZGV4KHIsMCl9Z2V0Q29tcHV0ZWRTdHJpbmcoZSl7cmV0dXJuIHRoaXMuX3JlYWRlci5nZXRDb21wdXRlZFN0cmluZ0F0SW5kZXgoMCl9c2V0Q29tcHV0ZWRTdHJpbmcoZSxyKXtyZXR1cm4gdGhpcy5fcmVhZGVyLnNldENvbXB1dGVkU3RyaW5nQXRJbmRleCgwLHIpfWdldENvbXB1dGVkTnVtZXJpY0F0SW5kZXgoZSl7cmV0dXJuIHRoaXMuX3JlYWRlci5nZXRDb21wdXRlZE51bWVyaWNBdEluZGV4KGUpfXNldENvbXB1dGVkTnVtZXJpY0F0SW5kZXgoZSxyKXt0aGlzLl9yZWFkZXIuc2V0Q29tcHV0ZWROdW1lcmljQXRJbmRleChlLHIpfWdldENvbXB1dGVkU3RyaW5nQXRJbmRleChlKXtyZXR1cm4gdGhpcy5fcmVhZGVyLmdldENvbXB1dGVkU3RyaW5nQXRJbmRleChlKX1zZXRDb21wdXRlZFN0cmluZ0F0SW5kZXgoZSxyKXtyZXR1cm4gdGhpcy5fcmVhZGVyLnNldENvbXB1dGVkU3RyaW5nQXRJbmRleChlLHIpfXRyYW5zZm9ybShlLHIsdCxkKXtjb25zdCBhPXRoaXMuY29weSgpO3JldHVybiBhLl9yZWFkZXI9dGhpcy5fcmVhZGVyLnRyYW5zZm9ybShlLHIsdCxkKSxhfXJlYWRBdHRyaWJ1dGUoZSxyPSExKXtyZXR1cm4gdGhpcy5fcmVhZGVyLnJlYWRBdHRyaWJ1dGUoZSxyKX1yZWFkQXR0cmlidXRlcygpe3JldHVybiB0aGlzLl9yZWFkZXIucmVhZEF0dHJpYnV0ZXMoKX1qb2luQXR0cmlidXRlcyhlKXtyZXR1cm4gdGhpcy5fcmVhZGVyLmpvaW5BdHRyaWJ1dGVzKGUpfXJlYWRBcmNhZGVGZWF0dXJlKCl7cmV0dXJuIHRoaXMuX3JlYWRlci5yZWFkQXJjYWRlRmVhdHVyZSgpfWdlb21ldHJ5KCl7cmV0dXJuIHRoaXMuX3JlYWRlci5nZW9tZXRyeSgpfWZpZWxkKGUpe3JldHVybiB0aGlzLnJlYWRBdHRyaWJ1dGUoZSwhMCl9aGFzRmllbGQoZSl7cmV0dXJuIHRoaXMuX3JlYWRlci5oYXNGaWVsZChlKX1zZXRGaWVsZChlLHIpe3JldHVybiB0aGlzLl9yZWFkZXIuc2V0RmllbGQoZSxyKX1rZXlzKCl7cmV0dXJuIHRoaXMuX3JlYWRlci5rZXlzKCl9Y2FzdFRvVGV4dChlPSExKXtyZXR1cm4gdGhpcy5fcmVhZGVyLmNhc3RUb1RleHQoZSl9Z2V0UXVhbnRpemF0aW9uVHJhbnNmb3JtKCl7cmV0dXJuIHRoaXMuX3JlYWRlci5nZXRRdWFudGl6YXRpb25UcmFuc2Zvcm0oKX1nZXRBdHRyaWJ1dGVIYXNoKCl7cmV0dXJuIHRoaXMuX3JlYWRlci5nZXRBdHRyaWJ1dGVIYXNoKCl9Z2V0T2JqZWN0SWQoKXtyZXR1cm4gdGhpcy5fcmVhZGVyLmdldE9iamVjdElkKCl9Z2V0RGlzcGxheUlkKCl7cmV0dXJuIHRoaXMuX3JlYWRlci5nZXREaXNwbGF5SWQoKX1zZXREaXNwbGF5SWQoZSl7cmV0dXJuIHRoaXMuX3JlYWRlci5zZXREaXNwbGF5SWQoZSl9Z2V0R3JvdXBJZCgpe3JldHVybiB0aGlzLl9yZWFkZXIuZ2V0R3JvdXBJZCgpfXNldEdyb3VwSWQoZSl7cmV0dXJuIHRoaXMuX3JlYWRlci5zZXRHcm91cElkKGUpfWdldFhIeWRyYXRlZCgpe3JldHVybiB0aGlzLl9yZWFkZXIuZ2V0WEh5ZHJhdGVkKCl9Z2V0WUh5ZHJhdGVkKCl7cmV0dXJuIHRoaXMuX3JlYWRlci5nZXRZSHlkcmF0ZWQoKX1nZXRYKCl7cmV0dXJuIHRoaXMuX3JlYWRlci5nZXRYKCl9Z2V0WSgpe3JldHVybiB0aGlzLl9yZWFkZXIuZ2V0WSgpfXNldEluZGV4KGUpe3JldHVybiB0aGlzLl9yZWFkZXIuc2V0SW5kZXgoZSl9Z2V0SW5kZXgoKXtyZXR1cm4gdGhpcy5fcmVhZGVyLmdldEluZGV4KCl9cmVhZExlZ2FjeUZlYXR1cmUoKXtyZXR1cm4gdGhpcy5fcmVhZGVyLnJlYWRMZWdhY3lGZWF0dXJlKCl9cmVhZE9wdGltaXplZEZlYXR1cmUoKXtyZXR1cm4gdGhpcy5fcmVhZGVyLnJlYWRPcHRpbWl6ZWRGZWF0dXJlKCl9cmVhZExlZ2FjeVBvaW50R2VvbWV0cnkoKXtyZXR1cm4gdGhpcy5fcmVhZGVyLnJlYWRMZWdhY3lQb2ludEdlb21ldHJ5KCl9cmVhZExlZ2FjeUdlb21ldHJ5KCl7cmV0dXJuIHRoaXMuX3JlYWRlci5yZWFkTGVnYWN5R2VvbWV0cnkoKX1yZWFkTGVnYWN5Q2VudHJvaWQoKXtyZXR1cm4gdGhpcy5fcmVhZGVyLnJlYWRMZWdhY3lDZW50cm9pZCgpfXJlYWRHZW9tZXRyeUFyZWEoKXtyZXR1cm4gdGhpcy5fcmVhZGVyLnJlYWRHZW9tZXRyeUFyZWEoKX1yZWFkVW5xdWFudGl6ZWRHZW9tZXRyeSgpe3JldHVybiB0aGlzLl9yZWFkZXIucmVhZFVucXVhbnRpemVkR2VvbWV0cnkoKX1yZWFkSHlkcmF0ZWRHZW9tZXRyeSgpe3JldHVybiB0aGlzLl9yZWFkZXIucmVhZEh5ZHJhdGVkR2VvbWV0cnkoKX1yZWFkR2VvbWV0cnkoKXtyZXR1cm4gdGhpcy5fcmVhZGVyLnJlYWRHZW9tZXRyeSgpfXJlYWRDZW50cm9pZCgpe3JldHVybiB0aGlzLl9yZWFkZXIucmVhZENlbnRyb2lkKCl9X3JlYWRBdHRyaWJ1dGUoZSxyKXt0aHJvdyBuZXcgRXJyb3IoXCJFcnJvcjogU2hvdWxkIG5vdCBiZSBjYWxsZWQuIFVuZGVybHlpbmcgX3JlYWRlciBzaG91bGQgYmUgdXNlZCBpbnN0ZWFkXCIpfV9yZWFkQXR0cmlidXRlcygpe3Rocm93IG5ldyBFcnJvcihcIkVycm9yOiBTaG91bGQgbm90IGJlIGNhbGxlZC4gVW5kZXJseWluZyBfcmVhZGVyIHNob3VsZCBiZSB1c2VkIGluc3RlYWRcIil9fWV4cG9ydHtyIGFzIEZlYXR1cmVTZXRSZWFkZXJJbmRpcmVjdH07XG4iLCIvKlxuQWxsIG1hdGVyaWFsIGNvcHlyaWdodCBFU1JJLCBBbGwgUmlnaHRzIFJlc2VydmVkLCB1bmxlc3Mgb3RoZXJ3aXNlIHNwZWNpZmllZC5cblNlZSBodHRwczovL2pzLmFyY2dpcy5jb20vNC4yNy9lc3JpL2NvcHlyaWdodC50eHQgZm9yIGRldGFpbHMuXG4qL1xuY2xhc3MgdHtzdGF0aWMgZnJvbUJ1ZmZlcihlLHMpe3JldHVybiBuZXcgdChlLHMpfXN0YXRpYyBjcmVhdGUoZSxzPTQyOTQ5NjcyOTUpe2NvbnN0IHI9bmV3IFVpbnQzMkFycmF5KE1hdGguY2VpbChlLzMyKSk7cmV0dXJuIG5ldyB0KHIscyl9Y29uc3RydWN0b3IodCxlKXt0aGlzLl9tYXNrPTAsdGhpcy5fYnVmPXQsdGhpcy5fbWFzaz1lfV9nZXRJbmRleCh0KXtyZXR1cm4gTWF0aC5mbG9vcih0LzMyKX1oYXModCl7Y29uc3QgZT10aGlzLl9tYXNrJnQ7cmV0dXJuISEodGhpcy5fYnVmW3RoaXMuX2dldEluZGV4KGUpXSYxPDxlJTMyKX1oYXNSYW5nZSh0LGUpe2xldCBzPXQscj1lO2Zvcig7cyUzMiYmcyE9PXI7KXtpZih0aGlzLmhhcyhzKSlyZXR1cm4hMDtzKyt9Zm9yKDtyJTMyJiZzIT09cjspe2lmKHRoaXMuaGFzKHMpKXJldHVybiEwO3ItLX1pZihzPT09cilyZXR1cm4hMTtmb3IobGV0IGg9cy8zMjtoIT09ci8zMjtoKyspe2lmKHRoaXMuX2J1ZltoXSlyZXR1cm4hMH1yZXR1cm4hMX1zZXQodCl7Y29uc3QgZT10aGlzLl9tYXNrJnQscz10aGlzLl9nZXRJbmRleChlKSxyPTE8PGUlMzI7dGhpcy5fYnVmW3NdfD1yfXNldFJhbmdlKHQsZSl7bGV0IHM9dCxyPWU7Zm9yKDtzJTMyJiZzIT09cjspdGhpcy5zZXQocysrKTtmb3IoO3IlMzImJnMhPT1yOyl0aGlzLnNldChyLS0pO2lmKHMhPT1yKWZvcihsZXQgaD1zLzMyO2ghPT1yLzMyO2grKyl0aGlzLl9idWZbaF09NDI5NDk2NzI5NX11bnNldCh0KXtjb25zdCBlPXRoaXMuX21hc2smdCxzPXRoaXMuX2dldEluZGV4KGUpLHI9MTw8ZSUzMjt0aGlzLl9idWZbc10mPTQyOTQ5NjcyOTVecn1yZXNpemUodCl7Y29uc3QgZT10aGlzLl9idWYscz1uZXcgVWludDMyQXJyYXkoTWF0aC5jZWlsKHQvMzIpKTtzLnNldChlKSx0aGlzLl9idWY9c31vcih0KXtmb3IobGV0IGU9MDtlPHRoaXMuX2J1Zi5sZW5ndGg7ZSsrKXRoaXMuX2J1ZltlXXw9dC5fYnVmW2VdO3JldHVybiB0aGlzfWFuZCh0KXtmb3IobGV0IGU9MDtlPHRoaXMuX2J1Zi5sZW5ndGg7ZSsrKXRoaXMuX2J1ZltlXSY9dC5fYnVmW2VdO3JldHVybiB0aGlzfXhvcih0KXtmb3IobGV0IGU9MDtlPHRoaXMuX2J1Zi5sZW5ndGg7ZSsrKXRoaXMuX2J1ZltlXV49dC5fYnVmW2VdO3JldHVybiB0aGlzfWlvcih0KXtmb3IobGV0IGU9MDtlPHRoaXMuX2J1Zi5sZW5ndGg7ZSsrKXRoaXMuX2J1ZltlXXw9fnQuX2J1ZltlXTtyZXR1cm4gdGhpc31pYW5kKHQpe2ZvcihsZXQgZT0wO2U8dGhpcy5fYnVmLmxlbmd0aDtlKyspdGhpcy5fYnVmW2VdJj1+dC5fYnVmW2VdO3JldHVybiB0aGlzfWl4b3IodCl7Zm9yKGxldCBlPTA7ZTx0aGlzLl9idWYubGVuZ3RoO2UrKyl0aGlzLl9idWZbZV1ePX50Ll9idWZbZV07cmV0dXJuIHRoaXN9YW55KCl7Zm9yKGxldCB0PTA7dDx0aGlzLl9idWYubGVuZ3RoO3QrKylpZih0aGlzLl9idWZbdF0pcmV0dXJuITA7cmV0dXJuITF9Y29weSh0KXtmb3IobGV0IGU9MDtlPHRoaXMuX2J1Zi5sZW5ndGg7ZSsrKXRoaXMuX2J1ZltlXT10Ll9idWZbZV07cmV0dXJuIHRoaXN9Y2xvbmUoKXtyZXR1cm4gbmV3IHQodGhpcy5fYnVmLnNsaWNlKCksdGhpcy5fbWFzayl9Y2xlYXIoKXtmb3IobGV0IHQ9MDt0PHRoaXMuX2J1Zi5sZW5ndGg7dCsrKXRoaXMuX2J1Zlt0XT0wfWZvckVhY2hTZXQodCl7Zm9yKGxldCBlPTA7ZTx0aGlzLl9idWYubGVuZ3RoO2UrKyl7bGV0IHM9dGhpcy5fYnVmW2VdLHI9MzIqZTtpZihzKWZvcig7czspezEmcyYmdChyKSxzPj4+PTEscisrfX19Y291bnRTZXQoKXtsZXQgdD0wO3JldHVybiB0aGlzLmZvckVhY2hTZXQoKGU9Pnt0Kyt9KSksdH19ZXhwb3J0e3QgYXMgU3RhdGljQml0U2V0fTtcbiIsIi8qXG5BbGwgbWF0ZXJpYWwgY29weXJpZ2h0IEVTUkksIEFsbCBSaWdodHMgUmVzZXJ2ZWQsIHVubGVzcyBvdGhlcndpc2Ugc3BlY2lmaWVkLlxuU2VlIGh0dHBzOi8vanMuYXJjZ2lzLmNvbS80LjI3L2VzcmkvY29weXJpZ2h0LnR4dCBmb3IgZGV0YWlscy5cbiovXG5pbXBvcnQgdCBmcm9tXCIuLi8uLi8uLi8uLi8uLi9jb3JlL0FycmF5UG9vbC5qc1wiO2ltcG9ydCBlIGZyb21cIi4uLy4uLy4uLy4uLy4uL2dlb21ldHJ5L0V4dGVudC5qc1wiO2ltcG9ydHtjcmVhdGUgYXMgaX1mcm9tXCIuLi8uLi8uLi8uLi8uLi9nZW9tZXRyeS9zdXBwb3J0L2FhQm91bmRpbmdSZWN0LmpzXCI7aW1wb3J0IHMgZnJvbVwiLi4vLi4vLi4vLi4vLi4vcmVzdC9zdXBwb3J0L1F1YW50aXphdGlvblBhcmFtZXRlcnMuanNcIjtpbXBvcnQgbyBmcm9tXCIuLi8uLi8uLi90aWxpbmcvVGlsZUtleS5qc1wiO2NsYXNzIG57Y29uc3RydWN0b3IodCxlKXt0aGlzLmtleT1uZXcgbygwLDAsMCwwKSx0aGlzLmJvdW5kcz1pKCksdGhpcy5vYmplY3RJZHM9bmV3IFNldCx0aGlzLmtleS5zZXQoZSk7Y29uc3Qgcz10LmdldExPREluZm9BdCh0aGlzLmtleSk7dGhpcy50aWxlSW5mb1ZpZXc9dCx0aGlzLnRpbGVJbmZvVmlldy5nZXRUaWxlQm91bmRzKHRoaXMuYm91bmRzLHRoaXMua2V5LCEwKSx0aGlzLnJlc29sdXRpb249cy5yZXNvbHV0aW9uLHRoaXMuc2NhbGU9cy5zY2FsZSx0aGlzLmxldmVsPXMubGV2ZWx9Z2V0IGlkKCl7cmV0dXJuIHRoaXMua2V5LmlkfWdldCBleHRlbnQoKXtyZXR1cm4gZS5mcm9tQm91bmRzKHRoaXMuYm91bmRzLHRoaXMudGlsZUluZm9WaWV3LnRpbGVJbmZvLnNwYXRpYWxSZWZlcmVuY2UpfWdldCB0cmFuc2Zvcm0oKXtyZXR1cm57b3JpZ2luUG9zaXRpb246XCJ1cHBlckxlZnRcIixzY2FsZTpbdGhpcy5yZXNvbHV0aW9uLHRoaXMucmVzb2x1dGlvbl0sdHJhbnNsYXRlOlt0aGlzLmJvdW5kc1swXSx0aGlzLmJvdW5kc1szXV19fWNyZWF0ZUNoaWxkVGlsZXMoKXtjb25zdCBlPXRoaXMua2V5LmdldENoaWxkS2V5cygpLGk9dC5hY3F1aXJlKCk7Zm9yKGxldCB0PTA7dDxlLmxlbmd0aDt0KyspaVt0XT1uZXcgbih0aGlzLnRpbGVJbmZvVmlldyxlW3RdKTtyZXR1cm4gaX1nZXRRdWFudGl6YXRpb25QYXJhbWV0ZXJzKCl7cmV0dXJuIHMuZnJvbUpTT04oe21vZGU6XCJ2aWV3XCIsb3JpZ2luUG9zaXRpb246XCJ1cHBlckxlZnRcIix0b2xlcmFuY2U6dGhpcy5yZXNvbHV0aW9uLGV4dGVudDp7eG1pbjp0aGlzLmJvdW5kc1swXSx5bWluOnRoaXMuYm91bmRzWzFdLHhtYXg6dGhpcy5ib3VuZHNbMl0seW1heDp0aGlzLmJvdW5kc1szXSxzcGF0aWFsUmVmZXJlbmNlOnRoaXMudGlsZUluZm9WaWV3LnRpbGVJbmZvLnNwYXRpYWxSZWZlcmVuY2V9fSl9fWV4cG9ydHtuIGFzIFRpbGV9O1xuIiwiLypcbkFsbCBtYXRlcmlhbCBjb3B5cmlnaHQgRVNSSSwgQWxsIFJpZ2h0cyBSZXNlcnZlZCwgdW5sZXNzIG90aGVyd2lzZSBzcGVjaWZpZWQuXG5TZWUgaHR0cHM6Ly9qcy5hcmNnaXMuY29tLzQuMjcvZXNyaS9jb3B5cmlnaHQudHh0IGZvciBkZXRhaWxzLlxuKi9cbmltcG9ydCBlIGZyb21cIi4uLy4uLy4uLy4uLy4uL2NvcmUvRXZlbnRlZC5qc1wiO2ltcG9ydCBoYXMgZnJvbVwiLi4vLi4vLi4vLi4vLi4vY29yZS9oYXMuanNcIjtpbXBvcnR7ciBhcyB0fWZyb21cIi4uLy4uLy4uLy4uLy4uL2NodW5rcy9yYnVzaC5qc1wiO2ltcG9ydHtUaWxlIGFzIHN9ZnJvbVwiLi9UaWxlLmpzXCI7aW1wb3J0IGkgZnJvbVwiLi4vLi4vLi4vdGlsaW5nL1RpbGVDb3ZlcmFnZS5qc1wiO2ltcG9ydCBvIGZyb21cIi4uLy4uLy4uL3RpbGluZy9UaWxlS2V5LmpzXCI7Y29uc3QgaD17YWRkZWQ6W10scmVtb3ZlZDpbXX0sbj1uZXcgU2V0LHI9bmV3IG8oMCwwLDAsMCk7Y2xhc3MgZCBleHRlbmRzIGV7Y29uc3RydWN0b3IoZSl7c3VwZXIoKSx0aGlzLl90aWxlcz1uZXcgTWFwLHRoaXMuX2luZGV4PXQoOSxoYXMoXCJlc3JpLWNzcC1yZXN0cmljdGlvbnNcIik/ZT0+KHttaW5YOmUuYm91bmRzWzBdLG1pblk6ZS5ib3VuZHNbMV0sbWF4WDplLmJvdW5kc1syXSxtYXhZOmUuYm91bmRzWzNdfSk6W1wiLmJvdW5kc1swXVwiLFwiLmJvdW5kc1sxXVwiLFwiLmJvdW5kc1syXVwiLFwiLmJvdW5kc1szXVwiXSksdGhpcy50aWxlcz1bXSx0aGlzLnRpbGVTY2hlbWU9ZX1kZXN0cm95KCl7dGhpcy5jbGVhcigpfWNsZWFyKCl7dGhpcy50aWxlcy5sZW5ndGg9MCx0aGlzLl90aWxlcy5jbGVhcigpLHRoaXMuX2luZGV4LmNsZWFyKCl9aGFzKGUpe3JldHVybiB0aGlzLl90aWxlcy5oYXMoZSl9Z2V0KGUpe3JldHVybiB0aGlzLl90aWxlcy5nZXQoZSl9Ym91bmRzSW50ZXJzZWN0aW9ucyhlKXtyZXR1cm4gdGhpcy5faW5kZXguc2VhcmNoKHttaW5YOmVbMF0sbWluWTplWzFdLG1heFg6ZVsyXSxtYXhZOmVbM119KX11cGRhdGVUaWxlcyhlKXtjb25zdCB0PXthZGRlZDpbXSxyZW1vdmVkOltdfTtmb3IoY29uc3QgaSBvZiBlLmFkZGVkKWlmKCF0aGlzLmhhcyhpKSl7Y29uc3QgZT1uZXcgcyh0aGlzLnRpbGVTY2hlbWUsaSk7dGhpcy5fdGlsZXMuc2V0KGksZSksdGhpcy5faW5kZXguaW5zZXJ0KGUpLHQuYWRkZWQucHVzaChlKX1mb3IoY29uc3QgcyBvZiBlLnJlbW92ZWQpaWYodGhpcy5oYXMocykpe2NvbnN0IGU9dGhpcy5nZXQocyk7dGhpcy5fdGlsZXMuZGVsZXRlKHMpLHRoaXMuX2luZGV4LnJlbW92ZShlKSx0LnJlbW92ZWQucHVzaChlKX10aGlzLnRpbGVzLmxlbmd0aD0wLHRoaXMuX3RpbGVzLmZvckVhY2goKGU9PnRoaXMudGlsZXMucHVzaChlKSkpLCh0LmFkZGVkLmxlbmd0aHx8dC5yZW1vdmVkLmxlbmd0aCkmJnRoaXMuZW1pdChcInVwZGF0ZVwiLHQpfXNldFZpZXdTdGF0ZShlKXtjb25zdCB0PXRoaXMudGlsZVNjaGVtZS5nZXRUaWxlQ292ZXJhZ2UoZSwwKTtpZighdClyZXR1cm47Y29uc3R7c3BhbnM6byxsb2RJbmZvOmR9PXQse2xldmVsOmx9PWQ7aWYoby5sZW5ndGg+MClmb3IoY29uc3R7cm93OmksY29sRnJvbTphLGNvbFRvOm19b2Ygbylmb3IobGV0IGU9YTtlPD1tO2UrKyl7Y29uc3QgdD1yLnNldChsLGksZC5ub3JtYWxpemVDb2woZSksZC5nZXRXb3JsZEZvckNvbHVtbihlKSkuaWQ7aWYobi5hZGQodCksIXRoaXMuaGFzKHQpKXtjb25zdCBlPW5ldyBzKHRoaXMudGlsZVNjaGVtZSx0KTt0aGlzLl90aWxlcy5zZXQodCxlKSx0aGlzLl9pbmRleC5pbnNlcnQoZSksdGhpcy50aWxlcy5wdXNoKGUpLGguYWRkZWQucHVzaChlKX19Zm9yKGxldCBzPXRoaXMudGlsZXMubGVuZ3RoLTE7cz49MDtzLS0pe2NvbnN0IGU9dGhpcy50aWxlc1tzXTtuLmhhcyhlLmlkKXx8KHRoaXMuX3RpbGVzLmRlbGV0ZShlLmlkKSx0aGlzLnRpbGVzLnNwbGljZShzLDEpLHRoaXMuX2luZGV4LnJlbW92ZShlKSxoLnJlbW92ZWQucHVzaChlKSl9KGguYWRkZWQubGVuZ3RofHxoLnJlbW92ZWQubGVuZ3RoKSYmdGhpcy5lbWl0KFwidXBkYXRlXCIsaCksaS5wb29sLnJlbGVhc2UodCksbi5jbGVhcigpLGguYWRkZWQubGVuZ3RoPTAsaC5yZW1vdmVkLmxlbmd0aD0wfX1leHBvcnR7ZCBhcyBkZWZhdWx0fTtcbiIsIi8qXG5BbGwgbWF0ZXJpYWwgY29weXJpZ2h0IEVTUkksIEFsbCBSaWdodHMgUmVzZXJ2ZWQsIHVubGVzcyBvdGhlcndpc2Ugc3BlY2lmaWVkLlxuU2VlIGh0dHBzOi8vanMuYXJjZ2lzLmNvbS80LjI3L2VzcmkvY29weXJpZ2h0LnR4dCBmb3IgZGV0YWlscy5cbiovXG5jbGFzcyB0e2NvbnN0cnVjdG9yKCl7dGhpcy52ZXJzaW9uPTAsdGhpcy5zb3VyY2U9ITEsdGhpcy50YXJnZXRzPXtmZWF0dXJlOiExLGFnZ3JlZ2F0ZTohMX0sdGhpcy5zdG9yYWdlPXtmaWx0ZXJzOiExLGRhdGE6ITF9LHRoaXMubWVzaD0hMSx0aGlzLnF1ZXJ5RmlsdGVyPSExLHRoaXMud2h5PXttZXNoOltdLHNvdXJjZTpbXX19c3RhdGljIGNyZWF0ZShlKXtjb25zdCBzPW5ldyB0O2xldCByO2ZvcihyIGluIGUpe2NvbnN0IHQ9ZVtyXTtpZihcIm9iamVjdFwiPT10eXBlb2YgdClmb3IoY29uc3QgZSBpbiB0KXtjb25zdCBhPWUsaT10W2FdO3Nbcl1bYV09aX1zW3JdPXR9cmV0dXJuIHN9c3RhdGljIGVtcHR5KCl7cmV0dXJuIHQuY3JlYXRlKHt9KX1zdGF0aWMgYWxsKCl7cmV0dXJuIHQuY3JlYXRlKHtzb3VyY2U6ITAsdGFyZ2V0czp7ZmVhdHVyZTohMCxhZ2dyZWdhdGU6ITB9LHN0b3JhZ2U6e2ZpbHRlcnM6ITAsZGF0YTohMH0sbWVzaDohMH0pfXVuc2V0KHQpe3RoaXMudmVyc2lvbj10LnZlcnNpb24sdC5zb3VyY2UmJih0aGlzLnNvdXJjZT0hMSksdC50YXJnZXRzLmZlYXR1cmUmJih0aGlzLnRhcmdldHMuZmVhdHVyZT0hMSksdC50YXJnZXRzLmFnZ3JlZ2F0ZSYmKHRoaXMudGFyZ2V0cy5hZ2dyZWdhdGU9ITEpLHQuc3RvcmFnZS5maWx0ZXJzJiYodGhpcy5zdG9yYWdlLmZpbHRlcnM9ITEpLHQuc3RvcmFnZS5kYXRhJiYodGhpcy5zdG9yYWdlLmRhdGE9ITEpLHQubWVzaCYmKHRoaXMubWVzaD0hMSksdC5xdWVyeUZpbHRlciYmKHRoaXMucXVlcnlGaWx0ZXI9ITEpfWFueSgpe3JldHVybiB0aGlzLnNvdXJjZXx8dGhpcy5tZXNofHx0aGlzLnN0b3JhZ2UuZmlsdGVyc3x8dGhpcy5zdG9yYWdlLmRhdGF8fHRoaXMudGFyZ2V0cy5mZWF0dXJlfHx0aGlzLnRhcmdldHMuYWdncmVnYXRlfHx0aGlzLnF1ZXJ5RmlsdGVyfWRlc2NyaWJlKCl7bGV0IHQ9MCxlPVwiXCI7aWYodGhpcy5tZXNoKXt0Kz0yMCxlKz1cIi0+ICgyMCkgTWVzaCBuZWVkcyB1cGRhdGVcXG5cIjtmb3IoY29uc3QgdCBvZiB0aGlzLndoeS5tZXNoKWUrPWAgICAgKyAke3R9XFxuYH1pZih0aGlzLnNvdXJjZSl7dCs9MTAsZSs9XCItPiAoMTApIFRoZSBzb3VyY2UgbmVlZHMgdXBkYXRlXFxuXCI7Zm9yKGNvbnN0IHQgb2YgdGhpcy53aHkuc291cmNlKWUrPWAgICAgKyAke3R9XFxuYH10aGlzLnRhcmdldHMuZmVhdHVyZSYmKHQrPTUsZSs9XCItPiAoNSkgRmVhdHVyZSB0YXJnZXQgcGFyYW1ldGVycyBjaGFuZ2VkXFxuXCIpLHRoaXMuc3RvcmFnZS5maWx0ZXJzJiYodCs9NSxlKz1cIi0+ICg1KSBGZWF0dXJlIGZpbHRlciBwYXJhbWV0ZXJzIGNoYW5nZWRcXG5cIiksdGhpcy50YXJnZXRzLmFnZ3JlZ2F0ZSYmKHQrPTQsZSs9XCItPiAoNCkgQWdncmVnYXRlIHRhcmdldCBwYXJhbWV0ZXJzIGNoYW5nZWRcXG5cIiksdGhpcy5zdG9yYWdlLmRhdGEmJih0Kz0xLGUrPVwiLT4gKDEpIFRleHR1cmUgc3RvcmFnZSBwYXJhbWV0ZXJzIGNoYW5nZWRcIik7Y29uc3Qgcz10PDU/XCJGYXN0ZXN0XCI6dDwxMD9cIkZhc3RcIjp0PDE1P1wiTW9kZXJhdGVcIjp0PDIwP1wiU2xvd1wiOlwiVmVyeSBTbG93XCI7Y29uc29sZS5kZWJ1ZyhgQXBwbHlpbmcgJHtzfSB1cGRhdGUgb2YgY29zdCAke3R9LzQ1IGApLGNvbnNvbGUuZGVidWcoZSl9dG9KU09OKCl7cmV0dXJue3F1ZXJ5RmlsdGVyOnRoaXMucXVlcnlGaWx0ZXIsc291cmNlOnRoaXMuc291cmNlLHRhcmdldHM6dGhpcy50YXJnZXRzLHN0b3JhZ2U6dGhpcy5zdG9yYWdlLG1lc2g6dGhpcy5tZXNofX19ZXhwb3J0e3QgYXMgVXBkYXRlVG9rZW59O1xuIiwiLypcbkFsbCBtYXRlcmlhbCBjb3B5cmlnaHQgRVNSSSwgQWxsIFJpZ2h0cyBSZXNlcnZlZCwgdW5sZXNzIG90aGVyd2lzZSBzcGVjaWZpZWQuXG5TZWUgaHR0cHM6Ly9qcy5hcmNnaXMuY29tLzQuMjcvZXNyaS9jb3B5cmlnaHQudHh0IGZvciBkZXRhaWxzLlxuKi9cbmltcG9ydHt0b1B0IGFzIGUscHQycHggYXMgdH1mcm9tXCIuLi8uLi8uLi8uLi8uLi8uLi9jb3JlL3NjcmVlblV0aWxzLmpzXCI7aW1wb3J0e3ByZW11bHRpcGx5QWxwaGEgYXMgc31mcm9tXCIuLi8uLi8uLi8uLi9lbmdpbmUvd2ViZ2wvY29sb3IuanNcIjtpbXBvcnR7TkFOX01BR0lDX05VTUJFUiBhcyBufWZyb21cIi4uLy4uLy4uLy4uL2VuZ2luZS93ZWJnbC9kZWZpbml0aW9ucy5qc1wiO2ltcG9ydHtXR0xWVkZsYWcgYXMgb31mcm9tXCIuLi8uLi8uLi8uLi9lbmdpbmUvd2ViZ2wvZW51bXMuanNcIjtpbXBvcnR7Z2V0VHlwZU9mU2l6ZVZpc3VhbFZhcmlhYmxlIGFzIGl9ZnJvbVwiLi4vLi4vLi4vLi4vZW5naW5lL3dlYmdsL3Zpc3VhbFZhcmlhYmxlc1V0aWxzLmpzXCI7ZnVuY3Rpb24gbChlLHQpe2lmKCFlfHwhdClyZXR1cm4gZTtzd2l0Y2godCl7Y2FzZVwicmFkaXVzXCI6Y2FzZVwiZGlzdGFuY2VcIjpyZXR1cm4gMiplO2Nhc2VcImRpYW1ldGVyXCI6Y2FzZVwid2lkdGhcIjpyZXR1cm4gZTtjYXNlXCJhcmVhXCI6cmV0dXJuIE1hdGguc3FydChlKX1yZXR1cm4gZX1mdW5jdGlvbiByKHQpe3JldHVybnt2YWx1ZTp0LnZhbHVlLHNpemU6ZSh0LnNpemUpfX1mdW5jdGlvbiBhKGUpe3JldHVybihlPz9bXSkubWFwKChlPT5yKGUpKSl9ZnVuY3Rpb24gdSh0KXtpZihcInN0cmluZ1wiPT10eXBlb2YgdHx8XCJudW1iZXJcIj09dHlwZW9mIHQpcmV0dXJuIGUodCk7Y29uc3Qgcz10O3JldHVybnt0eXBlOlwic2l6ZVwiLGV4cHJlc3Npb246cy5leHByZXNzaW9uLHN0b3BzOmEocy5zdG9wcyl9fWNvbnN0IHA9ZT0+e2NvbnN0IHM9W10sbz1bXSxpPWEoZSksbD1pLmxlbmd0aDtmb3IobGV0IHI9MDtyPDY7cisrKXtjb25zdCBlPWlbTWF0aC5taW4ocixsLTEpXTtzLnB1c2goZS52YWx1ZSksby5wdXNoKG51bGw9PWUuc2l6ZT9uOnQoZS5zaXplKSl9cmV0dXJue3ZhbHVlczpuZXcgRmxvYXQzMkFycmF5KHMpLHNpemVzOm5ldyBGbG9hdDMyQXJyYXkobyl9fTtmdW5jdGlvbiBjKGUpe2NvbnN0IHQ9ZSYmZS5sZW5ndGg+MD97fTpudWxsLHM9dD97fTpudWxsO2lmKCF0fHwhcylyZXR1cm57dnZGaWVsZHM6dCx2dlJhbmdlczpzfTtmb3IoY29uc3QgbiBvZiBlKWlmKG4uZmllbGQmJih0W24udHlwZV09bi5maWVsZCksXCJzaXplXCI9PT1uLnR5cGUpe3Muc2l6ZXx8KHMuc2l6ZT17fSk7Y29uc3QgZT1uO3N3aXRjaChpKGUpKXtjYXNlIG8uU0laRV9NSU5NQVhfVkFMVUU6cy5zaXplLm1pbk1heFZhbHVlPXttaW5EYXRhVmFsdWU6ZS5taW5EYXRhVmFsdWUsbWF4RGF0YVZhbHVlOmUubWF4RGF0YVZhbHVlLG1pblNpemU6dShlLm1pblNpemUpLG1heFNpemU6dShlLm1heFNpemUpfTticmVhaztjYXNlIG8uU0laRV9TQ0FMRV9TVE9QUzpzLnNpemUuc2NhbGVTdG9wcz17c3RvcHM6YShlLnN0b3BzKX07YnJlYWs7Y2FzZSBvLlNJWkVfRklFTERfU1RPUFM6aWYoZS5sZXZlbHMpe2NvbnN0IHQ9e307Zm9yKGNvbnN0IHMgaW4gZS5sZXZlbHMpdFtzXT1wKGUubGV2ZWxzW3NdKTtzLnNpemUuZmllbGRTdG9wcz17dHlwZTpcImxldmVsLWRlcGVuZGVudFwiLGxldmVsczp0fX1lbHNlIHMuc2l6ZS5maWVsZFN0b3BzPXt0eXBlOlwic3RhdGljXCIsLi4ucChlLnN0b3BzKX07YnJlYWs7Y2FzZSBvLlNJWkVfVU5JVF9WQUxVRTpzLnNpemUudW5pdFZhbHVlPXt1bml0OmUudmFsdWVVbml0LHZhbHVlUmVwcmVzZW50YXRpb246ZS52YWx1ZVJlcHJlc2VudGF0aW9uPz92b2lkIDB9fX1lbHNlIGlmKFwiY29sb3JcIj09PW4udHlwZSlzLmNvbG9yPW0obik7ZWxzZSBpZihcIm9wYWNpdHlcIj09PW4udHlwZSlzLm9wYWNpdHk9ZihuKTtlbHNlIGlmKFwicm90YXRpb25cIj09PW4udHlwZSl7Y29uc3QgZT1uO3Mucm90YXRpb249e3R5cGU6ZS5yb3RhdGlvblR5cGV9fXJldHVybnt2dkZpZWxkczp0LHZ2UmFuZ2VzOnN9fWZ1bmN0aW9uIGYoZSl7Y29uc3QgdD17dmFsdWVzOlswLDAsMCwwLDAsMCwwLDBdLG9wYWNpdGllczpbMCwwLDAsMCwwLDAsMCwwXX07aWYoXCJzdHJpbmdcIj09dHlwZW9mIGUuZmllbGQpe2lmKCFlLnN0b3BzKXJldHVybiBudWxsO3tpZihlLnN0b3BzLmxlbmd0aD44KXJldHVybiBudWxsO2NvbnN0IHM9ZS5zdG9wcztmb3IobGV0IGU9MDtlPDg7KytlKXtjb25zdCBuPXNbTWF0aC5taW4oZSxzLmxlbmd0aC0xKV07dC52YWx1ZXNbZV09bi52YWx1ZSx0Lm9wYWNpdGllc1tlXT1uLm9wYWNpdHl9fX1lbHNle2lmKCEoZS5zdG9wcyYmZS5zdG9wcy5sZW5ndGg+PTApKXJldHVybiBudWxsO3tjb25zdCBzPWUuc3RvcHMmJmUuc3RvcHMubGVuZ3RoPj0wP2Uuc3RvcHNbMF0ub3BhY2l0eTowO2ZvcihsZXQgZT0wO2U8ODtlKyspdC52YWx1ZXNbZV09MS8wLHQub3BhY2l0aWVzW2VdPXN9fXJldHVybiB0fWZ1bmN0aW9uIHYoZSx0LHMpe2VbNCp0XT1zLnIvMjU1LGVbNCp0KzFdPXMuZy8yNTUsZVs0KnQrMl09cy5iLzI1NSxlWzQqdCszXT1zLmF9ZnVuY3Rpb24gbShlKXtpZihudWxsPT1lKXJldHVybiBudWxsO2lmKGUubm9ybWFsaXphdGlvbkZpZWxkKXJldHVybiBudWxsO2NvbnN0IHQ9e2ZpZWxkOm51bGwsdmFsdWVzOlswLDAsMCwwLDAsMCwwLDBdLGNvbG9yczpbMCwwLDAsMCwwLDAsMCwwLDAsMCwwLDAsMCwwLDAsMCwwLDAsMCwwLDAsMCwwLDAsMCwwLDAsMCwwLDAsMCwwXX07aWYoXCJzdHJpbmdcIj09dHlwZW9mIGUuZmllbGQpe2lmKCFlLnN0b3BzKXJldHVybiBudWxsO3tpZihlLnN0b3BzLmxlbmd0aD44KXJldHVybiBudWxsO3QuZmllbGQ9ZS5maWVsZDtjb25zdCBzPWUuc3RvcHM7Zm9yKGxldCBlPTA7ZTw4OysrZSl7Y29uc3Qgbj1zW01hdGgubWluKGUscy5sZW5ndGgtMSldO3QudmFsdWVzW2VdPW4udmFsdWUsdih0LmNvbG9ycyxlLG4uY29sb3IpfX19ZWxzZXtpZighKGUuc3RvcHMmJmUuc3RvcHMubGVuZ3RoPj0wKSlyZXR1cm4gbnVsbDt7Y29uc3Qgcz1lLnN0b3BzJiZlLnN0b3BzLmxlbmd0aD49MCYmZS5zdG9wc1swXS5jb2xvcjtmb3IobGV0IGU9MDtlPDg7ZSsrKXQudmFsdWVzW2VdPTEvMCx2KHQuY29sb3JzLGUscyl9fWZvcihsZXQgbj0wO248MzI7bis9NClzKHQuY29sb3JzLG4sITApO3JldHVybiB0fWV4cG9ydHttIGFzIGNvbnZlcnRDb2xvclZhcmlhYmxlLGMgYXMgY29udmVydFZpc3VhbFZhcmlhYmxlcyxsIGFzIGdldFZpc3VhbFZhcmlhYmxlU2l6ZVZhbHVlUmVwcmVzZW50YXRpb25SYXRpbyx1IGFzIG5vcm1hbGl6ZVNpemVFbGVtZW50LGEgYXMgbm9ybWFsaXplU2l6ZVN0b3BzLHIgYXMgc3RvcFRvU2l6ZVN0b3B9O1xuIiwiLypcbkFsbCBtYXRlcmlhbCBjb3B5cmlnaHQgRVNSSSwgQWxsIFJpZ2h0cyBSZXNlcnZlZCwgdW5sZXNzIG90aGVyd2lzZSBzcGVjaWZpZWQuXG5TZWUgaHR0cHM6Ly9qcy5hcmNnaXMuY29tLzQuMjcvZXNyaS9jb3B5cmlnaHQudHh0IGZvciBkZXRhaWxzLlxuKi9cbmltcG9ydHtnZXRJbmZvIGFzIHR9ZnJvbVwiLi4vLi4vLi4vZ2VvbWV0cnkvc3VwcG9ydC9zcGF0aWFsUmVmZXJlbmNlVXRpbHMuanNcIjtpbXBvcnQgciBmcm9tXCIuL1RpbGVLZXkuanNcIjtmdW5jdGlvbiBvKHQscil7cmV0dXJuW3Qscl19ZnVuY3Rpb24gaSh0LHIsbyl7cmV0dXJuIHRbMF09cix0WzFdPW8sdH1mdW5jdGlvbiBlKHQscixvLGksZSl7cmV0dXJuIHRbMF09cix0WzFdPW8sdFsyXT1pLHRbM109ZSx0fWNvbnN0IHM9bmV3IHIoXCIwLzAvMC8wXCIpO2NsYXNzIG57c3RhdGljIGNyZWF0ZShyLGUscz1udWxsKXtjb25zdCBsPXQoci5zcGF0aWFsUmVmZXJlbmNlKSxoPWUub3JpZ2lufHxvKHIub3JpZ2luLngsci5vcmlnaW4ueSksYT1vKHIuc2l6ZVswXSplLnJlc29sdXRpb24sci5zaXplWzFdKmUucmVzb2x1dGlvbiksdT1vKC0xLzAsLTEvMCksbT1vKDEvMCwxLzApLGc9bygxLzAsMS8wKTtudWxsIT1zJiYoaSh1LE1hdGgubWF4KDAsTWF0aC5mbG9vcigocy54bWluLWhbMF0pL2FbMF0pKSxNYXRoLm1heCgwLE1hdGguZmxvb3IoKGhbMV0tcy55bWF4KS9hWzFdKSkpLGkobSxNYXRoLm1heCgwLE1hdGguZmxvb3IoKHMueG1heC1oWzBdKS9hWzBdKSksTWF0aC5tYXgoMCxNYXRoLmZsb29yKChoWzFdLXMueW1pbikvYVsxXSkpKSxpKGcsbVswXS11WzBdKzEsbVsxXS11WzFdKzEpKTtjb25zdHtjb2xzOncscm93czpjfT1lO2xldCBkLGYsRix6O3JldHVybiFzJiZ3JiZjJiYoaSh1LHdbMF0sY1swXSksaShtLHdbMV0sY1sxXSksaShnLHdbMV0td1swXSsxLGNbMV0tY1swXSsxKSksci5pc1dyYXBwYWJsZT8oZD1vKE1hdGguY2VpbChNYXRoLnJvdW5kKChsLnZhbGlkWzFdLWwudmFsaWRbMF0pL2UucmVzb2x1dGlvbikvci5zaXplWzBdKSxnWzFdKSxmPW8oTWF0aC5mbG9vcigobC5vcmlnaW5bMF0taFswXSkvYVswXSksdVsxXSksRj1vKGRbMF0rZlswXS0xLG1bMV0pLHo9ITApOihmPXUsRj1tLGQ9Zyx6PSExKSxuZXcgbihlLmxldmVsLGUucmVzb2x1dGlvbixlLnNjYWxlLGgsdSxtLGcsYSxmLEYsZCx6KX1jb25zdHJ1Y3Rvcih0LHIsbyxpLGUscyxuLGwsaCxhLHUsbSl7dGhpcy5sZXZlbD10LHRoaXMucmVzb2x1dGlvbj1yLHRoaXMuc2NhbGU9byx0aGlzLm9yaWdpbj1pLHRoaXMuZmlyc3Q9ZSx0aGlzLmxhc3Q9cyx0aGlzLnNpemU9bix0aGlzLm5vcm09bCx0aGlzLndvcmxkU3RhcnQ9aCx0aGlzLndvcmxkRW5kPWEsdGhpcy53b3JsZFNpemU9dSx0aGlzLndyYXA9bX1ub3JtYWxpemVDb2wodCl7aWYoIXRoaXMud3JhcClyZXR1cm4gdDtjb25zdCByPXRoaXMud29ybGRTaXplWzBdO3JldHVybiB0PDA/ci0xLU1hdGguYWJzKCh0KzEpJXIpOnQlcn1kZW5vcm1hbGl6ZUNvbCh0LHIpe3JldHVybiB0aGlzLndyYXA/dGhpcy53b3JsZFNpemVbMF0qcit0OnR9Z2V0V29ybGRGb3JDb2x1bW4odCl7cmV0dXJuIHRoaXMud3JhcD9NYXRoLmZsb29yKHQvdGhpcy53b3JsZFNpemVbMF0pOjB9Z2V0Rmlyc3RDb2x1bW5Gb3JXb3JsZCh0KXtyZXR1cm4gdCp0aGlzLndvcmxkU2l6ZVswXSt0aGlzLmZpcnN0WzBdfWdldExhc3RDb2x1bW5Gb3JXb3JsZCh0KXtyZXR1cm4gdCp0aGlzLndvcmxkU2l6ZVswXSt0aGlzLmZpcnN0WzBdK3RoaXMuc2l6ZVswXS0xfWdldENvbHVtbkZvclgodCl7cmV0dXJuKHQtdGhpcy5vcmlnaW5bMF0pL3RoaXMubm9ybVswXX1nZXRYRm9yQ29sdW1uKHQpe3JldHVybiB0aGlzLm9yaWdpblswXSt0KnRoaXMubm9ybVswXX1nZXRSb3dGb3JZKHQpe3JldHVybih0aGlzLm9yaWdpblsxXS10KS90aGlzLm5vcm1bMV19Z2V0WUZvclJvdyh0KXtyZXR1cm4gdGhpcy5vcmlnaW5bMV0tdCp0aGlzLm5vcm1bMV19Z2V0VGlsZUJvdW5kcyh0LHIsbz0hMSl7cy5zZXQocik7Y29uc3QgaT1vP3MuY29sOnRoaXMuZGVub3JtYWxpemVDb2wocy5jb2wscy53b3JsZCksbj1zLnJvdztyZXR1cm4gZSh0LHRoaXMuZ2V0WEZvckNvbHVtbihpKSx0aGlzLmdldFlGb3JSb3cobisxKSx0aGlzLmdldFhGb3JDb2x1bW4oaSsxKSx0aGlzLmdldFlGb3JSb3cobikpLHR9Z2V0VGlsZUNvb3Jkcyh0LHIsbz0hMSl7cy5zZXQocik7Y29uc3QgZT1vP3MuY29sOnRoaXMuZGVub3JtYWxpemVDb2wocy5jb2wscy53b3JsZCk7cmV0dXJuIEFycmF5LmlzQXJyYXkodCk/aSh0LHRoaXMuZ2V0WEZvckNvbHVtbihlKSx0aGlzLmdldFlGb3JSb3cocy5yb3cpKToodC54PXRoaXMuZ2V0WEZvckNvbHVtbihlKSx0Lnk9dGhpcy5nZXRZRm9yUm93KHMucm93KSksdH19ZXhwb3J0e24gYXMgZGVmYXVsdH07XG4iLCIvKlxuQWxsIG1hdGVyaWFsIGNvcHlyaWdodCBFU1JJLCBBbGwgUmlnaHRzIFJlc2VydmVkLCB1bmxlc3Mgb3RoZXJ3aXNlIHNwZWNpZmllZC5cblNlZSBodHRwczovL2pzLmFyY2dpcy5jb20vNC4yNy9lc3JpL2NvcHlyaWdodC50eHQgZm9yIGRldGFpbHMuXG4qL1xuaW1wb3J0IG8gZnJvbVwiLi4vLi4vLi4vY29yZS9PYmplY3RQb29sLmpzXCI7Y2xhc3MgbHtjb25zdHJ1Y3Rvcigpe3RoaXMuc3BhbnM9W119YWNxdWlyZShvKXt0aGlzLmxvZEluZm89b31yZWxlYXNlKCl7dGhpcy5sb2RJbmZvPW51bGwsdGhpcy5zcGFucy5sZW5ndGg9MH1mb3JFYWNoKG8sbCl7Y29uc3R7c3BhbnM6cyxsb2RJbmZvOnR9PXRoaXMse2xldmVsOmV9PXQ7aWYoMCE9PXMubGVuZ3RoKWZvcihjb25zdHtyb3c6cixjb2xGcm9tOm4sY29sVG86Y31vZiBzKWZvcihsZXQgcz1uO3M8PWM7cysrKW8uY2FsbChsLGUscix0Lm5vcm1hbGl6ZUNvbChzKSx0LmdldFdvcmxkRm9yQ29sdW1uKHMpKX19bC5wb29sPW5ldyBvKGwpO2V4cG9ydHtsIGFzIGRlZmF1bHR9O1xuIiwiLypcbkFsbCBtYXRlcmlhbCBjb3B5cmlnaHQgRVNSSSwgQWxsIFJpZ2h0cyBSZXNlcnZlZCwgdW5sZXNzIG90aGVyd2lzZSBzcGVjaWZpZWQuXG5TZWUgaHR0cHM6Ly9qcy5hcmNnaXMuY29tLzQuMjcvZXNyaS9jb3B5cmlnaHQudHh0IGZvciBkZXRhaWxzLlxuKi9cbmltcG9ydHtnZXRJbmZvIGFzIGV9ZnJvbVwiLi4vLi4vLi4vZ2VvbWV0cnkvc3VwcG9ydC9zcGF0aWFsUmVmZXJlbmNlVXRpbHMuanNcIjtpbXBvcnQgdCBmcm9tXCIuL0xPREluZm8uanNcIjtpbXBvcnQgbyBmcm9tXCIuL1RpbGVDb3ZlcmFnZS5qc1wiO2ltcG9ydCBsIGZyb21cIi4vVGlsZUtleS5qc1wiO2ltcG9ydCBzIGZyb21cIi4vVGlsZVNwYW4uanNcIjtjb25zdCBpPW5ldyBsKFwiMC8wLzAvMFwiKTtjbGFzcyBue3N0YXRpYyBjcmVhdGUoZSx0KXtlWzFdPnRbMV0mJihbZSx0XT1bdCxlXSk7Y29uc3RbbyxsXT1lLFtzLGldPXQscj1zLW8sYT1pLWwsaD0wIT09YT9yL2E6MCxjPShNYXRoLmNlaWwobCktbCkqaCxmPShNYXRoLmZsb29yKGwpLWwpKmg7cmV0dXJuIG5ldyBuKG8sTWF0aC5mbG9vcihsKSxNYXRoLmNlaWwoaSksaCxyPDA/YzpmLHI8MD9mOmMscjwwP3M6byxyPDA/bzpzKX1jb25zdHJ1Y3RvcihlLHQsbyxsLHMsaSxuLHIpe3RoaXMueD1lLHRoaXMueW1pbj10LHRoaXMueW1heD1vLHRoaXMuaW52TT1sLHRoaXMubGVmdEFkanVzdD1zLHRoaXMucmlnaHRBZGp1c3Q9aSx0aGlzLmxlZnRCb3VuZD1uLHRoaXMucmlnaHRCb3VuZD1yfWluY3JSb3coKXt0aGlzLngrPXRoaXMuaW52TX1nZXRMZWZ0Q29sKCl7cmV0dXJuIE1hdGgubWF4KHRoaXMueCt0aGlzLmxlZnRBZGp1c3QsdGhpcy5sZWZ0Qm91bmQpfWdldFJpZ2h0Q29sKCl7cmV0dXJuIE1hdGgubWluKHRoaXMueCt0aGlzLnJpZ2h0QWRqdXN0LHRoaXMucmlnaHRCb3VuZCl9fWNvbnN0IHI9W1swLDBdLFswLDBdLFswLDBdLFswLDBdXSxhPTFlLTY7Y2xhc3MgaHtjb25zdHJ1Y3RvcihlLG89bnVsbCxsPWUubG9kc1swXS5sZXZlbCxzPWUubG9kc1tlLmxvZHMubGVuZ3RoLTFdLmxldmVsKXt0aGlzLnRpbGVJbmZvPWUsdGhpcy5mdWxsRXh0ZW50PW8sdGhpcy5zY2FsZXM9W10sdGhpcy5faW5mb0J5U2NhbGU9e30sdGhpcy5faW5mb0J5TGV2ZWw9e307Y29uc3QgaT1lLmxvZHMuZmlsdGVyKChlPT5lLmxldmVsPj1sJiZlLmxldmVsPD1zKSk7dGhpcy5taW5TY2FsZT1pWzBdLnNjYWxlLHRoaXMubWF4U2NhbGU9aVtpLmxlbmd0aC0xXS5zY2FsZTtjb25zdCBuPXRoaXMuX2xvZEluZm9zPWkubWFwKChsPT50LmNyZWF0ZShlLGwsbykpKTtpLmZvckVhY2goKChlLHQpPT57dGhpcy5faW5mb0J5TGV2ZWxbZS5sZXZlbF09blt0XSx0aGlzLl9pbmZvQnlTY2FsZVtlLnNjYWxlXT1uW3RdLHRoaXMuc2NhbGVzW3RdPWUuc2NhbGV9KSx0aGlzKSx0aGlzLl93cmFwPWUuaXNXcmFwcGFibGV9Z2V0IHNwYXRpYWxSZWZlcmVuY2UoKXtyZXR1cm4gdGhpcy50aWxlSW5mby5zcGF0aWFsUmVmZXJlbmNlfWdldExPREluZm9BdChlKXtyZXR1cm4gdGhpcy5faW5mb0J5TGV2ZWxbXCJudW1iZXJcIj09dHlwZW9mIGU/ZTplLmxldmVsXX1nZXRUaWxlQm91bmRzKGUsdCxvPSExKXtpLnNldCh0KTtjb25zdCBsPXRoaXMuX2luZm9CeUxldmVsW2kubGV2ZWxdO3JldHVybiBsP2wuZ2V0VGlsZUJvdW5kcyhlLGksbyk6ZX1nZXRUaWxlQ29vcmRzKGUsdCxvPSExKXtpLnNldCh0KTtjb25zdCBsPXRoaXMuX2luZm9CeUxldmVsW2kubGV2ZWxdO3JldHVybiBsP2wuZ2V0VGlsZUNvb3JkcyhlLGksbyk6ZX1nZXRUaWxlQ292ZXJhZ2UoZSx0PTE5MixsPSEwLGk9XCJjbG9zZXN0XCIpe2lmKCFsJiYoZS5zY2FsZT50aGlzLm1pblNjYWxlfHxlLnNjYWxlPHRoaXMubWF4U2NhbGUpKXJldHVybiBudWxsO2NvbnN0IGE9XCJjbG9zZXN0XCI9PT1pP3RoaXMuZ2V0Q2xvc2VzdEluZm9Gb3JTY2FsZShlLnNjYWxlKTp0aGlzLmdldFNtYWxsZXN0SW5mb0ZvclNjYWxlKGUuc2NhbGUpLGg9by5wb29sLmFjcXVpcmUoYSksYz10aGlzLl93cmFwO2xldCBmLHUsbSxnPTEvMCxkPS0xLzA7Y29uc3Qgdj1oLnNwYW5zO3JbMF1bMF09clswXVsxXT1yWzFdWzFdPXJbM11bMF09LXQsclsxXVswXT1yWzJdWzBdPWUuc2l6ZVswXSt0LHJbMl1bMV09clszXVsxXT1lLnNpemVbMV0rdDtmb3IoY29uc3QgbyBvZiByKWUudG9NYXAobyxvKSxvWzBdPWEuZ2V0Q29sdW1uRm9yWChvWzBdKSxvWzFdPWEuZ2V0Um93Rm9yWShvWzFdKTtjb25zdCB5PVtdO2xldCBfPTM7Zm9yKGxldCBvPTA7bzw0O28rKyl7aWYocltvXVsxXT09PXJbX11bMV0pe189bztjb250aW51ZX1jb25zdCBlPW4uY3JlYXRlKHJbb10scltfXSk7Zz1NYXRoLm1pbihlLnltaW4sZyksZD1NYXRoLm1heChlLnltYXgsZCksdm9pZCAwPT09eVtlLnltaW5dJiYoeVtlLnltaW5dPVtdKSx5W2UueW1pbl0ucHVzaChlKSxfPW99aWYobnVsbD09Z3x8bnVsbD09ZHx8ZC1nPjEwMClyZXR1cm4gbnVsbDtsZXQgcD1bXTtmb3IoZj1nO2Y8ZDspe251bGwhPXlbZl0mJihwPXAuY29uY2F0KHlbZl0pKSx1PTEvMCxtPS0xLzA7Zm9yKGxldCBlPXAubGVuZ3RoLTE7ZT49MDtlLS0pe2NvbnN0IHQ9cFtlXTt1PU1hdGgubWluKHUsdC5nZXRMZWZ0Q29sKCkpLG09TWF0aC5tYXgobSx0LmdldFJpZ2h0Q29sKCkpfWlmKHU9TWF0aC5mbG9vcih1KSxtPU1hdGguZmxvb3IobSksZj49YS5maXJzdFsxXSYmZjw9YS5sYXN0WzFdKWlmKGMpaWYoYS5zaXplWzBdPGEud29ybGRTaXplWzBdKXtjb25zdCBlPU1hdGguZmxvb3IobS9hLndvcmxkU2l6ZVswXSk7Zm9yKGxldCB0PU1hdGguZmxvb3IodS9hLndvcmxkU2l6ZVswXSk7dDw9ZTt0Kyspdi5wdXNoKG5ldyBzKGYsTWF0aC5tYXgoYS5nZXRGaXJzdENvbHVtbkZvcldvcmxkKHQpLHUpLE1hdGgubWluKGEuZ2V0TGFzdENvbHVtbkZvcldvcmxkKHQpLG0pKSl9ZWxzZSB2LnB1c2gobmV3IHMoZix1LG0pKTtlbHNlIHU+YS5sYXN0WzBdfHxtPGEuZmlyc3RbMF18fCh1PU1hdGgubWF4KHUsYS5maXJzdFswXSksbT1NYXRoLm1pbihtLGEubGFzdFswXSksdi5wdXNoKG5ldyBzKGYsdSxtKSkpO2YrPTE7Zm9yKGxldCBlPXAubGVuZ3RoLTE7ZT49MDtlLS0pe2NvbnN0IHQ9cFtlXTt0LnltYXg+PWY/dC5pbmNyUm93KCk6cC5zcGxpY2UoZSwxKX19cmV0dXJuIGh9Z2V0VGlsZVBhcmVudElkKGUpe2kuc2V0KGUpO2NvbnN0IHQ9dGhpcy5faW5mb0J5TGV2ZWxbaS5sZXZlbF0sbz10aGlzLl9sb2RJbmZvcy5pbmRleE9mKHQpLTE7cmV0dXJuIG88MD9udWxsOih0aGlzLl9nZXRUaWxlSWRBdExPRChpLHRoaXMuX2xvZEluZm9zW29dLGkpLGkuaWQpfWdldFRpbGVSZXNvbHV0aW9uKGUpe2NvbnN0IHQ9dGhpcy5faW5mb0J5TGV2ZWxbXCJvYmplY3RcIj09dHlwZW9mIGU/ZS5sZXZlbDplXTtyZXR1cm4gdD90LnJlc29sdXRpb246LTF9Z2V0VGlsZVNjYWxlKGUpe2NvbnN0IHQ9dGhpcy5faW5mb0J5TGV2ZWxbZS5sZXZlbF07cmV0dXJuIHQ/dC5zY2FsZTotMX1pbnRlcnNlY3RzKGUsdCl7aS5zZXQodCk7Y29uc3Qgbz10aGlzLl9pbmZvQnlMZXZlbFtpLmxldmVsXSxsPWUubG9kSW5mbztpZihsLnJlc29sdXRpb24+by5yZXNvbHV0aW9uKXt0aGlzLl9nZXRUaWxlSWRBdExPRChpLGwsaSk7Y29uc3QgdD1sLmRlbm9ybWFsaXplQ29sKGkuY29sLGkud29ybGQpO2Zvcihjb25zdCBvIG9mIGUuc3BhbnMpaWYoby5yb3c9PT1pLnJvdyYmby5jb2xGcm9tPD10JiZvLmNvbFRvPj10KXJldHVybiEwfWlmKGwucmVzb2x1dGlvbjxvLnJlc29sdXRpb24pe2NvbnN0W3QscyxuLHJdPWUuc3BhbnMucmVkdWNlKCgoZSx0KT0+KGVbMF09TWF0aC5taW4oZVswXSx0LnJvdyksZVsxXT1NYXRoLm1heChlWzFdLHQucm93KSxlWzJdPU1hdGgubWluKGVbMl0sdC5jb2xGcm9tKSxlWzNdPU1hdGgubWF4KGVbM10sdC5jb2xUbyksZSkpLFsxLzAsLTEvMCwxLzAsLTEvMF0pLGE9by5kZW5vcm1hbGl6ZUNvbChpLmNvbCxpLndvcmxkKSxoPWwuZ2V0Q29sdW1uRm9yWChvLmdldFhGb3JDb2x1bW4oYSkpLGM9bC5nZXRSb3dGb3JZKG8uZ2V0WUZvclJvdyhpLnJvdykpLGY9bC5nZXRDb2x1bW5Gb3JYKG8uZ2V0WEZvckNvbHVtbihhKzEpKS0xLHU9bC5nZXRSb3dGb3JZKG8uZ2V0WUZvclJvdyhpLnJvdysxKSktMTtyZXR1cm4hKGg+cnx8ZjxufHxjPnN8fHU8dCl9Y29uc3Qgcz1sLmRlbm9ybWFsaXplQ29sKGkuY29sLGkud29ybGQpO3JldHVybiBlLnNwYW5zLnNvbWUoKGU9PmUucm93PT09aS5yb3cmJmUuY29sRnJvbTw9cyYmZS5jb2xUbz49cykpfW5vcm1hbGl6ZUJvdW5kcyh0LG8sbCl7aWYodFswXT1vWzBdLHRbMV09b1sxXSx0WzJdPW9bMl0sdFszXT1vWzNdLHRoaXMuX3dyYXApe2NvbnN0IG89ZSh0aGlzLnRpbGVJbmZvLnNwYXRpYWxSZWZlcmVuY2UpLHM9LWwqKG8udmFsaWRbMV0tby52YWxpZFswXSk7dFswXSs9cyx0WzJdKz1zfXJldHVybiB0fWdldFNtYWxsZXN0SW5mb0ZvclNjYWxlKGUpe2NvbnN0IHQ9dGhpcy5zY2FsZXM7aWYodGhpcy5faW5mb0J5U2NhbGVbZV0pcmV0dXJuIHRoaXMuX2luZm9CeVNjYWxlW2VdO2lmKGU+dFswXSlyZXR1cm4gdGhpcy5faW5mb0J5U2NhbGVbdFswXV07Zm9yKGxldCBvPTE7bzx0Lmxlbmd0aC0xO28rKylpZihlPnRbb10rYSlyZXR1cm4gdGhpcy5faW5mb0J5U2NhbGVbdFtvLTFdXTtyZXR1cm4gdGhpcy5faW5mb0J5U2NhbGVbdFt0Lmxlbmd0aC0xXV19Z2V0Q2xvc2VzdEluZm9Gb3JTY2FsZShlKXtjb25zdCB0PXRoaXMuc2NhbGVzO3JldHVybiB0aGlzLl9pbmZvQnlTY2FsZVtlXXx8KGU9dC5yZWR1Y2UoKCh0LG8pPT5NYXRoLmFicyhvLWUpPE1hdGguYWJzKHQtZSk/bzp0KSx0WzBdKSksdGhpcy5faW5mb0J5U2NhbGVbZV19c2NhbGVUb0xldmVsKGUpe2NvbnN0IHQ9dGhpcy5zY2FsZXM7aWYodGhpcy5faW5mb0J5U2NhbGVbZV0pcmV0dXJuIHRoaXMuX2luZm9CeVNjYWxlW2VdLmxldmVsO2ZvcihsZXQgbz10Lmxlbmd0aC0xO28+PTA7by0tKWlmKGU8dFtvXSl7aWYobz09PXQubGVuZ3RoLTEpcmV0dXJuIHRoaXMuX2luZm9CeVNjYWxlW3RbdC5sZW5ndGgtMV1dLmxldmVsO3JldHVybiB0aGlzLl9pbmZvQnlTY2FsZVt0W29dXS5sZXZlbCsodFtvXS1lKS8odFtvXS10W28rMV0pfXJldHVybiB0aGlzLl9pbmZvQnlTY2FsZVt0WzBdXS5sZXZlbH1zY2FsZVRvWm9vbShlKXtyZXR1cm4gdGhpcy50aWxlSW5mby5zY2FsZVRvWm9vbShlKX1fZ2V0VGlsZUlkQXRMT0QoZSx0LG8pe2NvbnN0IGw9dGhpcy5faW5mb0J5TGV2ZWxbby5sZXZlbF07cmV0dXJuIGUuc2V0KG8pLHQucmVzb2x1dGlvbjxsLnJlc29sdXRpb24/bnVsbDoodC5yZXNvbHV0aW9uPT09bC5yZXNvbHV0aW9ufHwoZS5sZXZlbD10LmxldmVsLGUuY29sPU1hdGguZmxvb3Ioby5jb2wqbC5yZXNvbHV0aW9uL3QucmVzb2x1dGlvbisuMDEpLGUucm93PU1hdGguZmxvb3Ioby5yb3cqbC5yZXNvbHV0aW9uL3QucmVzb2x1dGlvbisuMDEpKSxlKX19ZXhwb3J0e2ggYXMgZGVmYXVsdH07XG4iLCIvKlxuQWxsIG1hdGVyaWFsIGNvcHlyaWdodCBFU1JJLCBBbGwgUmlnaHRzIFJlc2VydmVkLCB1bmxlc3Mgb3RoZXJ3aXNlIHNwZWNpZmllZC5cblNlZSBodHRwczovL2pzLmFyY2dpcy5jb20vNC4yNy9lc3JpL2NvcHlyaWdodC50eHQgZm9yIGRldGFpbHMuXG4qL1xuaW1wb3J0IHQgZnJvbVwiLi4vLi4vLi4vY29yZS9PYmplY3RQb29sLmpzXCI7Y2xhc3MgZXtzdGF0aWMgZ2V0SWQodCxlLGwscyl7cmV0dXJuXCJvYmplY3RcIj09dHlwZW9mIHQ/YCR7dC5sZXZlbH0vJHt0LnJvd30vJHt0LmNvbH0vJHt0LndvcmxkfWA6YCR7dH0vJHtlfS8ke2x9LyR7c31gfWNvbnN0cnVjdG9yKHQsZSxsLHMpe3RoaXMuc2V0KHQsZSxsLHMpfWdldCBrZXkoKXtyZXR1cm4gdGhpc31nZXQgaWQoKXtyZXR1cm4gdGhpcy50b1N0cmluZygpfXNldCBpZCh0KXt0aGlzLnNldCh0KX1nZXQgaGFzaCgpe2NvbnN0IHQ9NDA5NSZ0aGlzLnJvdyxlPTQwOTUmdGhpcy5jb2wsbD02MyZ0aGlzLmxldmVsO3JldHVybigzJnRoaXMud29ybGQpPDwzMHxlPDwyMnx0PDw4fGx9YWNxdWlyZSh0LGUsbCxzKXt0aGlzLnNldCh0LGUsbCxzKX1jb250YWlucyh0KXtjb25zdCBlPXQubGV2ZWwtdGhpcy5sZXZlbDtyZXR1cm4gZT49MCYmdGhpcy5yb3c9PT10LnJvdz4+ZSYmdGhpcy5jb2w9PT10LmNvbD4+ZSYmdGhpcy53b3JsZD09PXQud29ybGR9ZXF1YWxzKHQpe3JldHVybiB0aGlzLmxldmVsPT09dC5sZXZlbCYmdGhpcy5yb3c9PT10LnJvdyYmdGhpcy5jb2w9PT10LmNvbCYmdGhpcy53b3JsZD09PXQud29ybGR9Y2xvbmUoKXtyZXR1cm4gbmV3IGUodGhpcyl9cmVsZWFzZSgpe3RoaXMubGV2ZWw9MCx0aGlzLnJvdz0wLHRoaXMuY29sPTAsdGhpcy53b3JsZD0wfXNldCh0LGUsbCxzKXtpZihudWxsPT10KXRoaXMubGV2ZWw9MCx0aGlzLnJvdz0wLHRoaXMuY29sPTAsdGhpcy53b3JsZD0wO2Vsc2UgaWYoXCJvYmplY3RcIj09dHlwZW9mIHQpdGhpcy5sZXZlbD10LmxldmVsfHwwLHRoaXMucm93PXQucm93fHwwLHRoaXMuY29sPXQuY29sfHwwLHRoaXMud29ybGQ9dC53b3JsZHx8MDtlbHNlIGlmKFwic3RyaW5nXCI9PXR5cGVvZiB0KXtjb25zdFtlLGwscyxvXT10LnNwbGl0KFwiL1wiKTt0aGlzLmxldmVsPXBhcnNlRmxvYXQoZSksdGhpcy5yb3c9cGFyc2VGbG9hdChsKSx0aGlzLmNvbD1wYXJzZUZsb2F0KHMpLHRoaXMud29ybGQ9cGFyc2VGbG9hdChvKX1lbHNlIHRoaXMubGV2ZWw9K3QsdGhpcy5yb3c9K2UsdGhpcy5jb2w9K2wsdGhpcy53b3JsZD0rc3x8MDtyZXR1cm4gdGhpc310b1N0cmluZygpe3JldHVybmAke3RoaXMubGV2ZWx9LyR7dGhpcy5yb3d9LyR7dGhpcy5jb2x9LyR7dGhpcy53b3JsZH1gfWdldFBhcmVudEtleSgpe3JldHVybiB0aGlzLmxldmVsPD0wP251bGw6bmV3IGUodGhpcy5sZXZlbC0xLHRoaXMucm93Pj4xLHRoaXMuY29sPj4xLHRoaXMud29ybGQpfWdldENoaWxkS2V5cygpe2NvbnN0IHQ9dGhpcy5sZXZlbCsxLGw9dGhpcy5yb3c8PDEscz10aGlzLmNvbDw8MSxvPXRoaXMud29ybGQ7cmV0dXJuW25ldyBlKHQsbCxzLG8pLG5ldyBlKHQsbCxzKzEsbyksbmV3IGUodCxsKzEscyxvKSxuZXcgZSh0LGwrMSxzKzEsbyldfWNvbXBhcmVSb3dNYWpvcih0KXtyZXR1cm4gdGhpcy5yb3c8dC5yb3c/LTE6dGhpcy5yb3c+dC5yb3c/MTp0aGlzLmNvbDx0LmNvbD8tMTp0aGlzLmNvbD50LmNvbD8xOjB9fWUucG9vbD1uZXcgdChlLG51bGwsbnVsbCwyNSw1MCk7ZXhwb3J0e2UgYXMgZGVmYXVsdH07XG4iLCIvKlxuQWxsIG1hdGVyaWFsIGNvcHlyaWdodCBFU1JJLCBBbGwgUmlnaHRzIFJlc2VydmVkLCB1bmxlc3Mgb3RoZXJ3aXNlIHNwZWNpZmllZC5cblNlZSBodHRwczovL2pzLmFyY2dpcy5jb20vNC4yNy9lc3JpL2NvcHlyaWdodC50eHQgZm9yIGRldGFpbHMuXG4qL1xuY2xhc3Mgb3tjb25zdHJ1Y3RvcihvLHMsdCl7dGhpcy5yb3c9byx0aGlzLmNvbEZyb209cyx0aGlzLmNvbFRvPXR9fWV4cG9ydHtvIGFzIGRlZmF1bHR9O1xuIiwiLypcbkFsbCBtYXRlcmlhbCBjb3B5cmlnaHQgRVNSSSwgQWxsIFJpZ2h0cyBSZXNlcnZlZCwgdW5sZXNzIG90aGVyd2lzZSBzcGVjaWZpZWQuXG5TZWUgaHR0cHM6Ly9qcy5hcmNnaXMuY29tLzQuMjcvZXNyaS9jb3B5cmlnaHQudHh0IGZvciBkZXRhaWxzLlxuKi9cbmltcG9ydHtyZW1vdmVNYXliZSBhcyBlfWZyb21cIi4uLy4uL2NvcmUvbWF5YmUuanNcIjtpbXBvcnR7b25BYm9ydCBhcyBzLG9uQWJvcnRPclRocm93IGFzIHQsY3JlYXRlUmVzb2x2ZXIgYXMgcixpc1Byb21pc2VMaWtlIGFzIGksY3JlYXRlQWJvcnRFcnJvciBhcyBofWZyb21cIi4uLy4uL2NvcmUvcHJvbWlzZVV0aWxzLmpzXCI7aW1wb3J0IG8gZnJvbVwiLi4vLi4vY29yZS9RdWV1ZS5qc1wiO2ltcG9ydHtzY2hlZHVsZSBhcyBjfWZyb21cIi4uLy4uL2NvcmUvc2NoZWR1bGluZy5qc1wiO2NsYXNzIG57Y29uc3RydWN0b3IoZSxzKXt0aGlzLml0ZW09ZSx0aGlzLmNvbnRyb2xsZXI9cyx0aGlzLnByb21pc2U9bnVsbH19Y2xhc3MgdXtjb25zdHJ1Y3RvcihlKXt0aGlzLl9kZWZlcnJlZHM9bmV3IE1hcCx0aGlzLl9jb250cm9sbGVycz1uZXcgTWFwLHRoaXMuX3Byb2Nlc3NpbmdJdGVtcz1uZXcgTWFwLHRoaXMuX2lzUGF1c2VkPSExLHRoaXMuX3NjaGVkdWxlPW51bGwsdGhpcy5fdGFzaz1udWxsLHRoaXMuY29uY3VycmVuY3k9MSxlLmNvbmN1cnJlbmN5JiYodGhpcy5jb25jdXJyZW5jeT1lLmNvbmN1cnJlbmN5KSx0aGlzLl9xdWV1ZT1uZXcgbyhlLnBlZWtlciksdGhpcy5wcm9jZXNzPWUucHJvY2Vzcztjb25zdCBzPWUuc2NoZWR1bGVyO2UucHJpb3JpdHkmJnMmJih0aGlzLl90YXNrPXMucmVnaXN0ZXJUYXNrKGUucHJpb3JpdHksdGhpcykpfWRlc3Ryb3koKXt0aGlzLmNsZWFyKCksdGhpcy5fc2NoZWR1bGU9ZSh0aGlzLl9zY2hlZHVsZSksdGhpcy5fdGFzaz1lKHRoaXMuX3Rhc2spfWdldCBsZW5ndGgoKXtyZXR1cm4gdGhpcy5fcHJvY2Vzc2luZ0l0ZW1zLnNpemUrdGhpcy5fcXVldWUubGVuZ3RofWFib3J0KGUpe2NvbnN0IHM9dGhpcy5fY29udHJvbGxlcnMuZ2V0KGUpO3MmJnMuYWJvcnQoKX1jbGVhcigpe3RoaXMuX3F1ZXVlLmNsZWFyKCk7Y29uc3QgZT1bXTt0aGlzLl9jb250cm9sbGVycy5mb3JFYWNoKChzPT5lLnB1c2gocykpKSx0aGlzLl9jb250cm9sbGVycy5jbGVhcigpLGUuZm9yRWFjaCgoZT0+ZS5hYm9ydCgpKSksdGhpcy5fcHJvY2Vzc2luZ0l0ZW1zLmNsZWFyKCksdGhpcy5fY2FuY2VsTmV4dCgpfWZvckVhY2goZSl7dGhpcy5fZGVmZXJyZWRzLmZvckVhY2goKChzLHQpPT5lKHQpKSl9Z2V0KGUpe2NvbnN0IHM9dGhpcy5fZGVmZXJyZWRzLmdldChlKTtyZXR1cm4gcz9zLnByb21pc2U6dm9pZCAwfWlzT25nb2luZyhlKXtyZXR1cm4gdGhpcy5fcHJvY2Vzc2luZ0l0ZW1zLmhhcyhlKX1oYXMoZSl7cmV0dXJuIHRoaXMuX2RlZmVycmVkcy5oYXMoZSl9cGF1c2UoKXt0aGlzLl9pc1BhdXNlZHx8KHRoaXMuX2lzUGF1c2VkPSEwLHRoaXMuX2NhbmNlbE5leHQoKSl9cHVzaChlLGkpe2NvbnN0IG89dGhpcy5nZXQoZSk7aWYobylyZXR1cm4gbztjb25zdCBjPW5ldyBBYm9ydENvbnRyb2xsZXI7bGV0IG49bnVsbDtpJiYobj1zKGksKCgpPT5jLmFib3J0KCkpKSk7Y29uc3QgdT0oKT0+e2NvbnN0IHM9dGhpcy5fcHJvY2Vzc2luZ0l0ZW1zLmdldChlKTtzJiZzLmNvbnRyb2xsZXIuYWJvcnQoKSxsKCkscC5yZWplY3QoaCgpKX0sbD0oKT0+e18ucmVtb3ZlKCksbnVsbCE9biYmbi5yZW1vdmUoKSx0aGlzLl9kZWZlcnJlZHMuZGVsZXRlKGUpLHRoaXMuX2NvbnRyb2xsZXJzLmRlbGV0ZShlKSx0aGlzLl9xdWV1ZS5yZW1vdmUoZSksdGhpcy5fcHJvY2Vzc2luZ0l0ZW1zLmRlbGV0ZShlKSx0aGlzLl9zY2hlZHVsZU5leHQoKX0sXz10KGMuc2lnbmFsLHUpLHA9cigpO3JldHVybiB0aGlzLl9kZWZlcnJlZHMuc2V0KGUscCksdGhpcy5fY29udHJvbGxlcnMuc2V0KGUsYykscC5wcm9taXNlLnRoZW4obCxsKSx0aGlzLl9xdWV1ZS5wdXNoKGUpLHRoaXMuX3NjaGVkdWxlTmV4dCgpLHAucHJvbWlzZX1sYXN0KCl7cmV0dXJuIHRoaXMuX3F1ZXVlLmxhc3QoKX1wZWVrKCl7cmV0dXJuIHRoaXMuX3F1ZXVlLnBlZWsoKX1wb3BMYXN0KCl7cmV0dXJuIHRoaXMuX3F1ZXVlLnBvcExhc3QoKX1yZXNldCgpe2NvbnN0IGU9W107dGhpcy5fcHJvY2Vzc2luZ0l0ZW1zLmZvckVhY2goKHM9PmUucHVzaChzKSkpLHRoaXMuX3Byb2Nlc3NpbmdJdGVtcy5jbGVhcigpO2Zvcihjb25zdCBzIG9mIGUpdGhpcy5fcXVldWUucHVzaChzLml0ZW0pLHMuY29udHJvbGxlci5hYm9ydCgpO3RoaXMuX3NjaGVkdWxlTmV4dCgpfXJlc3VtZSgpe3RoaXMuX2lzUGF1c2VkJiYodGhpcy5faXNQYXVzZWQ9ITEsdGhpcy5fc2NoZWR1bGVOZXh0KCkpfXRha2VBbGwoKXtjb25zdCBlPVtdO2Zvcig7dGhpcy5fcXVldWUubGVuZ3RoOyllLnB1c2godGhpcy5fcXVldWUucG9wKCkpO3JldHVybiB0aGlzLmNsZWFyKCksZX1nZXQgcnVubmluZygpe3JldHVybiF0aGlzLl9pc1BhdXNlZCYmdGhpcy5fcXVldWUubGVuZ3RoPjAmJnRoaXMuX3Byb2Nlc3NpbmdJdGVtcy5zaXplPHRoaXMuY29uY3VycmVuY3l9cnVuVGFzayhlKXtmb3IoOyFlLmRvbmUmJnRoaXMuX3F1ZXVlLmxlbmd0aD4wJiZ0aGlzLl9wcm9jZXNzaW5nSXRlbXMuc2l6ZTx0aGlzLmNvbmN1cnJlbmN5Oyl0aGlzLl9wcm9jZXNzKHRoaXMuX3F1ZXVlLnBvcCgpKSxlLm1hZGVQcm9ncmVzcygpfV9zY2hlZHVsZU5leHQoKXt0aGlzLl90YXNrfHx0aGlzLl9pc1BhdXNlZHx8dGhpcy5fc2NoZWR1bGV8fCh0aGlzLl9zY2hlZHVsZT1jKCgoKT0+e3RoaXMuX3NjaGVkdWxlPW51bGwsdGhpcy5fbmV4dCgpfSkpKX1fbmV4dCgpe2Zvcig7dGhpcy5fcXVldWUubGVuZ3RoPjAmJnRoaXMuX3Byb2Nlc3NpbmdJdGVtcy5zaXplPHRoaXMuY29uY3VycmVuY3k7KXRoaXMuX3Byb2Nlc3ModGhpcy5fcXVldWUucG9wKCkpfV9jYW5jZWxOZXh0KCl7dGhpcy5fc2NoZWR1bGUmJih0aGlzLl9zY2hlZHVsZS5yZW1vdmUoKSx0aGlzLl9zY2hlZHVsZT1udWxsKX1fcHJvY2Vzc1Jlc3VsdChlLHMpe3RoaXMuX2NhblByb2Nlc3NGdWxmaWxsbWVudChlKSYmKHRoaXMuX3NjaGVkdWxlTmV4dCgpLHRoaXMuX2RlZmVycmVkcy5nZXQoZS5pdGVtKS5yZXNvbHZlKHMpKX1fcHJvY2Vzc0Vycm9yKGUscyl7dGhpcy5fY2FuUHJvY2Vzc0Z1bGZpbGxtZW50KGUpJiYodGhpcy5fc2NoZWR1bGVOZXh0KCksdGhpcy5fZGVmZXJyZWRzLmdldChlLml0ZW0pLnJlamVjdChzKSl9X2NhblByb2Nlc3NGdWxmaWxsbWVudChlKXtyZXR1cm4hIXRoaXMuX2RlZmVycmVkcy5nZXQoZS5pdGVtKSYmdGhpcy5fcHJvY2Vzc2luZ0l0ZW1zLmdldChlLml0ZW0pPT09ZX1fcHJvY2VzcyhlKXtpZihudWxsPT1lKXJldHVybjtsZXQgcztjb25zdCB0PW5ldyBBYm9ydENvbnRyb2xsZXIscj1uZXcgbihlLHQpO3RoaXMuX3Byb2Nlc3NpbmdJdGVtcy5zZXQoZSxyKTt0cnl7cz10aGlzLnByb2Nlc3MoZSx0LnNpZ25hbCl9Y2F0Y2goaCl7dGhpcy5fcHJvY2Vzc0Vycm9yKHIsaCl9aShzKT8oci5wcm9taXNlPXMscy50aGVuKChlPT50aGlzLl9wcm9jZXNzUmVzdWx0KHIsZSkpLChlPT50aGlzLl9wcm9jZXNzRXJyb3IocixlKSkpKTp0aGlzLl9wcm9jZXNzUmVzdWx0KHIscyl9Z2V0IHRlc3QoKXtyZXR1cm57dXBkYXRlOmU9PnRoaXMucnVuVGFzayhlKX19fWV4cG9ydHt1IGFzIFF1ZXVlUHJvY2Vzc29yfTtcbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==